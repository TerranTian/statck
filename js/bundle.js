var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
(function (global){
/*!
 *  howler.js v2.1.2
 *  howlerjs.com
 *
 *  (c) 2013-2019, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */

(function() {

  'use strict';

  /** Global Methods **/
  /***************************************************************************/

  /**
   * Create the global controller. All contained methods and properties apply
   * to all sounds that are currently playing or will be in the future.
   */
  var HowlerGlobal = function() {
    this.init();
  };
  HowlerGlobal.prototype = {
    /**
     * Initialize the global Howler object.
     * @return {Howler}
     */
    init: function() {
      var self = this || Howler;

      // Create a global ID counter.
      self._counter = 1000;

      // Pool of unlocked HTML5 Audio objects.
      self._html5AudioPool = [];
      self.html5PoolSize = 10;

      // Internal properties.
      self._codecs = {};
      self._howls = [];
      self._muted = false;
      self._volume = 1;
      self._canPlayEvent = 'canplaythrough';
      self._navigator = (typeof window !== 'undefined' && window.navigator) ? window.navigator : null;

      // Public properties.
      self.masterGain = null;
      self.noAudio = false;
      self.usingWebAudio = true;
      self.autoSuspend = true;
      self.ctx = null;

      // Set to false to disable the auto audio unlocker.
      self.autoUnlock = true;

      // Setup the various state values for global tracking.
      self._setup();

      return self;
    },

    /**
     * Get/set the global volume for all sounds.
     * @param  {Float} vol Volume from 0.0 to 1.0.
     * @return {Howler/Float}     Returns self or current volume.
     */
    volume: function(vol) {
      var self = this || Howler;
      vol = parseFloat(vol);

      // If we don't have an AudioContext created yet, run the setup.
      if (!self.ctx) {
        setupAudioContext();
      }

      if (typeof vol !== 'undefined' && vol >= 0 && vol <= 1) {
        self._volume = vol;

        // Don't update any of the nodes if we are muted.
        if (self._muted) {
          return self;
        }

        // When using Web Audio, we just need to adjust the master gain.
        if (self.usingWebAudio) {
          self.masterGain.gain.setValueAtTime(vol, Howler.ctx.currentTime);
        }

        // Loop through and change volume for all HTML5 audio nodes.
        for (var i=0; i<self._howls.length; i++) {
          if (!self._howls[i]._webAudio) {
            // Get all of the sounds in this Howl group.
            var ids = self._howls[i]._getSoundIds();

            // Loop through all sounds and change the volumes.
            for (var j=0; j<ids.length; j++) {
              var sound = self._howls[i]._soundById(ids[j]);

              if (sound && sound._node) {
                sound._node.volume = sound._volume * vol;
              }
            }
          }
        }

        return self;
      }

      return self._volume;
    },

    /**
     * Handle muting and unmuting globally.
     * @param  {Boolean} muted Is muted or not.
     */
    mute: function(muted) {
      var self = this || Howler;

      // If we don't have an AudioContext created yet, run the setup.
      if (!self.ctx) {
        setupAudioContext();
      }

      self._muted = muted;

      // With Web Audio, we just need to mute the master gain.
      if (self.usingWebAudio) {
        self.masterGain.gain.setValueAtTime(muted ? 0 : self._volume, Howler.ctx.currentTime);
      }

      // Loop through and mute all HTML5 Audio nodes.
      for (var i=0; i<self._howls.length; i++) {
        if (!self._howls[i]._webAudio) {
          // Get all of the sounds in this Howl group.
          var ids = self._howls[i]._getSoundIds();

          // Loop through all sounds and mark the audio node as muted.
          for (var j=0; j<ids.length; j++) {
            var sound = self._howls[i]._soundById(ids[j]);

            if (sound && sound._node) {
              sound._node.muted = (muted) ? true : sound._muted;
            }
          }
        }
      }

      return self;
    },

    /**
     * Unload and destroy all currently loaded Howl objects.
     * @return {Howler}
     */
    unload: function() {
      var self = this || Howler;

      for (var i=self._howls.length-1; i>=0; i--) {
        self._howls[i].unload();
      }

      // Create a new AudioContext to make sure it is fully reset.
      if (self.usingWebAudio && self.ctx && typeof self.ctx.close !== 'undefined') {
        self.ctx.close();
        self.ctx = null;
        setupAudioContext();
      }

      return self;
    },

    /**
     * Check for codec support of specific extension.
     * @param  {String} ext Audio file extention.
     * @return {Boolean}
     */
    codecs: function(ext) {
      return (this || Howler)._codecs[ext.replace(/^x-/, '')];
    },

    /**
     * Setup various state values for global tracking.
     * @return {Howler}
     */
    _setup: function() {
      var self = this || Howler;

      // Keeps track of the suspend/resume state of the AudioContext.
      self.state = self.ctx ? self.ctx.state || 'suspended' : 'suspended';

      // Automatically begin the 30-second suspend process
      self._autoSuspend();

      // Check if audio is available.
      if (!self.usingWebAudio) {
        // No audio is available on this system if noAudio is set to true.
        if (typeof Audio !== 'undefined') {
          try {
            var test = new Audio();

            // Check if the canplaythrough event is available.
            if (typeof test.oncanplaythrough === 'undefined') {
              self._canPlayEvent = 'canplay';
            }
          } catch(e) {
            self.noAudio = true;
          }
        } else {
          self.noAudio = true;
        }
      }

      // Test to make sure audio isn't disabled in Internet Explorer.
      try {
        var test = new Audio();
        if (test.muted) {
          self.noAudio = true;
        }
      } catch (e) {}

      // Check for supported codecs.
      if (!self.noAudio) {
        self._setupCodecs();
      }

      return self;
    },

    /**
     * Check for browser support for various codecs and cache the results.
     * @return {Howler}
     */
    _setupCodecs: function() {
      var self = this || Howler;
      var audioTest = null;

      // Must wrap in a try/catch because IE11 in server mode throws an error.
      try {
        audioTest = (typeof Audio !== 'undefined') ? new Audio() : null;
      } catch (err) {
        return self;
      }

      if (!audioTest || typeof audioTest.canPlayType !== 'function') {
        return self;
      }

      var mpegTest = audioTest.canPlayType('audio/mpeg;').replace(/^no$/, '');

      // Opera version <33 has mixed MP3 support, so we need to check for and block it.
      var checkOpera = self._navigator && self._navigator.userAgent.match(/OPR\/([0-6].)/g);
      var isOldOpera = (checkOpera && parseInt(checkOpera[0].split('/')[1], 10) < 33);

      self._codecs = {
        mp3: !!(!isOldOpera && (mpegTest || audioTest.canPlayType('audio/mp3;').replace(/^no$/, ''))),
        mpeg: !!mpegTest,
        opus: !!audioTest.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/, ''),
        ogg: !!audioTest.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ''),
        oga: !!audioTest.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ''),
        wav: !!audioTest.canPlayType('audio/wav; codecs="1"').replace(/^no$/, ''),
        aac: !!audioTest.canPlayType('audio/aac;').replace(/^no$/, ''),
        caf: !!audioTest.canPlayType('audio/x-caf;').replace(/^no$/, ''),
        m4a: !!(audioTest.canPlayType('audio/x-m4a;') || audioTest.canPlayType('audio/m4a;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),
        mp4: !!(audioTest.canPlayType('audio/x-mp4;') || audioTest.canPlayType('audio/mp4;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),
        weba: !!audioTest.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, ''),
        webm: !!audioTest.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, ''),
        dolby: !!audioTest.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/, ''),
        flac: !!(audioTest.canPlayType('audio/x-flac;') || audioTest.canPlayType('audio/flac;')).replace(/^no$/, '')
      };

      return self;
    },

    /**
     * Some browsers/devices will only allow audio to be played after a user interaction.
     * Attempt to automatically unlock audio on the first user interaction.
     * Concept from: http://paulbakaus.com/tutorials/html5/web-audio-on-ios/
     * @return {Howler}
     */
    _unlockAudio: function() {
      var self = this || Howler;

      // Only run this if Web Audio is supported and it hasn't already been unlocked.
      if (self._audioUnlocked || !self.ctx) {
        return;
      }

      self._audioUnlocked = false;
      self.autoUnlock = false;

      // Some mobile devices/platforms have distortion issues when opening/closing tabs and/or web views.
      // Bugs in the browser (especially Mobile Safari) can cause the sampleRate to change from 44100 to 48000.
      // By calling Howler.unload(), we create a new AudioContext with the correct sampleRate.
      if (!self._mobileUnloaded && self.ctx.sampleRate !== 44100) {
        self._mobileUnloaded = true;
        self.unload();
      }

      // Scratch buffer for enabling iOS to dispose of web audio buffers correctly, as per:
      // http://stackoverflow.com/questions/24119684
      self._scratchBuffer = self.ctx.createBuffer(1, 1, 22050);

      // Call this method on touch start to create and play a buffer,
      // then check if the audio actually played to determine if
      // audio has now been unlocked on iOS, Android, etc.
      var unlock = function(e) {
        // Create a pool of unlocked HTML5 Audio objects that can
        // be used for playing sounds without user interaction. HTML5
        // Audio objects must be individually unlocked, as opposed
        // to the WebAudio API which only needs a single activation.
        // This must occur before WebAudio setup or the source.onended
        // event will not fire.
        for (var i=0; i<self.html5PoolSize; i++) {
          try {
            var audioNode = new Audio();

            // Mark this Audio object as unlocked to ensure it can get returned
            // to the unlocked pool when released.
            audioNode._unlocked = true;

            // Add the audio node to the pool.
            self._releaseHtml5Audio(audioNode);
          } catch (e) {
            self.noAudio = true;
          }
        }

        // Loop through any assigned audio nodes and unlock them.
        for (var i=0; i<self._howls.length; i++) {
          if (!self._howls[i]._webAudio) {
            // Get all of the sounds in this Howl group.
            var ids = self._howls[i]._getSoundIds();

            // Loop through all sounds and unlock the audio nodes.
            for (var j=0; j<ids.length; j++) {
              var sound = self._howls[i]._soundById(ids[j]);

              if (sound && sound._node && !sound._node._unlocked) {
                sound._node._unlocked = true;
                sound._node.load();
              }
            }
          }
        }

        // Fix Android can not play in suspend state.
        self._autoResume();

        // Create an empty buffer.
        var source = self.ctx.createBufferSource();
        source.buffer = self._scratchBuffer;
        source.connect(self.ctx.destination);

        // Play the empty buffer.
        if (typeof source.start === 'undefined') {
          source.noteOn(0);
        } else {
          source.start(0);
        }

        // Calling resume() on a stack initiated by user gesture is what actually unlocks the audio on Android Chrome >= 55.
        if (typeof self.ctx.resume === 'function') {
          self.ctx.resume();
        }

        // Setup a timeout to check that we are unlocked on the next event loop.
        source.onended = function() {
          source.disconnect(0);

          // Update the unlocked state and prevent this check from happening again.
          self._audioUnlocked = true;

          // Remove the touch start listener.
          document.removeEventListener('touchstart', unlock, true);
          document.removeEventListener('touchend', unlock, true);
          document.removeEventListener('click', unlock, true);

          // Let all sounds know that audio has been unlocked.
          for (var i=0; i<self._howls.length; i++) {
            self._howls[i]._emit('unlock');
          }
        };
      };

      // Setup a touch start listener to attempt an unlock in.
      document.addEventListener('touchstart', unlock, true);
      document.addEventListener('touchend', unlock, true);
      document.addEventListener('click', unlock, true);

      return self;
    },

    /**
     * Get an unlocked HTML5 Audio object from the pool. If none are left,
     * return a new Audio object and throw a warning.
     * @return {Audio} HTML5 Audio object.
     */
    _obtainHtml5Audio: function() {
      var self = this || Howler;

      // Return the next object from the pool if one exists.
      if (self._html5AudioPool.length) {
        return self._html5AudioPool.pop();
      }

      //.Check if the audio is locked and throw a warning.
      var testPlay = new Audio().play();
      if (testPlay && typeof Promise !== 'undefined' && (testPlay instanceof Promise || typeof testPlay.then === 'function')) {
        testPlay.catch(function() {
          console.warn('HTML5 Audio pool exhausted, returning potentially locked audio object.');
        });
      }

      return new Audio();
    },

    /**
     * Return an activated HTML5 Audio object to the pool.
     * @return {Howler}
     */
    _releaseHtml5Audio: function(audio) {
      var self = this || Howler;

      // Don't add audio to the pool if we don't know if it has been unlocked.
      if (audio._unlocked) {
        self._html5AudioPool.push(audio);
      }

      return self;
    },

    /**
     * Automatically suspend the Web Audio AudioContext after no sound has played for 30 seconds.
     * This saves processing/energy and fixes various browser-specific bugs with audio getting stuck.
     * @return {Howler}
     */
    _autoSuspend: function() {
      var self = this;

      if (!self.autoSuspend || !self.ctx || typeof self.ctx.suspend === 'undefined' || !Howler.usingWebAudio) {
        return;
      }

      // Check if any sounds are playing.
      for (var i=0; i<self._howls.length; i++) {
        if (self._howls[i]._webAudio) {
          for (var j=0; j<self._howls[i]._sounds.length; j++) {
            if (!self._howls[i]._sounds[j]._paused) {
              return self;
            }
          }
        }
      }

      if (self._suspendTimer) {
        clearTimeout(self._suspendTimer);
      }

      // If no sound has played after 30 seconds, suspend the context.
      self._suspendTimer = setTimeout(function() {
        if (!self.autoSuspend) {
          return;
        }

        self._suspendTimer = null;
        self.state = 'suspending';
        self.ctx.suspend().then(function() {
          self.state = 'suspended';

          if (self._resumeAfterSuspend) {
            delete self._resumeAfterSuspend;
            self._autoResume();
          }
        });
      }, 30000);

      return self;
    },

    /**
     * Automatically resume the Web Audio AudioContext when a new sound is played.
     * @return {Howler}
     */
    _autoResume: function() {
      var self = this;

      if (!self.ctx || typeof self.ctx.resume === 'undefined' || !Howler.usingWebAudio) {
        return;
      }

      if (self.state === 'running' && self._suspendTimer) {
        clearTimeout(self._suspendTimer);
        self._suspendTimer = null;
      } else if (self.state === 'suspended') {
        self.ctx.resume().then(function() {
          self.state = 'running';

          // Emit to all Howls that the audio has resumed.
          for (var i=0; i<self._howls.length; i++) {
            self._howls[i]._emit('resume');
          }
        });

        if (self._suspendTimer) {
          clearTimeout(self._suspendTimer);
          self._suspendTimer = null;
        }
      } else if (self.state === 'suspending') {
        self._resumeAfterSuspend = true;
      }

      return self;
    }
  };

  // Setup the global audio controller.
  var Howler = new HowlerGlobal();

  /** Group Methods **/
  /***************************************************************************/

  /**
   * Create an audio group controller.
   * @param {Object} o Passed in properties for this group.
   */
  var Howl = function(o) {
    var self = this;

    // Throw an error if no source is provided.
    if (!o.src || o.src.length === 0) {
      console.error('An array of source files must be passed with any new Howl.');
      return;
    }

    self.init(o);
  };
  Howl.prototype = {
    /**
     * Initialize a new Howl group object.
     * @param  {Object} o Passed in properties for this group.
     * @return {Howl}
     */
    init: function(o) {
      var self = this;

      // If we don't have an AudioContext created yet, run the setup.
      if (!Howler.ctx) {
        setupAudioContext();
      }

      // Setup user-defined default properties.
      self._autoplay = o.autoplay || false;
      self._format = (typeof o.format !== 'string') ? o.format : [o.format];
      self._html5 = o.html5 || false;
      self._muted = o.mute || false;
      self._loop = o.loop || false;
      self._pool = o.pool || 5;
      self._preload = (typeof o.preload === 'boolean') ? o.preload : true;
      self._rate = o.rate || 1;
      self._sprite = o.sprite || {};
      self._src = (typeof o.src !== 'string') ? o.src : [o.src];
      self._volume = o.volume !== undefined ? o.volume : 1;
      self._xhrWithCredentials = o.xhrWithCredentials || false;

      // Setup all other default properties.
      self._duration = 0;
      self._state = 'unloaded';
      self._sounds = [];
      self._endTimers = {};
      self._queue = [];
      self._playLock = false;

      // Setup event listeners.
      self._onend = o.onend ? [{fn: o.onend}] : [];
      self._onfade = o.onfade ? [{fn: o.onfade}] : [];
      self._onload = o.onload ? [{fn: o.onload}] : [];
      self._onloaderror = o.onloaderror ? [{fn: o.onloaderror}] : [];
      self._onplayerror = o.onplayerror ? [{fn: o.onplayerror}] : [];
      self._onpause = o.onpause ? [{fn: o.onpause}] : [];
      self._onplay = o.onplay ? [{fn: o.onplay}] : [];
      self._onstop = o.onstop ? [{fn: o.onstop}] : [];
      self._onmute = o.onmute ? [{fn: o.onmute}] : [];
      self._onvolume = o.onvolume ? [{fn: o.onvolume}] : [];
      self._onrate = o.onrate ? [{fn: o.onrate}] : [];
      self._onseek = o.onseek ? [{fn: o.onseek}] : [];
      self._onunlock = o.onunlock ? [{fn: o.onunlock}] : [];
      self._onresume = [];

      // Web Audio or HTML5 Audio?
      self._webAudio = Howler.usingWebAudio && !self._html5;

      // Automatically try to enable audio.
      if (typeof Howler.ctx !== 'undefined' && Howler.ctx && Howler.autoUnlock) {
        Howler._unlockAudio();
      }

      // Keep track of this Howl group in the global controller.
      Howler._howls.push(self);

      // If they selected autoplay, add a play event to the load queue.
      if (self._autoplay) {
        self._queue.push({
          event: 'play',
          action: function() {
            self.play();
          }
        });
      }

      // Load the source file unless otherwise specified.
      if (self._preload) {
        self.load();
      }

      return self;
    },

    /**
     * Load the audio file.
     * @return {Howler}
     */
    load: function() {
      var self = this;
      var url = null;

      // If no audio is available, quit immediately.
      if (Howler.noAudio) {
        self._emit('loaderror', null, 'No audio support.');
        return;
      }

      // Make sure our source is in an array.
      if (typeof self._src === 'string') {
        self._src = [self._src];
      }

      // Loop through the sources and pick the first one that is compatible.
      for (var i=0; i<self._src.length; i++) {
        var ext, str;

        if (self._format && self._format[i]) {
          // If an extension was specified, use that instead.
          ext = self._format[i];
        } else {
          // Make sure the source is a string.
          str = self._src[i];
          if (typeof str !== 'string') {
            self._emit('loaderror', null, 'Non-string found in selected audio sources - ignoring.');
            continue;
          }

          // Extract the file extension from the URL or base64 data URI.
          ext = /^data:audio\/([^;,]+);/i.exec(str);
          if (!ext) {
            ext = /\.([^.]+)$/.exec(str.split('?', 1)[0]);
          }

          if (ext) {
            ext = ext[1].toLowerCase();
          }
        }

        // Log a warning if no extension was found.
        if (!ext) {
          console.warn('No file extension was found. Consider using the "format" property or specify an extension.');
        }

        // Check if this extension is available.
        if (ext && Howler.codecs(ext)) {
          url = self._src[i];
          break;
        }
      }

      if (!url) {
        self._emit('loaderror', null, 'No codec support for selected audio sources.');
        return;
      }

      self._src = url;
      self._state = 'loading';

      // If the hosting page is HTTPS and the source isn't,
      // drop down to HTML5 Audio to avoid Mixed Content errors.
      if (window.location.protocol === 'https:' && url.slice(0, 5) === 'http:') {
        self._html5 = true;
        self._webAudio = false;
      }

      // Create a new sound object and add it to the pool.
      new Sound(self);

      // Load and decode the audio data for playback.
      if (self._webAudio) {
        loadBuffer(self);
      }

      return self;
    },

    /**
     * Play a sound or resume previous playback.
     * @param  {String/Number} sprite   Sprite name for sprite playback or sound id to continue previous.
     * @param  {Boolean} internal Internal Use: true prevents event firing.
     * @return {Number}          Sound ID.
     */
    play: function(sprite, internal) {
      var self = this;
      var id = null;

      // Determine if a sprite, sound id or nothing was passed
      if (typeof sprite === 'number') {
        id = sprite;
        sprite = null;
      } else if (typeof sprite === 'string' && self._state === 'loaded' && !self._sprite[sprite]) {
        // If the passed sprite doesn't exist, do nothing.
        return null;
      } else if (typeof sprite === 'undefined') {
        // Use the default sound sprite (plays the full audio length).
        sprite = '__default';

        // Check if there is a single paused sound that isn't ended. 
        // If there is, play that sound. If not, continue as usual.  
        if (!self._playLock) {
          var num = 0;
          for (var i=0; i<self._sounds.length; i++) {
            if (self._sounds[i]._paused && !self._sounds[i]._ended) {
              num++;
              id = self._sounds[i]._id;
            }
          }

          if (num === 1) {
            sprite = null;
          } else {
            id = null;
          }
        }
      }

      // Get the selected node, or get one from the pool.
      var sound = id ? self._soundById(id) : self._inactiveSound();

      // If the sound doesn't exist, do nothing.
      if (!sound) {
        return null;
      }

      // Select the sprite definition.
      if (id && !sprite) {
        sprite = sound._sprite || '__default';
      }

      // If the sound hasn't loaded, we must wait to get the audio's duration.
      // We also need to wait to make sure we don't run into race conditions with
      // the order of function calls.
      if (self._state !== 'loaded') {
        // Set the sprite value on this sound.
        sound._sprite = sprite;

        // Mark this sound as not ended in case another sound is played before this one loads.
        sound._ended = false;

        // Add the sound to the queue to be played on load.
        var soundId = sound._id;
        self._queue.push({
          event: 'play',
          action: function() {
            self.play(soundId);
          }
        });

        return soundId;
      }

      // Don't play the sound if an id was passed and it is already playing.
      if (id && !sound._paused) {
        // Trigger the play event, in order to keep iterating through queue.
        if (!internal) {
          self._loadQueue('play');
        }

        return sound._id;
      }

      // Make sure the AudioContext isn't suspended, and resume it if it is.
      if (self._webAudio) {
        Howler._autoResume();
      }

      // Determine how long to play for and where to start playing.
      var seek = Math.max(0, sound._seek > 0 ? sound._seek : self._sprite[sprite][0] / 1000);
      var duration = Math.max(0, ((self._sprite[sprite][0] + self._sprite[sprite][1]) / 1000) - seek);
      var timeout = (duration * 1000) / Math.abs(sound._rate);
      var start = self._sprite[sprite][0] / 1000;
      var stop = (self._sprite[sprite][0] + self._sprite[sprite][1]) / 1000;
      var loop = !!(sound._loop || self._sprite[sprite][2]);
      sound._sprite = sprite;

      // Mark the sound as ended instantly so that this async playback
      // doesn't get grabbed by another call to play while this one waits to start.
      sound._ended = false;

      // Update the parameters of the sound.
      var setParams = function() {
        sound._paused = false;
        sound._seek = seek;
        sound._start = start;
        sound._stop = stop;
        sound._loop = loop;
      };

      // End the sound instantly if seek is at the end.
      if (seek >= stop) {
        self._ended(sound);
        return;
      }

      // Begin the actual playback.
      var node = sound._node;
      if (self._webAudio) {
        // Fire this when the sound is ready to play to begin Web Audio playback.
        var playWebAudio = function() {
          self._playLock = false;
          setParams();
          self._refreshBuffer(sound);

          // Setup the playback params.
          var vol = (sound._muted || self._muted) ? 0 : sound._volume;
          node.gain.setValueAtTime(vol, Howler.ctx.currentTime);
          sound._playStart = Howler.ctx.currentTime;

          // Play the sound using the supported method.
          if (typeof node.bufferSource.start === 'undefined') {
            sound._loop ? node.bufferSource.noteGrainOn(0, seek, 86400) : node.bufferSource.noteGrainOn(0, seek, duration);
          } else {
            sound._loop ? node.bufferSource.start(0, seek, 86400) : node.bufferSource.start(0, seek, duration);
          }

          // Start a new timer if none is present.
          if (timeout !== Infinity) {
            self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);
          }

          if (!internal) {
            setTimeout(function() {
              self._emit('play', sound._id);
              self._loadQueue();
            }, 0);
          }
        };

        if (Howler.state === 'running') {
          playWebAudio();
        } else {
          self._playLock = true;

          // Wait for the audio context to resume before playing.
          self.once('resume', playWebAudio);

          // Cancel the end timer.
          self._clearTimer(sound._id);
        }
      } else {
        // Fire this when the sound is ready to play to begin HTML5 Audio playback.
        var playHtml5 = function() {
          node.currentTime = seek;
          node.muted = sound._muted || self._muted || Howler._muted || node.muted;
          node.volume = sound._volume * Howler.volume();
          node.playbackRate = sound._rate;

          // Some browsers will throw an error if this is called without user interaction.
          try {
            var play = node.play();

            // Support older browsers that don't support promises, and thus don't have this issue.
            if (play && typeof Promise !== 'undefined' && (play instanceof Promise || typeof play.then === 'function')) {
              // Implements a lock to prevent DOMException: The play() request was interrupted by a call to pause().
              self._playLock = true;

              // Set param values immediately.
              setParams();

              // Releases the lock and executes queued actions.
              play
                .then(function() {
                  self._playLock = false;
                  node._unlocked = true;
                  if (!internal) {
                    self._emit('play', sound._id);
                    self._loadQueue();
                  }
                })
                .catch(function() {
                  self._playLock = false;
                  self._emit('playerror', sound._id, 'Playback was unable to start. This is most commonly an issue ' +
                    'on mobile devices and Chrome where playback was not within a user interaction.');

                  // Reset the ended and paused values.
                  sound._ended = true;
                  sound._paused = true;
                });
            } else if (!internal) {
              self._playLock = false;
              setParams();
              self._emit('play', sound._id);
              self._loadQueue();
            }

            // Setting rate before playing won't work in IE, so we set it again here.
            node.playbackRate = sound._rate;

            // If the node is still paused, then we can assume there was a playback issue.
            if (node.paused) {
              self._emit('playerror', sound._id, 'Playback was unable to start. This is most commonly an issue ' +
                'on mobile devices and Chrome where playback was not within a user interaction.');
              return;
            }

            // Setup the end timer on sprites or listen for the ended event.
            if (sprite !== '__default' || sound._loop) {
              self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);
            } else {
              self._endTimers[sound._id] = function() {
                // Fire ended on this audio node.
                self._ended(sound);

                // Clear this listener.
                node.removeEventListener('ended', self._endTimers[sound._id], false);
              };
              node.addEventListener('ended', self._endTimers[sound._id], false);
            }
          } catch (err) {
            self._emit('playerror', sound._id, err);
          }
        };

        // If this is streaming audio, make sure the src is set and load again.
        if (node.src === 'data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA') {
          node.src = self._src;
          node.load();
        }

        // Play immediately if ready, or wait for the 'canplaythrough'e vent.
        var loadedNoReadyState = (window && window.ejecta) || (!node.readyState && Howler._navigator.isCocoonJS);
        if (node.readyState >= 3 || loadedNoReadyState) {
          playHtml5();
        } else {
          self._playLock = true;

          var listener = function() {
            // Begin playback.
            playHtml5();

            // Clear this listener.
            node.removeEventListener(Howler._canPlayEvent, listener, false);
          };
          node.addEventListener(Howler._canPlayEvent, listener, false);

          // Cancel the end timer.
          self._clearTimer(sound._id);
        }
      }

      return sound._id;
    },

    /**
     * Pause playback and save current position.
     * @param  {Number} id The sound ID (empty to pause all in group).
     * @return {Howl}
     */
    pause: function(id) {
      var self = this;

      // If the sound hasn't loaded or a play() promise is pending, add it to the load queue to pause when capable.
      if (self._state !== 'loaded' || self._playLock) {
        self._queue.push({
          event: 'pause',
          action: function() {
            self.pause(id);
          }
        });

        return self;
      }

      // If no id is passed, get all ID's to be paused.
      var ids = self._getSoundIds(id);

      for (var i=0; i<ids.length; i++) {
        // Clear the end timer.
        self._clearTimer(ids[i]);

        // Get the sound.
        var sound = self._soundById(ids[i]);

        if (sound && !sound._paused) {
          // Reset the seek position.
          sound._seek = self.seek(ids[i]);
          sound._rateSeek = 0;
          sound._paused = true;

          // Stop currently running fades.
          self._stopFade(ids[i]);

          if (sound._node) {
            if (self._webAudio) {
              // Make sure the sound has been created.
              if (!sound._node.bufferSource) {
                continue;
              }

              if (typeof sound._node.bufferSource.stop === 'undefined') {
                sound._node.bufferSource.noteOff(0);
              } else {
                sound._node.bufferSource.stop(0);
              }

              // Clean up the buffer source.
              self._cleanBuffer(sound._node);
            } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {
              sound._node.pause();
            }
          }
        }

        // Fire the pause event, unless `true` is passed as the 2nd argument.
        if (!arguments[1]) {
          self._emit('pause', sound ? sound._id : null);
        }
      }

      return self;
    },

    /**
     * Stop playback and reset to start.
     * @param  {Number} id The sound ID (empty to stop all in group).
     * @param  {Boolean} internal Internal Use: true prevents event firing.
     * @return {Howl}
     */
    stop: function(id, internal) {
      var self = this;

      // If the sound hasn't loaded, add it to the load queue to stop when capable.
      if (self._state !== 'loaded' || self._playLock) {
        self._queue.push({
          event: 'stop',
          action: function() {
            self.stop(id);
          }
        });

        return self;
      }

      // If no id is passed, get all ID's to be stopped.
      var ids = self._getSoundIds(id);

      for (var i=0; i<ids.length; i++) {
        // Clear the end timer.
        self._clearTimer(ids[i]);

        // Get the sound.
        var sound = self._soundById(ids[i]);

        if (sound) {
          // Reset the seek position.
          sound._seek = sound._start || 0;
          sound._rateSeek = 0;
          sound._paused = true;
          sound._ended = true;

          // Stop currently running fades.
          self._stopFade(ids[i]);

          if (sound._node) {
            if (self._webAudio) {
              // Make sure the sound's AudioBufferSourceNode has been created.
              if (sound._node.bufferSource) {
                if (typeof sound._node.bufferSource.stop === 'undefined') {
                  sound._node.bufferSource.noteOff(0);
                } else {
                  sound._node.bufferSource.stop(0);
                }

                // Clean up the buffer source.
                self._cleanBuffer(sound._node);
              }
            } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {
              sound._node.currentTime = sound._start || 0;
              sound._node.pause();

              // If this is a live stream, stop download once the audio is stopped.
              if (sound._node.duration === Infinity) {
                self._clearSound(sound._node);
              }
            }
          }

          if (!internal) {
            self._emit('stop', sound._id);
          }
        }
      }

      return self;
    },

    /**
     * Mute/unmute a single sound or all sounds in this Howl group.
     * @param  {Boolean} muted Set to true to mute and false to unmute.
     * @param  {Number} id    The sound ID to update (omit to mute/unmute all).
     * @return {Howl}
     */
    mute: function(muted, id) {
      var self = this;

      // If the sound hasn't loaded, add it to the load queue to mute when capable.
      if (self._state !== 'loaded'|| self._playLock) {
        self._queue.push({
          event: 'mute',
          action: function() {
            self.mute(muted, id);
          }
        });

        return self;
      }

      // If applying mute/unmute to all sounds, update the group's value.
      if (typeof id === 'undefined') {
        if (typeof muted === 'boolean') {
          self._muted = muted;
        } else {
          return self._muted;
        }
      }

      // If no id is passed, get all ID's to be muted.
      var ids = self._getSoundIds(id);

      for (var i=0; i<ids.length; i++) {
        // Get the sound.
        var sound = self._soundById(ids[i]);

        if (sound) {
          sound._muted = muted;

          // Cancel active fade and set the volume to the end value.
          if (sound._interval) {
            self._stopFade(sound._id);
          }

          if (self._webAudio && sound._node) {
            sound._node.gain.setValueAtTime(muted ? 0 : sound._volume, Howler.ctx.currentTime);
          } else if (sound._node) {
            sound._node.muted = Howler._muted ? true : muted;
          }

          self._emit('mute', sound._id);
        }
      }

      return self;
    },

    /**
     * Get/set the volume of this sound or of the Howl group. This method can optionally take 0, 1 or 2 arguments.
     *   volume() -> Returns the group's volume value.
     *   volume(id) -> Returns the sound id's current volume.
     *   volume(vol) -> Sets the volume of all sounds in this Howl group.
     *   volume(vol, id) -> Sets the volume of passed sound id.
     * @return {Howl/Number} Returns self or current volume.
     */
    volume: function() {
      var self = this;
      var args = arguments;
      var vol, id;

      // Determine the values based on arguments.
      if (args.length === 0) {
        // Return the value of the groups' volume.
        return self._volume;
      } else if (args.length === 1 || args.length === 2 && typeof args[1] === 'undefined') {
        // First check if this is an ID, and if not, assume it is a new volume.
        var ids = self._getSoundIds();
        var index = ids.indexOf(args[0]);
        if (index >= 0) {
          id = parseInt(args[0], 10);
        } else {
          vol = parseFloat(args[0]);
        }
      } else if (args.length >= 2) {
        vol = parseFloat(args[0]);
        id = parseInt(args[1], 10);
      }

      // Update the volume or return the current volume.
      var sound;
      if (typeof vol !== 'undefined' && vol >= 0 && vol <= 1) {
        // If the sound hasn't loaded, add it to the load queue to change volume when capable.
        if (self._state !== 'loaded'|| self._playLock) {
          self._queue.push({
            event: 'volume',
            action: function() {
              self.volume.apply(self, args);
            }
          });

          return self;
        }

        // Set the group volume.
        if (typeof id === 'undefined') {
          self._volume = vol;
        }

        // Update one or all volumes.
        id = self._getSoundIds(id);
        for (var i=0; i<id.length; i++) {
          // Get the sound.
          sound = self._soundById(id[i]);

          if (sound) {
            sound._volume = vol;

            // Stop currently running fades.
            if (!args[2]) {
              self._stopFade(id[i]);
            }

            if (self._webAudio && sound._node && !sound._muted) {
              sound._node.gain.setValueAtTime(vol, Howler.ctx.currentTime);
            } else if (sound._node && !sound._muted) {
              sound._node.volume = vol * Howler.volume();
            }

            self._emit('volume', sound._id);
          }
        }
      } else {
        sound = id ? self._soundById(id) : self._sounds[0];
        return sound ? sound._volume : 0;
      }

      return self;
    },

    /**
     * Fade a currently playing sound between two volumes (if no id is passsed, all sounds will fade).
     * @param  {Number} from The value to fade from (0.0 to 1.0).
     * @param  {Number} to   The volume to fade to (0.0 to 1.0).
     * @param  {Number} len  Time in milliseconds to fade.
     * @param  {Number} id   The sound id (omit to fade all sounds).
     * @return {Howl}
     */
    fade: function(from, to, len, id) {
      var self = this;

      // If the sound hasn't loaded, add it to the load queue to fade when capable.
      if (self._state !== 'loaded' || self._playLock) {
        self._queue.push({
          event: 'fade',
          action: function() {
            self.fade(from, to, len, id);
          }
        });

        return self;
      }

      // Make sure the to/from/len values are numbers.
      from = parseFloat(from);
      to = parseFloat(to);
      len = parseFloat(len);

      // Set the volume to the start position.
      self.volume(from, id);

      // Fade the volume of one or all sounds.
      var ids = self._getSoundIds(id);
      for (var i=0; i<ids.length; i++) {
        // Get the sound.
        var sound = self._soundById(ids[i]);

        // Create a linear fade or fall back to timeouts with HTML5 Audio.
        if (sound) {
          // Stop the previous fade if no sprite is being used (otherwise, volume handles this).
          if (!id) {
            self._stopFade(ids[i]);
          }

          // If we are using Web Audio, let the native methods do the actual fade.
          if (self._webAudio && !sound._muted) {
            var currentTime = Howler.ctx.currentTime;
            var end = currentTime + (len / 1000);
            sound._volume = from;
            sound._node.gain.setValueAtTime(from, currentTime);
            sound._node.gain.linearRampToValueAtTime(to, end);
          }

          self._startFadeInterval(sound, from, to, len, ids[i], typeof id === 'undefined');
        }
      }

      return self;
    },

    /**
     * Starts the internal interval to fade a sound.
     * @param  {Object} sound Reference to sound to fade.
     * @param  {Number} from The value to fade from (0.0 to 1.0).
     * @param  {Number} to   The volume to fade to (0.0 to 1.0).
     * @param  {Number} len  Time in milliseconds to fade.
     * @param  {Number} id   The sound id to fade.
     * @param  {Boolean} isGroup   If true, set the volume on the group.
     */
    _startFadeInterval: function(sound, from, to, len, id, isGroup) {
      var self = this;
      var vol = from;
      var diff = to - from;
      var steps = Math.abs(diff / 0.01);
      var stepLen = Math.max(4, (steps > 0) ? len / steps : len);
      var lastTick = Date.now();

      // Store the value being faded to.
      sound._fadeTo = to;

      // Update the volume value on each interval tick.
      sound._interval = setInterval(function() {
        // Update the volume based on the time since the last tick.
        var tick = (Date.now() - lastTick) / len;
        lastTick = Date.now();
        vol += diff * tick;

        // Make sure the volume is in the right bounds.
        vol = Math.max(0, vol);
        vol = Math.min(1, vol);

        // Round to within 2 decimal points.
        vol = Math.round(vol * 100) / 100;

        // Change the volume.
        if (self._webAudio) {
          sound._volume = vol;
        } else {
          self.volume(vol, sound._id, true);
        }

        // Set the group's volume.
        if (isGroup) {
          self._volume = vol;
        }

        // When the fade is complete, stop it and fire event.
        if ((to < from && vol <= to) || (to > from && vol >= to)) {
          clearInterval(sound._interval);
          sound._interval = null;
          sound._fadeTo = null;
          self.volume(to, sound._id);
          self._emit('fade', sound._id);
        }
      }, stepLen);
    },

    /**
     * Internal method that stops the currently playing fade when
     * a new fade starts, volume is changed or the sound is stopped.
     * @param  {Number} id The sound id.
     * @return {Howl}
     */
    _stopFade: function(id) {
      var self = this;
      var sound = self._soundById(id);

      if (sound && sound._interval) {
        if (self._webAudio) {
          sound._node.gain.cancelScheduledValues(Howler.ctx.currentTime);
        }

        clearInterval(sound._interval);
        sound._interval = null;
        self.volume(sound._fadeTo, id);
        sound._fadeTo = null;
        self._emit('fade', id);
      }

      return self;
    },

    /**
     * Get/set the loop parameter on a sound. This method can optionally take 0, 1 or 2 arguments.
     *   loop() -> Returns the group's loop value.
     *   loop(id) -> Returns the sound id's loop value.
     *   loop(loop) -> Sets the loop value for all sounds in this Howl group.
     *   loop(loop, id) -> Sets the loop value of passed sound id.
     * @return {Howl/Boolean} Returns self or current loop value.
     */
    loop: function() {
      var self = this;
      var args = arguments;
      var loop, id, sound;

      // Determine the values for loop and id.
      if (args.length === 0) {
        // Return the grou's loop value.
        return self._loop;
      } else if (args.length === 1) {
        if (typeof args[0] === 'boolean') {
          loop = args[0];
          self._loop = loop;
        } else {
          // Return this sound's loop value.
          sound = self._soundById(parseInt(args[0], 10));
          return sound ? sound._loop : false;
        }
      } else if (args.length === 2) {
        loop = args[0];
        id = parseInt(args[1], 10);
      }

      // If no id is passed, get all ID's to be looped.
      var ids = self._getSoundIds(id);
      for (var i=0; i<ids.length; i++) {
        sound = self._soundById(ids[i]);

        if (sound) {
          sound._loop = loop;
          if (self._webAudio && sound._node && sound._node.bufferSource) {
            sound._node.bufferSource.loop = loop;
            if (loop) {
              sound._node.bufferSource.loopStart = sound._start || 0;
              sound._node.bufferSource.loopEnd = sound._stop;
            }
          }
        }
      }

      return self;
    },

    /**
     * Get/set the playback rate of a sound. This method can optionally take 0, 1 or 2 arguments.
     *   rate() -> Returns the first sound node's current playback rate.
     *   rate(id) -> Returns the sound id's current playback rate.
     *   rate(rate) -> Sets the playback rate of all sounds in this Howl group.
     *   rate(rate, id) -> Sets the playback rate of passed sound id.
     * @return {Howl/Number} Returns self or the current playback rate.
     */
    rate: function() {
      var self = this;
      var args = arguments;
      var rate, id;

      // Determine the values based on arguments.
      if (args.length === 0) {
        // We will simply return the current rate of the first node.
        id = self._sounds[0]._id;
      } else if (args.length === 1) {
        // First check if this is an ID, and if not, assume it is a new rate value.
        var ids = self._getSoundIds();
        var index = ids.indexOf(args[0]);
        if (index >= 0) {
          id = parseInt(args[0], 10);
        } else {
          rate = parseFloat(args[0]);
        }
      } else if (args.length === 2) {
        rate = parseFloat(args[0]);
        id = parseInt(args[1], 10);
      }

      // Update the playback rate or return the current value.
      var sound;
      if (typeof rate === 'number') {
        // If the sound hasn't loaded, add it to the load queue to change playback rate when capable.
        if (self._state !== 'loaded' || self._playLock) {
          self._queue.push({
            event: 'rate',
            action: function() {
              self.rate.apply(self, args);
            }
          });

          return self;
        }

        // Set the group rate.
        if (typeof id === 'undefined') {
          self._rate = rate;
        }

        // Update one or all volumes.
        id = self._getSoundIds(id);
        for (var i=0; i<id.length; i++) {
          // Get the sound.
          sound = self._soundById(id[i]);

          if (sound) {
            // Keep track of our position when the rate changed and update the playback
            // start position so we can properly adjust the seek position for time elapsed.
            if (self.playing(id[i])) {
              sound._rateSeek = self.seek(id[i]);
              sound._playStart = self._webAudio ? Howler.ctx.currentTime : sound._playStart;
            }
            sound._rate = rate;

            // Change the playback rate.
            if (self._webAudio && sound._node && sound._node.bufferSource) {
              sound._node.bufferSource.playbackRate.setValueAtTime(rate, Howler.ctx.currentTime);
            } else if (sound._node) {
              sound._node.playbackRate = rate;
            }

            // Reset the timers.
            var seek = self.seek(id[i]);
            var duration = ((self._sprite[sound._sprite][0] + self._sprite[sound._sprite][1]) / 1000) - seek;
            var timeout = (duration * 1000) / Math.abs(sound._rate);

            // Start a new end timer if sound is already playing.
            if (self._endTimers[id[i]] || !sound._paused) {
              self._clearTimer(id[i]);
              self._endTimers[id[i]] = setTimeout(self._ended.bind(self, sound), timeout);
            }

            self._emit('rate', sound._id);
          }
        }
      } else {
        sound = self._soundById(id);
        return sound ? sound._rate : self._rate;
      }

      return self;
    },

    /**
     * Get/set the seek position of a sound. This method can optionally take 0, 1 or 2 arguments.
     *   seek() -> Returns the first sound node's current seek position.
     *   seek(id) -> Returns the sound id's current seek position.
     *   seek(seek) -> Sets the seek position of the first sound node.
     *   seek(seek, id) -> Sets the seek position of passed sound id.
     * @return {Howl/Number} Returns self or the current seek position.
     */
    seek: function() {
      var self = this;
      var args = arguments;
      var seek, id;

      // Determine the values based on arguments.
      if (args.length === 0) {
        // We will simply return the current position of the first node.
        id = self._sounds[0]._id;
      } else if (args.length === 1) {
        // First check if this is an ID, and if not, assume it is a new seek position.
        var ids = self._getSoundIds();
        var index = ids.indexOf(args[0]);
        if (index >= 0) {
          id = parseInt(args[0], 10);
        } else if (self._sounds.length) {
          id = self._sounds[0]._id;
          seek = parseFloat(args[0]);
        }
      } else if (args.length === 2) {
        seek = parseFloat(args[0]);
        id = parseInt(args[1], 10);
      }

      // If there is no ID, bail out.
      if (typeof id === 'undefined') {
        return self;
      }

      // If the sound hasn't loaded, add it to the load queue to seek when capable.
      if (self._state !== 'loaded' || self._playLock) {
        self._queue.push({
          event: 'seek',
          action: function() {
            self.seek.apply(self, args);
          }
        });

        return self;
      }

      // Get the sound.
      var sound = self._soundById(id);

      if (sound) {
        if (typeof seek === 'number' && seek >= 0) {
          // Pause the sound and update position for restarting playback.
          var playing = self.playing(id);
          if (playing) {
            self.pause(id, true);
          }

          // Move the position of the track and cancel timer.
          sound._seek = seek;
          sound._ended = false;
          self._clearTimer(id);

          // Update the seek position for HTML5 Audio.
          if (!self._webAudio && sound._node && !isNaN(sound._node.duration)) {
            sound._node.currentTime = seek;
          }

          // Seek and emit when ready.
          var seekAndEmit = function() {
            self._emit('seek', id);

            // Restart the playback if the sound was playing.
            if (playing) {
              self.play(id, true);
            }
          };

          // Wait for the play lock to be unset before emitting (HTML5 Audio).
          if (playing && !self._webAudio) {
            var emitSeek = function() {
              if (!self._playLock) {
                seekAndEmit();
              } else {
                setTimeout(emitSeek, 0);
              }
            };
            setTimeout(emitSeek, 0);
          } else {
            seekAndEmit();
          }
        } else {
          if (self._webAudio) {
            var realTime = self.playing(id) ? Howler.ctx.currentTime - sound._playStart : 0;
            var rateSeek = sound._rateSeek ? sound._rateSeek - sound._seek : 0;
            return sound._seek + (rateSeek + realTime * Math.abs(sound._rate));
          } else {
            return sound._node.currentTime;
          }
        }
      }

      return self;
    },

    /**
     * Check if a specific sound is currently playing or not (if id is provided), or check if at least one of the sounds in the group is playing or not.
     * @param  {Number}  id The sound id to check. If none is passed, the whole sound group is checked.
     * @return {Boolean} True if playing and false if not.
     */
    playing: function(id) {
      var self = this;

      // Check the passed sound ID (if any).
      if (typeof id === 'number') {
        var sound = self._soundById(id);
        return sound ? !sound._paused : false;
      }

      // Otherwise, loop through all sounds and check if any are playing.
      for (var i=0; i<self._sounds.length; i++) {
        if (!self._sounds[i]._paused) {
          return true;
        }
      }

      return false;
    },

    /**
     * Get the duration of this sound. Passing a sound id will return the sprite duration.
     * @param  {Number} id The sound id to check. If none is passed, return full source duration.
     * @return {Number} Audio duration in seconds.
     */
    duration: function(id) {
      var self = this;
      var duration = self._duration;

      // If we pass an ID, get the sound and return the sprite length.
      var sound = self._soundById(id);
      if (sound) {
        duration = self._sprite[sound._sprite][1] / 1000;
      }

      return duration;
    },

    /**
     * Returns the current loaded state of this Howl.
     * @return {String} 'unloaded', 'loading', 'loaded'
     */
    state: function() {
      return this._state;
    },

    /**
     * Unload and destroy the current Howl object.
     * This will immediately stop all sound instances attached to this group.
     */
    unload: function() {
      var self = this;

      // Stop playing any active sounds.
      var sounds = self._sounds;
      for (var i=0; i<sounds.length; i++) {
        // Stop the sound if it is currently playing.
        if (!sounds[i]._paused) {
          self.stop(sounds[i]._id);
        }

        // Remove the source or disconnect.
        if (!self._webAudio) {
          // Set the source to 0-second silence to stop any downloading (except in IE).
          self._clearSound(sounds[i]._node);

          // Remove any event listeners.
          sounds[i]._node.removeEventListener('error', sounds[i]._errorFn, false);
          sounds[i]._node.removeEventListener(Howler._canPlayEvent, sounds[i]._loadFn, false);

          // Release the Audio object back to the pool.
          Howler._releaseHtml5Audio(sounds[i]._node);
        }

        // Empty out all of the nodes.
        delete sounds[i]._node;

        // Make sure all timers are cleared out.
        self._clearTimer(sounds[i]._id);
      }

      // Remove the references in the global Howler object.
      var index = Howler._howls.indexOf(self);
      if (index >= 0) {
        Howler._howls.splice(index, 1);
      }

      // Delete this sound from the cache (if no other Howl is using it).
      var remCache = true;
      for (i=0; i<Howler._howls.length; i++) {
        if (Howler._howls[i]._src === self._src || self._src.indexOf(Howler._howls[i]._src) >= 0) {
          remCache = false;
          break;
        }
      }

      if (cache && remCache) {
        delete cache[self._src];
      }

      // Clear global errors.
      Howler.noAudio = false;

      // Clear out `self`.
      self._state = 'unloaded';
      self._sounds = [];
      self = null;

      return null;
    },

    /**
     * Listen to a custom event.
     * @param  {String}   event Event name.
     * @param  {Function} fn    Listener to call.
     * @param  {Number}   id    (optional) Only listen to events for this sound.
     * @param  {Number}   once  (INTERNAL) Marks event to fire only once.
     * @return {Howl}
     */
    on: function(event, fn, id, once) {
      var self = this;
      var events = self['_on' + event];

      if (typeof fn === 'function') {
        events.push(once ? {id: id, fn: fn, once: once} : {id: id, fn: fn});
      }

      return self;
    },

    /**
     * Remove a custom event. Call without parameters to remove all events.
     * @param  {String}   event Event name.
     * @param  {Function} fn    Listener to remove. Leave empty to remove all.
     * @param  {Number}   id    (optional) Only remove events for this sound.
     * @return {Howl}
     */
    off: function(event, fn, id) {
      var self = this;
      var events = self['_on' + event];
      var i = 0;

      // Allow passing just an event and ID.
      if (typeof fn === 'number') {
        id = fn;
        fn = null;
      }

      if (fn || id) {
        // Loop through event store and remove the passed function.
        for (i=0; i<events.length; i++) {
          var isId = (id === events[i].id);
          if (fn === events[i].fn && isId || !fn && isId) {
            events.splice(i, 1);
            break;
          }
        }
      } else if (event) {
        // Clear out all events of this type.
        self['_on' + event] = [];
      } else {
        // Clear out all events of every type.
        var keys = Object.keys(self);
        for (i=0; i<keys.length; i++) {
          if ((keys[i].indexOf('_on') === 0) && Array.isArray(self[keys[i]])) {
            self[keys[i]] = [];
          }
        }
      }

      return self;
    },

    /**
     * Listen to a custom event and remove it once fired.
     * @param  {String}   event Event name.
     * @param  {Function} fn    Listener to call.
     * @param  {Number}   id    (optional) Only listen to events for this sound.
     * @return {Howl}
     */
    once: function(event, fn, id) {
      var self = this;

      // Setup the event listener.
      self.on(event, fn, id, 1);

      return self;
    },

    /**
     * Emit all events of a specific type and pass the sound id.
     * @param  {String} event Event name.
     * @param  {Number} id    Sound ID.
     * @param  {Number} msg   Message to go with event.
     * @return {Howl}
     */
    _emit: function(event, id, msg) {
      var self = this;
      var events = self['_on' + event];

      // Loop through event store and fire all functions.
      for (var i=events.length-1; i>=0; i--) {
        // Only fire the listener if the correct ID is used.
        if (!events[i].id || events[i].id === id || event === 'load') {
          setTimeout(function(fn) {
            fn.call(this, id, msg);
          }.bind(self, events[i].fn), 0);

          // If this event was setup with `once`, remove it.
          if (events[i].once) {
            self.off(event, events[i].fn, events[i].id);
          }
        }
      }

      // Pass the event type into load queue so that it can continue stepping.
      self._loadQueue(event);

      return self;
    },

    /**
     * Queue of actions initiated before the sound has loaded.
     * These will be called in sequence, with the next only firing
     * after the previous has finished executing (even if async like play).
     * @return {Howl}
     */
    _loadQueue: function(event) {
      var self = this;

      if (self._queue.length > 0) {
        var task = self._queue[0];

        // Remove this task if a matching event was passed.
        if (task.event === event) {
          self._queue.shift();
          self._loadQueue();
        }

        // Run the task if no event type is passed.
        if (!event) {
          task.action();
        }
      }

      return self;
    },

    /**
     * Fired when playback ends at the end of the duration.
     * @param  {Sound} sound The sound object to work with.
     * @return {Howl}
     */
    _ended: function(sound) {
      var self = this;
      var sprite = sound._sprite;

      // If we are using IE and there was network latency we may be clipping
      // audio before it completes playing. Lets check the node to make sure it
      // believes it has completed, before ending the playback.
      if (!self._webAudio && sound._node && !sound._node.paused && !sound._node.ended && sound._node.currentTime < sound._stop) {
        setTimeout(self._ended.bind(self, sound), 100);
        return self;
      }

      // Should this sound loop?
      var loop = !!(sound._loop || self._sprite[sprite][2]);

      // Fire the ended event.
      self._emit('end', sound._id);

      // Restart the playback for HTML5 Audio loop.
      if (!self._webAudio && loop) {
        self.stop(sound._id, true).play(sound._id);
      }

      // Restart this timer if on a Web Audio loop.
      if (self._webAudio && loop) {
        self._emit('play', sound._id);
        sound._seek = sound._start || 0;
        sound._rateSeek = 0;
        sound._playStart = Howler.ctx.currentTime;

        var timeout = ((sound._stop - sound._start) * 1000) / Math.abs(sound._rate);
        self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);
      }

      // Mark the node as paused.
      if (self._webAudio && !loop) {
        sound._paused = true;
        sound._ended = true;
        sound._seek = sound._start || 0;
        sound._rateSeek = 0;
        self._clearTimer(sound._id);

        // Clean up the buffer source.
        self._cleanBuffer(sound._node);

        // Attempt to auto-suspend AudioContext if no sounds are still playing.
        Howler._autoSuspend();
      }

      // When using a sprite, end the track.
      if (!self._webAudio && !loop) {
        self.stop(sound._id, true);
      }

      return self;
    },

    /**
     * Clear the end timer for a sound playback.
     * @param  {Number} id The sound ID.
     * @return {Howl}
     */
    _clearTimer: function(id) {
      var self = this;

      if (self._endTimers[id]) {
        // Clear the timeout or remove the ended listener.
        if (typeof self._endTimers[id] !== 'function') {
          clearTimeout(self._endTimers[id]);
        } else {
          var sound = self._soundById(id);
          if (sound && sound._node) {
            sound._node.removeEventListener('ended', self._endTimers[id], false);
          }
        }

        delete self._endTimers[id];
      }

      return self;
    },

    /**
     * Return the sound identified by this ID, or return null.
     * @param  {Number} id Sound ID
     * @return {Object}    Sound object or null.
     */
    _soundById: function(id) {
      var self = this;

      // Loop through all sounds and find the one with this ID.
      for (var i=0; i<self._sounds.length; i++) {
        if (id === self._sounds[i]._id) {
          return self._sounds[i];
        }
      }

      return null;
    },

    /**
     * Return an inactive sound from the pool or create a new one.
     * @return {Sound} Sound playback object.
     */
    _inactiveSound: function() {
      var self = this;

      self._drain();

      // Find the first inactive node to recycle.
      for (var i=0; i<self._sounds.length; i++) {
        if (self._sounds[i]._ended) {
          return self._sounds[i].reset();
        }
      }

      // If no inactive node was found, create a new one.
      return new Sound(self);
    },

    /**
     * Drain excess inactive sounds from the pool.
     */
    _drain: function() {
      var self = this;
      var limit = self._pool;
      var cnt = 0;
      var i = 0;

      // If there are less sounds than the max pool size, we are done.
      if (self._sounds.length < limit) {
        return;
      }

      // Count the number of inactive sounds.
      for (i=0; i<self._sounds.length; i++) {
        if (self._sounds[i]._ended) {
          cnt++;
        }
      }

      // Remove excess inactive sounds, going in reverse order.
      for (i=self._sounds.length - 1; i>=0; i--) {
        if (cnt <= limit) {
          return;
        }

        if (self._sounds[i]._ended) {
          // Disconnect the audio source when using Web Audio.
          if (self._webAudio && self._sounds[i]._node) {
            self._sounds[i]._node.disconnect(0);
          }

          // Remove sounds until we have the pool size.
          self._sounds.splice(i, 1);
          cnt--;
        }
      }
    },

    /**
     * Get all ID's from the sounds pool.
     * @param  {Number} id Only return one ID if one is passed.
     * @return {Array}    Array of IDs.
     */
    _getSoundIds: function(id) {
      var self = this;

      if (typeof id === 'undefined') {
        var ids = [];
        for (var i=0; i<self._sounds.length; i++) {
          ids.push(self._sounds[i]._id);
        }

        return ids;
      } else {
        return [id];
      }
    },

    /**
     * Load the sound back into the buffer source.
     * @param  {Sound} sound The sound object to work with.
     * @return {Howl}
     */
    _refreshBuffer: function(sound) {
      var self = this;

      // Setup the buffer source for playback.
      sound._node.bufferSource = Howler.ctx.createBufferSource();
      sound._node.bufferSource.buffer = cache[self._src];

      // Connect to the correct node.
      if (sound._panner) {
        sound._node.bufferSource.connect(sound._panner);
      } else {
        sound._node.bufferSource.connect(sound._node);
      }

      // Setup looping and playback rate.
      sound._node.bufferSource.loop = sound._loop;
      if (sound._loop) {
        sound._node.bufferSource.loopStart = sound._start || 0;
        sound._node.bufferSource.loopEnd = sound._stop || 0;
      }
      sound._node.bufferSource.playbackRate.setValueAtTime(sound._rate, Howler.ctx.currentTime);

      return self;
    },

    /**
     * Prevent memory leaks by cleaning up the buffer source after playback.
     * @param  {Object} node Sound's audio node containing the buffer source.
     * @return {Howl}
     */
    _cleanBuffer: function(node) {
      var self = this;
      var isIOS = Howler._navigator && Howler._navigator.vendor.indexOf('Apple') >= 0;

      if (Howler._scratchBuffer && node.bufferSource) {
        node.bufferSource.onended = null;
        node.bufferSource.disconnect(0);
        if (isIOS) {
          try { node.bufferSource.buffer = Howler._scratchBuffer; } catch(e) {}
        }
      }
      node.bufferSource = null;

      return self;
    },

    /**
     * Set the source to a 0-second silence to stop any downloading (except in IE).
     * @param  {Object} node Audio node to clear.
     */
    _clearSound: function(node) {
      var checkIE = /MSIE |Trident\//.test(Howler._navigator && Howler._navigator.userAgent);
      if (!checkIE) {
        node.src = 'data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA';
      }
    }
  };

  /** Single Sound Methods **/
  /***************************************************************************/

  /**
   * Setup the sound object, which each node attached to a Howl group is contained in.
   * @param {Object} howl The Howl parent group.
   */
  var Sound = function(howl) {
    this._parent = howl;
    this.init();
  };
  Sound.prototype = {
    /**
     * Initialize a new Sound object.
     * @return {Sound}
     */
    init: function() {
      var self = this;
      var parent = self._parent;

      // Setup the default parameters.
      self._muted = parent._muted;
      self._loop = parent._loop;
      self._volume = parent._volume;
      self._rate = parent._rate;
      self._seek = 0;
      self._paused = true;
      self._ended = true;
      self._sprite = '__default';

      // Generate a unique ID for this sound.
      self._id = ++Howler._counter;

      // Add itself to the parent's pool.
      parent._sounds.push(self);

      // Create the new node.
      self.create();

      return self;
    },

    /**
     * Create and setup a new sound object, whether HTML5 Audio or Web Audio.
     * @return {Sound}
     */
    create: function() {
      var self = this;
      var parent = self._parent;
      var volume = (Howler._muted || self._muted || self._parent._muted) ? 0 : self._volume;

      if (parent._webAudio) {
        // Create the gain node for controlling volume (the source will connect to this).
        self._node = (typeof Howler.ctx.createGain === 'undefined') ? Howler.ctx.createGainNode() : Howler.ctx.createGain();
        self._node.gain.setValueAtTime(volume, Howler.ctx.currentTime);
        self._node.paused = true;
        self._node.connect(Howler.masterGain);
      } else {
        // Get an unlocked Audio object from the pool.
        self._node = Howler._obtainHtml5Audio();

        // Listen for errors (http://dev.w3.org/html5/spec-author-view/spec.html#mediaerror).
        self._errorFn = self._errorListener.bind(self);
        self._node.addEventListener('error', self._errorFn, false);

        // Listen for 'canplaythrough' event to let us know the sound is ready.
        self._loadFn = self._loadListener.bind(self);
        self._node.addEventListener(Howler._canPlayEvent, self._loadFn, false);

        // Setup the new audio node.
        self._node.src = parent._src;
        self._node.preload = 'auto';
        self._node.volume = volume * Howler.volume();

        // Begin loading the source.
        self._node.load();
      }

      return self;
    },

    /**
     * Reset the parameters of this sound to the original state (for recycle).
     * @return {Sound}
     */
    reset: function() {
      var self = this;
      var parent = self._parent;

      // Reset all of the parameters of this sound.
      self._muted = parent._muted;
      self._loop = parent._loop;
      self._volume = parent._volume;
      self._rate = parent._rate;
      self._seek = 0;
      self._rateSeek = 0;
      self._paused = true;
      self._ended = true;
      self._sprite = '__default';

      // Generate a new ID so that it isn't confused with the previous sound.
      self._id = ++Howler._counter;

      return self;
    },

    /**
     * HTML5 Audio error listener callback.
     */
    _errorListener: function() {
      var self = this;

      // Fire an error event and pass back the code.
      self._parent._emit('loaderror', self._id, self._node.error ? self._node.error.code : 0);

      // Clear the event listener.
      self._node.removeEventListener('error', self._errorFn, false);
    },

    /**
     * HTML5 Audio canplaythrough listener callback.
     */
    _loadListener: function() {
      var self = this;
      var parent = self._parent;

      // Round up the duration to account for the lower precision in HTML5 Audio.
      parent._duration = Math.ceil(self._node.duration * 10) / 10;

      // Setup a sprite if none is defined.
      if (Object.keys(parent._sprite).length === 0) {
        parent._sprite = {__default: [0, parent._duration * 1000]};
      }

      if (parent._state !== 'loaded') {
        parent._state = 'loaded';
        parent._emit('load');
        parent._loadQueue();
      }

      // Clear the event listener.
      self._node.removeEventListener(Howler._canPlayEvent, self._loadFn, false);
    }
  };

  /** Helper Methods **/
  /***************************************************************************/

  var cache = {};

  /**
   * Buffer a sound from URL, Data URI or cache and decode to audio source (Web Audio API).
   * @param  {Howl} self
   */
  var loadBuffer = function(self) {
    var url = self._src;

    // Check if the buffer has already been cached and use it instead.
    if (cache[url]) {
      // Set the duration from the cache.
      self._duration = cache[url].duration;

      // Load the sound into this Howl.
      loadSound(self);

      return;
    }

    if (/^data:[^;]+;base64,/.test(url)) {
      // Decode the base64 data URI without XHR, since some browsers don't support it.
      var data = atob(url.split(',')[1]);
      var dataView = new Uint8Array(data.length);
      for (var i=0; i<data.length; ++i) {
        dataView[i] = data.charCodeAt(i);
      }

      decodeAudioData(dataView.buffer, self);
    } else {
      // Load the buffer from the URL.
      var xhr = new XMLHttpRequest();
      xhr.open('GET', url, true);
      xhr.withCredentials = self._xhrWithCredentials;
      xhr.responseType = 'arraybuffer';
      xhr.onload = function() {
        // Make sure we get a successful response back.
        var code = (xhr.status + '')[0];
        if (code !== '0' && code !== '2' && code !== '3') {
          self._emit('loaderror', null, 'Failed loading audio file with status: ' + xhr.status + '.');
          return;
        }

        decodeAudioData(xhr.response, self);
      };
      xhr.onerror = function() {
        // If there is an error, switch to HTML5 Audio.
        if (self._webAudio) {
          self._html5 = true;
          self._webAudio = false;
          self._sounds = [];
          delete cache[url];
          self.load();
        }
      };
      safeXhrSend(xhr);
    }
  };

  /**
   * Send the XHR request wrapped in a try/catch.
   * @param  {Object} xhr XHR to send.
   */
  var safeXhrSend = function(xhr) {
    try {
      xhr.send();
    } catch (e) {
      xhr.onerror();
    }
  };

  /**
   * Decode audio data from an array buffer.
   * @param  {ArrayBuffer} arraybuffer The audio data.
   * @param  {Howl}        self
   */
  var decodeAudioData = function(arraybuffer, self) {
    // Fire a load error if something broke.
    var error = function() {
      self._emit('loaderror', null, 'Decoding audio data failed.');
    };

    // Load the sound on success.
    var success = function(buffer) {
      if (buffer && self._sounds.length > 0) {
        cache[self._src] = buffer;
        loadSound(self, buffer);
      } else {
        error();
      }
    };

    // Decode the buffer into an audio source.
    if (typeof Promise !== 'undefined' && Howler.ctx.decodeAudioData.length === 1) {
      Howler.ctx.decodeAudioData(arraybuffer).then(success).catch(error);
    } else {
      Howler.ctx.decodeAudioData(arraybuffer, success, error);
    }
  }

  /**
   * Sound is now loaded, so finish setting everything up and fire the loaded event.
   * @param  {Howl} self
   * @param  {Object} buffer The decoded buffer sound source.
   */
  var loadSound = function(self, buffer) {
    // Set the duration.
    if (buffer && !self._duration) {
      self._duration = buffer.duration;
    }

    // Setup a sprite if none is defined.
    if (Object.keys(self._sprite).length === 0) {
      self._sprite = {__default: [0, self._duration * 1000]};
    }

    // Fire the loaded event.
    if (self._state !== 'loaded') {
      self._state = 'loaded';
      self._emit('load');
      self._loadQueue();
    }
  };

  /**
   * Setup the audio context when available, or switch to HTML5 Audio mode.
   */
  var setupAudioContext = function() {
    // If we have already detected that Web Audio isn't supported, don't run this step again.
    if (!Howler.usingWebAudio) {
      return;
    }

    // Check if we are using Web Audio and setup the AudioContext if we are.
    try {
      if (typeof AudioContext !== 'undefined') {
        Howler.ctx = new AudioContext();
      } else if (typeof webkitAudioContext !== 'undefined') {
        Howler.ctx = new webkitAudioContext();
      } else {
        Howler.usingWebAudio = false;
      }
    } catch(e) {
      Howler.usingWebAudio = false;
    }

    // If the audio context creation still failed, set using web audio to false.
    if (!Howler.ctx) {
      Howler.usingWebAudio = false;
    }

    // Check if a webview is being used on iOS8 or earlier (rather than the browser).
    // If it is, disable Web Audio as it causes crashing.
    var iOS = (/iP(hone|od|ad)/.test(Howler._navigator && Howler._navigator.platform));
    var appVersion = Howler._navigator && Howler._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);
    var version = appVersion ? parseInt(appVersion[1], 10) : null;
    if (iOS && version && version < 9) {
      var safari = /safari/.test(Howler._navigator && Howler._navigator.userAgent.toLowerCase());
      if (Howler._navigator && Howler._navigator.standalone && !safari || Howler._navigator && !Howler._navigator.standalone && !safari) {
        Howler.usingWebAudio = false;
      }
    }

    // Create and expose the master GainNode when using Web Audio (useful for plugins or advanced usage).
    if (Howler.usingWebAudio) {
      Howler.masterGain = (typeof Howler.ctx.createGain === 'undefined') ? Howler.ctx.createGainNode() : Howler.ctx.createGain();
      Howler.masterGain.gain.setValueAtTime(Howler._muted ? 0 : 1, Howler.ctx.currentTime);
      Howler.masterGain.connect(Howler.ctx.destination);
    }

    // Re-run the setup on Howler.
    Howler._setup();
  };

  // Add support for AMD (Asynchronous Module Definition) libraries such as require.js.
  if (typeof define === 'function' && define.amd) {
    define([], function() {
      return {
        Howler: Howler,
        Howl: Howl
      };
    });
  }

  // Add support for CommonJS libraries such as browserify.
  if (typeof exports !== 'undefined') {
    exports.Howler = Howler;
    exports.Howl = Howl;
  }

  // Define globally in case AMD is not available or unused.
  if (typeof window !== 'undefined') {
    window.HowlerGlobal = HowlerGlobal;
    window.Howler = Howler;
    window.Howl = Howl;
    window.Sound = Sound;
  } else if (typeof global !== 'undefined') { // Add to global in Node.js (for testing, etc).
    global.HowlerGlobal = HowlerGlobal;
    global.Howler = Howler;
    global.Howl = Howl;
    global.Sound = Sound;
  }
})();


/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.1.2
 *  howlerjs.com
 *
 *  (c) 2013-2019, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */

(function() {

  'use strict';

  // Setup default properties.
  HowlerGlobal.prototype._pos = [0, 0, 0];
  HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0];

  /** Global Methods **/
  /***************************************************************************/

  /**
   * Helper method to update the stereo panning position of all current Howls.
   * Future Howls will not use this value unless explicitly set.
   * @param  {Number} pan A value of -1.0 is all the way left and 1.0 is all the way right.
   * @return {Howler/Number}     Self or current stereo panning value.
   */
  HowlerGlobal.prototype.stereo = function(pan) {
    var self = this;

    // Stop right here if not using Web Audio.
    if (!self.ctx || !self.ctx.listener) {
      return self;
    }

    // Loop through all Howls and update their stereo panning.
    for (var i=self._howls.length-1; i>=0; i--) {
      self._howls[i].stereo(pan);
    }

    return self;
  };

  /**
   * Get/set the position of the listener in 3D cartesian space. Sounds using
   * 3D position will be relative to the listener's position.
   * @param  {Number} x The x-position of the listener.
   * @param  {Number} y The y-position of the listener.
   * @param  {Number} z The z-position of the listener.
   * @return {Howler/Array}   Self or current listener position.
   */
  HowlerGlobal.prototype.pos = function(x, y, z) {
    var self = this;

    // Stop right here if not using Web Audio.
    if (!self.ctx || !self.ctx.listener) {
      return self;
    }

    // Set the defaults for optional 'y' & 'z'.
    y = (typeof y !== 'number') ? self._pos[1] : y;
    z = (typeof z !== 'number') ? self._pos[2] : z;

    if (typeof x === 'number') {
      self._pos = [x, y, z];

      if (typeof self.ctx.listener.positionX !== 'undefined') {
        self.ctx.listener.positionX.setTargetAtTime(self._pos[0], Howler.ctx.currentTime, 0.1);
        self.ctx.listener.positionY.setTargetAtTime(self._pos[1], Howler.ctx.currentTime, 0.1);
        self.ctx.listener.positionZ.setTargetAtTime(self._pos[2], Howler.ctx.currentTime, 0.1);
      } else {
        self.ctx.listener.setPosition(self._pos[0], self._pos[1], self._pos[2]);
      }
    } else {
      return self._pos;
    }

    return self;
  };

  /**
   * Get/set the direction the listener is pointing in the 3D cartesian space.
   * A front and up vector must be provided. The front is the direction the
   * face of the listener is pointing, and up is the direction the top of the
   * listener is pointing. Thus, these values are expected to be at right angles
   * from each other.
   * @param  {Number} x   The x-orientation of the listener.
   * @param  {Number} y   The y-orientation of the listener.
   * @param  {Number} z   The z-orientation of the listener.
   * @param  {Number} xUp The x-orientation of the top of the listener.
   * @param  {Number} yUp The y-orientation of the top of the listener.
   * @param  {Number} zUp The z-orientation of the top of the listener.
   * @return {Howler/Array}     Returns self or the current orientation vectors.
   */
  HowlerGlobal.prototype.orientation = function(x, y, z, xUp, yUp, zUp) {
    var self = this;

    // Stop right here if not using Web Audio.
    if (!self.ctx || !self.ctx.listener) {
      return self;
    }

    // Set the defaults for optional 'y' & 'z'.
    var or = self._orientation;
    y = (typeof y !== 'number') ? or[1] : y;
    z = (typeof z !== 'number') ? or[2] : z;
    xUp = (typeof xUp !== 'number') ? or[3] : xUp;
    yUp = (typeof yUp !== 'number') ? or[4] : yUp;
    zUp = (typeof zUp !== 'number') ? or[5] : zUp;

    if (typeof x === 'number') {
      self._orientation = [x, y, z, xUp, yUp, zUp];

      if (typeof self.ctx.listener.forwardX !== 'undefined') {
        self.ctx.listener.forwardX.setTargetAtTime(x, Howler.ctx.currentTime, 0.1);
        self.ctx.listener.forwardY.setTargetAtTime(y, Howler.ctx.currentTime, 0.1);
        self.ctx.listener.forwardZ.setTargetAtTime(z, Howler.ctx.currentTime, 0.1);
        self.ctx.listener.upX.setTargetAtTime(x, Howler.ctx.currentTime, 0.1);
        self.ctx.listener.upY.setTargetAtTime(y, Howler.ctx.currentTime, 0.1);
        self.ctx.listener.upZ.setTargetAtTime(z, Howler.ctx.currentTime, 0.1);
      } else {
        self.ctx.listener.setOrientation(x, y, z, xUp, yUp, zUp);
      }
    } else {
      return or;
    }

    return self;
  };

  /** Group Methods **/
  /***************************************************************************/

  /**
   * Add new properties to the core init.
   * @param  {Function} _super Core init method.
   * @return {Howl}
   */
  Howl.prototype.init = (function(_super) {
    return function(o) {
      var self = this;

      // Setup user-defined default properties.
      self._orientation = o.orientation || [1, 0, 0];
      self._stereo = o.stereo || null;
      self._pos = o.pos || null;
      self._pannerAttr = {
        coneInnerAngle: typeof o.coneInnerAngle !== 'undefined' ? o.coneInnerAngle : 360,
        coneOuterAngle: typeof o.coneOuterAngle !== 'undefined' ? o.coneOuterAngle : 360,
        coneOuterGain: typeof o.coneOuterGain !== 'undefined' ? o.coneOuterGain : 0,
        distanceModel: typeof o.distanceModel !== 'undefined' ? o.distanceModel : 'inverse',
        maxDistance: typeof o.maxDistance !== 'undefined' ? o.maxDistance : 10000,
        panningModel: typeof o.panningModel !== 'undefined' ? o.panningModel : 'HRTF',
        refDistance: typeof o.refDistance !== 'undefined' ? o.refDistance : 1,
        rolloffFactor: typeof o.rolloffFactor !== 'undefined' ? o.rolloffFactor : 1
      };

      // Setup event listeners.
      self._onstereo = o.onstereo ? [{fn: o.onstereo}] : [];
      self._onpos = o.onpos ? [{fn: o.onpos}] : [];
      self._onorientation = o.onorientation ? [{fn: o.onorientation}] : [];

      // Complete initilization with howler.js core's init function.
      return _super.call(this, o);
    };
  })(Howl.prototype.init);

  /**
   * Get/set the stereo panning of the audio source for this sound or all in the group.
   * @param  {Number} pan  A value of -1.0 is all the way left and 1.0 is all the way right.
   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.
   * @return {Howl/Number}    Returns self or the current stereo panning value.
   */
  Howl.prototype.stereo = function(pan, id) {
    var self = this;

    // Stop right here if not using Web Audio.
    if (!self._webAudio) {
      return self;
    }

    // If the sound hasn't loaded, add it to the load queue to change stereo pan when capable.
    if (self._state !== 'loaded') {
      self._queue.push({
        event: 'stereo',
        action: function() {
          self.stereo(pan, id);
        }
      });

      return self;
    }

    // Check for PannerStereoNode support and fallback to PannerNode if it doesn't exist.
    var pannerType = (typeof Howler.ctx.createStereoPanner === 'undefined') ? 'spatial' : 'stereo';

    // Setup the group's stereo panning if no ID is passed.
    if (typeof id === 'undefined') {
      // Return the group's stereo panning if no parameters are passed.
      if (typeof pan === 'number') {
        self._stereo = pan;
        self._pos = [pan, 0, 0];
      } else {
        return self._stereo;
      }
    }

    // Change the streo panning of one or all sounds in group.
    var ids = self._getSoundIds(id);
    for (var i=0; i<ids.length; i++) {
      // Get the sound.
      var sound = self._soundById(ids[i]);

      if (sound) {
        if (typeof pan === 'number') {
          sound._stereo = pan;
          sound._pos = [pan, 0, 0];

          if (sound._node) {
            // If we are falling back, make sure the panningModel is equalpower.
            sound._pannerAttr.panningModel = 'equalpower';

            // Check if there is a panner setup and create a new one if not.
            if (!sound._panner || !sound._panner.pan) {
              setupPanner(sound, pannerType);
            }

            if (pannerType === 'spatial') {
              if (typeof sound._panner.positionX !== 'undefined') {
                sound._panner.positionX.setValueAtTime(pan, Howler.ctx.currentTime);
                sound._panner.positionY.setValueAtTime(0, Howler.ctx.currentTime);
                sound._panner.positionZ.setValueAtTime(0, Howler.ctx.currentTime);
              } else {
                sound._panner.setPosition(pan, 0, 0);
              }
            } else {
              sound._panner.pan.setValueAtTime(pan, Howler.ctx.currentTime);
            }
          }

          self._emit('stereo', sound._id);
        } else {
          return sound._stereo;
        }
      }
    }

    return self;
  };

  /**
   * Get/set the 3D spatial position of the audio source for this sound or group relative to the global listener.
   * @param  {Number} x  The x-position of the audio source.
   * @param  {Number} y  The y-position of the audio source.
   * @param  {Number} z  The z-position of the audio source.
   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.
   * @return {Howl/Array}    Returns self or the current 3D spatial position: [x, y, z].
   */
  Howl.prototype.pos = function(x, y, z, id) {
    var self = this;

    // Stop right here if not using Web Audio.
    if (!self._webAudio) {
      return self;
    }

    // If the sound hasn't loaded, add it to the load queue to change position when capable.
    if (self._state !== 'loaded') {
      self._queue.push({
        event: 'pos',
        action: function() {
          self.pos(x, y, z, id);
        }
      });

      return self;
    }

    // Set the defaults for optional 'y' & 'z'.
    y = (typeof y !== 'number') ? 0 : y;
    z = (typeof z !== 'number') ? -0.5 : z;

    // Setup the group's spatial position if no ID is passed.
    if (typeof id === 'undefined') {
      // Return the group's spatial position if no parameters are passed.
      if (typeof x === 'number') {
        self._pos = [x, y, z];
      } else {
        return self._pos;
      }
    }

    // Change the spatial position of one or all sounds in group.
    var ids = self._getSoundIds(id);
    for (var i=0; i<ids.length; i++) {
      // Get the sound.
      var sound = self._soundById(ids[i]);

      if (sound) {
        if (typeof x === 'number') {
          sound._pos = [x, y, z];

          if (sound._node) {
            // Check if there is a panner setup and create a new one if not.
            if (!sound._panner || sound._panner.pan) {
              setupPanner(sound, 'spatial');
            }

            if (typeof sound._panner.positionX !== 'undefined') {
              sound._panner.positionX.setValueAtTime(x, Howler.ctx.currentTime);
              sound._panner.positionY.setValueAtTime(y, Howler.ctx.currentTime);
              sound._panner.positionZ.setValueAtTime(z, Howler.ctx.currentTime);
            } else {
              sound._panner.setPosition(x, y, z);
            }
          }

          self._emit('pos', sound._id);
        } else {
          return sound._pos;
        }
      }
    }

    return self;
  };

  /**
   * Get/set the direction the audio source is pointing in the 3D cartesian coordinate
   * space. Depending on how direction the sound is, based on the `cone` attributes,
   * a sound pointing away from the listener can be quiet or silent.
   * @param  {Number} x  The x-orientation of the source.
   * @param  {Number} y  The y-orientation of the source.
   * @param  {Number} z  The z-orientation of the source.
   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.
   * @return {Howl/Array}    Returns self or the current 3D spatial orientation: [x, y, z].
   */
  Howl.prototype.orientation = function(x, y, z, id) {
    var self = this;

    // Stop right here if not using Web Audio.
    if (!self._webAudio) {
      return self;
    }

    // If the sound hasn't loaded, add it to the load queue to change orientation when capable.
    if (self._state !== 'loaded') {
      self._queue.push({
        event: 'orientation',
        action: function() {
          self.orientation(x, y, z, id);
        }
      });

      return self;
    }

    // Set the defaults for optional 'y' & 'z'.
    y = (typeof y !== 'number') ? self._orientation[1] : y;
    z = (typeof z !== 'number') ? self._orientation[2] : z;

    // Setup the group's spatial orientation if no ID is passed.
    if (typeof id === 'undefined') {
      // Return the group's spatial orientation if no parameters are passed.
      if (typeof x === 'number') {
        self._orientation = [x, y, z];
      } else {
        return self._orientation;
      }
    }

    // Change the spatial orientation of one or all sounds in group.
    var ids = self._getSoundIds(id);
    for (var i=0; i<ids.length; i++) {
      // Get the sound.
      var sound = self._soundById(ids[i]);

      if (sound) {
        if (typeof x === 'number') {
          sound._orientation = [x, y, z];

          if (sound._node) {
            // Check if there is a panner setup and create a new one if not.
            if (!sound._panner) {
              // Make sure we have a position to setup the node with.
              if (!sound._pos) {
                sound._pos = self._pos || [0, 0, -0.5];
              }

              setupPanner(sound, 'spatial');
            }

            if (typeof sound._panner.orientationX !== 'undefined') {
              sound._panner.orientationX.setValueAtTime(x, Howler.ctx.currentTime);
              sound._panner.orientationY.setValueAtTime(y, Howler.ctx.currentTime);
              sound._panner.orientationZ.setValueAtTime(z, Howler.ctx.currentTime);
            } else {
              sound._panner.setOrientation(x, y, z);
            }
          }

          self._emit('orientation', sound._id);
        } else {
          return sound._orientation;
        }
      }
    }

    return self;
  };

  /**
   * Get/set the panner node's attributes for a sound or group of sounds.
   * This method can optionall take 0, 1 or 2 arguments.
   *   pannerAttr() -> Returns the group's values.
   *   pannerAttr(id) -> Returns the sound id's values.
   *   pannerAttr(o) -> Set's the values of all sounds in this Howl group.
   *   pannerAttr(o, id) -> Set's the values of passed sound id.
   *
   *   Attributes:
   *     coneInnerAngle - (360 by default) A parameter for directional audio sources, this is an angle, in degrees,
   *                      inside of which there will be no volume reduction.
   *     coneOuterAngle - (360 by default) A parameter for directional audio sources, this is an angle, in degrees,
   *                      outside of which the volume will be reduced to a constant value of `coneOuterGain`.
   *     coneOuterGain - (0 by default) A parameter for directional audio sources, this is the gain outside of the
   *                     `coneOuterAngle`. It is a linear value in the range `[0, 1]`.
   *     distanceModel - ('inverse' by default) Determines algorithm used to reduce volume as audio moves away from
   *                     listener. Can be `linear`, `inverse` or `exponential.
   *     maxDistance - (10000 by default) The maximum distance between source and listener, after which the volume
   *                   will not be reduced any further.
   *     refDistance - (1 by default) A reference distance for reducing volume as source moves further from the listener.
   *                   This is simply a variable of the distance model and has a different effect depending on which model
   *                   is used and the scale of your coordinates. Generally, volume will be equal to 1 at this distance.
   *     rolloffFactor - (1 by default) How quickly the volume reduces as source moves from listener. This is simply a
   *                     variable of the distance model and can be in the range of `[0, 1]` with `linear` and `[0, ∞]`
   *                     with `inverse` and `exponential`.
   *     panningModel - ('HRTF' by default) Determines which spatialization algorithm is used to position audio.
   *                     Can be `HRTF` or `equalpower`.
   *
   * @return {Howl/Object} Returns self or current panner attributes.
   */
  Howl.prototype.pannerAttr = function() {
    var self = this;
    var args = arguments;
    var o, id, sound;

    // Stop right here if not using Web Audio.
    if (!self._webAudio) {
      return self;
    }

    // Determine the values based on arguments.
    if (args.length === 0) {
      // Return the group's panner attribute values.
      return self._pannerAttr;
    } else if (args.length === 1) {
      if (typeof args[0] === 'object') {
        o = args[0];

        // Set the grou's panner attribute values.
        if (typeof id === 'undefined') {
          if (!o.pannerAttr) {
            o.pannerAttr = {
              coneInnerAngle: o.coneInnerAngle,
              coneOuterAngle: o.coneOuterAngle,
              coneOuterGain: o.coneOuterGain,
              distanceModel: o.distanceModel,
              maxDistance: o.maxDistance,
              refDistance: o.refDistance,
              rolloffFactor: o.rolloffFactor,
              panningModel: o.panningModel
            };
          }

          self._pannerAttr = {
            coneInnerAngle: typeof o.pannerAttr.coneInnerAngle !== 'undefined' ? o.pannerAttr.coneInnerAngle : self._coneInnerAngle,
            coneOuterAngle: typeof o.pannerAttr.coneOuterAngle !== 'undefined' ? o.pannerAttr.coneOuterAngle : self._coneOuterAngle,
            coneOuterGain: typeof o.pannerAttr.coneOuterGain !== 'undefined' ? o.pannerAttr.coneOuterGain : self._coneOuterGain,
            distanceModel: typeof o.pannerAttr.distanceModel !== 'undefined' ? o.pannerAttr.distanceModel : self._distanceModel,
            maxDistance: typeof o.pannerAttr.maxDistance !== 'undefined' ? o.pannerAttr.maxDistance : self._maxDistance,
            refDistance: typeof o.pannerAttr.refDistance !== 'undefined' ? o.pannerAttr.refDistance : self._refDistance,
            rolloffFactor: typeof o.pannerAttr.rolloffFactor !== 'undefined' ? o.pannerAttr.rolloffFactor : self._rolloffFactor,
            panningModel: typeof o.pannerAttr.panningModel !== 'undefined' ? o.pannerAttr.panningModel : self._panningModel
          };
        }
      } else {
        // Return this sound's panner attribute values.
        sound = self._soundById(parseInt(args[0], 10));
        return sound ? sound._pannerAttr : self._pannerAttr;
      }
    } else if (args.length === 2) {
      o = args[0];
      id = parseInt(args[1], 10);
    }

    // Update the values of the specified sounds.
    var ids = self._getSoundIds(id);
    for (var i=0; i<ids.length; i++) {
      sound = self._soundById(ids[i]);

      if (sound) {
        // Merge the new values into the sound.
        var pa = sound._pannerAttr;
        pa = {
          coneInnerAngle: typeof o.coneInnerAngle !== 'undefined' ? o.coneInnerAngle : pa.coneInnerAngle,
          coneOuterAngle: typeof o.coneOuterAngle !== 'undefined' ? o.coneOuterAngle : pa.coneOuterAngle,
          coneOuterGain: typeof o.coneOuterGain !== 'undefined' ? o.coneOuterGain : pa.coneOuterGain,
          distanceModel: typeof o.distanceModel !== 'undefined' ? o.distanceModel : pa.distanceModel,
          maxDistance: typeof o.maxDistance !== 'undefined' ? o.maxDistance : pa.maxDistance,
          refDistance: typeof o.refDistance !== 'undefined' ? o.refDistance : pa.refDistance,
          rolloffFactor: typeof o.rolloffFactor !== 'undefined' ? o.rolloffFactor : pa.rolloffFactor,
          panningModel: typeof o.panningModel !== 'undefined' ? o.panningModel : pa.panningModel
        };

        // Update the panner values or create a new panner if none exists.
        var panner = sound._panner;
        if (panner) {
          panner.coneInnerAngle = pa.coneInnerAngle;
          panner.coneOuterAngle = pa.coneOuterAngle;
          panner.coneOuterGain = pa.coneOuterGain;
          panner.distanceModel = pa.distanceModel;
          panner.maxDistance = pa.maxDistance;
          panner.refDistance = pa.refDistance;
          panner.rolloffFactor = pa.rolloffFactor;
          panner.panningModel = pa.panningModel;
        } else {
          // Make sure we have a position to setup the node with.
          if (!sound._pos) {
            sound._pos = self._pos || [0, 0, -0.5];
          }

          // Create a new panner node.
          setupPanner(sound, 'spatial');
        }
      }
    }

    return self;
  };

  /** Single Sound Methods **/
  /***************************************************************************/

  /**
   * Add new properties to the core Sound init.
   * @param  {Function} _super Core Sound init method.
   * @return {Sound}
   */
  Sound.prototype.init = (function(_super) {
    return function() {
      var self = this;
      var parent = self._parent;

      // Setup user-defined default properties.
      self._orientation = parent._orientation;
      self._stereo = parent._stereo;
      self._pos = parent._pos;
      self._pannerAttr = parent._pannerAttr;

      // Complete initilization with howler.js core Sound's init function.
      _super.call(this);

      // If a stereo or position was specified, set it up.
      if (self._stereo) {
        parent.stereo(self._stereo);
      } else if (self._pos) {
        parent.pos(self._pos[0], self._pos[1], self._pos[2], self._id);
      }
    };
  })(Sound.prototype.init);

  /**
   * Override the Sound.reset method to clean up properties from the spatial plugin.
   * @param  {Function} _super Sound reset method.
   * @return {Sound}
   */
  Sound.prototype.reset = (function(_super) {
    return function() {
      var self = this;
      var parent = self._parent;

      // Reset all spatial plugin properties on this sound.
      self._orientation = parent._orientation;
      self._stereo = parent._stereo;
      self._pos = parent._pos;
      self._pannerAttr = parent._pannerAttr;

      // If a stereo or position was specified, set it up.
      if (self._stereo) {
        parent.stereo(self._stereo);
      } else if (self._pos) {
        parent.pos(self._pos[0], self._pos[1], self._pos[2], self._id);
      } else if (self._panner) {
        // Disconnect the panner.
        self._panner.disconnect(0);
        self._panner = undefined;
        parent._refreshBuffer(self);
      }

      // Complete resetting of the sound.
      return _super.call(this);
    };
  })(Sound.prototype.reset);

  /** Helper Methods **/
  /***************************************************************************/

  /**
   * Create a new panner node and save it on the sound.
   * @param  {Sound} sound Specific sound to setup panning on.
   * @param {String} type Type of panner to create: 'stereo' or 'spatial'.
   */
  var setupPanner = function(sound, type) {
    type = type || 'spatial';

    // Create the new panner node.
    if (type === 'spatial') {
      sound._panner = Howler.ctx.createPanner();
      sound._panner.coneInnerAngle = sound._pannerAttr.coneInnerAngle;
      sound._panner.coneOuterAngle = sound._pannerAttr.coneOuterAngle;
      sound._panner.coneOuterGain = sound._pannerAttr.coneOuterGain;
      sound._panner.distanceModel = sound._pannerAttr.distanceModel;
      sound._panner.maxDistance = sound._pannerAttr.maxDistance;
      sound._panner.refDistance = sound._pannerAttr.refDistance;
      sound._panner.rolloffFactor = sound._pannerAttr.rolloffFactor;
      sound._panner.panningModel = sound._pannerAttr.panningModel;

      if (typeof sound._panner.positionX !== 'undefined') {
        sound._panner.positionX.setValueAtTime(sound._pos[0], Howler.ctx.currentTime);
        sound._panner.positionY.setValueAtTime(sound._pos[1], Howler.ctx.currentTime);
        sound._panner.positionZ.setValueAtTime(sound._pos[2], Howler.ctx.currentTime);
      } else {
        sound._panner.setPosition(sound._pos[0], sound._pos[1], sound._pos[2]);
      }

      if (typeof sound._panner.orientationX !== 'undefined') {
        sound._panner.orientationX.setValueAtTime(sound._orientation[0], Howler.ctx.currentTime);
        sound._panner.orientationY.setValueAtTime(sound._orientation[1], Howler.ctx.currentTime);
        sound._panner.orientationZ.setValueAtTime(sound._orientation[2], Howler.ctx.currentTime);
      } else {
        sound._panner.setOrientation(sound._orientation[0], sound._orientation[1], sound._orientation[2]);
      }
    } else {
      sound._panner = Howler.ctx.createStereoPanner();
      sound._panner.pan.setValueAtTime(sound._stereo, Howler.ctx.currentTime);
    }

    sound._panner.connect(sound._node);

    // Update the connections.
    if (!sound._paused) {
      sound._parent.pause(sound._id, true).play(sound._id, true);
    }
  };
})();

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],2:[function(require,module,exports){
var tsPolyfill = (function () {
	'use strict';

	function unwrapExports (x) {
		return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x.default : x;
	}

	function createCommonjsModule(fn, module) {
		return module = { exports: {} }, fn(module, module.exports), module.exports;
	}

	var _global = createCommonjsModule(function (module) {
	// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
	var global = module.exports = typeof window != 'undefined' && window.Math == Math
	  ? window : typeof self != 'undefined' && self.Math == Math ? self
	  // eslint-disable-next-line no-new-func
	  : Function('return this')();
	if (typeof __g == 'number') __g = global; // eslint-disable-line no-undef
	});

	var _core = createCommonjsModule(function (module) {
	var core = module.exports = { version: '2.6.5' };
	if (typeof __e == 'number') __e = core; // eslint-disable-line no-undef
	});
	var _core_1 = _core.version;

	var _isObject = function (it) {
	  return typeof it === 'object' ? it !== null : typeof it === 'function';
	};

	var _anObject = function (it) {
	  if (!_isObject(it)) throw TypeError(it + ' is not an object!');
	  return it;
	};

	var _fails = function (exec) {
	  try {
	    return !!exec();
	  } catch (e) {
	    return true;
	  }
	};

	// Thank's IE8 for his funny defineProperty
	var _descriptors = !_fails(function () {
	  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;
	});

	var document$1 = _global.document;
	// typeof document.createElement is 'object' in old IE
	var is = _isObject(document$1) && _isObject(document$1.createElement);
	var _domCreate = function (it) {
	  return is ? document$1.createElement(it) : {};
	};

	var _ie8DomDefine = !_descriptors && !_fails(function () {
	  return Object.defineProperty(_domCreate('div'), 'a', { get: function () { return 7; } }).a != 7;
	});

	// 7.1.1 ToPrimitive(input [, PreferredType])

	// instead of the ES6 spec version, we didn't implement @@toPrimitive case
	// and the second argument - flag - preferred type is a string
	var _toPrimitive = function (it, S) {
	  if (!_isObject(it)) return it;
	  var fn, val;
	  if (S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) return val;
	  if (typeof (fn = it.valueOf) == 'function' && !_isObject(val = fn.call(it))) return val;
	  if (!S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) return val;
	  throw TypeError("Can't convert object to primitive value");
	};

	var dP = Object.defineProperty;

	var f = _descriptors ? Object.defineProperty : function defineProperty(O, P, Attributes) {
	  _anObject(O);
	  P = _toPrimitive(P, true);
	  _anObject(Attributes);
	  if (_ie8DomDefine) try {
	    return dP(O, P, Attributes);
	  } catch (e) { /* empty */ }
	  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');
	  if ('value' in Attributes) O[P] = Attributes.value;
	  return O;
	};

	var _objectDp = {
		f: f
	};

	var _propertyDesc = function (bitmap, value) {
	  return {
	    enumerable: !(bitmap & 1),
	    configurable: !(bitmap & 2),
	    writable: !(bitmap & 4),
	    value: value
	  };
	};

	var _hide = _descriptors ? function (object, key, value) {
	  return _objectDp.f(object, key, _propertyDesc(1, value));
	} : function (object, key, value) {
	  object[key] = value;
	  return object;
	};

	var hasOwnProperty = {}.hasOwnProperty;
	var _has = function (it, key) {
	  return hasOwnProperty.call(it, key);
	};

	var id = 0;
	var px = Math.random();
	var _uid = function (key) {
	  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));
	};

	var _library = false;

	var _shared = createCommonjsModule(function (module) {
	var SHARED = '__core-js_shared__';
	var store = _global[SHARED] || (_global[SHARED] = {});

	(module.exports = function (key, value) {
	  return store[key] || (store[key] = value !== undefined ? value : {});
	})('versions', []).push({
	  version: _core.version,
	  mode: 'global',
	  copyright: '© 2019 Denis Pushkarev (zloirock.ru)'
	});
	});

	var _functionToString = _shared('native-function-to-string', Function.toString);

	var _redefine = createCommonjsModule(function (module) {
	var SRC = _uid('src');

	var TO_STRING = 'toString';
	var TPL = ('' + _functionToString).split(TO_STRING);

	_core.inspectSource = function (it) {
	  return _functionToString.call(it);
	};

	(module.exports = function (O, key, val, safe) {
	  var isFunction = typeof val == 'function';
	  if (isFunction) _has(val, 'name') || _hide(val, 'name', key);
	  if (O[key] === val) return;
	  if (isFunction) _has(val, SRC) || _hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));
	  if (O === _global) {
	    O[key] = val;
	  } else if (!safe) {
	    delete O[key];
	    _hide(O, key, val);
	  } else if (O[key]) {
	    O[key] = val;
	  } else {
	    _hide(O, key, val);
	  }
	// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative
	})(Function.prototype, TO_STRING, function toString() {
	  return typeof this == 'function' && this[SRC] || _functionToString.call(this);
	});
	});

	var _aFunction = function (it) {
	  if (typeof it != 'function') throw TypeError(it + ' is not a function!');
	  return it;
	};

	// optional / simple context binding

	var _ctx = function (fn, that, length) {
	  _aFunction(fn);
	  if (that === undefined) return fn;
	  switch (length) {
	    case 1: return function (a) {
	      return fn.call(that, a);
	    };
	    case 2: return function (a, b) {
	      return fn.call(that, a, b);
	    };
	    case 3: return function (a, b, c) {
	      return fn.call(that, a, b, c);
	    };
	  }
	  return function (/* ...args */) {
	    return fn.apply(that, arguments);
	  };
	};

	var PROTOTYPE = 'prototype';

	var $export = function (type, name, source) {
	  var IS_FORCED = type & $export.F;
	  var IS_GLOBAL = type & $export.G;
	  var IS_STATIC = type & $export.S;
	  var IS_PROTO = type & $export.P;
	  var IS_BIND = type & $export.B;
	  var target = IS_GLOBAL ? _global : IS_STATIC ? _global[name] || (_global[name] = {}) : (_global[name] || {})[PROTOTYPE];
	  var exports = IS_GLOBAL ? _core : _core[name] || (_core[name] = {});
	  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});
	  var key, own, out, exp;
	  if (IS_GLOBAL) source = name;
	  for (key in source) {
	    // contains in native
	    own = !IS_FORCED && target && target[key] !== undefined;
	    // export native or passed
	    out = (own ? target : source)[key];
	    // bind timers to global for call from export context
	    exp = IS_BIND && own ? _ctx(out, _global) : IS_PROTO && typeof out == 'function' ? _ctx(Function.call, out) : out;
	    // extend global
	    if (target) _redefine(target, key, out, type & $export.U);
	    // export
	    if (exports[key] != out) _hide(exports, key, exp);
	    if (IS_PROTO && expProto[key] != out) expProto[key] = out;
	  }
	};
	_global.core = _core;
	// type bitmap
	$export.F = 1;   // forced
	$export.G = 2;   // global
	$export.S = 4;   // static
	$export.P = 8;   // proto
	$export.B = 16;  // bind
	$export.W = 32;  // wrap
	$export.U = 64;  // safe
	$export.R = 128; // real proto method for `library`
	var _export = $export;

	var toString = {}.toString;

	var _cof = function (it) {
	  return toString.call(it).slice(8, -1);
	};

	// fallback for non-array-like ES3 and non-enumerable old V8 strings

	// eslint-disable-next-line no-prototype-builtins
	var _iobject = Object('z').propertyIsEnumerable(0) ? Object : function (it) {
	  return _cof(it) == 'String' ? it.split('') : Object(it);
	};

	// 7.2.1 RequireObjectCoercible(argument)
	var _defined = function (it) {
	  if (it == undefined) throw TypeError("Can't call method on  " + it);
	  return it;
	};

	// 7.1.13 ToObject(argument)

	var _toObject = function (it) {
	  return Object(_defined(it));
	};

	// 7.1.4 ToInteger
	var ceil = Math.ceil;
	var floor = Math.floor;
	var _toInteger = function (it) {
	  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);
	};

	// 7.1.15 ToLength

	var min = Math.min;
	var _toLength = function (it) {
	  return it > 0 ? min(_toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991
	};

	// 7.2.2 IsArray(argument)

	var _isArray = Array.isArray || function isArray(arg) {
	  return _cof(arg) == 'Array';
	};

	var _wks = createCommonjsModule(function (module) {
	var store = _shared('wks');

	var Symbol = _global.Symbol;
	var USE_SYMBOL = typeof Symbol == 'function';

	var $exports = module.exports = function (name) {
	  return store[name] || (store[name] =
	    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : _uid)('Symbol.' + name));
	};

	$exports.store = store;
	});

	var SPECIES = _wks('species');

	var _arraySpeciesConstructor = function (original) {
	  var C;
	  if (_isArray(original)) {
	    C = original.constructor;
	    // cross-realm fallback
	    if (typeof C == 'function' && (C === Array || _isArray(C.prototype))) C = undefined;
	    if (_isObject(C)) {
	      C = C[SPECIES];
	      if (C === null) C = undefined;
	    }
	  } return C === undefined ? Array : C;
	};

	// 9.4.2.3 ArraySpeciesCreate(originalArray, length)


	var _arraySpeciesCreate = function (original, length) {
	  return new (_arraySpeciesConstructor(original))(length);
	};

	// 0 -> Array#forEach
	// 1 -> Array#map
	// 2 -> Array#filter
	// 3 -> Array#some
	// 4 -> Array#every
	// 5 -> Array#find
	// 6 -> Array#findIndex





	var _arrayMethods = function (TYPE, $create) {
	  var IS_MAP = TYPE == 1;
	  var IS_FILTER = TYPE == 2;
	  var IS_SOME = TYPE == 3;
	  var IS_EVERY = TYPE == 4;
	  var IS_FIND_INDEX = TYPE == 6;
	  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;
	  var create = $create || _arraySpeciesCreate;
	  return function ($this, callbackfn, that) {
	    var O = _toObject($this);
	    var self = _iobject(O);
	    var f = _ctx(callbackfn, that, 3);
	    var length = _toLength(self.length);
	    var index = 0;
	    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;
	    var val, res;
	    for (;length > index; index++) if (NO_HOLES || index in self) {
	      val = self[index];
	      res = f(val, index, O);
	      if (TYPE) {
	        if (IS_MAP) result[index] = res;   // map
	        else if (res) switch (TYPE) {
	          case 3: return true;             // some
	          case 5: return val;              // find
	          case 6: return index;            // findIndex
	          case 2: result.push(val);        // filter
	        } else if (IS_EVERY) return false; // every
	      }
	    }
	    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;
	  };
	};

	// 22.1.3.31 Array.prototype[@@unscopables]
	var UNSCOPABLES = _wks('unscopables');
	var ArrayProto = Array.prototype;
	if (ArrayProto[UNSCOPABLES] == undefined) _hide(ArrayProto, UNSCOPABLES, {});
	var _addToUnscopables = function (key) {
	  ArrayProto[UNSCOPABLES][key] = true;
	};

	// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)

	var $find = _arrayMethods(5);
	var KEY = 'find';
	var forced = true;
	// Shouldn't skip holes
	if (KEY in []) Array(1)[KEY](function () { forced = false; });
	_export(_export.P + _export.F * forced, 'Array', {
	  find: function find(callbackfn /* , that = undefined */) {
	    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
	  }
	});
	_addToUnscopables(KEY);

	var find = _core.Array.find;

	// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)

	var $find$1 = _arrayMethods(6);
	var KEY$1 = 'findIndex';
	var forced$1 = true;
	// Shouldn't skip holes
	if (KEY$1 in []) Array(1)[KEY$1](function () { forced$1 = false; });
	_export(_export.P + _export.F * forced$1, 'Array', {
	  findIndex: function findIndex(callbackfn /* , that = undefined */) {
	    return $find$1(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
	  }
	});
	_addToUnscopables(KEY$1);

	var findIndex = _core.Array.findIndex;

	var max = Math.max;
	var min$1 = Math.min;
	var _toAbsoluteIndex = function (index, length) {
	  index = _toInteger(index);
	  return index < 0 ? max(index + length, 0) : min$1(index, length);
	};

	var _arrayFill = function fill(value /* , start = 0, end = @length */) {
	  var O = _toObject(this);
	  var length = _toLength(O.length);
	  var aLen = arguments.length;
	  var index = _toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);
	  var end = aLen > 2 ? arguments[2] : undefined;
	  var endPos = end === undefined ? length : _toAbsoluteIndex(end, length);
	  while (endPos > index) O[index++] = value;
	  return O;
	};

	// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)


	_export(_export.P, 'Array', { fill: _arrayFill });

	_addToUnscopables('fill');

	var fill = _core.Array.fill;

	var _arrayCopyWithin = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {
	  var O = _toObject(this);
	  var len = _toLength(O.length);
	  var to = _toAbsoluteIndex(target, len);
	  var from = _toAbsoluteIndex(start, len);
	  var end = arguments.length > 2 ? arguments[2] : undefined;
	  var count = Math.min((end === undefined ? len : _toAbsoluteIndex(end, len)) - from, len - to);
	  var inc = 1;
	  if (from < to && to < from + count) {
	    inc = -1;
	    from += count - 1;
	    to += count - 1;
	  }
	  while (count-- > 0) {
	    if (from in O) O[to] = O[from];
	    else delete O[to];
	    to += inc;
	    from += inc;
	  } return O;
	};

	// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)


	_export(_export.P, 'Array', { copyWithin: _arrayCopyWithin });

	_addToUnscopables('copyWithin');

	var copyWithin = _core.Array.copyWithin;

	// true  -> String#at
	// false -> String#codePointAt
	var _stringAt = function (TO_STRING) {
	  return function (that, pos) {
	    var s = String(_defined(that));
	    var i = _toInteger(pos);
	    var l = s.length;
	    var a, b;
	    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;
	    a = s.charCodeAt(i);
	    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff
	      ? TO_STRING ? s.charAt(i) : a
	      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;
	  };
	};

	var _iterators = {};

	// to indexed object, toObject with fallback for non-array-like ES3 strings


	var _toIobject = function (it) {
	  return _iobject(_defined(it));
	};

	// false -> Array#indexOf
	// true  -> Array#includes



	var _arrayIncludes = function (IS_INCLUDES) {
	  return function ($this, el, fromIndex) {
	    var O = _toIobject($this);
	    var length = _toLength(O.length);
	    var index = _toAbsoluteIndex(fromIndex, length);
	    var value;
	    // Array#includes uses SameValueZero equality algorithm
	    // eslint-disable-next-line no-self-compare
	    if (IS_INCLUDES && el != el) while (length > index) {
	      value = O[index++];
	      // eslint-disable-next-line no-self-compare
	      if (value != value) return true;
	    // Array#indexOf ignores holes, Array#includes - not
	    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {
	      if (O[index] === el) return IS_INCLUDES || index || 0;
	    } return !IS_INCLUDES && -1;
	  };
	};

	var shared = _shared('keys');

	var _sharedKey = function (key) {
	  return shared[key] || (shared[key] = _uid(key));
	};

	var arrayIndexOf = _arrayIncludes(false);
	var IE_PROTO = _sharedKey('IE_PROTO');

	var _objectKeysInternal = function (object, names) {
	  var O = _toIobject(object);
	  var i = 0;
	  var result = [];
	  var key;
	  for (key in O) if (key != IE_PROTO) _has(O, key) && result.push(key);
	  // Don't enum bug & hidden keys
	  while (names.length > i) if (_has(O, key = names[i++])) {
	    ~arrayIndexOf(result, key) || result.push(key);
	  }
	  return result;
	};

	// IE 8- don't enum bug keys
	var _enumBugKeys = (
	  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'
	).split(',');

	// 19.1.2.14 / 15.2.3.14 Object.keys(O)



	var _objectKeys = Object.keys || function keys(O) {
	  return _objectKeysInternal(O, _enumBugKeys);
	};

	var _objectDps = _descriptors ? Object.defineProperties : function defineProperties(O, Properties) {
	  _anObject(O);
	  var keys = _objectKeys(Properties);
	  var length = keys.length;
	  var i = 0;
	  var P;
	  while (length > i) _objectDp.f(O, P = keys[i++], Properties[P]);
	  return O;
	};

	var document$2 = _global.document;
	var _html = document$2 && document$2.documentElement;

	// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])



	var IE_PROTO$1 = _sharedKey('IE_PROTO');
	var Empty = function () { /* empty */ };
	var PROTOTYPE$1 = 'prototype';

	// Create object with fake `null` prototype: use iframe Object with cleared prototype
	var createDict = function () {
	  // Thrash, waste and sodomy: IE GC bug
	  var iframe = _domCreate('iframe');
	  var i = _enumBugKeys.length;
	  var lt = '<';
	  var gt = '>';
	  var iframeDocument;
	  iframe.style.display = 'none';
	  _html.appendChild(iframe);
	  iframe.src = 'javascript:'; // eslint-disable-line no-script-url
	  // createDict = iframe.contentWindow.Object;
	  // html.removeChild(iframe);
	  iframeDocument = iframe.contentWindow.document;
	  iframeDocument.open();
	  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);
	  iframeDocument.close();
	  createDict = iframeDocument.F;
	  while (i--) delete createDict[PROTOTYPE$1][_enumBugKeys[i]];
	  return createDict();
	};

	var _objectCreate = Object.create || function create(O, Properties) {
	  var result;
	  if (O !== null) {
	    Empty[PROTOTYPE$1] = _anObject(O);
	    result = new Empty();
	    Empty[PROTOTYPE$1] = null;
	    // add "__proto__" for Object.getPrototypeOf polyfill
	    result[IE_PROTO$1] = O;
	  } else result = createDict();
	  return Properties === undefined ? result : _objectDps(result, Properties);
	};

	var def = _objectDp.f;

	var TAG = _wks('toStringTag');

	var _setToStringTag = function (it, tag, stat) {
	  if (it && !_has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });
	};

	var IteratorPrototype = {};

	// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()
	_hide(IteratorPrototype, _wks('iterator'), function () { return this; });

	var _iterCreate = function (Constructor, NAME, next) {
	  Constructor.prototype = _objectCreate(IteratorPrototype, { next: _propertyDesc(1, next) });
	  _setToStringTag(Constructor, NAME + ' Iterator');
	};

	// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)


	var IE_PROTO$2 = _sharedKey('IE_PROTO');
	var ObjectProto = Object.prototype;

	var _objectGpo = Object.getPrototypeOf || function (O) {
	  O = _toObject(O);
	  if (_has(O, IE_PROTO$2)) return O[IE_PROTO$2];
	  if (typeof O.constructor == 'function' && O instanceof O.constructor) {
	    return O.constructor.prototype;
	  } return O instanceof Object ? ObjectProto : null;
	};

	var ITERATOR = _wks('iterator');
	var BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`
	var FF_ITERATOR = '@@iterator';
	var KEYS = 'keys';
	var VALUES = 'values';

	var returnThis = function () { return this; };

	var _iterDefine = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {
	  _iterCreate(Constructor, NAME, next);
	  var getMethod = function (kind) {
	    if (!BUGGY && kind in proto) return proto[kind];
	    switch (kind) {
	      case KEYS: return function keys() { return new Constructor(this, kind); };
	      case VALUES: return function values() { return new Constructor(this, kind); };
	    } return function entries() { return new Constructor(this, kind); };
	  };
	  var TAG = NAME + ' Iterator';
	  var DEF_VALUES = DEFAULT == VALUES;
	  var VALUES_BUG = false;
	  var proto = Base.prototype;
	  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];
	  var $default = $native || getMethod(DEFAULT);
	  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;
	  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;
	  var methods, key, IteratorPrototype;
	  // Fix native
	  if ($anyNative) {
	    IteratorPrototype = _objectGpo($anyNative.call(new Base()));
	    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {
	      // Set @@toStringTag to native iterators
	      _setToStringTag(IteratorPrototype, TAG, true);
	      // fix for some old engines
	      if (!_library && typeof IteratorPrototype[ITERATOR] != 'function') _hide(IteratorPrototype, ITERATOR, returnThis);
	    }
	  }
	  // fix Array#{values, @@iterator}.name in V8 / FF
	  if (DEF_VALUES && $native && $native.name !== VALUES) {
	    VALUES_BUG = true;
	    $default = function values() { return $native.call(this); };
	  }
	  // Define iterator
	  if ((!_library || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {
	    _hide(proto, ITERATOR, $default);
	  }
	  // Plug for library
	  _iterators[NAME] = $default;
	  _iterators[TAG] = returnThis;
	  if (DEFAULT) {
	    methods = {
	      values: DEF_VALUES ? $default : getMethod(VALUES),
	      keys: IS_SET ? $default : getMethod(KEYS),
	      entries: $entries
	    };
	    if (FORCED) for (key in methods) {
	      if (!(key in proto)) _redefine(proto, key, methods[key]);
	    } else _export(_export.P + _export.F * (BUGGY || VALUES_BUG), NAME, methods);
	  }
	  return methods;
	};

	var $at = _stringAt(true);

	// 21.1.3.27 String.prototype[@@iterator]()
	_iterDefine(String, 'String', function (iterated) {
	  this._t = String(iterated); // target
	  this._i = 0;                // next index
	// 21.1.5.2.1 %StringIteratorPrototype%.next()
	}, function () {
	  var O = this._t;
	  var index = this._i;
	  var point;
	  if (index >= O.length) return { value: undefined, done: true };
	  point = $at(O, index);
	  this._i += point.length;
	  return { value: point, done: false };
	});

	// call something on iterator step with safe closing on error

	var _iterCall = function (iterator, fn, value, entries) {
	  try {
	    return entries ? fn(_anObject(value)[0], value[1]) : fn(value);
	  // 7.4.6 IteratorClose(iterator, completion)
	  } catch (e) {
	    var ret = iterator['return'];
	    if (ret !== undefined) _anObject(ret.call(iterator));
	    throw e;
	  }
	};

	// check on default Array iterator

	var ITERATOR$1 = _wks('iterator');
	var ArrayProto$1 = Array.prototype;

	var _isArrayIter = function (it) {
	  return it !== undefined && (_iterators.Array === it || ArrayProto$1[ITERATOR$1] === it);
	};

	var _createProperty = function (object, index, value) {
	  if (index in object) _objectDp.f(object, index, _propertyDesc(0, value));
	  else object[index] = value;
	};

	// getting tag from 19.1.3.6 Object.prototype.toString()

	var TAG$1 = _wks('toStringTag');
	// ES3 wrong here
	var ARG = _cof(function () { return arguments; }()) == 'Arguments';

	// fallback for IE11 Script Access Denied error
	var tryGet = function (it, key) {
	  try {
	    return it[key];
	  } catch (e) { /* empty */ }
	};

	var _classof = function (it) {
	  var O, T, B;
	  return it === undefined ? 'Undefined' : it === null ? 'Null'
	    // @@toStringTag case
	    : typeof (T = tryGet(O = Object(it), TAG$1)) == 'string' ? T
	    // builtinTag case
	    : ARG ? _cof(O)
	    // ES3 arguments fallback
	    : (B = _cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;
	};

	var ITERATOR$2 = _wks('iterator');

	var core_getIteratorMethod = _core.getIteratorMethod = function (it) {
	  if (it != undefined) return it[ITERATOR$2]
	    || it['@@iterator']
	    || _iterators[_classof(it)];
	};

	var ITERATOR$3 = _wks('iterator');
	var SAFE_CLOSING = false;

	try {
	  var riter = [7][ITERATOR$3]();
	  riter['return'] = function () { SAFE_CLOSING = true; };
	} catch (e) { /* empty */ }

	var _iterDetect = function (exec, skipClosing) {
	  if (!skipClosing && !SAFE_CLOSING) return false;
	  var safe = false;
	  try {
	    var arr = [7];
	    var iter = arr[ITERATOR$3]();
	    iter.next = function () { return { done: safe = true }; };
	    arr[ITERATOR$3] = function () { return iter; };
	    exec(arr);
	  } catch (e) { /* empty */ }
	  return safe;
	};

	_export(_export.S + _export.F * !_iterDetect(function (iter) { }), 'Array', {
	  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)
	  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {
	    var O = _toObject(arrayLike);
	    var C = typeof this == 'function' ? this : Array;
	    var aLen = arguments.length;
	    var mapfn = aLen > 1 ? arguments[1] : undefined;
	    var mapping = mapfn !== undefined;
	    var index = 0;
	    var iterFn = core_getIteratorMethod(O);
	    var length, result, step, iterator;
	    if (mapping) mapfn = _ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);
	    // if object isn't iterable or it's array with default iterator - use simple case
	    if (iterFn != undefined && !(C == Array && _isArrayIter(iterFn))) {
	      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {
	        _createProperty(result, index, mapping ? _iterCall(iterator, mapfn, [step.value, index], true) : step.value);
	      }
	    } else {
	      length = _toLength(O.length);
	      for (result = new C(length); length > index; index++) {
	        _createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);
	      }
	    }
	    result.length = index;
	    return result;
	  }
	});

	var from_1 = _core.Array.from;

	// WebKit Array.of isn't generic
	_export(_export.S + _export.F * _fails(function () {
	  function F() { /* empty */ }
	  return !(Array.of.call(F) instanceof F);
	}), 'Array', {
	  // 22.1.2.3 Array.of( ...items)
	  of: function of(/* ...args */) {
	    var index = 0;
	    var aLen = arguments.length;
	    var result = new (typeof this == 'function' ? this : Array)(aLen);
	    while (aLen > index) _createProperty(result, index, arguments[index++]);
	    result.length = aLen;
	    return result;
	  }
	});

	var of = _core.Array.of;

	var dP$1 = _objectDp.f;
	var FProto = Function.prototype;
	var nameRE = /^\s*function ([^ (]*)/;
	var NAME = 'name';

	// 19.2.4.2 name
	NAME in FProto || _descriptors && dP$1(FProto, NAME, {
	  configurable: true,
	  get: function () {
	    try {
	      return ('' + this).match(nameRE)[1];
	    } catch (e) {
	      return '';
	    }
	  }
	});

	// 20.2.2.11 Math.clz32(x)


	_export(_export.S, 'Math', {
	  clz32: function clz32(x) {
	    return (x >>>= 0) ? 31 - Math.floor(Math.log(x + 0.5) * Math.LOG2E) : 32;
	  }
	});

	var clz32 = _core.Math.clz32;

	// 20.2.2.18 Math.imul(x, y)

	var $imul = Math.imul;

	// some WebKit versions fails with big numbers, some has wrong arity
	_export(_export.S + _export.F * _fails(function () {
	  return $imul(0xffffffff, 5) != -5 || $imul.length != 2;
	}), 'Math', {
	  imul: function imul(x, y) {
	    var UINT16 = 0xffff;
	    var xn = +x;
	    var yn = +y;
	    var xl = UINT16 & xn;
	    var yl = UINT16 & yn;
	    return 0 | xl * yl + ((UINT16 & xn >>> 16) * yl + xl * (UINT16 & yn >>> 16) << 16 >>> 0);
	  }
	});

	var imul = _core.Math.imul;

	// 20.2.2.28 Math.sign(x)
	var _mathSign = Math.sign || function sign(x) {
	  // eslint-disable-next-line no-self-compare
	  return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;
	};

	// 20.2.2.28 Math.sign(x)


	_export(_export.S, 'Math', { sign: _mathSign });

	var sign = _core.Math.sign;

	// 20.2.2.21 Math.log10(x)


	_export(_export.S, 'Math', {
	  log10: function log10(x) {
	    return Math.log(x) * Math.LOG10E;
	  }
	});

	var log10 = _core.Math.log10;

	// 20.2.2.22 Math.log2(x)


	_export(_export.S, 'Math', {
	  log2: function log2(x) {
	    return Math.log(x) / Math.LN2;
	  }
	});

	var log2 = _core.Math.log2;

	// 20.2.2.20 Math.log1p(x)
	var _mathLog1p = Math.log1p || function log1p(x) {
	  return (x = +x) > -1e-8 && x < 1e-8 ? x - x * x / 2 : Math.log(1 + x);
	};

	// 20.2.2.20 Math.log1p(x)


	_export(_export.S, 'Math', { log1p: _mathLog1p });

	var log1p = _core.Math.log1p;

	// 20.2.2.14 Math.expm1(x)
	var $expm1 = Math.expm1;
	var _mathExpm1 = (!$expm1
	  // Old FF bug
	  || $expm1(10) > 22025.465794806719 || $expm1(10) < 22025.4657948067165168
	  // Tor Browser bug
	  || $expm1(-2e-17) != -2e-17
	) ? function expm1(x) {
	  return (x = +x) == 0 ? x : x > -1e-6 && x < 1e-6 ? x + x * x / 2 : Math.exp(x) - 1;
	} : $expm1;

	// 20.2.2.14 Math.expm1(x)



	_export(_export.S + _export.F * (_mathExpm1 != Math.expm1), 'Math', { expm1: _mathExpm1 });

	var expm1 = _core.Math.expm1;

	// 20.2.2.12 Math.cosh(x)

	var exp = Math.exp;

	_export(_export.S, 'Math', {
	  cosh: function cosh(x) {
	    return (exp(x = +x) + exp(-x)) / 2;
	  }
	});

	var cosh = _core.Math.cosh;

	// 20.2.2.30 Math.sinh(x)


	var exp$1 = Math.exp;

	// V8 near Chromium 38 has a problem with very small numbers
	_export(_export.S + _export.F * _fails(function () {
	  return !Math.sinh(-2e-17) != -2e-17;
	}), 'Math', {
	  sinh: function sinh(x) {
	    return Math.abs(x = +x) < 1
	      ? (_mathExpm1(x) - _mathExpm1(-x)) / 2
	      : (exp$1(x - 1) - exp$1(-x - 1)) * (Math.E / 2);
	  }
	});

	var sinh = _core.Math.sinh;

	// 20.2.2.33 Math.tanh(x)


	var exp$2 = Math.exp;

	_export(_export.S, 'Math', {
	  tanh: function tanh(x) {
	    var a = _mathExpm1(x = +x);
	    var b = _mathExpm1(-x);
	    return a == Infinity ? 1 : b == Infinity ? -1 : (a - b) / (exp$2(x) + exp$2(-x));
	  }
	});

	var tanh = _core.Math.tanh;

	// 20.2.2.3 Math.acosh(x)


	var sqrt = Math.sqrt;
	var $acosh = Math.acosh;

	_export(_export.S + _export.F * !($acosh
	  // V8 bug: https://code.google.com/p/v8/issues/detail?id=3509
	  && Math.floor($acosh(Number.MAX_VALUE)) == 710
	  // Tor Browser bug: Math.acosh(Infinity) -> NaN
	  && $acosh(Infinity) == Infinity
	), 'Math', {
	  acosh: function acosh(x) {
	    return (x = +x) < 1 ? NaN : x > 94906265.62425156
	      ? Math.log(x) + Math.LN2
	      : _mathLog1p(x - 1 + sqrt(x - 1) * sqrt(x + 1));
	  }
	});

	var acosh = _core.Math.acosh;

	// 20.2.2.5 Math.asinh(x)

	var $asinh = Math.asinh;

	function asinh(x) {
	  return !isFinite(x = +x) || x == 0 ? x : x < 0 ? -asinh(-x) : Math.log(x + Math.sqrt(x * x + 1));
	}

	// Tor Browser bug: Math.asinh(0) -> -0
	_export(_export.S + _export.F * !($asinh && 1 / $asinh(0) > 0), 'Math', { asinh: asinh });

	var asinh$1 = _core.Math.asinh;

	// 20.2.2.7 Math.atanh(x)

	var $atanh = Math.atanh;

	// Tor Browser bug: Math.atanh(-0) -> 0
	_export(_export.S + _export.F * !($atanh && 1 / $atanh(-0) < 0), 'Math', {
	  atanh: function atanh(x) {
	    return (x = +x) == 0 ? x : Math.log((1 + x) / (1 - x)) / 2;
	  }
	});

	var atanh = _core.Math.atanh;

	// 20.2.2.17 Math.hypot([value1[, value2[, … ]]])

	var abs = Math.abs;

	_export(_export.S, 'Math', {
	  hypot: function hypot(value1, value2) { // eslint-disable-line no-unused-vars
	    var sum = 0;
	    var i = 0;
	    var aLen = arguments.length;
	    var larg = 0;
	    var arg, div;
	    while (i < aLen) {
	      arg = abs(arguments[i++]);
	      if (larg < arg) {
	        div = larg / arg;
	        sum = sum * div * div + 1;
	        larg = arg;
	      } else if (arg > 0) {
	        div = arg / larg;
	        sum += div * div;
	      } else sum += arg;
	    }
	    return larg === Infinity ? Infinity : larg * Math.sqrt(sum);
	  }
	});

	var hypot = _core.Math.hypot;

	// 20.2.2.34 Math.trunc(x)


	_export(_export.S, 'Math', {
	  trunc: function trunc(it) {
	    return (it > 0 ? Math.floor : Math.ceil)(it);
	  }
	});

	var trunc = _core.Math.trunc;

	// 20.2.2.16 Math.fround(x)

	var pow = Math.pow;
	var EPSILON = pow(2, -52);
	var EPSILON32 = pow(2, -23);
	var MAX32 = pow(2, 127) * (2 - EPSILON32);
	var MIN32 = pow(2, -126);

	var roundTiesToEven = function (n) {
	  return n + 1 / EPSILON - 1 / EPSILON;
	};

	var _mathFround = Math.fround || function fround(x) {
	  var $abs = Math.abs(x);
	  var $sign = _mathSign(x);
	  var a, result;
	  if ($abs < MIN32) return $sign * roundTiesToEven($abs / MIN32 / EPSILON32) * MIN32 * EPSILON32;
	  a = (1 + EPSILON32 / EPSILON) * $abs;
	  result = a - (a - $abs);
	  // eslint-disable-next-line no-self-compare
	  if (result > MAX32 || result != result) return $sign * Infinity;
	  return $sign * result;
	};

	// 20.2.2.16 Math.fround(x)


	_export(_export.S, 'Math', { fround: _mathFround });

	var fround = _core.Math.fround;

	// 20.2.2.9 Math.cbrt(x)



	_export(_export.S, 'Math', {
	  cbrt: function cbrt(x) {
	    return _mathSign(x = +x) * Math.pow(Math.abs(x), 1 / 3);
	  }
	});

	var cbrt = _core.Math.cbrt;

	// 20.1.2.1 Number.EPSILON


	_export(_export.S, 'Number', { EPSILON: Math.pow(2, -52) });

	// 20.1.2.2 Number.isFinite(number)

	var _isFinite = _global.isFinite;

	_export(_export.S, 'Number', {
	  isFinite: function isFinite(it) {
	    return typeof it == 'number' && _isFinite(it);
	  }
	});

	var _isFinite$1 = _core.Number.isFinite;

	// 20.1.2.3 Number.isInteger(number)

	var floor$1 = Math.floor;
	var _isInteger = function isInteger(it) {
	  return !_isObject(it) && isFinite(it) && floor$1(it) === it;
	};

	// 20.1.2.3 Number.isInteger(number)


	_export(_export.S, 'Number', { isInteger: _isInteger });

	var isInteger = _core.Number.isInteger;

	// 20.1.2.4 Number.isNaN(number)


	_export(_export.S, 'Number', {
	  isNaN: function isNaN(number) {
	    // eslint-disable-next-line no-self-compare
	    return number != number;
	  }
	});

	var isNan = _core.Number.isNaN;

	// 20.1.2.5 Number.isSafeInteger(number)


	var abs$1 = Math.abs;

	_export(_export.S, 'Number', {
	  isSafeInteger: function isSafeInteger(number) {
	    return _isInteger(number) && abs$1(number) <= 0x1fffffffffffff;
	  }
	});

	var isSafeInteger = _core.Number.isSafeInteger;

	// 20.1.2.6 Number.MAX_SAFE_INTEGER


	_export(_export.S, 'Number', { MAX_SAFE_INTEGER: 0x1fffffffffffff });

	// 20.1.2.10 Number.MIN_SAFE_INTEGER


	_export(_export.S, 'Number', { MIN_SAFE_INTEGER: -0x1fffffffffffff });

	var _stringWs = '\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003' +
	  '\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF';

	var space = '[' + _stringWs + ']';
	var non = '\u200b\u0085';
	var ltrim = RegExp('^' + space + space + '*');
	var rtrim = RegExp(space + space + '*$');

	var exporter = function (KEY, exec, ALIAS) {
	  var exp = {};
	  var FORCE = _fails(function () {
	    return !!_stringWs[KEY]() || non[KEY]() != non;
	  });
	  var fn = exp[KEY] = FORCE ? exec(trim) : _stringWs[KEY];
	  if (ALIAS) exp[ALIAS] = fn;
	  _export(_export.P + _export.F * FORCE, 'String', exp);
	};

	// 1 -> String#trimLeft
	// 2 -> String#trimRight
	// 3 -> String#trim
	var trim = exporter.trim = function (string, TYPE) {
	  string = String(_defined(string));
	  if (TYPE & 1) string = string.replace(ltrim, '');
	  if (TYPE & 2) string = string.replace(rtrim, '');
	  return string;
	};

	var _stringTrim = exporter;

	var $parseFloat = _global.parseFloat;
	var $trim = _stringTrim.trim;

	var _parseFloat = 1 / $parseFloat(_stringWs + '-0') !== -Infinity ? function parseFloat(str) {
	  var string = $trim(String(str), 3);
	  var result = $parseFloat(string);
	  return result === 0 && string.charAt(0) == '-' ? -0 : result;
	} : $parseFloat;

	// 18.2.4 parseFloat(string)
	_export(_export.G + _export.F * (parseFloat != _parseFloat), { parseFloat: _parseFloat });

	var _parseFloat$1 = _core.parseFloat;

	var $parseInt = _global.parseInt;
	var $trim$1 = _stringTrim.trim;

	var hex = /^[-+]?0[xX]/;

	var _parseInt = $parseInt(_stringWs + '08') !== 8 || $parseInt(_stringWs + '0x16') !== 22 ? function parseInt(str, radix) {
	  var string = $trim$1(String(str), 3);
	  return $parseInt(string, (radix >>> 0) || (hex.test(string) ? 16 : 10));
	} : $parseInt;

	// 18.2.5 parseInt(string, radix)
	_export(_export.G + _export.F * (parseInt != _parseInt), { parseInt: _parseInt });

	var _parseInt$1 = _core.parseInt;

	var f$1 = Object.getOwnPropertySymbols;

	var _objectGops = {
		f: f$1
	};

	var f$2 = {}.propertyIsEnumerable;

	var _objectPie = {
		f: f$2
	};

	// 19.1.2.1 Object.assign(target, source, ...)





	var $assign = Object.assign;

	// should work with symbols and should have deterministic property order (V8 bug)
	var _objectAssign = !$assign || _fails(function () {
	  var A = {};
	  var B = {};
	  // eslint-disable-next-line no-undef
	  var S = Symbol();
	  var K = 'abcdefghijklmnopqrst';
	  A[S] = 7;
	  K.split('').forEach(function (k) { B[k] = k; });
	  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;
	}) ? function assign(target, source) { // eslint-disable-line no-unused-vars
	  var T = _toObject(target);
	  var aLen = arguments.length;
	  var index = 1;
	  var getSymbols = _objectGops.f;
	  var isEnum = _objectPie.f;
	  while (aLen > index) {
	    var S = _iobject(arguments[index++]);
	    var keys = getSymbols ? _objectKeys(S).concat(getSymbols(S)) : _objectKeys(S);
	    var length = keys.length;
	    var j = 0;
	    var key;
	    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];
	  } return T;
	} : $assign;

	// 19.1.3.1 Object.assign(target, source)


	_export(_export.S + _export.F, 'Object', { assign: _objectAssign });

	var assign = _core.Object.assign;

	// 7.2.9 SameValue(x, y)
	var _sameValue = Object.is || function is(x, y) {
	  // eslint-disable-next-line no-self-compare
	  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;
	};

	// 19.1.3.10 Object.is(value1, value2)

	_export(_export.S, 'Object', { is: _sameValue });

	var is$1 = _core.Object.is;

	var gOPD = Object.getOwnPropertyDescriptor;

	var f$3 = _descriptors ? gOPD : function getOwnPropertyDescriptor(O, P) {
	  O = _toIobject(O);
	  P = _toPrimitive(P, true);
	  if (_ie8DomDefine) try {
	    return gOPD(O, P);
	  } catch (e) { /* empty */ }
	  if (_has(O, P)) return _propertyDesc(!_objectPie.f.call(O, P), O[P]);
	};

	var _objectGopd = {
		f: f$3
	};

	// Works with __proto__ only. Old v8 can't work with null proto objects.
	/* eslint-disable no-proto */


	var check = function (O, proto) {
	  _anObject(O);
	  if (!_isObject(proto) && proto !== null) throw TypeError(proto + ": can't set as prototype!");
	};
	var _setProto = {
	  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line
	    function (test, buggy, set) {
	      try {
	        set = _ctx(Function.call, _objectGopd.f(Object.prototype, '__proto__').set, 2);
	        set(test, []);
	        buggy = !(test instanceof Array);
	      } catch (e) { buggy = true; }
	      return function setPrototypeOf(O, proto) {
	        check(O, proto);
	        if (buggy) O.__proto__ = proto;
	        else set(O, proto);
	        return O;
	      };
	    }({}, false) : undefined),
	  check: check
	};

	// 19.1.3.19 Object.setPrototypeOf(O, proto)

	_export(_export.S, 'Object', { setPrototypeOf: _setProto.set });

	var setPrototypeOf = _core.Object.setPrototypeOf;

	// 21.2.5.3 get RegExp.prototype.flags

	var _flags = function () {
	  var that = _anObject(this);
	  var result = '';
	  if (that.global) result += 'g';
	  if (that.ignoreCase) result += 'i';
	  if (that.multiline) result += 'm';
	  if (that.unicode) result += 'u';
	  if (that.sticky) result += 'y';
	  return result;
	};

	// 21.2.5.3 get RegExp.prototype.flags()
	if (_descriptors && /./g.flags != 'g') _objectDp.f(RegExp.prototype, 'flags', {
	  configurable: true,
	  get: _flags
	});

	var setPrototypeOf$1 = _setProto.set;
	var _inheritIfRequired = function (that, target, C) {
	  var S = target.constructor;
	  var P;
	  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && _isObject(P) && setPrototypeOf$1) {
	    setPrototypeOf$1(that, P);
	  } return that;
	};

	// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)

	var hiddenKeys = _enumBugKeys.concat('length', 'prototype');

	var f$4 = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {
	  return _objectKeysInternal(O, hiddenKeys);
	};

	var _objectGopn = {
		f: f$4
	};

	// 7.2.8 IsRegExp(argument)


	var MATCH = _wks('match');
	var _isRegexp = function (it) {
	  var isRegExp;
	  return _isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : _cof(it) == 'RegExp');
	};

	var SPECIES$1 = _wks('species');

	var _setSpecies = function (KEY) {
	  var C = _global[KEY];
	  if (_descriptors && C && !C[SPECIES$1]) _objectDp.f(C, SPECIES$1, {
	    configurable: true,
	    get: function () { return this; }
	  });
	};

	var dP$2 = _objectDp.f;
	var gOPN = _objectGopn.f;


	var $RegExp = _global.RegExp;
	var Base = $RegExp;
	var proto = $RegExp.prototype;
	var re1 = /a/g;
	var re2 = /a/g;
	// "new" creates a new object, old webkit buggy here
	var CORRECT_NEW = new $RegExp(re1) !== re1;

	if (_descriptors && (!CORRECT_NEW || _fails(function () {
	  re2[_wks('match')] = false;
	  // RegExp constructor can alter flags and IsRegExp works correct with @@match
	  return $RegExp(re1) != re1 || $RegExp(re2) == re2 || $RegExp(re1, 'i') != '/a/i';
	}))) {
	  $RegExp = function RegExp(p, f) {
	    var tiRE = this instanceof $RegExp;
	    var piRE = _isRegexp(p);
	    var fiU = f === undefined;
	    return !tiRE && piRE && p.constructor === $RegExp && fiU ? p
	      : _inheritIfRequired(CORRECT_NEW
	        ? new Base(piRE && !fiU ? p.source : p, f)
	        : Base((piRE = p instanceof $RegExp) ? p.source : p, piRE && fiU ? _flags.call(p) : f)
	      , tiRE ? this : proto, $RegExp);
	  };
	  var proxy = function (key) {
	    key in $RegExp || dP$2($RegExp, key, {
	      configurable: true,
	      get: function () { return Base[key]; },
	      set: function (it) { Base[key] = it; }
	    });
	  };
	  for (var keys = gOPN(Base), i = 0; keys.length > i;) proxy(keys[i++]);
	  proto.constructor = $RegExp;
	  $RegExp.prototype = proto;
	  _redefine(_global, 'RegExp', $RegExp);
	}

	_setSpecies('RegExp');

	var $at$1 = _stringAt(false);
	_export(_export.P, 'String', {
	  // 21.1.3.3 String.prototype.codePointAt(pos)
	  codePointAt: function codePointAt(pos) {
	    return $at$1(this, pos);
	  }
	});

	var codePointAt = _core.String.codePointAt;

	// helper for String#{startsWith, endsWith, includes}



	var _stringContext = function (that, searchString, NAME) {
	  if (_isRegexp(searchString)) throw TypeError('String#' + NAME + " doesn't accept regex!");
	  return String(_defined(that));
	};

	var MATCH$1 = _wks('match');
	var _failsIsRegexp = function (KEY) {
	  var re = /./;
	  try {
	    '/./'[KEY](re);
	  } catch (e) {
	    try {
	      re[MATCH$1] = false;
	      return !'/./'[KEY](re);
	    } catch (f) { /* empty */ }
	  } return true;
	};

	var INCLUDES = 'includes';

	_export(_export.P + _export.F * _failsIsRegexp(INCLUDES), 'String', {
	  includes: function includes(searchString /* , position = 0 */) {
	    return !!~_stringContext(this, searchString, INCLUDES)
	      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);
	  }
	});

	var includes = _core.String.includes;

	var ENDS_WITH = 'endsWith';
	var $endsWith = ''[ENDS_WITH];

	_export(_export.P + _export.F * _failsIsRegexp(ENDS_WITH), 'String', {
	  endsWith: function endsWith(searchString /* , endPosition = @length */) {
	    var that = _stringContext(this, searchString, ENDS_WITH);
	    var endPosition = arguments.length > 1 ? arguments[1] : undefined;
	    var len = _toLength(that.length);
	    var end = endPosition === undefined ? len : Math.min(_toLength(endPosition), len);
	    var search = String(searchString);
	    return $endsWith
	      ? $endsWith.call(that, search, end)
	      : that.slice(end - search.length, end) === search;
	  }
	});

	var endsWith = _core.String.endsWith;

	var _stringRepeat = function repeat(count) {
	  var str = String(_defined(this));
	  var res = '';
	  var n = _toInteger(count);
	  if (n < 0 || n == Infinity) throw RangeError("Count can't be negative");
	  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) res += str;
	  return res;
	};

	_export(_export.P, 'String', {
	  // 21.1.3.13 String.prototype.repeat(count)
	  repeat: _stringRepeat
	});

	var repeat = _core.String.repeat;

	var STARTS_WITH = 'startsWith';
	var $startsWith = ''[STARTS_WITH];

	_export(_export.P + _export.F * _failsIsRegexp(STARTS_WITH), 'String', {
	  startsWith: function startsWith(searchString /* , position = 0 */) {
	    var that = _stringContext(this, searchString, STARTS_WITH);
	    var index = _toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length));
	    var search = String(searchString);
	    return $startsWith
	      ? $startsWith.call(that, search, index)
	      : that.slice(index, index + search.length) === search;
	  }
	});

	var startsWith = _core.String.startsWith;

	var quot = /"/g;
	// B.2.3.2.1 CreateHTML(string, tag, attribute, value)
	var createHTML = function (string, tag, attribute, value) {
	  var S = String(_defined(string));
	  var p1 = '<' + tag;
	  if (attribute !== '') p1 += ' ' + attribute + '="' + String(value).replace(quot, '&quot;') + '"';
	  return p1 + '>' + S + '</' + tag + '>';
	};
	var _stringHtml = function (NAME, exec) {
	  var O = {};
	  O[NAME] = exec(createHTML);
	  _export(_export.P + _export.F * _fails(function () {
	    var test = ''[NAME]('"');
	    return test !== test.toLowerCase() || test.split('"').length > 3;
	  }), 'String', O);
	};

	// B.2.3.2 String.prototype.anchor(name)
	_stringHtml('anchor', function (createHTML) {
	  return function anchor(name) {
	    return createHTML(this, 'a', 'name', name);
	  };
	});

	var anchor = _core.String.anchor;

	// B.2.3.3 String.prototype.big()
	_stringHtml('big', function (createHTML) {
	  return function big() {
	    return createHTML(this, 'big', '', '');
	  };
	});

	var big = _core.String.big;

	// B.2.3.4 String.prototype.blink()
	_stringHtml('blink', function (createHTML) {
	  return function blink() {
	    return createHTML(this, 'blink', '', '');
	  };
	});

	var blink = _core.String.blink;

	// B.2.3.5 String.prototype.bold()
	_stringHtml('bold', function (createHTML) {
	  return function bold() {
	    return createHTML(this, 'b', '', '');
	  };
	});

	var bold = _core.String.bold;

	// B.2.3.6 String.prototype.fixed()
	_stringHtml('fixed', function (createHTML) {
	  return function fixed() {
	    return createHTML(this, 'tt', '', '');
	  };
	});

	var fixed = _core.String.fixed;

	// B.2.3.7 String.prototype.fontcolor(color)
	_stringHtml('fontcolor', function (createHTML) {
	  return function fontcolor(color) {
	    return createHTML(this, 'font', 'color', color);
	  };
	});

	var fontcolor = _core.String.fontcolor;

	// B.2.3.8 String.prototype.fontsize(size)
	_stringHtml('fontsize', function (createHTML) {
	  return function fontsize(size) {
	    return createHTML(this, 'font', 'size', size);
	  };
	});

	var fontsize = _core.String.fontsize;

	// B.2.3.9 String.prototype.italics()
	_stringHtml('italics', function (createHTML) {
	  return function italics() {
	    return createHTML(this, 'i', '', '');
	  };
	});

	var italics = _core.String.italics;

	// B.2.3.10 String.prototype.link(url)
	_stringHtml('link', function (createHTML) {
	  return function link(url) {
	    return createHTML(this, 'a', 'href', url);
	  };
	});

	var link = _core.String.link;

	// B.2.3.11 String.prototype.small()
	_stringHtml('small', function (createHTML) {
	  return function small() {
	    return createHTML(this, 'small', '', '');
	  };
	});

	var small = _core.String.small;

	// B.2.3.12 String.prototype.strike()
	_stringHtml('strike', function (createHTML) {
	  return function strike() {
	    return createHTML(this, 'strike', '', '');
	  };
	});

	var strike = _core.String.strike;

	// B.2.3.13 String.prototype.sub()
	_stringHtml('sub', function (createHTML) {
	  return function sub() {
	    return createHTML(this, 'sub', '', '');
	  };
	});

	var sub = _core.String.sub;

	// B.2.3.14 String.prototype.sup()
	_stringHtml('sup', function (createHTML) {
	  return function sup() {
	    return createHTML(this, 'sup', '', '');
	  };
	});

	var sup = _core.String.sup;

	var fromCharCode = String.fromCharCode;
	var $fromCodePoint = String.fromCodePoint;

	// length should be 1, old FF problem
	_export(_export.S + _export.F * (!!$fromCodePoint && $fromCodePoint.length != 1), 'String', {
	  // 21.1.2.2 String.fromCodePoint(...codePoints)
	  fromCodePoint: function fromCodePoint(x) { // eslint-disable-line no-unused-vars
	    var res = [];
	    var aLen = arguments.length;
	    var i = 0;
	    var code;
	    while (aLen > i) {
	      code = +arguments[i++];
	      if (_toAbsoluteIndex(code, 0x10ffff) !== code) throw RangeError(code + ' is not a valid code point');
	      res.push(code < 0x10000
	        ? fromCharCode(code)
	        : fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00)
	      );
	    } return res.join('');
	  }
	});

	var fromCodePoint = _core.String.fromCodePoint;

	_export(_export.S, 'String', {
	  // 21.1.2.4 String.raw(callSite, ...substitutions)
	  raw: function raw(callSite) {
	    var tpl = _toIobject(callSite.raw);
	    var len = _toLength(tpl.length);
	    var aLen = arguments.length;
	    var res = [];
	    var i = 0;
	    while (len > i) {
	      res.push(String(tpl[i++]));
	      if (i < aLen) res.push(String(arguments[i]));
	    } return res.join('');
	  }
	});

	var raw = _core.String.raw;

	var es2015Core = createCommonjsModule(function (module, exports) {
	Object.defineProperty(exports, "__esModule", { value: true });
	});

	unwrapExports(es2015Core);

	// 19.1.3.6 Object.prototype.toString()

	var test = {};
	test[_wks('toStringTag')] = 'z';
	if (test + '' != '[object z]') {
	  _redefine(Object.prototype, 'toString', function toString() {
	    return '[object ' + _classof(this) + ']';
	  }, true);
	}

	var _iterStep = function (done, value) {
	  return { value: value, done: !!done };
	};

	// 22.1.3.4 Array.prototype.entries()
	// 22.1.3.13 Array.prototype.keys()
	// 22.1.3.29 Array.prototype.values()
	// 22.1.3.30 Array.prototype[@@iterator]()
	var es6_array_iterator = _iterDefine(Array, 'Array', function (iterated, kind) {
	  this._t = _toIobject(iterated); // target
	  this._i = 0;                   // next index
	  this._k = kind;                // kind
	// 22.1.5.2.1 %ArrayIteratorPrototype%.next()
	}, function () {
	  var O = this._t;
	  var kind = this._k;
	  var index = this._i++;
	  if (!O || index >= O.length) {
	    this._t = undefined;
	    return _iterStep(1);
	  }
	  if (kind == 'keys') return _iterStep(0, index);
	  if (kind == 'values') return _iterStep(0, O[index]);
	  return _iterStep(0, [index, O[index]]);
	}, 'values');

	// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)
	_iterators.Arguments = _iterators.Array;

	_addToUnscopables('keys');
	_addToUnscopables('values');
	_addToUnscopables('entries');

	var ITERATOR$4 = _wks('iterator');
	var TO_STRING_TAG = _wks('toStringTag');
	var ArrayValues = _iterators.Array;

	var DOMIterables = {
	  CSSRuleList: true, // TODO: Not spec compliant, should be false.
	  CSSStyleDeclaration: false,
	  CSSValueList: false,
	  ClientRectList: false,
	  DOMRectList: false,
	  DOMStringList: false,
	  DOMTokenList: true,
	  DataTransferItemList: false,
	  FileList: false,
	  HTMLAllCollection: false,
	  HTMLCollection: false,
	  HTMLFormElement: false,
	  HTMLSelectElement: false,
	  MediaList: true, // TODO: Not spec compliant, should be false.
	  MimeTypeArray: false,
	  NamedNodeMap: false,
	  NodeList: true,
	  PaintRequestList: false,
	  Plugin: false,
	  PluginArray: false,
	  SVGLengthList: false,
	  SVGNumberList: false,
	  SVGPathSegList: false,
	  SVGPointList: false,
	  SVGStringList: false,
	  SVGTransformList: false,
	  SourceBufferList: false,
	  StyleSheetList: true, // TODO: Not spec compliant, should be false.
	  TextTrackCueList: false,
	  TextTrackList: false,
	  TouchList: false
	};

	for (var collections = _objectKeys(DOMIterables), i$1 = 0; i$1 < collections.length; i$1++) {
	  var NAME$1 = collections[i$1];
	  var explicit = DOMIterables[NAME$1];
	  var Collection = _global[NAME$1];
	  var proto$1 = Collection && Collection.prototype;
	  var key;
	  if (proto$1) {
	    if (!proto$1[ITERATOR$4]) _hide(proto$1, ITERATOR$4, ArrayValues);
	    if (!proto$1[TO_STRING_TAG]) _hide(proto$1, TO_STRING_TAG, NAME$1);
	    _iterators[NAME$1] = ArrayValues;
	    if (explicit) for (key in es6_array_iterator) if (!proto$1[key]) _redefine(proto$1, key, es6_array_iterator[key], true);
	  }
	}

	var _anInstance = function (it, Constructor, name, forbiddenField) {
	  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {
	    throw TypeError(name + ': incorrect invocation!');
	  } return it;
	};

	var _forOf = createCommonjsModule(function (module) {
	var BREAK = {};
	var RETURN = {};
	var exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {
	  var iterFn = ITERATOR ? function () { return iterable; } : core_getIteratorMethod(iterable);
	  var f = _ctx(fn, that, entries ? 2 : 1);
	  var index = 0;
	  var length, step, iterator, result;
	  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');
	  // fast case for arrays with default iterator
	  if (_isArrayIter(iterFn)) for (length = _toLength(iterable.length); length > index; index++) {
	    result = entries ? f(_anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);
	    if (result === BREAK || result === RETURN) return result;
	  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {
	    result = _iterCall(iterator, f, step.value, entries);
	    if (result === BREAK || result === RETURN) return result;
	  }
	};
	exports.BREAK = BREAK;
	exports.RETURN = RETURN;
	});

	// 7.3.20 SpeciesConstructor(O, defaultConstructor)


	var SPECIES$2 = _wks('species');
	var _speciesConstructor = function (O, D) {
	  var C = _anObject(O).constructor;
	  var S;
	  return C === undefined || (S = _anObject(C)[SPECIES$2]) == undefined ? D : _aFunction(S);
	};

	// fast apply, http://jsperf.lnkit.com/fast-apply/5
	var _invoke = function (fn, args, that) {
	  var un = that === undefined;
	  switch (args.length) {
	    case 0: return un ? fn()
	                      : fn.call(that);
	    case 1: return un ? fn(args[0])
	                      : fn.call(that, args[0]);
	    case 2: return un ? fn(args[0], args[1])
	                      : fn.call(that, args[0], args[1]);
	    case 3: return un ? fn(args[0], args[1], args[2])
	                      : fn.call(that, args[0], args[1], args[2]);
	    case 4: return un ? fn(args[0], args[1], args[2], args[3])
	                      : fn.call(that, args[0], args[1], args[2], args[3]);
	  } return fn.apply(that, args);
	};

	var process = _global.process;
	var setTask = _global.setImmediate;
	var clearTask = _global.clearImmediate;
	var MessageChannel = _global.MessageChannel;
	var Dispatch = _global.Dispatch;
	var counter = 0;
	var queue = {};
	var ONREADYSTATECHANGE = 'onreadystatechange';
	var defer, channel, port;
	var run = function () {
	  var id = +this;
	  // eslint-disable-next-line no-prototype-builtins
	  if (queue.hasOwnProperty(id)) {
	    var fn = queue[id];
	    delete queue[id];
	    fn();
	  }
	};
	var listener = function (event) {
	  run.call(event.data);
	};
	// Node.js 0.9+ & IE10+ has setImmediate, otherwise:
	if (!setTask || !clearTask) {
	  setTask = function setImmediate(fn) {
	    var args = [];
	    var i = 1;
	    while (arguments.length > i) args.push(arguments[i++]);
	    queue[++counter] = function () {
	      // eslint-disable-next-line no-new-func
	      _invoke(typeof fn == 'function' ? fn : Function(fn), args);
	    };
	    defer(counter);
	    return counter;
	  };
	  clearTask = function clearImmediate(id) {
	    delete queue[id];
	  };
	  // Node.js 0.8-
	  if (_cof(process) == 'process') {
	    defer = function (id) {
	      process.nextTick(_ctx(run, id, 1));
	    };
	  // Sphere (JS game engine) Dispatch API
	  } else if (Dispatch && Dispatch.now) {
	    defer = function (id) {
	      Dispatch.now(_ctx(run, id, 1));
	    };
	  // Browsers with MessageChannel, includes WebWorkers
	  } else if (MessageChannel) {
	    channel = new MessageChannel();
	    port = channel.port2;
	    channel.port1.onmessage = listener;
	    defer = _ctx(port.postMessage, port, 1);
	  // Browsers with postMessage, skip WebWorkers
	  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'
	  } else if (_global.addEventListener && typeof postMessage == 'function' && !_global.importScripts) {
	    defer = function (id) {
	      _global.postMessage(id + '', '*');
	    };
	    _global.addEventListener('message', listener, false);
	  // IE8-
	  } else if (ONREADYSTATECHANGE in _domCreate('script')) {
	    defer = function (id) {
	      _html.appendChild(_domCreate('script'))[ONREADYSTATECHANGE] = function () {
	        _html.removeChild(this);
	        run.call(id);
	      };
	    };
	  // Rest old browsers
	  } else {
	    defer = function (id) {
	      setTimeout(_ctx(run, id, 1), 0);
	    };
	  }
	}
	var _task = {
	  set: setTask,
	  clear: clearTask
	};

	var macrotask = _task.set;
	var Observer = _global.MutationObserver || _global.WebKitMutationObserver;
	var process$1 = _global.process;
	var Promise = _global.Promise;
	var isNode = _cof(process$1) == 'process';

	var _microtask = function () {
	  var head, last, notify;

	  var flush = function () {
	    var parent, fn;
	    if (isNode && (parent = process$1.domain)) parent.exit();
	    while (head) {
	      fn = head.fn;
	      head = head.next;
	      try {
	        fn();
	      } catch (e) {
	        if (head) notify();
	        else last = undefined;
	        throw e;
	      }
	    } last = undefined;
	    if (parent) parent.enter();
	  };

	  // Node.js
	  if (isNode) {
	    notify = function () {
	      process$1.nextTick(flush);
	    };
	  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339
	  } else if (Observer && !(_global.navigator && _global.navigator.standalone)) {
	    var toggle = true;
	    var node = document.createTextNode('');
	    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new
	    notify = function () {
	      node.data = toggle = !toggle;
	    };
	  // environments with maybe non-completely correct, but existent Promise
	  } else if (Promise && Promise.resolve) {
	    // Promise.resolve without an argument throws an error in LG WebOS 2
	    var promise = Promise.resolve(undefined);
	    notify = function () {
	      promise.then(flush);
	    };
	  // for other environments - macrotask based on:
	  // - setImmediate
	  // - MessageChannel
	  // - window.postMessag
	  // - onreadystatechange
	  // - setTimeout
	  } else {
	    notify = function () {
	      // strange IE + webpack dev server bug - use .call(global)
	      macrotask.call(_global, flush);
	    };
	  }

	  return function (fn) {
	    var task = { fn: fn, next: undefined };
	    if (last) last.next = task;
	    if (!head) {
	      head = task;
	      notify();
	    } last = task;
	  };
	};

	// 25.4.1.5 NewPromiseCapability(C)


	function PromiseCapability(C) {
	  var resolve, reject;
	  this.promise = new C(function ($$resolve, $$reject) {
	    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');
	    resolve = $$resolve;
	    reject = $$reject;
	  });
	  this.resolve = _aFunction(resolve);
	  this.reject = _aFunction(reject);
	}

	var f$5 = function (C) {
	  return new PromiseCapability(C);
	};

	var _newPromiseCapability = {
		f: f$5
	};

	var _perform = function (exec) {
	  try {
	    return { e: false, v: exec() };
	  } catch (e) {
	    return { e: true, v: e };
	  }
	};

	var navigator = _global.navigator;

	var _userAgent = navigator && navigator.userAgent || '';

	var _promiseResolve = function (C, x) {
	  _anObject(C);
	  if (_isObject(x) && x.constructor === C) return x;
	  var promiseCapability = _newPromiseCapability.f(C);
	  var resolve = promiseCapability.resolve;
	  resolve(x);
	  return promiseCapability.promise;
	};

	var _redefineAll = function (target, src, safe) {
	  for (var key in src) _redefine(target, key, src[key], safe);
	  return target;
	};

	var task = _task.set;
	var microtask = _microtask();




	var PROMISE = 'Promise';
	var TypeError$1 = _global.TypeError;
	var process$2 = _global.process;
	var versions = process$2 && process$2.versions;
	var v8 = versions && versions.v8 || '';
	var $Promise = _global[PROMISE];
	var isNode$1 = _classof(process$2) == 'process';
	var empty = function () { /* empty */ };
	var Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;
	var newPromiseCapability = newGenericPromiseCapability = _newPromiseCapability.f;

	var USE_NATIVE = !!function () {
	  try {
	    // correct subclassing with @@species support
	    var promise = $Promise.resolve(1);
	    var FakePromise = (promise.constructor = {})[_wks('species')] = function (exec) {
	      exec(empty, empty);
	    };
	    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test
	    return (isNode$1 || typeof PromiseRejectionEvent == 'function')
	      && promise.then(empty) instanceof FakePromise
	      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables
	      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565
	      // we can't detect it synchronously, so just check versions
	      && v8.indexOf('6.6') !== 0
	      && _userAgent.indexOf('Chrome/66') === -1;
	  } catch (e) { /* empty */ }
	}();

	// helpers
	var isThenable = function (it) {
	  var then;
	  return _isObject(it) && typeof (then = it.then) == 'function' ? then : false;
	};
	var notify = function (promise, isReject) {
	  if (promise._n) return;
	  promise._n = true;
	  var chain = promise._c;
	  microtask(function () {
	    var value = promise._v;
	    var ok = promise._s == 1;
	    var i = 0;
	    var run = function (reaction) {
	      var handler = ok ? reaction.ok : reaction.fail;
	      var resolve = reaction.resolve;
	      var reject = reaction.reject;
	      var domain = reaction.domain;
	      var result, then, exited;
	      try {
	        if (handler) {
	          if (!ok) {
	            if (promise._h == 2) onHandleUnhandled(promise);
	            promise._h = 1;
	          }
	          if (handler === true) result = value;
	          else {
	            if (domain) domain.enter();
	            result = handler(value); // may throw
	            if (domain) {
	              domain.exit();
	              exited = true;
	            }
	          }
	          if (result === reaction.promise) {
	            reject(TypeError$1('Promise-chain cycle'));
	          } else if (then = isThenable(result)) {
	            then.call(result, resolve, reject);
	          } else resolve(result);
	        } else reject(value);
	      } catch (e) {
	        if (domain && !exited) domain.exit();
	        reject(e);
	      }
	    };
	    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach
	    promise._c = [];
	    promise._n = false;
	    if (isReject && !promise._h) onUnhandled(promise);
	  });
	};
	var onUnhandled = function (promise) {
	  task.call(_global, function () {
	    var value = promise._v;
	    var unhandled = isUnhandled(promise);
	    var result, handler, console;
	    if (unhandled) {
	      result = _perform(function () {
	        if (isNode$1) {
	          process$2.emit('unhandledRejection', value, promise);
	        } else if (handler = _global.onunhandledrejection) {
	          handler({ promise: promise, reason: value });
	        } else if ((console = _global.console) && console.error) {
	          console.error('Unhandled promise rejection', value);
	        }
	      });
	      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should
	      promise._h = isNode$1 || isUnhandled(promise) ? 2 : 1;
	    } promise._a = undefined;
	    if (unhandled && result.e) throw result.v;
	  });
	};
	var isUnhandled = function (promise) {
	  return promise._h !== 1 && (promise._a || promise._c).length === 0;
	};
	var onHandleUnhandled = function (promise) {
	  task.call(_global, function () {
	    var handler;
	    if (isNode$1) {
	      process$2.emit('rejectionHandled', promise);
	    } else if (handler = _global.onrejectionhandled) {
	      handler({ promise: promise, reason: promise._v });
	    }
	  });
	};
	var $reject = function (value) {
	  var promise = this;
	  if (promise._d) return;
	  promise._d = true;
	  promise = promise._w || promise; // unwrap
	  promise._v = value;
	  promise._s = 2;
	  if (!promise._a) promise._a = promise._c.slice();
	  notify(promise, true);
	};
	var $resolve = function (value) {
	  var promise = this;
	  var then;
	  if (promise._d) return;
	  promise._d = true;
	  promise = promise._w || promise; // unwrap
	  try {
	    if (promise === value) throw TypeError$1("Promise can't be resolved itself");
	    if (then = isThenable(value)) {
	      microtask(function () {
	        var wrapper = { _w: promise, _d: false }; // wrap
	        try {
	          then.call(value, _ctx($resolve, wrapper, 1), _ctx($reject, wrapper, 1));
	        } catch (e) {
	          $reject.call(wrapper, e);
	        }
	      });
	    } else {
	      promise._v = value;
	      promise._s = 1;
	      notify(promise, false);
	    }
	  } catch (e) {
	    $reject.call({ _w: promise, _d: false }, e); // wrap
	  }
	};

	// constructor polyfill
	if (!USE_NATIVE) {
	  // 25.4.3.1 Promise(executor)
	  $Promise = function Promise(executor) {
	    _anInstance(this, $Promise, PROMISE, '_h');
	    _aFunction(executor);
	    Internal.call(this);
	    try {
	      executor(_ctx($resolve, this, 1), _ctx($reject, this, 1));
	    } catch (err) {
	      $reject.call(this, err);
	    }
	  };
	  // eslint-disable-next-line no-unused-vars
	  Internal = function Promise(executor) {
	    this._c = [];             // <- awaiting reactions
	    this._a = undefined;      // <- checked in isUnhandled reactions
	    this._s = 0;              // <- state
	    this._d = false;          // <- done
	    this._v = undefined;      // <- value
	    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled
	    this._n = false;          // <- notify
	  };
	  Internal.prototype = _redefineAll($Promise.prototype, {
	    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)
	    then: function then(onFulfilled, onRejected) {
	      var reaction = newPromiseCapability(_speciesConstructor(this, $Promise));
	      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;
	      reaction.fail = typeof onRejected == 'function' && onRejected;
	      reaction.domain = isNode$1 ? process$2.domain : undefined;
	      this._c.push(reaction);
	      if (this._a) this._a.push(reaction);
	      if (this._s) notify(this, false);
	      return reaction.promise;
	    },
	    // 25.4.5.1 Promise.prototype.catch(onRejected)
	    'catch': function (onRejected) {
	      return this.then(undefined, onRejected);
	    }
	  });
	  OwnPromiseCapability = function () {
	    var promise = new Internal();
	    this.promise = promise;
	    this.resolve = _ctx($resolve, promise, 1);
	    this.reject = _ctx($reject, promise, 1);
	  };
	  _newPromiseCapability.f = newPromiseCapability = function (C) {
	    return C === $Promise || C === Wrapper
	      ? new OwnPromiseCapability(C)
	      : newGenericPromiseCapability(C);
	  };
	}

	_export(_export.G + _export.W + _export.F * !USE_NATIVE, { Promise: $Promise });
	_setToStringTag($Promise, PROMISE);
	_setSpecies(PROMISE);
	Wrapper = _core[PROMISE];

	// statics
	_export(_export.S + _export.F * !USE_NATIVE, PROMISE, {
	  // 25.4.4.5 Promise.reject(r)
	  reject: function reject(r) {
	    var capability = newPromiseCapability(this);
	    var $$reject = capability.reject;
	    $$reject(r);
	    return capability.promise;
	  }
	});
	_export(_export.S + _export.F * (_library || !USE_NATIVE), PROMISE, {
	  // 25.4.4.6 Promise.resolve(x)
	  resolve: function resolve(x) {
	    return _promiseResolve(_library && this === Wrapper ? $Promise : this, x);
	  }
	});
	_export(_export.S + _export.F * !(USE_NATIVE && _iterDetect(function (iter) {
	  $Promise.all(iter)['catch'](empty);
	})), PROMISE, {
	  // 25.4.4.1 Promise.all(iterable)
	  all: function all(iterable) {
	    var C = this;
	    var capability = newPromiseCapability(C);
	    var resolve = capability.resolve;
	    var reject = capability.reject;
	    var result = _perform(function () {
	      var values = [];
	      var index = 0;
	      var remaining = 1;
	      _forOf(iterable, false, function (promise) {
	        var $index = index++;
	        var alreadyCalled = false;
	        values.push(undefined);
	        remaining++;
	        C.resolve(promise).then(function (value) {
	          if (alreadyCalled) return;
	          alreadyCalled = true;
	          values[$index] = value;
	          --remaining || resolve(values);
	        }, reject);
	      });
	      --remaining || resolve(values);
	    });
	    if (result.e) reject(result.v);
	    return capability.promise;
	  },
	  // 25.4.4.4 Promise.race(iterable)
	  race: function race(iterable) {
	    var C = this;
	    var capability = newPromiseCapability(C);
	    var reject = capability.reject;
	    var result = _perform(function () {
	      _forOf(iterable, false, function (promise) {
	        C.resolve(promise).then(capability.resolve, reject);
	      });
	    });
	    if (result.e) reject(result.v);
	    return capability.promise;
	  }
	});

	var promise = _core.Promise;

	var es2015Promise = createCommonjsModule(function (module, exports) {
	Object.defineProperty(exports, "__esModule", { value: true });
	});

	unwrapExports(es2015Promise);

	var _meta = createCommonjsModule(function (module) {
	var META = _uid('meta');


	var setDesc = _objectDp.f;
	var id = 0;
	var isExtensible = Object.isExtensible || function () {
	  return true;
	};
	var FREEZE = !_fails(function () {
	  return isExtensible(Object.preventExtensions({}));
	});
	var setMeta = function (it) {
	  setDesc(it, META, { value: {
	    i: 'O' + ++id, // object ID
	    w: {}          // weak collections IDs
	  } });
	};
	var fastKey = function (it, create) {
	  // return primitive with prefix
	  if (!_isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;
	  if (!_has(it, META)) {
	    // can't set metadata to uncaught frozen object
	    if (!isExtensible(it)) return 'F';
	    // not necessary to add metadata
	    if (!create) return 'E';
	    // add missing metadata
	    setMeta(it);
	  // return object ID
	  } return it[META].i;
	};
	var getWeak = function (it, create) {
	  if (!_has(it, META)) {
	    // can't set metadata to uncaught frozen object
	    if (!isExtensible(it)) return true;
	    // not necessary to add metadata
	    if (!create) return false;
	    // add missing metadata
	    setMeta(it);
	  // return hash weak collections IDs
	  } return it[META].w;
	};
	// add metadata on freeze-family methods calling
	var onFreeze = function (it) {
	  if (FREEZE && meta.NEED && isExtensible(it) && !_has(it, META)) setMeta(it);
	  return it;
	};
	var meta = module.exports = {
	  KEY: META,
	  NEED: false,
	  fastKey: fastKey,
	  getWeak: getWeak,
	  onFreeze: onFreeze
	};
	});
	var _meta_1 = _meta.KEY;
	var _meta_2 = _meta.NEED;
	var _meta_3 = _meta.fastKey;
	var _meta_4 = _meta.getWeak;
	var _meta_5 = _meta.onFreeze;

	var _validateCollection = function (it, TYPE) {
	  if (!_isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');
	  return it;
	};

	var dP$3 = _objectDp.f;









	var fastKey = _meta.fastKey;

	var SIZE = _descriptors ? '_s' : 'size';

	var getEntry = function (that, key) {
	  // fast case
	  var index = fastKey(key);
	  var entry;
	  if (index !== 'F') return that._i[index];
	  // frozen object case
	  for (entry = that._f; entry; entry = entry.n) {
	    if (entry.k == key) return entry;
	  }
	};

	var _collectionStrong = {
	  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {
	    var C = wrapper(function (that, iterable) {
	      _anInstance(that, C, NAME, '_i');
	      that._t = NAME;         // collection type
	      that._i = _objectCreate(null); // index
	      that._f = undefined;    // first entry
	      that._l = undefined;    // last entry
	      that[SIZE] = 0;         // size
	      if (iterable != undefined) _forOf(iterable, IS_MAP, that[ADDER], that);
	    });
	    _redefineAll(C.prototype, {
	      // 23.1.3.1 Map.prototype.clear()
	      // 23.2.3.2 Set.prototype.clear()
	      clear: function clear() {
	        for (var that = _validateCollection(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {
	          entry.r = true;
	          if (entry.p) entry.p = entry.p.n = undefined;
	          delete data[entry.i];
	        }
	        that._f = that._l = undefined;
	        that[SIZE] = 0;
	      },
	      // 23.1.3.3 Map.prototype.delete(key)
	      // 23.2.3.4 Set.prototype.delete(value)
	      'delete': function (key) {
	        var that = _validateCollection(this, NAME);
	        var entry = getEntry(that, key);
	        if (entry) {
	          var next = entry.n;
	          var prev = entry.p;
	          delete that._i[entry.i];
	          entry.r = true;
	          if (prev) prev.n = next;
	          if (next) next.p = prev;
	          if (that._f == entry) that._f = next;
	          if (that._l == entry) that._l = prev;
	          that[SIZE]--;
	        } return !!entry;
	      },
	      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)
	      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)
	      forEach: function forEach(callbackfn /* , that = undefined */) {
	        _validateCollection(this, NAME);
	        var f = _ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);
	        var entry;
	        while (entry = entry ? entry.n : this._f) {
	          f(entry.v, entry.k, this);
	          // revert to the last existing entry
	          while (entry && entry.r) entry = entry.p;
	        }
	      },
	      // 23.1.3.7 Map.prototype.has(key)
	      // 23.2.3.7 Set.prototype.has(value)
	      has: function has(key) {
	        return !!getEntry(_validateCollection(this, NAME), key);
	      }
	    });
	    if (_descriptors) dP$3(C.prototype, 'size', {
	      get: function () {
	        return _validateCollection(this, NAME)[SIZE];
	      }
	    });
	    return C;
	  },
	  def: function (that, key, value) {
	    var entry = getEntry(that, key);
	    var prev, index;
	    // change existing entry
	    if (entry) {
	      entry.v = value;
	    // create new entry
	    } else {
	      that._l = entry = {
	        i: index = fastKey(key, true), // <- index
	        k: key,                        // <- key
	        v: value,                      // <- value
	        p: prev = that._l,             // <- previous entry
	        n: undefined,                  // <- next entry
	        r: false                       // <- removed
	      };
	      if (!that._f) that._f = entry;
	      if (prev) prev.n = entry;
	      that[SIZE]++;
	      // add to index
	      if (index !== 'F') that._i[index] = entry;
	    } return that;
	  },
	  getEntry: getEntry,
	  setStrong: function (C, NAME, IS_MAP) {
	    // add .keys, .values, .entries, [@@iterator]
	    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11
	    _iterDefine(C, NAME, function (iterated, kind) {
	      this._t = _validateCollection(iterated, NAME); // target
	      this._k = kind;                     // kind
	      this._l = undefined;                // previous
	    }, function () {
	      var that = this;
	      var kind = that._k;
	      var entry = that._l;
	      // revert to the last existing entry
	      while (entry && entry.r) entry = entry.p;
	      // get next entry
	      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {
	        // or finish the iteration
	        that._t = undefined;
	        return _iterStep(1);
	      }
	      // return step by kind
	      if (kind == 'keys') return _iterStep(0, entry.k);
	      if (kind == 'values') return _iterStep(0, entry.v);
	      return _iterStep(0, [entry.k, entry.v]);
	    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);

	    // add [@@species], 23.1.2.2, 23.2.2.2
	    _setSpecies(NAME);
	  }
	};

	var _collection = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {
	  var Base = _global[NAME];
	  var C = Base;
	  var ADDER = IS_MAP ? 'set' : 'add';
	  var proto = C && C.prototype;
	  var O = {};
	  var fixMethod = function (KEY) {
	    var fn = proto[KEY];
	    _redefine(proto, KEY,
	      KEY == 'delete' ? function (a) {
	        return IS_WEAK && !_isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);
	      } : KEY == 'has' ? function has(a) {
	        return IS_WEAK && !_isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);
	      } : KEY == 'get' ? function get(a) {
	        return IS_WEAK && !_isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);
	      } : KEY == 'add' ? function add(a) { fn.call(this, a === 0 ? 0 : a); return this; }
	        : function set(a, b) { fn.call(this, a === 0 ? 0 : a, b); return this; }
	    );
	  };
	  if (typeof C != 'function' || !(IS_WEAK || proto.forEach && !_fails(function () {
	    new C().entries().next();
	  }))) {
	    // create collection constructor
	    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);
	    _redefineAll(C.prototype, methods);
	    _meta.NEED = true;
	  } else {
	    var instance = new C();
	    // early implementations not supports chaining
	    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;
	    // V8 ~  Chromium 40- weak-collections throws on primitives, but should return false
	    var THROWS_ON_PRIMITIVES = _fails(function () { instance.has(1); });
	    // most early implementations doesn't supports iterables, most modern - not close it correctly
	    var ACCEPT_ITERABLES = _iterDetect(function (iter) { new C(iter); }); // eslint-disable-line no-new
	    // for early implementations -0 and +0 not the same
	    var BUGGY_ZERO = !IS_WEAK && _fails(function () {
	      // V8 ~ Chromium 42- fails only with 5+ elements
	      var $instance = new C();
	      var index = 5;
	      while (index--) $instance[ADDER](index, index);
	      return !$instance.has(-0);
	    });
	    if (!ACCEPT_ITERABLES) {
	      C = wrapper(function (target, iterable) {
	        _anInstance(target, C, NAME);
	        var that = _inheritIfRequired(new Base(), target, C);
	        if (iterable != undefined) _forOf(iterable, IS_MAP, that[ADDER], that);
	        return that;
	      });
	      C.prototype = proto;
	      proto.constructor = C;
	    }
	    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {
	      fixMethod('delete');
	      fixMethod('has');
	      IS_MAP && fixMethod('get');
	    }
	    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);
	    // weak collections should not contains .clear method
	    if (IS_WEAK && proto.clear) delete proto.clear;
	  }

	  _setToStringTag(C, NAME);

	  O[NAME] = C;
	  _export(_export.G + _export.W + _export.F * (C != Base), O);

	  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);

	  return C;
	};

	var MAP = 'Map';

	// 23.1 Map Objects
	var es6_map = _collection(MAP, function (get) {
	  return function Map() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };
	}, {
	  // 23.1.3.6 Map.prototype.get(key)
	  get: function get(key) {
	    var entry = _collectionStrong.getEntry(_validateCollection(this, MAP), key);
	    return entry && entry.v;
	  },
	  // 23.1.3.9 Map.prototype.set(key, value)
	  set: function set(key, value) {
	    return _collectionStrong.def(_validateCollection(this, MAP), key === 0 ? 0 : key, value);
	  }
	}, _collectionStrong, true);

	var map = _core.Map;

	var getWeak = _meta.getWeak;







	var arrayFind = _arrayMethods(5);
	var arrayFindIndex = _arrayMethods(6);
	var id$1 = 0;

	// fallback for uncaught frozen keys
	var uncaughtFrozenStore = function (that) {
	  return that._l || (that._l = new UncaughtFrozenStore());
	};
	var UncaughtFrozenStore = function () {
	  this.a = [];
	};
	var findUncaughtFrozen = function (store, key) {
	  return arrayFind(store.a, function (it) {
	    return it[0] === key;
	  });
	};
	UncaughtFrozenStore.prototype = {
	  get: function (key) {
	    var entry = findUncaughtFrozen(this, key);
	    if (entry) return entry[1];
	  },
	  has: function (key) {
	    return !!findUncaughtFrozen(this, key);
	  },
	  set: function (key, value) {
	    var entry = findUncaughtFrozen(this, key);
	    if (entry) entry[1] = value;
	    else this.a.push([key, value]);
	  },
	  'delete': function (key) {
	    var index = arrayFindIndex(this.a, function (it) {
	      return it[0] === key;
	    });
	    if (~index) this.a.splice(index, 1);
	    return !!~index;
	  }
	};

	var _collectionWeak = {
	  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {
	    var C = wrapper(function (that, iterable) {
	      _anInstance(that, C, NAME, '_i');
	      that._t = NAME;      // collection type
	      that._i = id$1++;      // collection id
	      that._l = undefined; // leak store for uncaught frozen objects
	      if (iterable != undefined) _forOf(iterable, IS_MAP, that[ADDER], that);
	    });
	    _redefineAll(C.prototype, {
	      // 23.3.3.2 WeakMap.prototype.delete(key)
	      // 23.4.3.3 WeakSet.prototype.delete(value)
	      'delete': function (key) {
	        if (!_isObject(key)) return false;
	        var data = getWeak(key);
	        if (data === true) return uncaughtFrozenStore(_validateCollection(this, NAME))['delete'](key);
	        return data && _has(data, this._i) && delete data[this._i];
	      },
	      // 23.3.3.4 WeakMap.prototype.has(key)
	      // 23.4.3.4 WeakSet.prototype.has(value)
	      has: function has(key) {
	        if (!_isObject(key)) return false;
	        var data = getWeak(key);
	        if (data === true) return uncaughtFrozenStore(_validateCollection(this, NAME)).has(key);
	        return data && _has(data, this._i);
	      }
	    });
	    return C;
	  },
	  def: function (that, key, value) {
	    var data = getWeak(_anObject(key), true);
	    if (data === true) uncaughtFrozenStore(that).set(key, value);
	    else data[that._i] = value;
	    return that;
	  },
	  ufstore: uncaughtFrozenStore
	};

	var es6_weakMap = createCommonjsModule(function (module) {

	var each = _arrayMethods(0);






	var NATIVE_WEAK_MAP = _validateCollection;
	var IS_IE11 = !_global.ActiveXObject && 'ActiveXObject' in _global;
	var WEAK_MAP = 'WeakMap';
	var getWeak = _meta.getWeak;
	var isExtensible = Object.isExtensible;
	var uncaughtFrozenStore = _collectionWeak.ufstore;
	var InternalMap;

	var wrapper = function (get) {
	  return function WeakMap() {
	    return get(this, arguments.length > 0 ? arguments[0] : undefined);
	  };
	};

	var methods = {
	  // 23.3.3.3 WeakMap.prototype.get(key)
	  get: function get(key) {
	    if (_isObject(key)) {
	      var data = getWeak(key);
	      if (data === true) return uncaughtFrozenStore(_validateCollection(this, WEAK_MAP)).get(key);
	      return data ? data[this._i] : undefined;
	    }
	  },
	  // 23.3.3.5 WeakMap.prototype.set(key, value)
	  set: function set(key, value) {
	    return _collectionWeak.def(_validateCollection(this, WEAK_MAP), key, value);
	  }
	};

	// 23.3 WeakMap Objects
	var $WeakMap = module.exports = _collection(WEAK_MAP, wrapper, methods, _collectionWeak, true, true);

	// IE11 WeakMap frozen keys fix
	if (NATIVE_WEAK_MAP && IS_IE11) {
	  InternalMap = _collectionWeak.getConstructor(wrapper, WEAK_MAP);
	  _objectAssign(InternalMap.prototype, methods);
	  _meta.NEED = true;
	  each(['delete', 'has', 'get', 'set'], function (key) {
	    var proto = $WeakMap.prototype;
	    var method = proto[key];
	    _redefine(proto, key, function (a, b) {
	      // store frozen objects on internal weakmap shim
	      if (_isObject(a) && !isExtensible(a)) {
	        if (!this._f) this._f = new InternalMap();
	        var result = this._f[key](a, b);
	        return key == 'set' ? this : result;
	      // store all the rest on native weakmap
	      } return method.call(this, a, b);
	    });
	  });
	}
	});

	var weakMap = _core.WeakMap;

	var SET = 'Set';

	// 23.2 Set Objects
	var es6_set = _collection(SET, function (get) {
	  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };
	}, {
	  // 23.2.3.1 Set.prototype.add(value)
	  add: function add(value) {
	    return _collectionStrong.def(_validateCollection(this, SET), value = value === 0 ? 0 : value, value);
	  }
	}, _collectionStrong);

	var set = _core.Set;

	var WEAK_SET = 'WeakSet';

	// 23.4 WeakSet Objects
	_collection(WEAK_SET, function (get) {
	  return function WeakSet() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };
	}, {
	  // 23.4.3.1 WeakSet.prototype.add(value)
	  add: function add(value) {
	    return _collectionWeak.def(_validateCollection(this, WEAK_SET), value, true);
	  }
	}, _collectionWeak, false, true);

	var weakSet = _core.WeakSet;

	var es2015Collection = createCommonjsModule(function (module, exports) {
	Object.defineProperty(exports, "__esModule", { value: true });
	});

	unwrapExports(es2015Collection);

	// 26.1.1 Reflect.apply(target, thisArgument, argumentsList)



	var rApply = (_global.Reflect || {}).apply;
	var fApply = Function.apply;
	// MS Edge argumentsList argument is optional
	_export(_export.S + _export.F * !_fails(function () {
	  rApply(function () { /* empty */ });
	}), 'Reflect', {
	  apply: function apply(target, thisArgument, argumentsList) {
	    var T = _aFunction(target);
	    var L = _anObject(argumentsList);
	    return rApply ? rApply(T, thisArgument, L) : fApply.call(T, thisArgument, L);
	  }
	});

	var arraySlice = [].slice;
	var factories = {};

	var construct = function (F, len, args) {
	  if (!(len in factories)) {
	    for (var n = [], i = 0; i < len; i++) n[i] = 'a[' + i + ']';
	    // eslint-disable-next-line no-new-func
	    factories[len] = Function('F,a', 'return new F(' + n.join(',') + ')');
	  } return factories[len](F, args);
	};

	var _bind = Function.bind || function bind(that /* , ...args */) {
	  var fn = _aFunction(this);
	  var partArgs = arraySlice.call(arguments, 1);
	  var bound = function (/* args... */) {
	    var args = partArgs.concat(arraySlice.call(arguments));
	    return this instanceof bound ? construct(fn, args.length, args) : _invoke(fn, args, that);
	  };
	  if (_isObject(fn.prototype)) bound.prototype = fn.prototype;
	  return bound;
	};

	// 26.1.2 Reflect.construct(target, argumentsList [, newTarget])







	var rConstruct = (_global.Reflect || {}).construct;

	// MS Edge supports only 2 arguments and argumentsList argument is optional
	// FF Nightly sets third argument as `new.target`, but does not create `this` from it
	var NEW_TARGET_BUG = _fails(function () {
	  function F() { /* empty */ }
	  return !(rConstruct(function () { /* empty */ }, [], F) instanceof F);
	});
	var ARGS_BUG = !_fails(function () {
	  rConstruct(function () { /* empty */ });
	});

	_export(_export.S + _export.F * (NEW_TARGET_BUG || ARGS_BUG), 'Reflect', {
	  construct: function construct(Target, args /* , newTarget */) {
	    _aFunction(Target);
	    _anObject(args);
	    var newTarget = arguments.length < 3 ? Target : _aFunction(arguments[2]);
	    if (ARGS_BUG && !NEW_TARGET_BUG) return rConstruct(Target, args, newTarget);
	    if (Target == newTarget) {
	      // w/o altered newTarget, optimization for 0-4 arguments
	      switch (args.length) {
	        case 0: return new Target();
	        case 1: return new Target(args[0]);
	        case 2: return new Target(args[0], args[1]);
	        case 3: return new Target(args[0], args[1], args[2]);
	        case 4: return new Target(args[0], args[1], args[2], args[3]);
	      }
	      // w/o altered newTarget, lot of arguments case
	      var $args = [null];
	      $args.push.apply($args, args);
	      return new (_bind.apply(Target, $args))();
	    }
	    // with altered newTarget, not support built-in constructors
	    var proto = newTarget.prototype;
	    var instance = _objectCreate(_isObject(proto) ? proto : Object.prototype);
	    var result = Function.apply.call(Target, instance, args);
	    return _isObject(result) ? result : instance;
	  }
	});

	// 26.1.3 Reflect.defineProperty(target, propertyKey, attributes)





	// MS Edge has broken Reflect.defineProperty - throwing instead of returning false
	_export(_export.S + _export.F * _fails(function () {
	  // eslint-disable-next-line no-undef
	  Reflect.defineProperty(_objectDp.f({}, 1, { value: 1 }), 1, { value: 2 });
	}), 'Reflect', {
	  defineProperty: function defineProperty(target, propertyKey, attributes) {
	    _anObject(target);
	    propertyKey = _toPrimitive(propertyKey, true);
	    _anObject(attributes);
	    try {
	      _objectDp.f(target, propertyKey, attributes);
	      return true;
	    } catch (e) {
	      return false;
	    }
	  }
	});

	// 26.1.4 Reflect.deleteProperty(target, propertyKey)

	var gOPD$1 = _objectGopd.f;


	_export(_export.S, 'Reflect', {
	  deleteProperty: function deleteProperty(target, propertyKey) {
	    var desc = gOPD$1(_anObject(target), propertyKey);
	    return desc && !desc.configurable ? false : delete target[propertyKey];
	  }
	});

	// 26.1.5 Reflect.enumerate(target)


	var Enumerate = function (iterated) {
	  this._t = _anObject(iterated); // target
	  this._i = 0;                  // next index
	  var keys = this._k = [];      // keys
	  var key;
	  for (key in iterated) keys.push(key);
	};
	_iterCreate(Enumerate, 'Object', function () {
	  var that = this;
	  var keys = that._k;
	  var key;
	  do {
	    if (that._i >= keys.length) return { value: undefined, done: true };
	  } while (!((key = keys[that._i++]) in that._t));
	  return { value: key, done: false };
	});

	_export(_export.S, 'Reflect', {
	  enumerate: function enumerate(target) {
	    return new Enumerate(target);
	  }
	});

	// 26.1.6 Reflect.get(target, propertyKey [, receiver])







	function get(target, propertyKey /* , receiver */) {
	  var receiver = arguments.length < 3 ? target : arguments[2];
	  var desc, proto;
	  if (_anObject(target) === receiver) return target[propertyKey];
	  if (desc = _objectGopd.f(target, propertyKey)) return _has(desc, 'value')
	    ? desc.value
	    : desc.get !== undefined
	      ? desc.get.call(receiver)
	      : undefined;
	  if (_isObject(proto = _objectGpo(target))) return get(proto, propertyKey, receiver);
	}

	_export(_export.S, 'Reflect', { get: get });

	// 26.1.7 Reflect.getOwnPropertyDescriptor(target, propertyKey)




	_export(_export.S, 'Reflect', {
	  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, propertyKey) {
	    return _objectGopd.f(_anObject(target), propertyKey);
	  }
	});

	// 26.1.8 Reflect.getPrototypeOf(target)




	_export(_export.S, 'Reflect', {
	  getPrototypeOf: function getPrototypeOf(target) {
	    return _objectGpo(_anObject(target));
	  }
	});

	// 26.1.9 Reflect.has(target, propertyKey)


	_export(_export.S, 'Reflect', {
	  has: function has(target, propertyKey) {
	    return propertyKey in target;
	  }
	});

	// 26.1.10 Reflect.isExtensible(target)


	var $isExtensible = Object.isExtensible;

	_export(_export.S, 'Reflect', {
	  isExtensible: function isExtensible(target) {
	    _anObject(target);
	    return $isExtensible ? $isExtensible(target) : true;
	  }
	});

	// all object keys, includes non-enumerable and symbols



	var Reflect$1 = _global.Reflect;
	var _ownKeys = Reflect$1 && Reflect$1.ownKeys || function ownKeys(it) {
	  var keys = _objectGopn.f(_anObject(it));
	  var getSymbols = _objectGops.f;
	  return getSymbols ? keys.concat(getSymbols(it)) : keys;
	};

	// 26.1.11 Reflect.ownKeys(target)


	_export(_export.S, 'Reflect', { ownKeys: _ownKeys });

	// 26.1.12 Reflect.preventExtensions(target)


	var $preventExtensions = Object.preventExtensions;

	_export(_export.S, 'Reflect', {
	  preventExtensions: function preventExtensions(target) {
	    _anObject(target);
	    try {
	      if ($preventExtensions) $preventExtensions(target);
	      return true;
	    } catch (e) {
	      return false;
	    }
	  }
	});

	// 26.1.13 Reflect.set(target, propertyKey, V [, receiver])









	function set$1(target, propertyKey, V /* , receiver */) {
	  var receiver = arguments.length < 4 ? target : arguments[3];
	  var ownDesc = _objectGopd.f(_anObject(target), propertyKey);
	  var existingDescriptor, proto;
	  if (!ownDesc) {
	    if (_isObject(proto = _objectGpo(target))) {
	      return set$1(proto, propertyKey, V, receiver);
	    }
	    ownDesc = _propertyDesc(0);
	  }
	  if (_has(ownDesc, 'value')) {
	    if (ownDesc.writable === false || !_isObject(receiver)) return false;
	    if (existingDescriptor = _objectGopd.f(receiver, propertyKey)) {
	      if (existingDescriptor.get || existingDescriptor.set || existingDescriptor.writable === false) return false;
	      existingDescriptor.value = V;
	      _objectDp.f(receiver, propertyKey, existingDescriptor);
	    } else _objectDp.f(receiver, propertyKey, _propertyDesc(0, V));
	    return true;
	  }
	  return ownDesc.set === undefined ? false : (ownDesc.set.call(receiver, V), true);
	}

	_export(_export.S, 'Reflect', { set: set$1 });

	// 26.1.14 Reflect.setPrototypeOf(target, proto)



	if (_setProto) _export(_export.S, 'Reflect', {
	  setPrototypeOf: function setPrototypeOf(target, proto) {
	    _setProto.check(target, proto);
	    try {
	      _setProto.set(target, proto);
	      return true;
	    } catch (e) {
	      return false;
	    }
	  }
	});

	var reflect = _core.Reflect;

	var es2015Reflect = createCommonjsModule(function (module, exports) {
	Object.defineProperty(exports, "__esModule", { value: true });
	});

	unwrapExports(es2015Reflect);

	// https://github.com/tc39/Array.prototype.includes

	var $includes = _arrayIncludes(true);

	_export(_export.P, 'Array', {
	  includes: function includes(el /* , fromIndex = 0 */) {
	    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);
	  }
	});

	_addToUnscopables('includes');

	var includes$1 = _core.Array.includes;

	var es2016ArrayInclude = createCommonjsModule(function (module, exports) {
	Object.defineProperty(exports, "__esModule", { value: true });
	});

	unwrapExports(es2016ArrayInclude);

	var isEnum = _objectPie.f;
	var _objectToArray = function (isEntries) {
	  return function (it) {
	    var O = _toIobject(it);
	    var keys = _objectKeys(O);
	    var length = keys.length;
	    var i = 0;
	    var result = [];
	    var key;
	    while (length > i) if (isEnum.call(O, key = keys[i++])) {
	      result.push(isEntries ? [key, O[key]] : O[key]);
	    } return result;
	  };
	};

	// https://github.com/tc39/proposal-object-values-entries

	var $values = _objectToArray(false);

	_export(_export.S, 'Object', {
	  values: function values(it) {
	    return $values(it);
	  }
	});

	var values = _core.Object.values;

	// https://github.com/tc39/proposal-object-values-entries

	var $entries = _objectToArray(true);

	_export(_export.S, 'Object', {
	  entries: function entries(it) {
	    return $entries(it);
	  }
	});

	var entries = _core.Object.entries;

	// https://github.com/tc39/proposal-object-getownpropertydescriptors






	_export(_export.S, 'Object', {
	  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {
	    var O = _toIobject(object);
	    var getDesc = _objectGopd.f;
	    var keys = _ownKeys(O);
	    var result = {};
	    var i = 0;
	    var key, desc;
	    while (keys.length > i) {
	      desc = getDesc(O, key = keys[i++]);
	      if (desc !== undefined) _createProperty(result, key, desc);
	    }
	    return result;
	  }
	});

	var getOwnPropertyDescriptors = _core.Object.getOwnPropertyDescriptors;

	var es2017Object = createCommonjsModule(function (module, exports) {
	Object.defineProperty(exports, "__esModule", { value: true });
	});

	unwrapExports(es2017Object);

	// https://github.com/tc39/proposal-string-pad-start-end




	var _stringPad = function (that, maxLength, fillString, left) {
	  var S = String(_defined(that));
	  var stringLength = S.length;
	  var fillStr = fillString === undefined ? ' ' : String(fillString);
	  var intMaxLength = _toLength(maxLength);
	  if (intMaxLength <= stringLength || fillStr == '') return S;
	  var fillLen = intMaxLength - stringLength;
	  var stringFiller = _stringRepeat.call(fillStr, Math.ceil(fillLen / fillStr.length));
	  if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);
	  return left ? stringFiller + S : S + stringFiller;
	};

	// https://github.com/tc39/proposal-string-pad-start-end




	// https://github.com/zloirock/core-js/issues/280
	var WEBKIT_BUG = /Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(_userAgent);

	_export(_export.P + _export.F * WEBKIT_BUG, 'String', {
	  padStart: function padStart(maxLength /* , fillString = ' ' */) {
	    return _stringPad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, true);
	  }
	});

	var padStart = _core.String.padStart;

	// https://github.com/tc39/proposal-string-pad-start-end




	// https://github.com/zloirock/core-js/issues/280
	var WEBKIT_BUG$1 = /Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(_userAgent);

	_export(_export.P + _export.F * WEBKIT_BUG$1, 'String', {
	  padEnd: function padEnd(maxLength /* , fillString = ' ' */) {
	    return _stringPad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, false);
	  }
	});

	var padEnd = _core.String.padEnd;

	var es2017String = createCommonjsModule(function (module, exports) {
	Object.defineProperty(exports, "__esModule", { value: true });
	});

	unwrapExports(es2017String);

	var TYPED = _uid('typed_array');
	var VIEW = _uid('view');
	var ABV = !!(_global.ArrayBuffer && _global.DataView);
	var CONSTR = ABV;
	var i$2 = 0;
	var l = 9;
	var Typed;

	var TypedArrayConstructors = (
	  'Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array'
	).split(',');

	while (i$2 < l) {
	  if (Typed = _global[TypedArrayConstructors[i$2++]]) {
	    _hide(Typed.prototype, TYPED, true);
	    _hide(Typed.prototype, VIEW, true);
	  } else CONSTR = false;
	}

	var _typed = {
	  ABV: ABV,
	  CONSTR: CONSTR,
	  TYPED: TYPED,
	  VIEW: VIEW
	};

	// https://tc39.github.io/ecma262/#sec-toindex


	var _toIndex = function (it) {
	  if (it === undefined) return 0;
	  var number = _toInteger(it);
	  var length = _toLength(number);
	  if (number !== length) throw RangeError('Wrong length!');
	  return length;
	};

	var _typedBuffer = createCommonjsModule(function (module, exports) {











	var gOPN = _objectGopn.f;
	var dP = _objectDp.f;


	var ARRAY_BUFFER = 'ArrayBuffer';
	var DATA_VIEW = 'DataView';
	var PROTOTYPE = 'prototype';
	var WRONG_LENGTH = 'Wrong length!';
	var WRONG_INDEX = 'Wrong index!';
	var $ArrayBuffer = _global[ARRAY_BUFFER];
	var $DataView = _global[DATA_VIEW];
	var Math = _global.Math;
	var RangeError = _global.RangeError;
	// eslint-disable-next-line no-shadow-restricted-names
	var Infinity = _global.Infinity;
	var BaseBuffer = $ArrayBuffer;
	var abs = Math.abs;
	var pow = Math.pow;
	var floor = Math.floor;
	var log = Math.log;
	var LN2 = Math.LN2;
	var BUFFER = 'buffer';
	var BYTE_LENGTH = 'byteLength';
	var BYTE_OFFSET = 'byteOffset';
	var $BUFFER = _descriptors ? '_b' : BUFFER;
	var $LENGTH = _descriptors ? '_l' : BYTE_LENGTH;
	var $OFFSET = _descriptors ? '_o' : BYTE_OFFSET;

	// IEEE754 conversions based on https://github.com/feross/ieee754
	function packIEEE754(value, mLen, nBytes) {
	  var buffer = new Array(nBytes);
	  var eLen = nBytes * 8 - mLen - 1;
	  var eMax = (1 << eLen) - 1;
	  var eBias = eMax >> 1;
	  var rt = mLen === 23 ? pow(2, -24) - pow(2, -77) : 0;
	  var i = 0;
	  var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;
	  var e, m, c;
	  value = abs(value);
	  // eslint-disable-next-line no-self-compare
	  if (value != value || value === Infinity) {
	    // eslint-disable-next-line no-self-compare
	    m = value != value ? 1 : 0;
	    e = eMax;
	  } else {
	    e = floor(log(value) / LN2);
	    if (value * (c = pow(2, -e)) < 1) {
	      e--;
	      c *= 2;
	    }
	    if (e + eBias >= 1) {
	      value += rt / c;
	    } else {
	      value += rt * pow(2, 1 - eBias);
	    }
	    if (value * c >= 2) {
	      e++;
	      c /= 2;
	    }
	    if (e + eBias >= eMax) {
	      m = 0;
	      e = eMax;
	    } else if (e + eBias >= 1) {
	      m = (value * c - 1) * pow(2, mLen);
	      e = e + eBias;
	    } else {
	      m = value * pow(2, eBias - 1) * pow(2, mLen);
	      e = 0;
	    }
	  }
	  for (; mLen >= 8; buffer[i++] = m & 255, m /= 256, mLen -= 8);
	  e = e << mLen | m;
	  eLen += mLen;
	  for (; eLen > 0; buffer[i++] = e & 255, e /= 256, eLen -= 8);
	  buffer[--i] |= s * 128;
	  return buffer;
	}
	function unpackIEEE754(buffer, mLen, nBytes) {
	  var eLen = nBytes * 8 - mLen - 1;
	  var eMax = (1 << eLen) - 1;
	  var eBias = eMax >> 1;
	  var nBits = eLen - 7;
	  var i = nBytes - 1;
	  var s = buffer[i--];
	  var e = s & 127;
	  var m;
	  s >>= 7;
	  for (; nBits > 0; e = e * 256 + buffer[i], i--, nBits -= 8);
	  m = e & (1 << -nBits) - 1;
	  e >>= -nBits;
	  nBits += mLen;
	  for (; nBits > 0; m = m * 256 + buffer[i], i--, nBits -= 8);
	  if (e === 0) {
	    e = 1 - eBias;
	  } else if (e === eMax) {
	    return m ? NaN : s ? -Infinity : Infinity;
	  } else {
	    m = m + pow(2, mLen);
	    e = e - eBias;
	  } return (s ? -1 : 1) * m * pow(2, e - mLen);
	}

	function unpackI32(bytes) {
	  return bytes[3] << 24 | bytes[2] << 16 | bytes[1] << 8 | bytes[0];
	}
	function packI8(it) {
	  return [it & 0xff];
	}
	function packI16(it) {
	  return [it & 0xff, it >> 8 & 0xff];
	}
	function packI32(it) {
	  return [it & 0xff, it >> 8 & 0xff, it >> 16 & 0xff, it >> 24 & 0xff];
	}
	function packF64(it) {
	  return packIEEE754(it, 52, 8);
	}
	function packF32(it) {
	  return packIEEE754(it, 23, 4);
	}

	function addGetter(C, key, internal) {
	  dP(C[PROTOTYPE], key, { get: function () { return this[internal]; } });
	}

	function get(view, bytes, index, isLittleEndian) {
	  var numIndex = +index;
	  var intIndex = _toIndex(numIndex);
	  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);
	  var store = view[$BUFFER]._b;
	  var start = intIndex + view[$OFFSET];
	  var pack = store.slice(start, start + bytes);
	  return isLittleEndian ? pack : pack.reverse();
	}
	function set(view, bytes, index, conversion, value, isLittleEndian) {
	  var numIndex = +index;
	  var intIndex = _toIndex(numIndex);
	  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);
	  var store = view[$BUFFER]._b;
	  var start = intIndex + view[$OFFSET];
	  var pack = conversion(+value);
	  for (var i = 0; i < bytes; i++) store[start + i] = pack[isLittleEndian ? i : bytes - i - 1];
	}

	if (!_typed.ABV) {
	  $ArrayBuffer = function ArrayBuffer(length) {
	    _anInstance(this, $ArrayBuffer, ARRAY_BUFFER);
	    var byteLength = _toIndex(length);
	    this._b = _arrayFill.call(new Array(byteLength), 0);
	    this[$LENGTH] = byteLength;
	  };

	  $DataView = function DataView(buffer, byteOffset, byteLength) {
	    _anInstance(this, $DataView, DATA_VIEW);
	    _anInstance(buffer, $ArrayBuffer, DATA_VIEW);
	    var bufferLength = buffer[$LENGTH];
	    var offset = _toInteger(byteOffset);
	    if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset!');
	    byteLength = byteLength === undefined ? bufferLength - offset : _toLength(byteLength);
	    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);
	    this[$BUFFER] = buffer;
	    this[$OFFSET] = offset;
	    this[$LENGTH] = byteLength;
	  };

	  if (_descriptors) {
	    addGetter($ArrayBuffer, BYTE_LENGTH, '_l');
	    addGetter($DataView, BUFFER, '_b');
	    addGetter($DataView, BYTE_LENGTH, '_l');
	    addGetter($DataView, BYTE_OFFSET, '_o');
	  }

	  _redefineAll($DataView[PROTOTYPE], {
	    getInt8: function getInt8(byteOffset) {
	      return get(this, 1, byteOffset)[0] << 24 >> 24;
	    },
	    getUint8: function getUint8(byteOffset) {
	      return get(this, 1, byteOffset)[0];
	    },
	    getInt16: function getInt16(byteOffset /* , littleEndian */) {
	      var bytes = get(this, 2, byteOffset, arguments[1]);
	      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;
	    },
	    getUint16: function getUint16(byteOffset /* , littleEndian */) {
	      var bytes = get(this, 2, byteOffset, arguments[1]);
	      return bytes[1] << 8 | bytes[0];
	    },
	    getInt32: function getInt32(byteOffset /* , littleEndian */) {
	      return unpackI32(get(this, 4, byteOffset, arguments[1]));
	    },
	    getUint32: function getUint32(byteOffset /* , littleEndian */) {
	      return unpackI32(get(this, 4, byteOffset, arguments[1])) >>> 0;
	    },
	    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {
	      return unpackIEEE754(get(this, 4, byteOffset, arguments[1]), 23, 4);
	    },
	    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {
	      return unpackIEEE754(get(this, 8, byteOffset, arguments[1]), 52, 8);
	    },
	    setInt8: function setInt8(byteOffset, value) {
	      set(this, 1, byteOffset, packI8, value);
	    },
	    setUint8: function setUint8(byteOffset, value) {
	      set(this, 1, byteOffset, packI8, value);
	    },
	    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {
	      set(this, 2, byteOffset, packI16, value, arguments[2]);
	    },
	    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {
	      set(this, 2, byteOffset, packI16, value, arguments[2]);
	    },
	    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {
	      set(this, 4, byteOffset, packI32, value, arguments[2]);
	    },
	    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {
	      set(this, 4, byteOffset, packI32, value, arguments[2]);
	    },
	    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {
	      set(this, 4, byteOffset, packF32, value, arguments[2]);
	    },
	    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {
	      set(this, 8, byteOffset, packF64, value, arguments[2]);
	    }
	  });
	} else {
	  if (!_fails(function () {
	    $ArrayBuffer(1);
	  }) || !_fails(function () {
	    new $ArrayBuffer(-1); // eslint-disable-line no-new
	  }) || _fails(function () {
	    new $ArrayBuffer(); // eslint-disable-line no-new
	    new $ArrayBuffer(1.5); // eslint-disable-line no-new
	    new $ArrayBuffer(NaN); // eslint-disable-line no-new
	    return $ArrayBuffer.name != ARRAY_BUFFER;
	  })) {
	    $ArrayBuffer = function ArrayBuffer(length) {
	      _anInstance(this, $ArrayBuffer);
	      return new BaseBuffer(_toIndex(length));
	    };
	    var ArrayBufferProto = $ArrayBuffer[PROTOTYPE] = BaseBuffer[PROTOTYPE];
	    for (var keys = gOPN(BaseBuffer), j = 0, key; keys.length > j;) {
	      if (!((key = keys[j++]) in $ArrayBuffer)) _hide($ArrayBuffer, key, BaseBuffer[key]);
	    }
	    ArrayBufferProto.constructor = $ArrayBuffer;
	  }
	  // iOS Safari 7.x bug
	  var view = new $DataView(new $ArrayBuffer(2));
	  var $setInt8 = $DataView[PROTOTYPE].setInt8;
	  view.setInt8(0, 2147483648);
	  view.setInt8(1, 2147483649);
	  if (view.getInt8(0) || !view.getInt8(1)) _redefineAll($DataView[PROTOTYPE], {
	    setInt8: function setInt8(byteOffset, value) {
	      $setInt8.call(this, byteOffset, value << 24 >> 24);
	    },
	    setUint8: function setUint8(byteOffset, value) {
	      $setInt8.call(this, byteOffset, value << 24 >> 24);
	    }
	  }, true);
	}
	_setToStringTag($ArrayBuffer, ARRAY_BUFFER);
	_setToStringTag($DataView, DATA_VIEW);
	_hide($DataView[PROTOTYPE], _typed.VIEW, true);
	exports[ARRAY_BUFFER] = $ArrayBuffer;
	exports[DATA_VIEW] = $DataView;
	});

	var ArrayBuffer = _global.ArrayBuffer;

	var $ArrayBuffer = _typedBuffer.ArrayBuffer;
	var $DataView = _typedBuffer.DataView;
	var $isView = _typed.ABV && ArrayBuffer.isView;
	var $slice = $ArrayBuffer.prototype.slice;
	var VIEW$1 = _typed.VIEW;
	var ARRAY_BUFFER = 'ArrayBuffer';

	_export(_export.G + _export.W + _export.F * (ArrayBuffer !== $ArrayBuffer), { ArrayBuffer: $ArrayBuffer });

	_export(_export.S + _export.F * !_typed.CONSTR, ARRAY_BUFFER, {
	  // 24.1.3.1 ArrayBuffer.isView(arg)
	  isView: function isView(it) {
	    return $isView && $isView(it) || _isObject(it) && VIEW$1 in it;
	  }
	});

	_export(_export.P + _export.U + _export.F * _fails(function () {
	  return !new $ArrayBuffer(2).slice(1, undefined).byteLength;
	}), ARRAY_BUFFER, {
	  // 24.1.4.3 ArrayBuffer.prototype.slice(start, end)
	  slice: function slice(start, end) {
	    if ($slice !== undefined && end === undefined) return $slice.call(_anObject(this), start); // FF fix
	    var len = _anObject(this).byteLength;
	    var first = _toAbsoluteIndex(start, len);
	    var fin = _toAbsoluteIndex(end === undefined ? len : end, len);
	    var result = new (_speciesConstructor(this, $ArrayBuffer))(_toLength(fin - first));
	    var viewS = new $DataView(this);
	    var viewT = new $DataView(result);
	    var index = 0;
	    while (first < fin) {
	      viewT.setUint8(index++, viewS.getUint8(first++));
	    } return result;
	  }
	});

	_setSpecies(ARRAY_BUFFER);

	_export(_export.G + _export.W + _export.F * !_typed.ABV, {
	  DataView: _typedBuffer.DataView
	});

	var _typedArray = createCommonjsModule(function (module) {
	if (_descriptors) {
	  var LIBRARY = _library;
	  var global = _global;
	  var fails = _fails;
	  var $export = _export;
	  var $typed = _typed;
	  var $buffer = _typedBuffer;
	  var ctx = _ctx;
	  var anInstance = _anInstance;
	  var propertyDesc = _propertyDesc;
	  var hide = _hide;
	  var redefineAll = _redefineAll;
	  var toInteger = _toInteger;
	  var toLength = _toLength;
	  var toIndex = _toIndex;
	  var toAbsoluteIndex = _toAbsoluteIndex;
	  var toPrimitive = _toPrimitive;
	  var has = _has;
	  var classof = _classof;
	  var isObject = _isObject;
	  var toObject = _toObject;
	  var isArrayIter = _isArrayIter;
	  var create = _objectCreate;
	  var getPrototypeOf = _objectGpo;
	  var gOPN = _objectGopn.f;
	  var getIterFn = core_getIteratorMethod;
	  var uid = _uid;
	  var wks = _wks;
	  var createArrayMethod = _arrayMethods;
	  var createArrayIncludes = _arrayIncludes;
	  var speciesConstructor = _speciesConstructor;
	  var ArrayIterators = es6_array_iterator;
	  var Iterators = _iterators;
	  var $iterDetect = _iterDetect;
	  var setSpecies = _setSpecies;
	  var arrayFill = _arrayFill;
	  var arrayCopyWithin = _arrayCopyWithin;
	  var $DP = _objectDp;
	  var $GOPD = _objectGopd;
	  var dP = $DP.f;
	  var gOPD = $GOPD.f;
	  var RangeError = global.RangeError;
	  var TypeError = global.TypeError;
	  var Uint8Array = global.Uint8Array;
	  var ARRAY_BUFFER = 'ArrayBuffer';
	  var SHARED_BUFFER = 'Shared' + ARRAY_BUFFER;
	  var BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';
	  var PROTOTYPE = 'prototype';
	  var ArrayProto = Array[PROTOTYPE];
	  var $ArrayBuffer = $buffer.ArrayBuffer;
	  var $DataView = $buffer.DataView;
	  var arrayForEach = createArrayMethod(0);
	  var arrayFilter = createArrayMethod(2);
	  var arraySome = createArrayMethod(3);
	  var arrayEvery = createArrayMethod(4);
	  var arrayFind = createArrayMethod(5);
	  var arrayFindIndex = createArrayMethod(6);
	  var arrayIncludes = createArrayIncludes(true);
	  var arrayIndexOf = createArrayIncludes(false);
	  var arrayValues = ArrayIterators.values;
	  var arrayKeys = ArrayIterators.keys;
	  var arrayEntries = ArrayIterators.entries;
	  var arrayLastIndexOf = ArrayProto.lastIndexOf;
	  var arrayReduce = ArrayProto.reduce;
	  var arrayReduceRight = ArrayProto.reduceRight;
	  var arrayJoin = ArrayProto.join;
	  var arraySort = ArrayProto.sort;
	  var arraySlice = ArrayProto.slice;
	  var arrayToString = ArrayProto.toString;
	  var arrayToLocaleString = ArrayProto.toLocaleString;
	  var ITERATOR = wks('iterator');
	  var TAG = wks('toStringTag');
	  var TYPED_CONSTRUCTOR = uid('typed_constructor');
	  var DEF_CONSTRUCTOR = uid('def_constructor');
	  var ALL_CONSTRUCTORS = $typed.CONSTR;
	  var TYPED_ARRAY = $typed.TYPED;
	  var VIEW = $typed.VIEW;
	  var WRONG_LENGTH = 'Wrong length!';

	  var $map = createArrayMethod(1, function (O, length) {
	    return allocate(speciesConstructor(O, O[DEF_CONSTRUCTOR]), length);
	  });

	  var LITTLE_ENDIAN = fails(function () {
	    // eslint-disable-next-line no-undef
	    return new Uint8Array(new Uint16Array([1]).buffer)[0] === 1;
	  });

	  var FORCED_SET = !!Uint8Array && !!Uint8Array[PROTOTYPE].set && fails(function () {
	    new Uint8Array(1).set({});
	  });

	  var toOffset = function (it, BYTES) {
	    var offset = toInteger(it);
	    if (offset < 0 || offset % BYTES) throw RangeError('Wrong offset!');
	    return offset;
	  };

	  var validate = function (it) {
	    if (isObject(it) && TYPED_ARRAY in it) return it;
	    throw TypeError(it + ' is not a typed array!');
	  };

	  var allocate = function (C, length) {
	    if (!(isObject(C) && TYPED_CONSTRUCTOR in C)) {
	      throw TypeError('It is not a typed array constructor!');
	    } return new C(length);
	  };

	  var speciesFromList = function (O, list) {
	    return fromList(speciesConstructor(O, O[DEF_CONSTRUCTOR]), list);
	  };

	  var fromList = function (C, list) {
	    var index = 0;
	    var length = list.length;
	    var result = allocate(C, length);
	    while (length > index) result[index] = list[index++];
	    return result;
	  };

	  var addGetter = function (it, key, internal) {
	    dP(it, key, { get: function () { return this._d[internal]; } });
	  };

	  var $from = function from(source /* , mapfn, thisArg */) {
	    var O = toObject(source);
	    var aLen = arguments.length;
	    var mapfn = aLen > 1 ? arguments[1] : undefined;
	    var mapping = mapfn !== undefined;
	    var iterFn = getIterFn(O);
	    var i, length, values, result, step, iterator;
	    if (iterFn != undefined && !isArrayIter(iterFn)) {
	      for (iterator = iterFn.call(O), values = [], i = 0; !(step = iterator.next()).done; i++) {
	        values.push(step.value);
	      } O = values;
	    }
	    if (mapping && aLen > 2) mapfn = ctx(mapfn, arguments[2], 2);
	    for (i = 0, length = toLength(O.length), result = allocate(this, length); length > i; i++) {
	      result[i] = mapping ? mapfn(O[i], i) : O[i];
	    }
	    return result;
	  };

	  var $of = function of(/* ...items */) {
	    var index = 0;
	    var length = arguments.length;
	    var result = allocate(this, length);
	    while (length > index) result[index] = arguments[index++];
	    return result;
	  };

	  // iOS Safari 6.x fails here
	  var TO_LOCALE_BUG = !!Uint8Array && fails(function () { arrayToLocaleString.call(new Uint8Array(1)); });

	  var $toLocaleString = function toLocaleString() {
	    return arrayToLocaleString.apply(TO_LOCALE_BUG ? arraySlice.call(validate(this)) : validate(this), arguments);
	  };

	  var proto = {
	    copyWithin: function copyWithin(target, start /* , end */) {
	      return arrayCopyWithin.call(validate(this), target, start, arguments.length > 2 ? arguments[2] : undefined);
	    },
	    every: function every(callbackfn /* , thisArg */) {
	      return arrayEvery(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);
	    },
	    fill: function fill(value /* , start, end */) { // eslint-disable-line no-unused-vars
	      return arrayFill.apply(validate(this), arguments);
	    },
	    filter: function filter(callbackfn /* , thisArg */) {
	      return speciesFromList(this, arrayFilter(validate(this), callbackfn,
	        arguments.length > 1 ? arguments[1] : undefined));
	    },
	    find: function find(predicate /* , thisArg */) {
	      return arrayFind(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);
	    },
	    findIndex: function findIndex(predicate /* , thisArg */) {
	      return arrayFindIndex(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);
	    },
	    forEach: function forEach(callbackfn /* , thisArg */) {
	      arrayForEach(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);
	    },
	    indexOf: function indexOf(searchElement /* , fromIndex */) {
	      return arrayIndexOf(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);
	    },
	    includes: function includes(searchElement /* , fromIndex */) {
	      return arrayIncludes(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);
	    },
	    join: function join(separator) { // eslint-disable-line no-unused-vars
	      return arrayJoin.apply(validate(this), arguments);
	    },
	    lastIndexOf: function lastIndexOf(searchElement /* , fromIndex */) { // eslint-disable-line no-unused-vars
	      return arrayLastIndexOf.apply(validate(this), arguments);
	    },
	    map: function map(mapfn /* , thisArg */) {
	      return $map(validate(this), mapfn, arguments.length > 1 ? arguments[1] : undefined);
	    },
	    reduce: function reduce(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars
	      return arrayReduce.apply(validate(this), arguments);
	    },
	    reduceRight: function reduceRight(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars
	      return arrayReduceRight.apply(validate(this), arguments);
	    },
	    reverse: function reverse() {
	      var that = this;
	      var length = validate(that).length;
	      var middle = Math.floor(length / 2);
	      var index = 0;
	      var value;
	      while (index < middle) {
	        value = that[index];
	        that[index++] = that[--length];
	        that[length] = value;
	      } return that;
	    },
	    some: function some(callbackfn /* , thisArg */) {
	      return arraySome(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);
	    },
	    sort: function sort(comparefn) {
	      return arraySort.call(validate(this), comparefn);
	    },
	    subarray: function subarray(begin, end) {
	      var O = validate(this);
	      var length = O.length;
	      var $begin = toAbsoluteIndex(begin, length);
	      return new (speciesConstructor(O, O[DEF_CONSTRUCTOR]))(
	        O.buffer,
	        O.byteOffset + $begin * O.BYTES_PER_ELEMENT,
	        toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - $begin)
	      );
	    }
	  };

	  var $slice = function slice(start, end) {
	    return speciesFromList(this, arraySlice.call(validate(this), start, end));
	  };

	  var $set = function set(arrayLike /* , offset */) {
	    validate(this);
	    var offset = toOffset(arguments[1], 1);
	    var length = this.length;
	    var src = toObject(arrayLike);
	    var len = toLength(src.length);
	    var index = 0;
	    if (len + offset > length) throw RangeError(WRONG_LENGTH);
	    while (index < len) this[offset + index] = src[index++];
	  };

	  var $iterators = {
	    entries: function entries() {
	      return arrayEntries.call(validate(this));
	    },
	    keys: function keys() {
	      return arrayKeys.call(validate(this));
	    },
	    values: function values() {
	      return arrayValues.call(validate(this));
	    }
	  };

	  var isTAIndex = function (target, key) {
	    return isObject(target)
	      && target[TYPED_ARRAY]
	      && typeof key != 'symbol'
	      && key in target
	      && String(+key) == String(key);
	  };
	  var $getDesc = function getOwnPropertyDescriptor(target, key) {
	    return isTAIndex(target, key = toPrimitive(key, true))
	      ? propertyDesc(2, target[key])
	      : gOPD(target, key);
	  };
	  var $setDesc = function defineProperty(target, key, desc) {
	    if (isTAIndex(target, key = toPrimitive(key, true))
	      && isObject(desc)
	      && has(desc, 'value')
	      && !has(desc, 'get')
	      && !has(desc, 'set')
	      // TODO: add validation descriptor w/o calling accessors
	      && !desc.configurable
	      && (!has(desc, 'writable') || desc.writable)
	      && (!has(desc, 'enumerable') || desc.enumerable)
	    ) {
	      target[key] = desc.value;
	      return target;
	    } return dP(target, key, desc);
	  };

	  if (!ALL_CONSTRUCTORS) {
	    $GOPD.f = $getDesc;
	    $DP.f = $setDesc;
	  }

	  $export($export.S + $export.F * !ALL_CONSTRUCTORS, 'Object', {
	    getOwnPropertyDescriptor: $getDesc,
	    defineProperty: $setDesc
	  });

	  if (fails(function () { arrayToString.call({}); })) {
	    arrayToString = arrayToLocaleString = function toString() {
	      return arrayJoin.call(this);
	    };
	  }

	  var $TypedArrayPrototype$ = redefineAll({}, proto);
	  redefineAll($TypedArrayPrototype$, $iterators);
	  hide($TypedArrayPrototype$, ITERATOR, $iterators.values);
	  redefineAll($TypedArrayPrototype$, {
	    slice: $slice,
	    set: $set,
	    constructor: function () { /* noop */ },
	    toString: arrayToString,
	    toLocaleString: $toLocaleString
	  });
	  addGetter($TypedArrayPrototype$, 'buffer', 'b');
	  addGetter($TypedArrayPrototype$, 'byteOffset', 'o');
	  addGetter($TypedArrayPrototype$, 'byteLength', 'l');
	  addGetter($TypedArrayPrototype$, 'length', 'e');
	  dP($TypedArrayPrototype$, TAG, {
	    get: function () { return this[TYPED_ARRAY]; }
	  });

	  // eslint-disable-next-line max-statements
	  module.exports = function (KEY, BYTES, wrapper, CLAMPED) {
	    CLAMPED = !!CLAMPED;
	    var NAME = KEY + (CLAMPED ? 'Clamped' : '') + 'Array';
	    var GETTER = 'get' + KEY;
	    var SETTER = 'set' + KEY;
	    var TypedArray = global[NAME];
	    var Base = TypedArray || {};
	    var TAC = TypedArray && getPrototypeOf(TypedArray);
	    var FORCED = !TypedArray || !$typed.ABV;
	    var O = {};
	    var TypedArrayPrototype = TypedArray && TypedArray[PROTOTYPE];
	    var getter = function (that, index) {
	      var data = that._d;
	      return data.v[GETTER](index * BYTES + data.o, LITTLE_ENDIAN);
	    };
	    var setter = function (that, index, value) {
	      var data = that._d;
	      if (CLAMPED) value = (value = Math.round(value)) < 0 ? 0 : value > 0xff ? 0xff : value & 0xff;
	      data.v[SETTER](index * BYTES + data.o, value, LITTLE_ENDIAN);
	    };
	    var addElement = function (that, index) {
	      dP(that, index, {
	        get: function () {
	          return getter(this, index);
	        },
	        set: function (value) {
	          return setter(this, index, value);
	        },
	        enumerable: true
	      });
	    };
	    if (FORCED) {
	      TypedArray = wrapper(function (that, data, $offset, $length) {
	        anInstance(that, TypedArray, NAME, '_d');
	        var index = 0;
	        var offset = 0;
	        var buffer, byteLength, length, klass;
	        if (!isObject(data)) {
	          length = toIndex(data);
	          byteLength = length * BYTES;
	          buffer = new $ArrayBuffer(byteLength);
	        } else if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {
	          buffer = data;
	          offset = toOffset($offset, BYTES);
	          var $len = data.byteLength;
	          if ($length === undefined) {
	            if ($len % BYTES) throw RangeError(WRONG_LENGTH);
	            byteLength = $len - offset;
	            if (byteLength < 0) throw RangeError(WRONG_LENGTH);
	          } else {
	            byteLength = toLength($length) * BYTES;
	            if (byteLength + offset > $len) throw RangeError(WRONG_LENGTH);
	          }
	          length = byteLength / BYTES;
	        } else if (TYPED_ARRAY in data) {
	          return fromList(TypedArray, data);
	        } else {
	          return $from.call(TypedArray, data);
	        }
	        hide(that, '_d', {
	          b: buffer,
	          o: offset,
	          l: byteLength,
	          e: length,
	          v: new $DataView(buffer)
	        });
	        while (index < length) addElement(that, index++);
	      });
	      TypedArrayPrototype = TypedArray[PROTOTYPE] = create($TypedArrayPrototype$);
	      hide(TypedArrayPrototype, 'constructor', TypedArray);
	    } else if (!fails(function () {
	      TypedArray(1);
	    }) || !fails(function () {
	      new TypedArray(-1); // eslint-disable-line no-new
	    }) || !$iterDetect(function (iter) {
	      new TypedArray(); // eslint-disable-line no-new
	      new TypedArray(null); // eslint-disable-line no-new
	      new TypedArray(1.5); // eslint-disable-line no-new
	      new TypedArray(iter); // eslint-disable-line no-new
	    }, true)) {
	      TypedArray = wrapper(function (that, data, $offset, $length) {
	        anInstance(that, TypedArray, NAME);
	        var klass;
	        // `ws` module bug, temporarily remove validation length for Uint8Array
	        // https://github.com/websockets/ws/pull/645
	        if (!isObject(data)) return new Base(toIndex(data));
	        if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {
	          return $length !== undefined
	            ? new Base(data, toOffset($offset, BYTES), $length)
	            : $offset !== undefined
	              ? new Base(data, toOffset($offset, BYTES))
	              : new Base(data);
	        }
	        if (TYPED_ARRAY in data) return fromList(TypedArray, data);
	        return $from.call(TypedArray, data);
	      });
	      arrayForEach(TAC !== Function.prototype ? gOPN(Base).concat(gOPN(TAC)) : gOPN(Base), function (key) {
	        if (!(key in TypedArray)) hide(TypedArray, key, Base[key]);
	      });
	      TypedArray[PROTOTYPE] = TypedArrayPrototype;
	      if (!LIBRARY) TypedArrayPrototype.constructor = TypedArray;
	    }
	    var $nativeIterator = TypedArrayPrototype[ITERATOR];
	    var CORRECT_ITER_NAME = !!$nativeIterator
	      && ($nativeIterator.name == 'values' || $nativeIterator.name == undefined);
	    var $iterator = $iterators.values;
	    hide(TypedArray, TYPED_CONSTRUCTOR, true);
	    hide(TypedArrayPrototype, TYPED_ARRAY, NAME);
	    hide(TypedArrayPrototype, VIEW, true);
	    hide(TypedArrayPrototype, DEF_CONSTRUCTOR, TypedArray);

	    if (CLAMPED ? new TypedArray(1)[TAG] != NAME : !(TAG in TypedArrayPrototype)) {
	      dP(TypedArrayPrototype, TAG, {
	        get: function () { return NAME; }
	      });
	    }

	    O[NAME] = TypedArray;

	    $export($export.G + $export.W + $export.F * (TypedArray != Base), O);

	    $export($export.S, NAME, {
	      BYTES_PER_ELEMENT: BYTES
	    });

	    $export($export.S + $export.F * fails(function () { Base.of.call(TypedArray, 1); }), NAME, {
	      from: $from,
	      of: $of
	    });

	    if (!(BYTES_PER_ELEMENT in TypedArrayPrototype)) hide(TypedArrayPrototype, BYTES_PER_ELEMENT, BYTES);

	    $export($export.P, NAME, proto);

	    setSpecies(NAME);

	    $export($export.P + $export.F * FORCED_SET, NAME, { set: $set });

	    $export($export.P + $export.F * !CORRECT_ITER_NAME, NAME, $iterators);

	    if (!LIBRARY && TypedArrayPrototype.toString != arrayToString) TypedArrayPrototype.toString = arrayToString;

	    $export($export.P + $export.F * fails(function () {
	      new TypedArray(1).slice();
	    }), NAME, { slice: $slice });

	    $export($export.P + $export.F * (fails(function () {
	      return [1, 2].toLocaleString() != new TypedArray([1, 2]).toLocaleString();
	    }) || !fails(function () {
	      TypedArrayPrototype.toLocaleString.call([1, 2]);
	    })), NAME, { toLocaleString: $toLocaleString });

	    Iterators[NAME] = CORRECT_ITER_NAME ? $nativeIterator : $iterator;
	    if (!LIBRARY && !CORRECT_ITER_NAME) hide(TypedArrayPrototype, ITERATOR, $iterator);
	  };
	} else module.exports = function () { /* empty */ };
	});

	_typedArray('Int8', 1, function (init) {
	  return function Int8Array(data, byteOffset, length) {
	    return init(this, data, byteOffset, length);
	  };
	});

	_typedArray('Uint8', 1, function (init) {
	  return function Uint8Array(data, byteOffset, length) {
	    return init(this, data, byteOffset, length);
	  };
	});

	_typedArray('Uint8', 1, function (init) {
	  return function Uint8ClampedArray(data, byteOffset, length) {
	    return init(this, data, byteOffset, length);
	  };
	}, true);

	_typedArray('Int16', 2, function (init) {
	  return function Int16Array(data, byteOffset, length) {
	    return init(this, data, byteOffset, length);
	  };
	});

	_typedArray('Uint16', 2, function (init) {
	  return function Uint16Array(data, byteOffset, length) {
	    return init(this, data, byteOffset, length);
	  };
	});

	_typedArray('Int32', 4, function (init) {
	  return function Int32Array(data, byteOffset, length) {
	    return init(this, data, byteOffset, length);
	  };
	});

	_typedArray('Uint32', 4, function (init) {
	  return function Uint32Array(data, byteOffset, length) {
	    return init(this, data, byteOffset, length);
	  };
	});

	_typedArray('Float32', 4, function (init) {
	  return function Float32Array(data, byteOffset, length) {
	    return init(this, data, byteOffset, length);
	  };
	});

	_typedArray('Float64', 8, function (init) {
	  return function Float64Array(data, byteOffset, length) {
	    return init(this, data, byteOffset, length);
	  };
	});

	var es2017TypedArrays = createCommonjsModule(function (module, exports) {
	Object.defineProperty(exports, "__esModule", { value: true });
	});

	unwrapExports(es2017TypedArrays);

	_export(_export.P + _export.R, 'Promise', { 'finally': function (onFinally) {
	  var C = _speciesConstructor(this, _core.Promise || _global.Promise);
	  var isFunction = typeof onFinally == 'function';
	  return this.then(
	    isFunction ? function (x) {
	      return _promiseResolve(C, onFinally()).then(function () { return x; });
	    } : onFinally,
	    isFunction ? function (e) {
	      return _promiseResolve(C, onFinally()).then(function () { throw e; });
	    } : onFinally
	  );
	} });

	var _finally = _core.Promise['finally'];

	var es2018Promise = createCommonjsModule(function (module, exports) {
	Object.defineProperty(exports, "__esModule", { value: true });
	});

	unwrapExports(es2018Promise);

	var lib = createCommonjsModule(function (module, exports) {
	Object.defineProperty(exports, "__esModule", { value: true });
	});

	var index = unwrapExports(lib);

	return index;

}());

},{}],3:[function(require,module,exports){
(function (global){
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
/* global global, define, System, Reflect, Promise */
var __extends;
var __assign;
var __rest;
var __decorate;
var __param;
var __metadata;
var __awaiter;
var __generator;
var __exportStar;
var __values;
var __read;
var __spread;
var __await;
var __asyncGenerator;
var __asyncDelegator;
var __asyncValues;
var __makeTemplateObject;
var __importStar;
var __importDefault;
(function (factory) {
    var root = typeof global === "object" ? global : typeof self === "object" ? self : typeof this === "object" ? this : {};
    if (typeof define === "function" && define.amd) {
        define("tslib", ["exports"], function (exports) { factory(createExporter(root, createExporter(exports))); });
    }
    else if (typeof module === "object" && typeof module.exports === "object") {
        factory(createExporter(root, createExporter(module.exports)));
    }
    else {
        factory(createExporter(root));
    }
    function createExporter(exports, previous) {
        if (exports !== root) {
            if (typeof Object.create === "function") {
                Object.defineProperty(exports, "__esModule", { value: true });
            }
            else {
                exports.__esModule = true;
            }
        }
        return function (id, v) { return exports[id] = previous ? previous(id, v) : v; };
    }
})
(function (exporter) {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };

    __extends = function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };

    __assign = Object.assign || function (t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
        }
        return t;
    };

    __rest = function (s, e) {
        var t = {};
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
            t[p] = s[p];
        if (s != null && typeof Object.getOwnPropertySymbols === "function")
            for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)
                t[p[i]] = s[p[i]];
        return t;
    };

    __decorate = function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };

    __param = function (paramIndex, decorator) {
        return function (target, key) { decorator(target, key, paramIndex); }
    };

    __metadata = function (metadataKey, metadataValue) {
        if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
    };

    __awaiter = function (thisArg, _arguments, P, generator) {
        return new (P || (P = Promise))(function (resolve, reject) {
            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
            function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
            function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
            step((generator = generator.apply(thisArg, _arguments || [])).next());
        });
    };

    __generator = function (thisArg, body) {
        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
        return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
        function verb(n) { return function (v) { return step([n, v]); }; }
        function step(op) {
            if (f) throw new TypeError("Generator is already executing.");
            while (_) try {
                if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
                if (y = 0, t) op = [op[0] & 2, t.value];
                switch (op[0]) {
                    case 0: case 1: t = op; break;
                    case 4: _.label++; return { value: op[1], done: false };
                    case 5: _.label++; y = op[1]; op = [0]; continue;
                    case 7: op = _.ops.pop(); _.trys.pop(); continue;
                    default:
                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                        if (t[2]) _.ops.pop();
                        _.trys.pop(); continue;
                }
                op = body.call(thisArg, _);
            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
        }
    };

    __exportStar = function (m, exports) {
        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
    };

    __values = function (o) {
        var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
        if (m) return m.call(o);
        return {
            next: function () {
                if (o && i >= o.length) o = void 0;
                return { value: o && o[i++], done: !o };
            }
        };
    };

    __read = function (o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m) return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
        }
        catch (error) { e = { error: error }; }
        finally {
            try {
                if (r && !r.done && (m = i["return"])) m.call(i);
            }
            finally { if (e) throw e.error; }
        }
        return ar;
    };

    __spread = function () {
        for (var ar = [], i = 0; i < arguments.length; i++)
            ar = ar.concat(__read(arguments[i]));
        return ar;
    };

    __await = function (v) {
        return this instanceof __await ? (this.v = v, this) : new __await(v);
    };

    __asyncGenerator = function (thisArg, _arguments, generator) {
        if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
        var g = generator.apply(thisArg, _arguments || []), i, q = [];
        return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
        function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
        function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }
        function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }
        function fulfill(value) { resume("next", value); }
        function reject(value) { resume("throw", value); }
        function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }
    };

    __asyncDelegator = function (o) {
        var i, p;
        return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
        function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }
    };

    __asyncValues = function (o) {
        if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
        var m = o[Symbol.asyncIterator], i;
        return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
        function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
        function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }
    };

    __makeTemplateObject = function (cooked, raw) {
        if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
        return cooked;
    };

    __importStar = function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
        result["default"] = mod;
        return result;
    };

    __importDefault = function (mod) {
        return (mod && mod.__esModule) ? mod : { "default": mod };
    };

    exporter("__extends", __extends);
    exporter("__assign", __assign);
    exporter("__rest", __rest);
    exporter("__decorate", __decorate);
    exporter("__param", __param);
    exporter("__metadata", __metadata);
    exporter("__awaiter", __awaiter);
    exporter("__generator", __generator);
    exporter("__exportStar", __exportStar);
    exporter("__values", __values);
    exporter("__read", __read);
    exporter("__spread", __spread);
    exporter("__await", __await);
    exporter("__asyncGenerator", __asyncGenerator);
    exporter("__asyncDelegator", __asyncDelegator);
    exporter("__asyncValues", __asyncValues);
    exporter("__makeTemplateObject", __makeTemplateObject);
    exporter("__importStar", __importStar);
    exporter("__importDefault", __importDefault);
});

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],4:[function(require,module,exports){
/*!
 * vConsole v3.3.0 (https://github.com/Tencent/vConsole)
 * 
 * Tencent is pleased to support the open source community by making vConsole available.
 * Copyright (C) 2017 THL A29 Limited, a Tencent company. All rights reserved.
 * Licensed under the MIT License (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at
 * http://opensource.org/licenses/MIT
 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("VConsole",[],t):"object"==typeof exports?exports.VConsole=t():e.VConsole=t()}(window,function(){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=6)}([function(e,t,o){var n,r,i;r=[t],void 0===(i="function"==typeof(n=function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return"[object Number]"==Object.prototype.toString.call(e)}function n(e){return"[object String]"==Object.prototype.toString.call(e)}function r(e){return"[object Array]"==Object.prototype.toString.call(e)}function i(e){return"[object Boolean]"==Object.prototype.toString.call(e)}function a(e){return void 0===e}function l(e){return null===e}function c(e){return"[object Symbol]"==Object.prototype.toString.call(e)}function s(e){return!("[object Object]"!=Object.prototype.toString.call(e)&&(o(e)||n(e)||i(e)||r(e)||l(e)||d(e)||a(e)||c(e)))}function d(e){return"[object Function]"==Object.prototype.toString.call(e)}function u(e){var t=Object.prototype.toString.call(e);return"[object global]"==t||"[object Window]"==t||"[object DOMWindow]"==t}function f(e){if(!s(e)&&!r(e))return[];if(r(e)){var t=[];return e.forEach(function(e,o){t.push(o)}),t}return Object.getOwnPropertyNames(e).sort()}Object.defineProperty(e,"__esModule",{value:!0}),e.getDate=function(e){var t=e>0?new Date(e):new Date,o=t.getDate()<10?"0"+t.getDate():t.getDate(),n=t.getMonth()<9?"0"+(t.getMonth()+1):t.getMonth()+1,r=t.getFullYear(),i=t.getHours()<10?"0"+t.getHours():t.getHours(),a=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),l=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds(),c=t.getMilliseconds()<10?"0"+t.getMilliseconds():t.getMilliseconds();return c<100&&(c="0"+c),{time:+t,year:r,month:n,day:o,hour:i,minute:a,second:l,millisecond:c}},e.isNumber=o,e.isString=n,e.isArray=r,e.isBoolean=i,e.isUndefined=a,e.isNull=l,e.isSymbol=c,e.isObject=s,e.isFunction=d,e.isElement=function(e){return"object"===("undefined"==typeof HTMLElement?"undefined":t(HTMLElement))?e instanceof HTMLElement:e&&"object"===t(e)&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},e.isWindow=u,e.isPlainObject=function(e){var o,n=Object.prototype.hasOwnProperty;if(!e||"object"!==t(e)||e.nodeType||u(e))return!1;try{if(e.constructor&&!n.call(e,"constructor")&&!n.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(o in e);return void 0===o||n.call(e,o)},e.htmlEncode=function(e){return document.createElement("a").appendChild(document.createTextNode(e)).parentNode.innerHTML},e.JSONStringify=function(e){if(!s(e)&&!r(e))return JSON.stringify(e);var t="{",o="}";r(e)&&(t="[",o="]");for(var n=t,i=f(e),a=0;a<i.length;a++){var l=i[a],u=e[l];try{r(e)||(s(l)||r(l)||c(l)?n+=Object.prototype.toString.call(l):n+=l,n+=": "),r(u)?n+="Array["+u.length+"]":s(u)||c(u)||d(u)?n+=Object.prototype.toString.call(u):n+=JSON.stringify(u),a<i.length-1&&(n+=", ")}catch(e){continue}}return n+=o},e.getObjAllKeys=f,e.getObjName=function(e){return Object.prototype.toString.call(e).replace("[object ","").replace("]","")},e.setStorage=function(e,t){window.localStorage&&(e="vConsole_"+e,localStorage.setItem(e,t))},e.getStorage=function(e){if(window.localStorage)return e="vConsole_"+e,localStorage.getItem(e)}})?n.apply(t,r):n)||(e.exports=i)},function(e,t,o){var n,r,i;r=[t,o(0),o(10)],void 0===(i="function"==typeof(n=function(o,n,r){"use strict";var i;Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=(i=r)&&i.__esModule?i:{default:i};var a={one:function(e,t){return t?t.querySelector(e):document.querySelector(e)},all:function(e,t){var o,n=[];return(o=t?t.querySelectorAll(e):document.querySelectorAll(e))&&o.length>0&&(n=Array.prototype.slice.call(o)),n},addClass:function(e,t){if(e){(0,n.isArray)(e)||(e=[e]);for(var o=0;o<e.length;o++){var r=e[o].className||"",i=r.split(" ");i.indexOf(t)>-1||(i.push(t),e[o].className=i.join(" "))}}},removeClass:function(e,t){if(e){(0,n.isArray)(e)||(e=[e]);for(var o=0;o<e.length;o++){for(var r=e[o].className.split(" "),i=0;i<r.length;i++)r[i]==t&&(r[i]="");e[o].className=r.join(" ").trim()}}},hasClass:function(e,t){if(!e)return!1;for(var o=e.className.split(" "),n=0;n<o.length;n++)if(o[n]==t)return!0;return!1},bind:function(e,t,o,r){if(e){void 0===r&&(r=!1),(0,n.isArray)(e)||(e=[e]);for(var i=0;i<e.length;i++)e[i].addEventListener(t,o,r)}},delegate:function(e,t,o,n){e&&e.addEventListener(t,function(t){var r=a.all(o,e);if(r)e:for(var i=0;i<r.length;i++)for(var l=t.target;l;){if(l==r[i]){n.call(l,t);break e}if((l=l.parentNode)==e)break}},!1)}};a.render=r.default;var l=a;o.default=l,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t,o){var n,r,i;r=[t],void 0===(i="function"==typeof(n=function(o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=function(){function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"newPlugin";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.name=o,this.isReady=!1,this.eventList={}}return t=e,(o=[{key:"on",value:function(e,t){return this.eventList[e]=t,this}},{key:"trigger",value:function(e,t){if("function"==typeof this.eventList[e])this.eventList[e].call(this,t);else{var o="on"+e.charAt(0).toUpperCase()+e.slice(1);"function"==typeof this[o]&&this[o].call(this,t)}return this}},{key:"id",get:function(){return this._id},set:function(e){if(!e)throw"Plugin ID cannot be empty";this._id=e.toLowerCase()}},{key:"name",get:function(){return this._name},set:function(e){if(!e)throw"Plugin name cannot be empty";this._name=e}},{key:"vConsole",get:function(){return this._vConsole||void 0},set:function(e){if(!e)throw"vConsole cannot be empty";this._vConsole=e}}])&&n(t.prototype,o),r&&n(t,r),e;var t,o,r}();o.default=r,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t,o){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var o=function(e,t){var o=e[1]||"",n=e[3];if(!n)return o;if(t&&"function"==typeof btoa){var r=(a=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"});return[o].concat(i).concat([r]).join("\n")}var a;return[o].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+o+"}":o}).join("")},t.i=function(e,o){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var i=this[r][0];null!=i&&(n[i]=!0)}for(r=0;r<e.length;r++){var a=e[r];null!=a[0]&&n[a[0]]||(o&&!a[2]?a[2]=o:o&&(a[2]="("+a[2]+") and ("+o+")"),t.push(a))}},t}},function(e,t,o){var n,r,i={},a=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=n.apply(this,arguments)),r}),l=function(e){var t={};return function(e,o){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,o);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),c=null,s=0,d=[],u=o(13);function f(e,t){for(var o=0;o<e.length;o++){var n=e[o],r=i[n.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](n.parts[a]);for(;a<n.parts.length;a++)r.parts.push(m(n.parts[a],t))}else{var l=[];for(a=0;a<n.parts.length;a++)l.push(m(n.parts[a],t));i[n.id]={id:n.id,refs:1,parts:l}}}}function v(e,t){for(var o=[],n={},r=0;r<e.length;r++){var i=e[r],a=t.base?i[0]+t.base:i[0],l={css:i[1],media:i[2],sourceMap:i[3]};n[a]?n[a].parts.push(l):o.push(n[a]={id:a,parts:[l]})}return o}function p(e,t){var o=l(e.insertInto);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=d[d.length-1];if("top"===e.insertAt)n?n.nextSibling?o.insertBefore(t,n.nextSibling):o.appendChild(t):o.insertBefore(t,o.firstChild),d.push(t);else if("bottom"===e.insertAt)o.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=l(e.insertAt.before,o);o.insertBefore(t,r)}}function b(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function h(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var n=function(){0;return o.nc}();n&&(e.attrs.nonce=n)}return g(t,e.attrs),p(e,t),t}function g(e,t){Object.keys(t).forEach(function(o){e.setAttribute(o,t[o])})}function m(e,t){var o,n,r,i;if(t.transform&&e.css){if(!(i="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=i}if(t.singleton){var a=s++;o=c||(c=h(t)),n=w.bind(null,o,a,!1),r=w.bind(null,o,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(o=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",g(t,e.attrs),p(e,t),t}(t),n=function(e,t,o){var n=o.css,r=o.sourceMap,i=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||i)&&(n=u(n));r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([n],{type:"text/css"}),l=e.href;e.href=URL.createObjectURL(a),l&&URL.revokeObjectURL(l)}.bind(null,o,t),r=function(){b(o),o.href&&URL.revokeObjectURL(o.href)}):(o=h(t),n=function(e,t){var o=t.css,n=t.media;n&&e.setAttribute("media",n);if(e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}.bind(null,o),r=function(){b(o)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var o=v(e,t);return f(o,t),function(e){for(var n=[],r=0;r<o.length;r++){var a=o[r];(l=i[a.id]).refs--,n.push(l)}e&&f(v(e,t),t);for(r=0;r<n.length;r++){var l;if(0===(l=n[r]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete i[l.id]}}}};var y,_=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function w(e,t,o,n){var r=o?"":n.css;if(e.styleSheet)e.styleSheet.cssText=_(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}},function(e,t,o){var n,r,i;r=[t,o(0),o(1),o(2),o(20),o(21),o(22)],void 0===(i="function"==typeof(n=function(o,n,r,i,a,l,c){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,o):{};n.get||n.set?Object.defineProperty(t,o,n):t[o]=e[o]}return t.default=e,t}(n),r=s(r),i=s(i),a=s(a),l=s(l),c=s(c);var b=1e3,h=[],g={},m=function(e){function t(){var e,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return o=f(this,(e=v(t)).call.apply(e,[this].concat(r))),h.push(o.id),o.tplTabbox="",o.allowUnformattedLog=!0,o.isReady=!1,o.isShow=!1,o.$tabbox=null,o.console={},o.logList=[],o.isInBottom=!0,o.maxLogNumber=b,o.logNumber=0,o.mockConsole(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),o=t,(i=[{key:"onInit",value:function(){this.$tabbox=r.default.render(this.tplTabbox,{}),this.updateMaxLogNumber()}},{key:"onRenderTab",value:function(e){e(this.$tabbox)}},{key:"onAddTopBar",value:function(e){for(var t=this,o=["All","Log","Info","Warn","Error"],n=[],i=0;i<o.length;i++)n.push({name:o[i],data:{type:o[i].toLowerCase()},className:"",onClick:function(){if(r.default.hasClass(this,"vc-actived"))return!1;t.showLogType(this.dataset.type||"all")}});n[0].className="vc-actived",e(n)}},{key:"onAddTool",value:function(e){var t=this,o=[{name:"Clear",global:!1,onClick:function(){t.clearLog(),t.vConsole.triggerEvent("clearLog")}}];e(o)}},{key:"onReady",value:function(){var e=this;e.isReady=!0;var t=r.default.all(".vc-subtab",e.$tabbox);r.default.bind(t,"click",function(o){if(o.preventDefault(),r.default.hasClass(this,"vc-actived"))return!1;r.default.removeClass(t,"vc-actived"),r.default.addClass(this,"vc-actived");var n=this.dataset.type,i=r.default.one(".vc-log",e.$tabbox);r.default.removeClass(i,"vc-log-partly-log"),r.default.removeClass(i,"vc-log-partly-info"),r.default.removeClass(i,"vc-log-partly-warn"),r.default.removeClass(i,"vc-log-partly-error"),"all"==n?r.default.removeClass(i,"vc-log-partly"):(r.default.addClass(i,"vc-log-partly"),r.default.addClass(i,"vc-log-partly-"+n))});var o=r.default.one(".vc-content");r.default.bind(o,"scroll",function(t){e.isShow&&(o.scrollTop+o.offsetHeight>=o.scrollHeight?e.isInBottom=!0:e.isInBottom=!1)});for(var n=0;n<e.logList.length;n++)e.printLog(e.logList[n]);e.logList=[]}},{key:"onRemove",value:function(){window.console.log=this.console.log,window.console.info=this.console.info,window.console.warn=this.console.warn,window.console.debug=this.console.debug,window.console.error=this.console.error,window.console.time=this.console.time,window.console.timeEnd=this.console.timeEnd,window.console.clear=this.console.clear,this.console={};var e=h.indexOf(this.id);e>-1&&h.splice(e,1)}},{key:"onShow",value:function(){this.isShow=!0,1==this.isInBottom&&this.autoScrollToBottom()}},{key:"onHide",value:function(){this.isShow=!1}},{key:"onShowConsole",value:function(){1==this.isInBottom&&this.autoScrollToBottom()}},{key:"onUpdateOption",value:function(){this.vConsole.option.maxLogNumber!=this.maxLogNumber&&(this.updateMaxLogNumber(),this.limitMaxLogs())}},{key:"updateMaxLogNumber",value:function(){this.maxLogNumber=this.vConsole.option.maxLogNumber||b,this.maxLogNumber=Math.max(1,this.maxLogNumber)}},{key:"limitMaxLogs",value:function(){if(this.isReady)for(;this.logNumber>this.maxLogNumber;){var e=r.default.one(".vc-item",this.$tabbox);if(!e)break;e.parentNode.removeChild(e),this.logNumber--}}},{key:"showLogType",value:function(e){var t=r.default.one(".vc-log",this.$tabbox);r.default.removeClass(t,"vc-log-partly-log"),r.default.removeClass(t,"vc-log-partly-info"),r.default.removeClass(t,"vc-log-partly-warn"),r.default.removeClass(t,"vc-log-partly-error"),"all"==e?r.default.removeClass(t,"vc-log-partly"):(r.default.addClass(t,"vc-log-partly"),r.default.addClass(t,"vc-log-partly-"+e))}},{key:"autoScrollToBottom",value:function(){this.vConsole.option.disableLogScrolling||this.scrollToBottom()}},{key:"scrollToBottom",value:function(){var e=r.default.one(".vc-content");e&&(e.scrollTop=e.scrollHeight-e.offsetHeight)}},{key:"mockConsole",value:function(){var e=this,t=this,o=["log","info","warn","debug","error"];window.console?(o.map(function(e){t.console[e]=window.console[e]}),t.console.time=window.console.time,t.console.timeEnd=window.console.timeEnd,t.console.clear=window.console.clear):window.console={},o.map(function(t){window.console[t]=function(){for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];e.printLog({logType:t,logs:n})}});var n={};window.console.time=function(e){n[e]=Date.now()},window.console.timeEnd=function(e){var t=n[e];t?(console.log(e+":",Date.now()-t+"ms"),delete n[e]):console.log(e+": 0ms")},window.console.clear=function(){t.clearLog();for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];t.console.clear.apply(window.console,o)}}},{key:"clearLog",value:function(){r.default.one(".vc-log",this.$tabbox).innerHTML="",this.logNumber=0,g={}}},{key:"printOriginLog",value:function(e){"function"==typeof this.console[e.logType]&&this.console[e.logType].apply(window.console,e.logs)}},{key:"printLog",value:function(e){var t=e.logs||[];if(t.length||e.content){t=[].slice.call(t||[]);var o=/^\[(\w+)\]$/i,r="",i=!1;if(n.isString(t[0])){var a=t[0].match(o);null!==a&&a.length>0&&(r=a[1].toLowerCase(),i=h.indexOf(r)>-1)}if(r===this.id||!0!==i&&"default"===this.id)if(e._id||(e._id="__vc_"+Math.random().toString(36).substring(2,8)),e.date||(e.date=+new Date),this.isReady){n.isString(t[0])&&i&&(t[0]=t[0].replace(o,""),""===t[0]&&t.shift());for(var l={_id:e._id,logType:e.logType,logText:[],hasContent:!!e.content,count:1},c=0;c<t.length;c++)n.isFunction(t[c])?l.logText.push(t[c].toString()):n.isObject(t[c])||n.isArray(t[c])?l.logText.push(n.JSONStringify(t[c])):l.logText.push(t[c]);l.logText=l.logText.join(" "),l.hasContent||g.logType!==l.logType||g.logText!==l.logText?(this.printNewLog(e,t),g=l):this.printRepeatLog(),this.isInBottom&&this.autoScrollToBottom(),e.noOrigin||this.printOriginLog(e)}else this.logList.push(e);else e.noOrigin||this.printOriginLog(e)}}},{key:"printRepeatLog",value:function(){var e=r.default.one("#"+g._id),t=r.default.one(".vc-item-repeat",e);t||((t=document.createElement("i")).className="vc-item-repeat",e.insertBefore(t,e.lastChild)),g.count,g.count++,t.innerHTML=g.count}},{key:"printNewLog",value:function(e,t){for(var o=r.default.render(a.default,{_id:e._id,logType:e.logType,style:e.style||""}),i=r.default.one(".vc-item-content",o),l=0;l<t.length;l++){var c=void 0;try{if(""===t[l])continue;c=n.isFunction(t[l])?"<span> "+t[l].toString()+"</span>":n.isObject(t[l])||n.isArray(t[l])?this.getFoldedLine(t[l]):"<span> "+n.htmlEncode(t[l]).replace(/\n/g,"<br/>")+"</span>"}catch(e){c="<span> ["+d(t[l])+"]</span>"}c&&("string"==typeof c?i.insertAdjacentHTML("beforeend",c):i.insertAdjacentElement("beforeend",c))}n.isObject(e.content)&&i.insertAdjacentElement("beforeend",e.content),r.default.one(".vc-log",this.$tabbox).insertAdjacentElement("beforeend",o),this.logNumber++,this.limitMaxLogs()}},{key:"getFoldedLine",value:function(e,t){var o=this;if(!t){var i=n.JSONStringify(e),a=i.substr(0,36);t=n.getObjName(e),i.length>36&&(a+="..."),t+=" "+a}var s=r.default.render(l.default,{outer:t,lineType:"obj"});return r.default.bind(r.default.one(".vc-fold-outer",s),"click",function(t){t.preventDefault(),t.stopPropagation(),r.default.hasClass(s,"vc-toggle")?(r.default.removeClass(s,"vc-toggle"),r.default.removeClass(r.default.one(".vc-fold-inner",s),"vc-toggle"),r.default.removeClass(r.default.one(".vc-fold-outer",s),"vc-toggle")):(r.default.addClass(s,"vc-toggle"),r.default.addClass(r.default.one(".vc-fold-inner",s),"vc-toggle"),r.default.addClass(r.default.one(".vc-fold-outer",s),"vc-toggle"));var i=r.default.one(".vc-fold-inner",s);return setTimeout(function(){if(0==i.children.length&&e){for(var t=n.getObjAllKeys(e),a=0;a<t.length;a++){var s=void 0,d="undefined",u="";try{s=e[t[a]]}catch(e){continue}n.isString(s)?(d="string",s='"'+s+'"'):n.isNumber(s)?d="number":n.isBoolean(s)?d="boolean":n.isNull(s)?(d="null",s="null"):n.isUndefined(s)?(d="undefined",s="undefined"):n.isFunction(s)?(d="function",s="function()"):n.isSymbol(s)&&(d="symbol");var f=void 0;if(n.isArray(s)){var v=n.getObjName(s)+"["+s.length+"]";f=o.getFoldedLine(s,r.default.render(c.default,{key:t[a],keyType:u,value:v,valueType:"array"},!0))}else if(n.isObject(s)){var p=n.getObjName(s);f=o.getFoldedLine(s,r.default.render(c.default,{key:n.htmlEncode(t[a]),keyType:u,value:p,valueType:"object"},!0))}else{e.hasOwnProperty&&!e.hasOwnProperty(t[a])&&(u="private");var b={lineType:"kv",key:n.htmlEncode(t[a]),keyType:u,value:n.htmlEncode(s),valueType:d};f=r.default.render(l.default,b)}i.insertAdjacentElement("beforeend",f)}if(n.isObject(e)){var h,g=e.__proto__;h=n.isObject(g)?o.getFoldedLine(g,r.default.render(c.default,{key:"__proto__",keyType:"private",value:n.getObjName(g),valueType:"object"},!0)):r.default.render(c.default,{key:"__proto__",keyType:"private",value:"null",valueType:"null"}),i.insertAdjacentElement("beforeend",h)}}}),!1}),s}}])&&u(o.prototype,i),s&&u(o,s),t;var o,i,s}(i.default);m.AddedLogID=[];var y=m;o.default=y,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t,o){var n,r,i;r=[t,o(7),o(8),o(2)],void 0===(i="function"==typeof(n=function(o,n,r,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=a(r),i=a(i),r.default.VConsolePlugin=i.default;var l=r.default;o.default=l,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t,o){var n,r,i;r=[],void 0===(i="function"==typeof(n=function(){"use strict";if("undefined"==typeof Symbol){window.Symbol=function(){};var e="__symbol_iterator_key";window.Symbol.iterator=e,Array.prototype[e]=function(){var e=this,t=0;return{next:function(){return{done:e.length===t,value:e.length===t?void 0:e[t++]}}}}}})?n.apply(t,r):n)||(e.exports=i)},function(e,t,o){var n,r,i;r=[t,o(9),o(0),o(1),o(11),o(14),o(15),o(16),o(17),o(18),o(19),o(25),o(27),o(31),o(38)],void 0===(i="function"==typeof(n=function(o,n,r,i,a,l,c,s,d,u,f,v,p,b,h){"use strict";function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,n=g(n),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,o):{};n.get||n.set?Object.defineProperty(t,o,n):t[o]=e[o]}return t.default=e,t}(r),i=g(i),l=g(l),c=g(c),s=g(s),d=g(d),u=g(u),f=g(f),v=g(v),p=g(p),b=g(b),h=g(h);var y="#__vconsole",_=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i.default.one(y))console.debug("vConsole is already exists.");else{var o=this;if(this.version=n.default.version,this.$dom=null,this.isInited=!1,this.option={defaultPlugins:["system","network","element","storage"]},this.activedTab="",this.tabList=[],this.pluginList={},this.switchPos={x:10,y:10,startX:0,startY:0,endX:0,endY:0},this.tool=r,this.$=i.default,r.isObject(t))for(var a in t)this.option[a]=t[a];this._addBuiltInPlugins();var l,c=function(){o.isInited||(o._render(),o._mockTap(),o._bindEvent(),o._autoRun())};if(void 0!==document)"complete"==document.readyState?c():i.default.bind(window,"load",c);else l=setTimeout(function e(){document&&"complete"==document.readyState?(l&&clearTimeout(l),c()):l=setTimeout(e,1)},1)}}return t=e,(o=[{key:"_addBuiltInPlugins",value:function(){this.addPlugin(new f.default("default","Log"));var e=this.option.defaultPlugins,t={system:{proto:v.default,name:"System"},network:{proto:p.default,name:"Network"},element:{proto:b.default,name:"Element"},storage:{proto:h.default,name:"Storage"}};if(e&&r.isArray(e))for(var o=0;o<e.length;o++){var n=t[e[o]];n?this.addPlugin(new n.proto(e[o],n.name)):console.debug("Unrecognized default plugin ID:",e[o])}}},{key:"_render",value:function(){if(!i.default.one(y)){var e=document.createElement("div");e.innerHTML=l.default,document.documentElement.insertAdjacentElement("beforeend",e.children[0])}this.$dom=i.default.one(y);var t=i.default.one(".vc-switch",this.$dom),o=1*r.getStorage("switch_x"),n=1*r.getStorage("switch_y");(o||n)&&(o+t.offsetWidth>document.documentElement.offsetWidth&&(o=document.documentElement.offsetWidth-t.offsetWidth),n+t.offsetHeight>document.documentElement.offsetHeight&&(n=document.documentElement.offsetHeight-t.offsetHeight),o<0&&(o=0),n<0&&(n=0),this.switchPos.x=o,this.switchPos.y=n,i.default.one(".vc-switch").style.right=o+"px",i.default.one(".vc-switch").style.bottom=n+"px");var a=window.devicePixelRatio||1,c=document.querySelector('[name="viewport"]');if(c&&c.content){var s=c.content.match(/initial\-scale\=\d+(\.\d+)?/),d=s?parseFloat(s[0].split("=")[1]):1;d<1&&(this.$dom.style.fontSize=13*a+"px")}i.default.one(".vc-mask",this.$dom).style.display="none"}},{key:"_mockTap",value:function(){var e,t,o,n=!1,r=null;this.$dom.addEventListener("touchstart",function(n){if(void 0===e){var i=n.targetTouches[0];t=i.pageX,o=i.pageY,e=n.timeStamp,r=n.target.nodeType===Node.TEXT_NODE?n.target.parentNode:n.target}},!1),this.$dom.addEventListener("touchmove",function(e){var r=e.changedTouches[0];(Math.abs(r.pageX-t)>10||Math.abs(r.pageY-o)>10)&&(n=!0)}),this.$dom.addEventListener("touchend",function(t){if(!1===n&&t.timeStamp-e<700&&null!=r){var o=r.tagName.toLowerCase(),i=!1;switch(o){case"textarea":i=!0;break;case"input":switch(r.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":i=!1;break;default:i=!r.disabled&&!r.readOnly}}i?r.focus():t.preventDefault();var a=t.changedTouches[0],l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),l.forwardedTouchEvent=!0,l.initEvent("click",!0,!0),r.dispatchEvent(l)}e=void 0,n=!1,r=null},!1)}},{key:"_bindEvent",value:function(){var e=this,t=i.default.one(".vc-switch",e.$dom);i.default.bind(t,"touchstart",function(t){e.switchPos.startX=t.touches[0].pageX,e.switchPos.startY=t.touches[0].pageY}),i.default.bind(t,"touchend",function(t){e.switchPos.x=e.switchPos.endX,e.switchPos.y=e.switchPos.endY,e.switchPos.startX=0,e.switchPos.startY=0,e.switchPos.endX=0,e.switchPos.endY=0,r.setStorage("switch_x",e.switchPos.x),r.setStorage("switch_y",e.switchPos.y)}),i.default.bind(t,"touchmove",function(o){if(o.touches.length>0){var n=o.touches[0].pageX-e.switchPos.startX,r=o.touches[0].pageY-e.switchPos.startY,i=e.switchPos.x-n,a=e.switchPos.y-r;i+t.offsetWidth>document.documentElement.offsetWidth&&(i=document.documentElement.offsetWidth-t.offsetWidth),a+t.offsetHeight>document.documentElement.offsetHeight&&(a=document.documentElement.offsetHeight-t.offsetHeight),i<0&&(i=0),a<0&&(a=0),t.style.right=i+"px",t.style.bottom=a+"px",e.switchPos.endX=i,e.switchPos.endY=a,o.preventDefault()}}),i.default.bind(i.default.one(".vc-switch",e.$dom),"click",function(){e.show()}),i.default.bind(i.default.one(".vc-hide",e.$dom),"click",function(){e.hide()}),i.default.bind(i.default.one(".vc-mask",e.$dom),"click",function(t){if(t.target!=i.default.one(".vc-mask"))return!1;e.hide()}),i.default.delegate(i.default.one(".vc-tabbar",e.$dom),"click",".vc-tab",function(t){var o=this.dataset.tab;o!=e.activedTab&&e.showTab(o)}),i.default.bind(i.default.one(".vc-panel",e.$dom),"transitionend webkitTransitionEnd oTransitionEnd otransitionend",function(t){if(t.target!=i.default.one(".vc-panel"))return!1;i.default.hasClass(e.$dom,"vc-toggle")||(t.target.style.display="none")});var o=i.default.one(".vc-content",e.$dom),n=!1;i.default.bind(o,"touchstart",function(e){var t=o.scrollTop,r=o.scrollHeight,a=t+o.offsetHeight;0===t?(o.scrollTop=1,0===o.scrollTop&&(i.default.hasClass(e.target,"vc-cmd-input")||(n=!0))):a===r&&(o.scrollTop=t-1,o.scrollTop===t&&(i.default.hasClass(e.target,"vc-cmd-input")||(n=!0)))}),i.default.bind(o,"touchmove",function(e){n&&e.preventDefault()}),i.default.bind(o,"touchend",function(e){n=!1})}},{key:"_autoRun",value:function(){for(var e in this.isInited=!0,this.pluginList)this._initPlugin(this.pluginList[e]);this.tabList.length>0&&this.showTab(this.tabList[0]),this.triggerEvent("ready")}},{key:"triggerEvent",value:function(e,t){e="on"+e.charAt(0).toUpperCase()+e.slice(1),r.isFunction(this.option[e])&&this.option[e].apply(this,t)}},{key:"_initPlugin",value:function(e){var t=this;e.vConsole=this,e.trigger("init"),e.trigger("renderTab",function(o){t.tabList.push(e.id);var n=i.default.render(c.default,{id:e.id,name:e.name});i.default.one(".vc-tabbar",t.$dom).insertAdjacentElement("beforeend",n);var a=i.default.render(s.default,{id:e.id});o&&(r.isString(o)?a.innerHTML+=o:r.isFunction(o.appendTo)?o.appendTo(a):r.isElement(o)&&a.insertAdjacentElement("beforeend",o)),i.default.one(".vc-content",t.$dom).insertAdjacentElement("beforeend",a)}),e.trigger("addTopBar",function(o){if(o)for(var n=i.default.one(".vc-topbar",t.$dom),a=function(t){var a=o[t],l=i.default.render(d.default,{name:a.name||"Undefined",className:a.className||"",pluginID:e.id});if(a.data)for(var c in a.data)l.dataset[c]=a.data[c];r.isFunction(a.onClick)&&i.default.bind(l,"click",function(t){var o=a.onClick.call(l);!1===o||(i.default.removeClass(i.default.all(".vc-topbar-"+e.id),"vc-actived"),i.default.addClass(l,"vc-actived"))}),n.insertAdjacentElement("beforeend",l)},l=0;l<o.length;l++)a(l)}),e.trigger("addTool",function(o){if(o)for(var n=i.default.one(".vc-tool-last",t.$dom),a=function(t){var a=o[t],l=i.default.render(u.default,{name:a.name||"Undefined",pluginID:e.id});1==a.global&&i.default.addClass(l,"vc-global-tool"),r.isFunction(a.onClick)&&i.default.bind(l,"click",function(e){a.onClick.call(l)}),n.parentNode.insertBefore(l,n)},l=0;l<o.length;l++)a(l)}),e.isReady=!0,e.trigger("ready")}},{key:"_triggerPluginsEvent",value:function(e){for(var t in this.pluginList)this.pluginList[t].isReady&&this.pluginList[t].trigger(e)}},{key:"_triggerPluginEvent",value:function(e,t){var o=this.pluginList[e];o&&o.isReady&&o.trigger(t)}},{key:"addPlugin",value:function(e){return void 0!==this.pluginList[e.id]?(console.debug("Plugin "+e.id+" has already been added."),!1):(this.pluginList[e.id]=e,this.isInited&&(this._initPlugin(e),1==this.tabList.length&&this.showTab(this.tabList[0])),!0)}},{key:"removePlugin",value:function(e){e=(e+"").toLowerCase();var t=this.pluginList[e];if(void 0===t)return console.debug("Plugin "+e+" does not exist."),!1;if(t.trigger("remove"),this.isInited){var o=i.default.one("#__vc_tab_"+e);o&&o.parentNode.removeChild(o);for(var n=i.default.all(".vc-topbar-"+e,this.$dom),r=0;r<n.length;r++)n[r].parentNode.removeChild(n[r]);var a=i.default.one("#__vc_log_"+e);a&&a.parentNode.removeChild(a);for(var l=i.default.all(".vc-tool-"+e,this.$dom),c=0;c<l.length;c++)l[c].parentNode.removeChild(l[c])}var s=this.tabList.indexOf(e);s>-1&&this.tabList.splice(s,1);try{delete this.pluginList[e]}catch(t){this.pluginList[e]=void 0}return this.activedTab==e&&this.tabList.length>0&&this.showTab(this.tabList[0]),!0}},{key:"show",value:function(){if(this.isInited){var e=this,t=i.default.one(".vc-panel",this.$dom);t.style.display="block",setTimeout(function(){i.default.addClass(e.$dom,"vc-toggle"),e._triggerPluginsEvent("showConsole");var t=i.default.one(".vc-mask",e.$dom);t.style.display="block"},10)}}},{key:"hide",value:function(){if(this.isInited){i.default.removeClass(this.$dom,"vc-toggle"),this._triggerPluginsEvent("hideConsole");var e=i.default.one(".vc-mask",this.$dom),t=i.default.one(".vc-panel",this.$dom);i.default.bind(e,"transitionend",function(o){e.style.display="none",t.style.display="none"})}}},{key:"showSwitch",value:function(){if(this.isInited){var e=i.default.one(".vc-switch",this.$dom);e.style.display="block"}}},{key:"hideSwitch",value:function(){if(this.isInited){var e=i.default.one(".vc-switch",this.$dom);e.style.display="none"}}},{key:"showTab",value:function(e){if(this.isInited){var t=i.default.one("#__vc_log_"+e);i.default.removeClass(i.default.all(".vc-tab",this.$dom),"vc-actived"),i.default.addClass(i.default.one("#__vc_tab_"+e),"vc-actived"),i.default.removeClass(i.default.all(".vc-logbox",this.$dom),"vc-actived"),i.default.addClass(t,"vc-actived");var o=i.default.all(".vc-topbar-"+e,this.$dom);i.default.removeClass(i.default.all(".vc-toptab",this.$dom),"vc-toggle"),i.default.addClass(o,"vc-toggle"),o.length>0?i.default.addClass(i.default.one(".vc-content",this.$dom),"vc-has-topbar"):i.default.removeClass(i.default.one(".vc-content",this.$dom),"vc-has-topbar"),i.default.removeClass(i.default.all(".vc-tool",this.$dom),"vc-toggle"),i.default.addClass(i.default.all(".vc-tool-"+e,this.$dom),"vc-toggle"),this.activedTab&&this._triggerPluginEvent(this.activedTab,"hide"),this.activedTab=e,this._triggerPluginEvent(this.activedTab,"show")}}},{key:"setOption",value:function(e,t){if(r.isString(e))this.option[e]=t,this._triggerPluginsEvent("updateOption");else if(r.isObject(e)){for(var o in e)this.option[o]=e[o];this._triggerPluginsEvent("updateOption")}else console.debug("The first parameter of vConsole.setOption() must be a string or an object.")}},{key:"destroy",value:function(){if(this.isInited){for(var e=Object.keys(this.pluginList),t=e.length-1;t>=0;t--)this.removePlugin(e[t]);this.$dom.parentNode.removeChild(this.$dom)}}}])&&m(t.prototype,o),a&&m(t,a),e;var t,o,a}();o.default=_,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e){e.exports={name:"vconsole",version:"3.3.0",description:"A lightweight, extendable front-end developer tool for mobile web page.",homepage:"https://github.com/Tencent/vConsole",main:"dist/vconsole.min.js",scripts:{test:"mocha",dist:"webpack"},keywords:["console","debug","mobile"],repository:{type:"git",url:"git+https://github.com/Tencent/vConsole.git"},dependencies:{},devDependencies:{"@babel/core":"^7.2.2","@babel/plugin-proposal-class-properties":"^7.3.0","@babel/plugin-proposal-export-namespace-from":"^7.2.0","@babel/plugin-proposal-object-rest-spread":"^7.3.1","@babel/preset-env":"^7.3.1","babel-loader":"^8.0.4","babel-plugin-add-module-exports":"^1.0.0",chai:"^4.2.0","css-loader":"^2.1.0","html-loader":"^0.5.5",jsdom:"^13.2.0","json-loader":"^0.5.7",less:"^3.9.0","less-loader":"^4.1.0",mocha:"^5.2.0","style-loader":"^0.23.1",webpack:"^4.29.0","webpack-cli":"^3.2.1"},author:"Tencent",license:"MIT"}},function(e,t,o){var n,r,i;r=[t],void 0===(i="function"==typeof(n=function(o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(e,t,o){var n=/\{\{([^\}]+)\}\}/g,r="",i="",a=0,l=[],c=function(e,t){""!==e&&(t?e.match(/^ ?else/g)?r+="} "+e+" {\n":e.match(/\/(if|for|switch)/g)?r+="}\n":e.match(/^ ?if|for|switch/g)?r+=e+" {\n":e.match(/^ ?(break|continue) ?$/g)?r+=e+";\n":e.match(/^ ?(case|default)/g)?r+=e+":\n":r+="arr.push("+e+");\n":r+='arr.push("'+e.replace(/"/g,'\\"')+'");\n')};for(window.__mito_data=t,window.__mito_code="",window.__mito_result="",e=(e=e.replace(/(\{\{ ?switch(.+?)\}\})[\r\n\t ]+\{\{/g,"$1{{")).replace(/^[\r\n]/,"").replace(/\n/g,"\\\n").replace(/\r/g,"\\\r"),i="(function(){\n",r="var arr = [];\n";l=n.exec(e);)c(e.slice(a,l.index),!1),c(l[1],!0),a=l.index+l[0].length;c(e.substr(a,e.length-a),!1),i+=r="with (__mito_data) {\n"+(r+='__mito_result = arr.join("");')+"\n}",i+="})();";var s=document.getElementsByTagName("script"),d="";s.length>0&&(d=s[0].nonce||"");var u=document.createElement("SCRIPT");u.innerHTML=i,u.setAttribute("nonce",d),document.documentElement.appendChild(u);var f=__mito_result;if(document.documentElement.removeChild(u),!o){var v=document.createElement("DIV");v.innerHTML=f,f=v.children[0]}return f},e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t,o){var n=o(12);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};o(4)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,o){(e.exports=o(3)(!1)).push([e.i,'#__vconsole {\n  color: #000;\n  font-size: 13px;\n  font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n  /* global */\n  /* compoment */\n}\n#__vconsole .vc-max-height {\n  max-height: 19.23076923em;\n}\n#__vconsole .vc-max-height-line {\n  max-height: 3.38461538em;\n}\n#__vconsole .vc-min-height {\n  min-height: 3.07692308em;\n}\n#__vconsole dd,\n#__vconsole dl,\n#__vconsole pre {\n  margin: 0;\n}\n#__vconsole .vc-switch {\n  display: block;\n  position: fixed;\n  right: 0.76923077em;\n  bottom: 0.76923077em;\n  color: #FFF;\n  background-color: #04BE02;\n  line-height: 1;\n  font-size: 1.07692308em;\n  padding: 0.61538462em 1.23076923em;\n  z-index: 10000;\n  border-radius: 0.30769231em;\n  box-shadow: 0 0 0.61538462em rgba(0, 0, 0, 0.4);\n}\n#__vconsole .vc-mask {\n  display: none;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0);\n  z-index: 10001;\n  transition: background 0.3s;\n  -webkit-tap-highlight-color: transparent;\n  overflow-y: scroll;\n}\n#__vconsole .vc-panel {\n  display: none;\n  position: fixed;\n  min-height: 85%;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 10002;\n  background-color: #EFEFF4;\n  -webkit-transition: -webkit-transform 0.3s;\n  transition: -webkit-transform 0.3s;\n  transition: transform 0.3s;\n  transition: transform 0.3s, -webkit-transform 0.3s;\n  -webkit-transform: translate(0, 100%);\n  transform: translate(0, 100%);\n}\n#__vconsole .vc-tabbar {\n  border-bottom: 1px solid #D9D9D9;\n  overflow-x: auto;\n  height: 3em;\n  width: auto;\n  white-space: nowrap;\n}\n#__vconsole .vc-tabbar .vc-tab {\n  display: inline-block;\n  line-height: 3em;\n  padding: 0 1.15384615em;\n  border-right: 1px solid #D9D9D9;\n  text-decoration: none;\n  color: #000;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none;\n}\n#__vconsole .vc-tabbar .vc-tab:active {\n  background-color: rgba(0, 0, 0, 0.15);\n}\n#__vconsole .vc-tabbar .vc-tab.vc-actived {\n  background-color: #FFF;\n}\n#__vconsole .vc-content {\n  background-color: #FFF;\n  overflow-x: hidden;\n  overflow-y: auto;\n  position: absolute;\n  top: 3.07692308em;\n  left: 0;\n  right: 0;\n  bottom: 3.07692308em;\n  -webkit-overflow-scrolling: touch;\n  margin-bottom: constant(safe-area-inset-bottom);\n  margin-bottom: env(safe-area-inset-bottom);\n}\n#__vconsole .vc-content.vc-has-topbar {\n  top: 5.46153846em;\n}\n#__vconsole .vc-topbar {\n  background-color: #FBF9FE;\n  display: flex;\n  display: -webkit-box;\n  flex-direction: row;\n  flex-wrap: wrap;\n  -webkit-box-direction: row;\n  -webkit-flex-wrap: wrap;\n  width: 100%;\n}\n#__vconsole .vc-topbar .vc-toptab {\n  display: none;\n  flex: 1;\n  -webkit-box-flex: 1;\n  line-height: 2.30769231em;\n  padding: 0 1.15384615em;\n  border-bottom: 1px solid #D9D9D9;\n  text-decoration: none;\n  text-align: center;\n  color: #000;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none;\n}\n#__vconsole .vc-topbar .vc-toptab.vc-toggle {\n  display: block;\n}\n#__vconsole .vc-topbar .vc-toptab:active {\n  background-color: rgba(0, 0, 0, 0.15);\n}\n#__vconsole .vc-topbar .vc-toptab.vc-actived {\n  border-bottom: 1px solid #3e82f7;\n}\n#__vconsole .vc-logbox {\n  display: none;\n  position: relative;\n  min-height: 100%;\n}\n#__vconsole .vc-logbox i {\n  font-style: normal;\n}\n#__vconsole .vc-logbox .vc-log {\n  padding-bottom: 3em;\n  -webkit-tap-highlight-color: transparent;\n}\n#__vconsole .vc-logbox .vc-log:empty:before {\n  content: "Empty";\n  color: #999;\n  position: absolute;\n  top: 45%;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  font-size: 1.15384615em;\n  text-align: center;\n}\n#__vconsole .vc-logbox .vc-item {\n  margin: 0;\n  padding: 0.46153846em 0.61538462em;\n  overflow: hidden;\n  line-height: 1.3;\n  border-bottom: 1px solid #EEE;\n  word-break: break-word;\n}\n#__vconsole .vc-logbox .vc-item-info {\n  color: #6A5ACD;\n}\n#__vconsole .vc-logbox .vc-item-debug {\n  color: #DAA520;\n}\n#__vconsole .vc-logbox .vc-item-warn {\n  color: #FFA500;\n  border-color: #FFB930;\n  background-color: #FFFACD;\n}\n#__vconsole .vc-logbox .vc-item-error {\n  color: #DC143C;\n  border-color: #F4A0AB;\n  background-color: #FFE4E1;\n}\n#__vconsole .vc-logbox .vc-log.vc-log-partly .vc-item {\n  display: none;\n}\n#__vconsole .vc-logbox .vc-log.vc-log-partly-log .vc-item-log,\n#__vconsole .vc-logbox .vc-log.vc-log-partly-info .vc-item-info,\n#__vconsole .vc-logbox .vc-log.vc-log-partly-warn .vc-item-warn,\n#__vconsole .vc-logbox .vc-log.vc-log-partly-error .vc-item-error {\n  display: block;\n}\n#__vconsole .vc-logbox .vc-item .vc-item-content {\n  margin-right: 4.61538462em;\n  display: inline-block;\n}\n#__vconsole .vc-logbox .vc-item .vc-item-repeat {\n  display: inline-block;\n  margin-right: 0.30769231em;\n  padding: 0 6.5px;\n  color: #D7E0EF;\n  background-color: #42597F;\n  border-radius: 8.66666667px;\n}\n#__vconsole .vc-logbox .vc-item.vc-item-error .vc-item-repeat {\n  color: #901818;\n  background-color: #DC2727;\n}\n#__vconsole .vc-logbox .vc-item.vc-item-warn .vc-item-repeat {\n  color: #987D20;\n  background-color: #F4BD02;\n}\n#__vconsole .vc-logbox .vc-item .vc-item-code {\n  display: block;\n  white-space: pre-wrap;\n  overflow: auto;\n  position: relative;\n}\n#__vconsole .vc-logbox .vc-item .vc-item-code.vc-item-code-input,\n#__vconsole .vc-logbox .vc-item .vc-item-code.vc-item-code-output {\n  padding-left: 0.92307692em;\n}\n#__vconsole .vc-logbox .vc-item .vc-item-code.vc-item-code-input:before,\n#__vconsole .vc-logbox .vc-item .vc-item-code.vc-item-code-output:before {\n  content: "›";\n  position: absolute;\n  top: -0.23076923em;\n  left: 0;\n  font-size: 1.23076923em;\n  color: #6A5ACD;\n}\n#__vconsole .vc-logbox .vc-item .vc-item-code.vc-item-code-output:before {\n  content: "‹";\n}\n#__vconsole .vc-logbox .vc-item .vc-fold {\n  display: block;\n  overflow: auto;\n  -webkit-overflow-scrolling: touch;\n}\n#__vconsole .vc-logbox .vc-item .vc-fold .vc-fold-outer {\n  display: block;\n  font-style: italic;\n  padding-left: 0.76923077em;\n  position: relative;\n}\n#__vconsole .vc-logbox .vc-item .vc-fold .vc-fold-outer:active {\n  background-color: #E6E6E6;\n}\n#__vconsole .vc-logbox .vc-item .vc-fold .vc-fold-outer:before {\n  content: "";\n  position: absolute;\n  top: 0.30769231em;\n  left: 0.15384615em;\n  width: 0;\n  height: 0;\n  border: transparent solid 0.30769231em;\n  border-left-color: #000;\n}\n#__vconsole .vc-logbox .vc-item .vc-fold .vc-fold-outer.vc-toggle:before {\n  top: 0.46153846em;\n  left: 0;\n  border-top-color: #000;\n  border-left-color: transparent;\n}\n#__vconsole .vc-logbox .vc-item .vc-fold .vc-fold-inner {\n  display: none;\n  margin-left: 0.76923077em;\n}\n#__vconsole .vc-logbox .vc-item .vc-fold .vc-fold-inner.vc-toggle {\n  display: block;\n}\n#__vconsole .vc-logbox .vc-item .vc-fold .vc-fold-inner .vc-code-key {\n  margin-left: 0.76923077em;\n}\n#__vconsole .vc-logbox .vc-item .vc-fold .vc-fold-outer .vc-code-key {\n  margin-left: 0;\n}\n#__vconsole .vc-logbox .vc-code-key {\n  color: #905;\n}\n#__vconsole .vc-logbox .vc-code-private-key {\n  color: #D391B5;\n}\n#__vconsole .vc-logbox .vc-code-function {\n  color: #905;\n  font-style: italic;\n}\n#__vconsole .vc-logbox .vc-code-number,\n#__vconsole .vc-logbox .vc-code-boolean {\n  color: #0086B3;\n}\n#__vconsole .vc-logbox .vc-code-string {\n  color: #183691;\n}\n#__vconsole .vc-logbox .vc-code-null,\n#__vconsole .vc-logbox .vc-code-undefined {\n  color: #666;\n}\n#__vconsole .vc-logbox .vc-cmd {\n  position: absolute;\n  height: 3.07692308em;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  border-top: 1px solid #D9D9D9;\n  display: block!important;\n}\n#__vconsole .vc-logbox .vc-cmd .vc-cmd-input-wrap {\n  display: block;\n  height: 2.15384615em;\n  margin-right: 3.07692308em;\n  padding: 0.46153846em 0.61538462em;\n}\n#__vconsole .vc-logbox .vc-cmd .vc-cmd-input {\n  width: 100%;\n  border: none;\n  resize: none;\n  outline: none;\n  padding: 0;\n  font-size: 0.92307692em;\n}\n#__vconsole .vc-logbox .vc-cmd .vc-cmd-input::-webkit-input-placeholder {\n  line-height: 2.15384615em;\n}\n#__vconsole .vc-logbox .vc-cmd .vc-cmd-btn {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  width: 3.07692308em;\n  border: none;\n  background-color: #EFEFF4;\n  outline: none;\n  -webkit-touch-callout: none;\n  font-size: 1em;\n}\n#__vconsole .vc-logbox .vc-cmd .vc-cmd-btn:active {\n  background-color: rgba(0, 0, 0, 0.15);\n}\n#__vconsole .vc-logbox .vc-cmd .vc-cmd-prompted {\n  position: fixed;\n  width: 100%;\n  background-color: #FBF9FE;\n  border: 1px solid #D9D9D9;\n  overflow-x: scroll;\n  display: none;\n}\n#__vconsole .vc-logbox .vc-cmd .vc-cmd-prompted li {\n  list-style: none;\n  line-height: 30px;\n  padding: 0 0.46153846em;\n  border-bottom: 1px solid #D9D9D9;\n}\n#__vconsole .vc-logbox .vc-group .vc-group-preview {\n  -webkit-touch-callout: none;\n}\n#__vconsole .vc-logbox .vc-group .vc-group-preview:active {\n  background-color: #E6E6E6;\n}\n#__vconsole .vc-logbox .vc-group .vc-group-detail {\n  display: none;\n  padding: 0 0 0.76923077em 1.53846154em;\n  border-bottom: 1px solid #EEE;\n}\n#__vconsole .vc-logbox .vc-group.vc-actived .vc-group-detail {\n  display: block;\n  background-color: #FBF9FE;\n}\n#__vconsole .vc-logbox .vc-group.vc-actived .vc-table-row {\n  background-color: #FFF;\n}\n#__vconsole .vc-logbox .vc-group.vc-actived .vc-group-preview {\n  background-color: #FBF9FE;\n}\n#__vconsole .vc-logbox .vc-table .vc-table-row {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  -webkit-box-direction: row;\n  -webkit-flex-wrap: wrap;\n  overflow: hidden;\n  border-bottom: 1px solid #EEE;\n}\n#__vconsole .vc-logbox .vc-table .vc-table-row.vc-left-border {\n  border-left: 1px solid #EEE;\n}\n#__vconsole .vc-logbox .vc-table .vc-table-col {\n  flex: 1;\n  -webkit-box-flex: 1;\n  padding: 0.23076923em 0.30769231em;\n  border-left: 1px solid #EEE;\n  overflow: auto;\n  white-space: pre-wrap;\n  word-break: break-word;\n  /*white-space: nowrap;\n        text-overflow: ellipsis;*/\n  -webkit-overflow-scrolling: touch;\n}\n#__vconsole .vc-logbox .vc-table .vc-table-col:first-child {\n  border: none;\n}\n#__vconsole .vc-logbox .vc-table .vc-small .vc-table-col {\n  padding: 0 0.30769231em;\n  font-size: 0.92307692em;\n}\n#__vconsole .vc-logbox .vc-table .vc-table-col-2 {\n  flex: 2;\n  -webkit-box-flex: 2;\n}\n#__vconsole .vc-logbox .vc-table .vc-table-col-3 {\n  flex: 3;\n  -webkit-box-flex: 3;\n}\n#__vconsole .vc-logbox .vc-table .vc-table-col-4 {\n  flex: 4;\n  -webkit-box-flex: 4;\n}\n#__vconsole .vc-logbox .vc-table .vc-table-col-5 {\n  flex: 5;\n  -webkit-box-flex: 5;\n}\n#__vconsole .vc-logbox .vc-table .vc-table-col-6 {\n  flex: 6;\n  -webkit-box-flex: 6;\n}\n#__vconsole .vc-logbox .vc-table .vc-table-row-error {\n  border-color: #F4A0AB;\n  background-color: #FFE4E1;\n}\n#__vconsole .vc-logbox .vc-table .vc-table-row-error .vc-table-col {\n  color: #DC143C;\n  border-color: #F4A0AB;\n}\n#__vconsole .vc-logbox .vc-table .vc-table-col-title {\n  font-weight: bold;\n}\n#__vconsole .vc-logbox.vc-actived {\n  display: block;\n}\n#__vconsole .vc-toolbar {\n  border-top: 1px solid #D9D9D9;\n  line-height: 3em;\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  display: -webkit-box;\n  flex-direction: row;\n  -webkit-box-direction: row;\n}\n#__vconsole .vc-toolbar .vc-tool {\n  display: none;\n  text-decoration: none;\n  color: #000;\n  width: 50%;\n  flex: 1;\n  -webkit-box-flex: 1;\n  text-align: center;\n  position: relative;\n  -webkit-touch-callout: none;\n}\n#__vconsole .vc-toolbar .vc-tool.vc-toggle,\n#__vconsole .vc-toolbar .vc-tool.vc-global-tool {\n  display: block;\n}\n#__vconsole .vc-toolbar .vc-tool:active {\n  background-color: rgba(0, 0, 0, 0.15);\n}\n#__vconsole .vc-toolbar .vc-tool:after {\n  content: " ";\n  position: absolute;\n  top: 0.53846154em;\n  bottom: 0.53846154em;\n  right: 0;\n  border-left: 1px solid #D9D9D9;\n}\n#__vconsole .vc-toolbar .vc-tool-last:after {\n  border: none;\n}\n@supports (bottom: constant(safe-area-inset-bottom)) or (bottom: env(safe-area-inset-bottom)) {\n  #__vconsole .vc-toolbar,\n  #__vconsole .vc-switch {\n    bottom: constant(safe-area-inset-bottom);\n    bottom: env(safe-area-inset-bottom);\n  }\n}\n#__vconsole.vc-toggle .vc-switch {\n  display: none;\n}\n#__vconsole.vc-toggle .vc-mask {\n  background: rgba(0, 0, 0, 0.6);\n  display: block;\n}\n#__vconsole.vc-toggle .vc-panel {\n  -webkit-transform: translate(0, 0);\n  transform: translate(0, 0);\n}\n',""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var o=t.protocol+"//"+t.host,n=o+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(r=0===i.indexOf("//")?i:0===i.indexOf("/")?o+i:n+i.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(e,t){e.exports='<div id="__vconsole" class="">\n  <div class="vc-switch">vConsole</div>\n  <div class="vc-mask">\n  </div>\n  <div class="vc-panel">\n    <div class="vc-tabbar">\n    </div>\n    <div class="vc-topbar">\n    </div>\n    <div class="vc-content">\n    </div>\n    <div class="vc-toolbar">\n      <a class="vc-tool vc-global-tool vc-tool-last vc-hide">Hide</a>\n    </div>\n  </div>\n</div>'},function(e,t){e.exports='<a class="vc-tab" data-tab="{{id}}" id="__vc_tab_{{id}}">{{name}}</a>'},function(e,t){e.exports='<div class="vc-logbox" id="__vc_log_{{id}}">\n  \n</div>'},function(e,t){e.exports='<a class="vc-toptab vc-topbar-{{pluginID}}{{if (className)}} {{className}}{{/if}}">{{name}}</a>'},function(e,t){e.exports='<a class="vc-tool vc-tool-{{pluginID}}">{{name}}</a>'},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,factory;factory=function(_exports,_query,tool,_log,_tabbox_default,_item_code){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,o):{};n.get||n.set?Object.defineProperty(t,o,n):t[o]=e[o]}return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _get(e,t,o){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,o){var n=_superPropBase(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(o):r.value}})(e,t,o||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_query=_interopRequireDefault(_query),tool=_interopRequireWildcard(tool),_log=_interopRequireDefault(_log),_tabbox_default=_interopRequireDefault(_tabbox_default),_item_code=_interopRequireDefault(_item_code);var VConsoleDefaultTab=function(_VConsoleLogTab){function VConsoleDefaultTab(){var e,t;_classCallCheck(this,VConsoleDefaultTab);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=_possibleConstructorReturn(this,(e=_getPrototypeOf(VConsoleDefaultTab)).call.apply(e,[this].concat(n)))).tplTabbox=_tabbox_default.default,t}return _inherits(VConsoleDefaultTab,_VConsoleLogTab),_createClass(VConsoleDefaultTab,[{key:"onReady",value:function onReady(){var that=this;_get(_getPrototypeOf(VConsoleDefaultTab.prototype),"onReady",this).call(this),window.winKeys=Object.getOwnPropertyNames(window).sort(),window.keyTypes={};for(var i=0;i<winKeys.length;i++)keyTypes[winKeys[i]]=_typeof(window[winKeys[i]]);var cacheObj={},ID_REGEX=/[a-zA-Z_0-9\$\-\u00A2-\uFFFF]/,retrievePrecedingIdentifier=function(e,t,o){o=o||ID_REGEX;for(var n=[],r=t-1;r>=0&&o.test(e[r]);r--)n.push(e[r]);if(0==n.length){o=/\./;for(var i=t-1;i>=0&&o.test(e[i]);i--)n.push(e[i])}if(0===n.length){var a=e.match(/[\(\)\[\]\{\}]/gi)||[];return a[a.length-1]}return n.reverse().join("")};_query.default.bind(_query.default.one(".vc-cmd-input"),"keyup",function(e){var isDeleteKeyCode=8===e.keyCode||46===e.keyCode,$prompted=_query.default.one(".vc-cmd-prompted");$prompted.style.display="none",$prompted.innerHTML="";var tempValue=this.value,value=retrievePrecedingIdentifier(this.value,this.value.length);if(value&&value.length>0){if(/\(/.test(value)&&!isDeleteKeyCode)return void(_query.default.one(".vc-cmd-input").value+=")");if(/\[/.test(value)&&!isDeleteKeyCode)return void(_query.default.one(".vc-cmd-input").value+="]");if(/\{/.test(value)&&!isDeleteKeyCode)return void(_query.default.one(".vc-cmd-input").value+="}");if("."===value){var key=retrievePrecedingIdentifier(tempValue,tempValue.length-1);if(!cacheObj[key])try{cacheObj[key]=Object.getOwnPropertyNames(eval("("+key+")")).sort()}catch(e){}try{for(var _i3=0;_i3<cacheObj[key].length;_i3++){var $li=document.createElement("li"),_key=cacheObj[key][_i3];$li.innerHTML=_key,$li.onclick=function(){_query.default.one(".vc-cmd-input").value="",_query.default.one(".vc-cmd-input").value=tempValue+this.innerHTML,$prompted.style.display="none"},$prompted.appendChild($li)}}catch(e){}}else if("."!==value.substring(value.length-1)&&value.indexOf(".")<0){for(var _i4=0;_i4<winKeys.length;_i4++)if(winKeys[_i4].toLowerCase().indexOf(value.toLowerCase())>=0){var _$li=document.createElement("li");_$li.innerHTML=winKeys[_i4],_$li.onclick=function(){_query.default.one(".vc-cmd-input").value="",_query.default.one(".vc-cmd-input").value=this.innerHTML,"function"==keyTypes[this.innerHTML]&&(_query.default.one(".vc-cmd-input").value+="()"),$prompted.style.display="none"},$prompted.appendChild(_$li)}}else{var arr=value.split(".");if(cacheObj[arr[0]]){cacheObj[arr[0]].sort();for(var _i5=0;_i5<cacheObj[arr[0]].length;_i5++){var _$li2=document.createElement("li"),_key3=cacheObj[arr[0]][_i5];_key3.indexOf(arr[1])>=0&&(_$li2.innerHTML=_key3,_$li2.onclick=function(){_query.default.one(".vc-cmd-input").value="",_query.default.one(".vc-cmd-input").value=tempValue+this.innerHTML,$prompted.style.display="none"},$prompted.appendChild(_$li2))}}}if($prompted.children.length>0){var m=Math.min(200,31*$prompted.children.length);$prompted.style.display="block",$prompted.style.height=m+"px",$prompted.style.marginTop=-m+"px"}}else $prompted.style.display="none"}),_query.default.bind(_query.default.one(".vc-cmd",this.$tabbox),"submit",function(e){e.preventDefault();var t=_query.default.one(".vc-cmd-input",e.target),o=t.value;t.value="",""!==o&&that.evalCommand(o);var n=_query.default.one(".vc-cmd-prompted");n&&(n.style.display="none")});var code="";code+="if (!!window) {",code+="window.__vConsole_cmd_result = undefined;",code+="window.__vConsole_cmd_error = false;",code+="}";var scriptList=document.getElementsByTagName("script"),nonce="";scriptList.length>0&&(nonce=scriptList[0].nonce||"");var script=document.createElement("SCRIPT");script.innerHTML=code,script.setAttribute("nonce",nonce),document.documentElement.appendChild(script),document.documentElement.removeChild(script)}},{key:"mockConsole",value:function(){_get(_getPrototypeOf(VConsoleDefaultTab.prototype),"mockConsole",this).call(this);var e=this;tool.isFunction(window.onerror)&&(this.windowOnError=window.onerror),window.onerror=function(t,o,n,r,i){var a=t;o&&(a+="\n"+o.replace(location.origin,"")),(n||r)&&(a+=":"+n+":"+r);var l=!!i&&!!i.stack&&i.stack.toString()||"";e.printLog({logType:"error",logs:[a,l],noOrigin:!0}),tool.isFunction(e.windowOnError)&&e.windowOnError.call(window,t,o,n,r,i)}}},{key:"evalCommand",value:function(e){this.printLog({logType:"log",content:_query.default.render(_item_code.default,{content:e,type:"input"}),style:""});var t,o=void 0;try{o=eval.call(window,"("+e+")")}catch(t){try{o=eval.call(window,e)}catch(e){}}tool.isArray(o)||tool.isObject(o)?t=this.getFoldedLine(o):(tool.isNull(o)?o="null":tool.isUndefined(o)?o="undefined":tool.isFunction(o)?o="function()":tool.isString(o)&&(o='"'+o+'"'),t=_query.default.render(_item_code.default,{content:o,type:"output"})),this.printLog({logType:"log",content:t,style:""}),window.winKeys=Object.getOwnPropertyNames(window).sort()}}]),VConsoleDefaultTab}(_log.default),_default=VConsoleDefaultTab;_exports.default=_default,module.exports=exports.default},__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__(1),__webpack_require__(0),__webpack_require__(5),__webpack_require__(23),__webpack_require__(24)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=factory)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(e,t){e.exports='<div id="{{_id}}" class="vc-item vc-item-{{logType}} {{style}}">\n\t<div class="vc-item-content"></div>\n</div>'},function(e,t){e.exports='<div class="vc-fold">\n  {{if (lineType == \'obj\')}}\n    <i class="vc-fold-outer">{{outer}}</i>\n    <div class="vc-fold-inner"></div>\n  {{else if (lineType == \'value\')}}\n    <i class="vc-code-{{valueType}}">{{value}}</i>\n  {{else if (lineType == \'kv\')}}\n    <i class="vc-code-key{{if (keyType)}} vc-code-{{keyType}}-key{{/if}}">{{key}}</i>: <i class="vc-code-{{valueType}}">{{value}}</i>\n  {{/if}}\n</div>'},function(e,t){e.exports='<span>\n  <i class="vc-code-key{{if (keyType)}} vc-code-{{keyType}}-key{{/if}}">{{key}}</i>: <i class="vc-code-{{valueType}}">{{value}}</i>\n</span>'},function(e,t){e.exports='<div>\n  <div class="vc-log"></div>\n  <form class="vc-cmd">\n    <button class="vc-cmd-btn" type="submit">OK</button>\n    <ul class=\'vc-cmd-prompted\'></ul>\n    <div class="vc-cmd-input-wrap">\n      <textarea class="vc-cmd-input" placeholder="command..."></textarea>\n    </div>\n  </form>\n</div>'},function(e,t){e.exports='<pre class="vc-item-code vc-item-code-{{type}}">{{content}}</pre>'},function(e,t,o){var n,r,i;r=[t,o(5),o(26)],void 0===(i="function"==typeof(n=function(o,n,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e,t,o){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,o){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(o):r.value}})(e,t,o||e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,n=i(n),r=i(r);var f=function(e){function t(){var e,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(o=c(this,(e=d(t)).call.apply(e,[this].concat(i)))).tplTabbox=r.default,o.allowUnformattedLog=!1,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),o=t,(n=[{key:"onInit",value:function(){s(d(t.prototype),"onInit",this).call(this),this.printSystemInfo()}},{key:"printSystemInfo",value:function(){var e=navigator.userAgent,t="",o=e.match(/(ipod).*\s([\d_]+)/i),n=e.match(/(ipad).*\s([\d_]+)/i),r=e.match(/(iphone)\sos\s([\d_]+)/i),i=e.match(/(android)\s([\d\.]+)/i);t="Unknown",i?t="Android "+i[2]:r?t="iPhone, iOS "+r[2].replace(/_/g,"."):n?t="iPad, iOS "+n[2].replace(/_/g,"."):o&&(t="iPod, iOS "+o[2].replace(/_/g,"."));var a=t,l=e.match(/MicroMessenger\/([\d\.]+)/i);t="Unknown",l&&l[1]?(t=l[1],a+=", WeChat "+t,console.info("[system]","System:",a)):console.info("[system]","System:",a),t="Unknown",t="https:"==location.protocol?"HTTPS":"http:"==location.protocol?"HTTP":location.protocol.replace(":",""),a=t;var c=e.toLowerCase().match(/ nettype\/([^ ]+)/g);t="Unknown",c&&c[0]?(c=c[0].split("/"),t=c[1],a+=", "+t,console.info("[system]","Network:",a)):console.info("[system]","Protocol:",a),console.info("[system]","UA:",e),setTimeout(function(){var e=window.performance||window.msPerformance||window.webkitPerformance;if(e&&e.timing){var t=e.timing;t.navigationStart&&console.info("[system]","navigationStart:",t.navigationStart),t.navigationStart&&t.domainLookupStart&&console.info("[system]","navigation:",t.domainLookupStart-t.navigationStart+"ms"),t.domainLookupEnd&&t.domainLookupStart&&console.info("[system]","dns:",t.domainLookupEnd-t.domainLookupStart+"ms"),t.connectEnd&&t.connectStart&&(t.connectEnd&&t.secureConnectionStart?console.info("[system]","tcp (ssl):",t.connectEnd-t.connectStart+"ms ("+(t.connectEnd-t.secureConnectionStart)+"ms)"):console.info("[system]","tcp:",t.connectEnd-t.connectStart+"ms")),t.responseStart&&t.requestStart&&console.info("[system]","request:",t.responseStart-t.requestStart+"ms"),t.responseEnd&&t.responseStart&&console.info("[system]","response:",t.responseEnd-t.responseStart+"ms"),t.domComplete&&t.domLoading&&(t.domContentLoadedEventStart&&t.domLoading?console.info("[system]","domComplete (domLoaded):",t.domComplete-t.domLoading+"ms ("+(t.domContentLoadedEventStart-t.domLoading)+"ms)"):console.info("[system]","domComplete:",t.domComplete-t.domLoading+"ms")),t.loadEventEnd&&t.loadEventStart&&console.info("[system]","loadEvent:",t.loadEventEnd-t.loadEventStart+"ms"),t.navigationStart&&t.loadEventEnd&&console.info("[system]","total (DOM):",t.loadEventEnd-t.navigationStart+"ms ("+(t.domComplete-t.navigationStart)+"ms)")}},0)}}])&&l(o.prototype,n),i&&l(o,i),t;var o,n,i}(n.default);o.default=f,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports='<div>\n  <div class="vc-log"></div>\n</div>'},function(e,t,o){var n,r,i;r=[t,o(1),o(0),o(2),o(28),o(29),o(30)],void 0===(i="function"==typeof(n=function(o,n,r,i,a,l,c){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,n=s(n),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,o):{};n.get||n.set?Object.defineProperty(t,o,n):t[o]=e[o]}return t.default=e,t}(r),i=s(i),a=s(a),l=s(l),c=s(c);var b=function(e){function t(){var e,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(o=f(this,(e=v(t)).call.apply(e,[this].concat(i)))).$tabbox=n.default.render(a.default,{}),o.$header=null,o.reqList={},o.domList={},o.isReady=!1,o.isShow=!1,o.isInBottom=!0,o._open=void 0,o._send=void 0,o.mockAjax(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),o=t,(i=[{key:"onRenderTab",value:function(e){e(this.$tabbox)}},{key:"onAddTool",value:function(e){var t=this,o=[{name:"Clear",global:!1,onClick:function(e){t.clearLog()}}];e(o)}},{key:"onReady",value:function(){var e=this;e.isReady=!0,this.renderHeader(),n.default.delegate(n.default.one(".vc-log",this.$tabbox),"click",".vc-group-preview",function(t){var o=this.dataset.reqid,r=this.parentNode;n.default.hasClass(r,"vc-actived")?(n.default.removeClass(r,"vc-actived"),e.updateRequest(o,{actived:!1})):(n.default.addClass(r,"vc-actived"),e.updateRequest(o,{actived:!0})),t.preventDefault()});var t=n.default.one(".vc-content");for(var o in n.default.bind(t,"scroll",function(o){e.isShow&&(t.scrollTop+t.offsetHeight>=t.scrollHeight?e.isInBottom=!0:e.isInBottom=!1)}),e.reqList)e.updateRequest(o,{})}},{key:"onRemove",value:function(){window.XMLHttpRequest&&(window.XMLHttpRequest.prototype.open=this._open,window.XMLHttpRequest.prototype.send=this._send,this._open=void 0,this._send=void 0)}},{key:"onShow",value:function(){this.isShow=!0,1==this.isInBottom&&this.scrollToBottom()}},{key:"onHide",value:function(){this.isShow=!1}},{key:"onShowConsole",value:function(){1==this.isInBottom&&this.scrollToBottom()}},{key:"scrollToBottom",value:function(){var e=n.default.one(".vc-content");e.scrollTop=e.scrollHeight-e.offsetHeight}},{key:"clearLog",value:function(){for(var e in this.reqList={},this.domList)this.domList[e].remove(),this.domList[e]=void 0;this.domList={},this.renderHeader()}},{key:"renderHeader",value:function(){var e=Object.keys(this.reqList).length,t=n.default.render(l.default,{count:e}),o=n.default.one(".vc-log",this.$tabbox);this.$header?this.$header.parentNode.replaceChild(t,this.$header):o.parentNode.insertBefore(t,o),this.$header=t}},{key:"updateRequest",value:function(e,t){var o=Object.keys(this.reqList).length,i=this.reqList[e]||{};for(var a in t)i[a]=t[a];if(this.reqList[e]=i,this.isReady){var l={id:e,url:i.url,status:i.status,method:i.method||"-",costTime:i.costTime>0?i.costTime+"ms":"-",header:i.header||null,getData:i.getData||null,postData:i.postData||null,response:null,actived:!!i.actived};switch(i.responseType){case"":case"text":if(r.isString(i.response))try{l.response=JSON.parse(i.response),l.response=JSON.stringify(l.response,null,1),l.response=r.htmlEncode(l.response)}catch(e){l.response=r.htmlEncode(i.response)}else void 0!==i.response&&(l.response=Object.prototype.toString.call(i.response));break;case"json":void 0!==i.response&&(l.response=JSON.stringify(i.response,null,1),l.response=r.htmlEncode(l.response));break;case"blob":case"document":case"arraybuffer":default:void 0!==i.response&&(l.response=Object.prototype.toString.call(i.response))}0==i.readyState||1==i.readyState?l.status="Pending":2==i.readyState||3==i.readyState?l.status="Loading":4==i.readyState||(l.status="Unknown");var s=n.default.render(c.default,l),d=this.domList[e];i.status>=400&&n.default.addClass(n.default.one(".vc-group-preview",s),"vc-table-row-error"),d?d.parentNode.replaceChild(s,d):n.default.one(".vc-log",this.$tabbox).insertAdjacentElement("beforeend",s),this.domList[e]=s;var u=Object.keys(this.reqList).length;u!=o&&this.renderHeader(),this.isInBottom&&this.scrollToBottom()}}},{key:"mockAjax",value:function(){var e=window.XMLHttpRequest;if(e){var t=this,o=window.XMLHttpRequest.prototype.open,n=window.XMLHttpRequest.prototype.send;t._open=o,t._send=n,window.XMLHttpRequest.prototype.open=function(){var e=this,n=[].slice.call(arguments),r=n[0],i=n[1],a=t.getUniqueID(),l=null;e._requestID=a,e._method=r,e._url=i;var c=e.onreadystatechange||function(){},s=function(){var o=t.reqList[a]||{};if(o.readyState=e.readyState,o.status=0,e.readyState>1&&(o.status=e.status),o.responseType=e.responseType,0==e.readyState)o.startTime||(o.startTime=+new Date);else if(1==e.readyState)o.startTime||(o.startTime=+new Date);else if(2==e.readyState){o.header={};for(var n=e.getAllResponseHeaders()||"",r=n.split("\n"),i=0;i<r.length;i++){var s=r[i];if(s){var d=s.split(": "),u=d[0],f=d.slice(1).join(": ");o.header[u]=f}}}else 3==e.readyState||(4==e.readyState?(clearInterval(l),o.endTime=+new Date,o.costTime=o.endTime-(o.startTime||o.endTime),o.response=e.response):clearInterval(l));return e._noVConsole||t.updateRequest(a,o),c.apply(e,arguments)};e.onreadystatechange=s;var d=-1;return l=setInterval(function(){d!=e.readyState&&(d=e.readyState,s.call(e))},10),o.apply(e,n)},window.XMLHttpRequest.prototype.send=function(){var e=[].slice.call(arguments),o=e[0],i=t.reqList[this._requestID]||{};i.method=this._method.toUpperCase();var a=this._url.split("?");if(i.url=a.shift(),a.length>0){i.getData={},a=(a=a.join("?")).split("&");var l=!0,c=!1,s=void 0;try{for(var d,u=a[Symbol.iterator]();!(l=(d=u.next()).done);l=!0){var f=d.value;f=f.split("="),i.getData[f[0]]=f[1]}}catch(e){c=!0,s=e}finally{try{l||null==u.return||u.return()}finally{if(c)throw s}}}if("POST"==i.method)if(r.isString(o)){var v=o.split("&");i.postData={};var p=!0,b=!1,h=void 0;try{for(var g,m=v[Symbol.iterator]();!(p=(g=m.next()).done);p=!0){var y=g.value;y=y.split("="),i.postData[y[0]]=y[1]}}catch(e){b=!0,h=e}finally{try{p||null==m.return||m.return()}finally{if(b)throw h}}}else r.isPlainObject(o)&&(i.postData=o);return this._noVConsole||t.updateRequest(this._requestID,i),n.apply(this,e)}}}},{key:"getUniqueID",value:function(){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,o="x"==e?t:3&t|8;return o.toString(16)});return e}}])&&u(o.prototype,i),s&&u(o,s),t;var o,i,s}(i.default);o.default=b,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports='<div class="vc-table">\n  <div class="vc-log"></div>\n</div>'},function(e,t){e.exports='<dl class="vc-table-row">\n  <dd class="vc-table-col vc-table-col-4">Name {{if (count > 0)}}({{count}}){{/if}}</dd>\n  <dd class="vc-table-col">Method</dd>\n  <dd class="vc-table-col">Status</dd>\n  <dd class="vc-table-col">Time</dd>\n</dl>'},function(e,t){e.exports='<div class="vc-group {{actived ? \'vc-actived\' : \'\'}}">\n  <dl class="vc-table-row vc-group-preview" data-reqid="{{id}}">\n    <dd class="vc-table-col vc-table-col-4">{{url}}</dd>\n    <dd class="vc-table-col">{{method}}</dd>\n    <dd class="vc-table-col">{{status}}</dd>\n    <dd class="vc-table-col">{{costTime}}</dd>\n  </dl>\n  <div class="vc-group-detail">\n    {{if (header !== null)}}\n    <div>\n      <dl class="vc-table-row vc-left-border">\n        <dt class="vc-table-col vc-table-col-title">Headers</dt>\n      </dl>\n      {{for (var key in header)}}\n      <div class="vc-table-row vc-left-border vc-small">\n        <div class="vc-table-col vc-table-col-2">{{key}}</div>\n        <div class="vc-table-col vc-table-col-4 vc-max-height-line">{{header[key]}}</div>\n      </div>\n      {{/for}}\n    </div>\n    {{/if}}\n    {{if (getData !== null)}}\n    <div>\n      <dl class="vc-table-row vc-left-border">\n        <dt class="vc-table-col vc-table-col-title">Query String Parameters</dt>\n      </dl>\n      {{for (var key in getData)}}\n      <div class="vc-table-row vc-left-border vc-small">\n        <div class="vc-table-col vc-table-col-2">{{key}}</div>\n        <div class="vc-table-col vc-table-col-4 vc-max-height-line">{{getData[key]}}</div>\n      </div>\n      {{/for}}\n    </div>\n    {{/if}}\n    {{if (postData !== null)}}\n    <div>\n      <dl class="vc-table-row vc-left-border">\n        <dt class="vc-table-col vc-table-col-title">Form Data</dt>\n      </dl>\n      {{for (var key in postData)}}\n      <div class="vc-table-row vc-left-border vc-small">\n        <div class="vc-table-col vc-table-col-2">{{key}}</div>\n        <div class="vc-table-col vc-table-col-4 vc-max-height-line">{{postData[key]}}</div>\n      </div>\n      {{/for}}\n    </div>\n    {{/if}}\n    <div>\n      <dl class="vc-table-row vc-left-border">\n        <dt class="vc-table-col vc-table-col-title">Response</dt>\n      </dl>\n      <div class="vc-table-row vc-left-border vc-small">\n        <pre class="vc-table-col vc-max-height vc-min-height">{{response || \'\'}}</pre>\n      </div>\n    </div>\n  </div>\n</div>'},function(e,t,o){var n,r,i;r=[t,o(32),o(2),o(34),o(35),o(0),o(1)],void 0===(i="function"==typeof(n=function(o,n,r,i,a,l,c){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=s(r),i=s(i),a=s(a),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,o):{};n.get||n.set?Object.defineProperty(t,o,n):t[o]=e[o]}return t.default=e,t}(l),c=s(c);var b=function(e){function t(){var e,o,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];n=this,r=(e=f(t)).call.apply(e,[this].concat(l)),o=!r||"object"!==d(r)&&"function"!=typeof r?p(n):r;var u=p(p(o));u.isInited=!1,u.node={},u.$tabbox=c.default.render(i.default,{}),u.nodes=[],u.activedElem={};var v=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;return u.observer=new v(function(e){for(var t=0;t<e.length;t++){var o=e[t];u._isInVConsole(o.target)||u.onMutation(o)}}),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),o=t,(n=[{key:"onRenderTab",value:function(e){e(this.$tabbox)}},{key:"onAddTool",value:function(e){var t=this,o=[{name:"Expand",global:!1,onClick:function(e){if(t.activedElem)if(c.default.hasClass(t.activedElem,"vc-toggle"))for(var o=0;o<t.activedElem.childNodes.length;o++){var n=t.activedElem.childNodes[o];if(c.default.hasClass(n,"vcelm-l")&&!c.default.hasClass(n,"vcelm-noc")&&!c.default.hasClass(n,"vc-toggle")){c.default.one(".vcelm-node",n).click();break}}else c.default.one(".vcelm-node",t.activedElem).click()}},{name:"Collapse",global:!1,onClick:function(e){t.activedElem&&(c.default.hasClass(t.activedElem,"vc-toggle")?c.default.one(".vcelm-node",t.activedElem).click():t.activedElem.parentNode&&c.default.hasClass(t.activedElem.parentNode,"vcelm-l")&&c.default.one(".vcelm-node",t.activedElem.parentNode).click())}}];e(o)}},{key:"onShow",value:function(){if(!this.isInited){this.isInited=!0,this.node=this.getNode(document.documentElement);var e=this.renderView(this.node,c.default.one(".vc-log",this.$tabbox)),t=c.default.one(".vcelm-node",e);t&&t.click(),this.observer.observe(document.documentElement,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}}},{key:"onRemove",value:function(){this.observer.disconnect()}},{key:"onMutation",value:function(e){switch(e.type){case"childList":e.removedNodes.length>0&&this.onChildRemove(e),e.addedNodes.length>0&&this.onChildAdd(e);break;case"attributes":this.onAttributesChange(e);break;case"characterData":this.onCharacterDataChange(e)}}},{key:"onChildRemove",value:function(e){var t=e.target,o=t.__vconsole_node;if(o){for(var n=0;n<e.removedNodes.length;n++){var r=e.removedNodes[n],i=r.__vconsole_node;i&&i.view&&i.view.parentNode.removeChild(i.view)}this.getNode(t)}}},{key:"onChildAdd",value:function(e){var t=e.target,o=t.__vconsole_node;if(o){this.getNode(t),o.view&&c.default.removeClass(o.view,"vcelm-noc");for(var n=0;n<e.addedNodes.length;n++){var r=e.addedNodes[n],i=r.__vconsole_node;if(i)if(null!==e.nextSibling){var a=e.nextSibling.__vconsole_node;a.view&&this.renderView(i,a.view,"insertBefore")}else o.view&&(o.view.lastChild?this.renderView(i,o.view.lastChild,"insertBefore"):this.renderView(i,o.view))}}}},{key:"onAttributesChange",value:function(e){var t=e.target.__vconsole_node;t&&(t=this.getNode(e.target)).view&&this.renderView(t,t.view,!0)}},{key:"onCharacterDataChange",value:function(e){var t=e.target.__vconsole_node;t&&(t=this.getNode(e.target)).view&&this.renderView(t,t.view,!0)}},{key:"renderView",value:function(e,t,o){var n=this,r=new a.default(e).get();switch(e.view=r,c.default.delegate(r,"click",".vcelm-node",function(t){t.stopPropagation();var o=this.parentNode;if(!c.default.hasClass(o,"vcelm-noc")){n.activedElem=o,c.default.hasClass(o,"vc-toggle")?c.default.removeClass(o,"vc-toggle"):c.default.addClass(o,"vc-toggle");for(var r=-1,i=0;i<o.children.length;i++){var a=o.children[i];c.default.hasClass(a,"vcelm-l")&&(r++,a.children.length>0||(e.childNodes[r]?n.renderView(e.childNodes[r],a,"replace"):a.style.display="none"))}}}),o){case"replace":t.parentNode.replaceChild(r,t);break;case"insertBefore":t.parentNode.insertBefore(r,t);break;default:t.appendChild(r)}return r}},{key:"getNode",value:function(e){if(!this._isIgnoredElement(e)){var t=e.__vconsole_node||{};if(t.nodeType=e.nodeType,t.nodeName=e.nodeName,t.tagName=e.tagName||"",t.textContent="",t.nodeType!=e.TEXT_NODE&&t.nodeType!=e.DOCUMENT_TYPE_NODE||(t.textContent=e.textContent),t.id=e.id||"",t.className=e.className||"",t.attributes=[],e.hasAttributes&&e.hasAttributes())for(var o=0;o<e.attributes.length;o++)t.attributes.push({name:e.attributes[o].name,value:e.attributes[o].value||""});if(t.childNodes=[],e.childNodes.length>0)for(var n=0;n<e.childNodes.length;n++){var r=this.getNode(e.childNodes[n]);r&&t.childNodes.push(r)}return e.__vconsole_node=t,t}}},{key:"_isIgnoredElement",value:function(e){return e.nodeType==e.TEXT_NODE&&""==e.textContent.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$|\n+/g,"")}},{key:"_isInVConsole",value:function(e){for(var t=e;null!=t;){if("__vconsole"==t.id)return!0;t=t.parentNode||void 0}return!1}}])&&u(o.prototype,n),r&&u(o,r),t;var o,n,r}(r.default);o.default=b,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t,o){var n=o(33);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};o(4)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,o){(e.exports=o(3)(!1)).push([e.i,'/* color */\n.vcelm-node {\n  color: #183691;\n}\n.vcelm-k {\n  color: #0086B3;\n}\n.vcelm-v {\n  color: #905;\n}\n/* layout */\n.vcelm-l {\n  padding-left: 8px;\n  position: relative;\n  word-wrap: break-word;\n  line-height: 1;\n}\n/*.vcelm-l.vcelm-noc {\n  padding-left: 0;\n}*/\n.vcelm-l.vc-toggle > .vcelm-node {\n  display: block;\n}\n.vcelm-l .vcelm-node:active {\n  background-color: rgba(0, 0, 0, 0.15);\n}\n.vcelm-l.vcelm-noc .vcelm-node:active {\n  background-color: transparent;\n}\n.vcelm-t {\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n/* level */\n.vcelm-l .vcelm-l {\n  display: none;\n}\n.vcelm-l.vc-toggle > .vcelm-l {\n  margin-left: 4px;\n  display: block;\n}\n/* arrow */\n.vcelm-l:before {\n  content: "";\n  display: block;\n  position: absolute;\n  top: 6px;\n  left: 3px;\n  width: 0;\n  height: 0;\n  border: transparent solid 3px;\n  border-left-color: #000;\n}\n.vcelm-l.vc-toggle:before {\n  display: block;\n  top: 6px;\n  left: 0;\n  border-top-color: #000;\n  border-left-color: transparent;\n}\n.vcelm-l.vcelm-noc:before {\n  display: none;\n}\n',""])},function(e,t){e.exports='<div>\n  <div class="vc-log"></div>\n</div>'},function(e,t,o){var n,r,i;r=[t,o(36),o(37),o(0),o(1)],void 0===(i="function"==typeof(n=function(o,n,r,i,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,n=l(n),r=l(r),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,o):{};n.get||n.set?Object.defineProperty(t,o,n):t[o]=e[o]}return t.default=e,t}(i),a=l(a);var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.node=t,this.view=this._create(this.node)}return t=e,(o=[{key:"get",value:function(){return this.view}},{key:"_create",value:function(e,t){var o=document.createElement("DIV");switch(a.default.addClass(o,"vcelm-l"),e.nodeType){case o.ELEMENT_NODE:this._createElementNode(e,o);break;case o.TEXT_NODE:this._createTextNode(e,o);break;case o.COMMENT_NODE:case o.DOCUMENT_NODE:case o.DOCUMENT_TYPE_NODE:case o.DOCUMENT_FRAGMENT_NODE:}return o}},{key:"_createTextNode",value:function(e,t){a.default.addClass(t,"vcelm-t vcelm-noc"),e.textContent&&t.appendChild(function(e){return document.createTextNode(e)}(e.textContent.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")))}},{key:"_createElementNode",value:function(e,t){var o,i=(o=(o=e.tagName)?o.toLowerCase():"",["br","hr","img","input","link","meta"].indexOf(o)>-1),l=i;0==e.childNodes.length&&(l=!0);var c=a.default.render(n.default,{node:e}),s=a.default.render(r.default,{node:e});if(l)a.default.addClass(t,"vcelm-noc"),t.appendChild(c),i||t.appendChild(s);else{t.appendChild(c);for(var d=0;d<e.childNodes.length;d++){var u=document.createElement("DIV");a.default.addClass(u,"vcelm-l"),t.appendChild(u)}i||t.appendChild(s)}}}])&&c(t.prototype,o),i&&c(t,i),e;var t,o,i}();o.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports='<span class="vcelm-node">&lt;{{node.tagName.toLowerCase()}}{{if (node.className || node.attributes.length)}}\n  <i class="vcelm-k">\n    {{for (var i = 0; i < node.attributes.length; i++)}}\n      {{if (node.attributes[i].value !== \'\')}}\n        {{node.attributes[i].name}}="<i class="vcelm-v">{{node.attributes[i].value}}</i>"{{else}}\n        {{node.attributes[i].name}}{{/if}}{{/for}}</i>{{/if}}&gt;</span>'},function(e,t){e.exports='<span class="vcelm-node">&lt;/{{node.tagName.toLowerCase()}}&gt;</span>'},function(e,t,o){var n,r,i;r=[t,o(2),o(39),o(40),o(0),o(1)],void 0===(i="function"==typeof(n=function(o,n,r,i,a,l){"use strict";function c(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,n=c(n),r=c(r),i=c(i),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,o):{};n.get||n.set?Object.defineProperty(t,o,n):t[o]=e[o]}return t.default=e,t}(a),l=c(l);var p=function(e){function t(){var e,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(o=u(this,(e=f(t)).call.apply(e,[this].concat(i)))).$tabbox=l.default.render(r.default,{}),o.currentType="",o.typeNameMap={cookies:"Cookies",localstorage:"LocalStorage",sessionstorage:"SessionStorage"},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),o=t,(n=[{key:"onRenderTab",value:function(e){e(this.$tabbox)}},{key:"onAddTopBar",value:function(e){for(var t=this,o=["Cookies","LocalStorage","SessionStorage"],n=[],r=0;r<o.length;r++)n.push({name:o[r],data:{type:o[r].toLowerCase()},className:"",onClick:function(){if(l.default.hasClass(this,"vc-actived"))return!1;t.currentType=this.dataset.type,t.renderStorage()}});n[0].className="vc-actived",e(n)}},{key:"onAddTool",value:function(e){var t=this,o=[{name:"Refresh",global:!1,onClick:function(e){t.renderStorage()}},{name:"Clear",global:!1,onClick:function(e){t.clearLog()}}];e(o)}},{key:"onReady",value:function(){}},{key:"onShow",value:function(){""==this.currentType&&(this.currentType="cookies",this.renderStorage())}},{key:"clearLog",value:function(){if(this.currentType&&window.confirm){var e=window.confirm("Remove all "+this.typeNameMap[this.currentType]+"?");if(!e)return!1}switch(this.currentType){case"cookies":this.clearCookieList();break;case"localstorage":this.clearLocalStorageList();break;case"sessionstorage":this.clearSessionStorageList();break;default:return!1}this.renderStorage()}},{key:"renderStorage",value:function(){var e=[];switch(this.currentType){case"cookies":e=this.getCookieList();break;case"localstorage":e=this.getLocalStorageList();break;case"sessionstorage":e=this.getSessionStorageList();break;default:return!1}var t=l.default.one(".vc-log",this.$tabbox);if(0==e.length)t.innerHTML="";else{for(var o=0;o<e.length;o++)e[o].name=a.htmlEncode(e[o].name),e[o].value=a.htmlEncode(e[o].value);t.innerHTML=l.default.render(i.default,{list:e},!0)}}},{key:"getCookieList",value:function(){if(!document.cookie||!navigator.cookieEnabled)return[];for(var e=[],t=document.cookie.split(";"),o=0;o<t.length;o++){var n=t[o].split("="),r=n.shift().replace(/^ /,""),i=n.join("=");try{r=decodeURIComponent(r),i=decodeURIComponent(i)}catch(e){console.log(e,r,i)}e.push({name:r,value:i})}return e}},{key:"getLocalStorageList",value:function(){if(!window.localStorage)return[];try{for(var e=[],t=0;t<localStorage.length;t++){var o=localStorage.key(t),n=localStorage.getItem(o);e.push({name:o,value:n})}return e}catch(e){return[]}}},{key:"getSessionStorageList",value:function(){if(!window.sessionStorage)return[];try{for(var e=[],t=0;t<sessionStorage.length;t++){var o=sessionStorage.key(t),n=sessionStorage.getItem(o);e.push({name:o,value:n})}return e}catch(e){return[]}}},{key:"clearCookieList",value:function(){if(document.cookie&&navigator.cookieEnabled){for(var e=this.getCookieList(),t=0;t<e.length;t++)document.cookie=e[t].name+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT";this.renderStorage()}}},{key:"clearLocalStorageList",value:function(){if(window.localStorage)try{localStorage.clear(),this.renderStorage()}catch(e){alert("localStorage.clear() fail.")}}},{key:"clearSessionStorageList",value:function(){if(window.sessionStorage)try{sessionStorage.clear(),this.renderStorage()}catch(e){alert("sessionStorage.clear() fail.")}}}])&&d(o.prototype,n),c&&d(o,c),t;var o,n,c}(n.default);o.default=p,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports='<div class="vc-table">\n  <div class="vc-log"></div>\n</div>'},function(e,t){e.exports='<div>\n  <dl class="vc-table-row">\n    <dd class="vc-table-col">Name</dd>\n    <dd class="vc-table-col vc-table-col-2">Value</dd>\n  </dl>\n  {{for (var i = 0; i < list.length; i++)}}\n  <dl class="vc-table-row">\n    <dd class="vc-table-col">{{list[i].name}}</dd>\n    <dd class="vc-table-col vc-table-col-2">{{list[i].value}}</dd>\n  </dl>\n  {{/for}}\n</div>'}])});
},{}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var Director_1 = require("./core/view/Director");
var Facade_1 = require("./core/mvc/Facade");
var Constant_1 = require("./Constant");
var StartupCmd_1 = require("./cmd/StartupCmd");
var Updater_1 = require("./core/Updater");
var App = /** @class */ (function (_super) {
    tslib_1.__extends(App, _super);
    function App() {
        var _this = _super.call(this) || this;
        _this.ui = new Director_1.default();
        _this.updater = new Updater_1.default();
        return _this;
    }
    App.startup = function () {
        var app = new App;
        Object.defineProperty(window, 'app', { get: function () { return app; }, configurable: true });
        app.registCommand(Constant_1.Constant.Notify.startup, StartupCmd_1.StartupCmd);
        app.notify(Constant_1.Constant.Notify.startup);
    };
    Object.defineProperty(App.prototype, "vibrateEnable", {
        get: function () { return +localStorage.getItem("can_vibrate") == 1; },
        set: function (bo) { localStorage.setItem("can_vibrate", bo ? "1" : "0"); },
        enumerable: true,
        configurable: true
    });
    App.prototype.vibrate = function (duration) {
        if (duration === void 0) { duration = 1000; }
        if (!("vibrate" in navigator))
            return;
        if (!this.vibrateEnable)
            return;
        navigator.vibrate(duration);
    };
    return App;
}(Facade_1.Facade));
exports.default = App;

},{"./Constant":6,"./cmd/StartupCmd":9,"./core/Updater":16,"./core/mvc/Facade":22,"./core/view/Director":25,"tslib":3}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Constant;
(function (Constant) {
    var Notify;
    (function (Notify) {
        Notify["startup"] = "startup";
    })(Notify = Constant.Notify || (Constant.Notify = {}));
    var Analytics;
    (function (Analytics) {
        Analytics["level_begin"] = "level_begin";
        Analytics["level_end"] = "level_end";
        Analytics["continue_show"] = "continue_show";
        Analytics["continue_click"] = "continue_click";
    })(Analytics = Constant.Analytics || (Constant.Analytics = {}));
})(Constant = exports.Constant || (exports.Constant = {}));

},{}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var CircleProgressScript_1 = require("./script/CircleProgressScript");
var ButtonScript_1 = require("./script/ButtonScript");
var RankItemRender_1 = require("./view/RankItemRender");
var RotateScript_1 = require("./script/RotateScript");
var FullScreenScript_1 = require("./script/FullScreenScript");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("script/CircleProgressScript.ts", CircleProgressScript_1.default);
        reg("script/ButtonScript.ts", ButtonScript_1.default);
        reg("view/RankItemRender.ts", RankItemRender_1.default);
        reg("script/RotateScript.ts", RotateScript_1.default);
        reg("script/FullScreenScript.ts", FullScreenScript_1.default);
    };
    GameConfig.width = 640;
    GameConfig.height = 1136;
    GameConfig.scaleMode = "fixedheight";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "center";
    GameConfig.startScene = "share/ShareChallenge.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();

},{"./script/ButtonScript":50,"./script/CircleProgressScript":51,"./script/FullScreenScript":52,"./script/RotateScript":53,"./view/RankItemRender":64}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("ts-polyfill");
require("./core/extension");
require("./core/LayaExtra");
var GameConfig_1 = require("./GameConfig");
var App_1 = require("./App");
var PlatformFactory_1 = require("./platform/PlatformFactory");
var VConsole = require("vconsole");
var Main = /** @class */ (function () {
    function Main() {
        var config = new window["Config3D"]();
        config.isAlpha = true;
        // Config.isAlpha = true;
        //根据IDE设置初始化引擎	
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height, config);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya.stage.bgColor = null;
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = false;
        this.checkConsole_();
        PlatformFactory_1.PlatformFactory.startup();
        App_1.default.startup();
        // document.body.style.backgroundColor = `linear-gradient( to bottom, #red, #blue);`
        // //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        // Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.checkConsole_ = function () {
        var click_count = 0;
        var timer = 0;
        var key = "dvdvdvd";
        var isDev = !$sys_release || localStorage.getItem(key) == "true";
        Laya.stage.on(Laya.Event.MOUSE_DOWN, this, function (e) {
            if (!e.touches || e.touches.length < 2)
                return;
            if (e.stageX < Laya.stage.width - 50 || e.stageY >= 50)
                return;
            click_count++;
            clearTimeout(timer);
            timer = setTimeout(function () {
                if (click_count >= 5) {
                    isDev = !isDev;
                    localStorage.setItem(key, isDev ? "true" : "false");
                    app.ui.toast("Success:" + isDev);
                }
                click_count = 0;
            }, 200);
        });
        if (isDev) {
            if (Laya.Browser.onMobile) {
                var vconsole = new VConsole();
                vconsole.show();
            }
        }
        else {
            console.log = function () { };
        }
    };
    return Main;
}());
//激活启动类
new Main();

},{"./App":5,"./GameConfig":7,"./core/LayaExtra":14,"./core/extension":21,"./platform/PlatformFactory":46,"ts-polyfill":2,"vconsole":4}],9:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var LayaUtils_1 = require("../core/LayaUtils");
var layaMaxUI_1 = require("../ui/layaMaxUI");
var Game_1 = require("../game/Game");
var GameHelper_1 = require("../core/GameHelper");
var StartupCmd = /** @class */ (function () {
    function StartupCmd() {
    }
    StartupCmd.prototype.excute = function (data) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var loadingView, loadingPromise, scene, scenePromise, iads, rads, game;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        loadingPromise = LayaUtils_1.LayaUtils.loadResAsync([
                            "loading/bg_loading.jpg",
                            "res/atlas/loading.atlas",
                            "res/atlas/rank.atlas"
                        ], function (progress) { })
                            .then(function () {
                            var view = new layaMaxUI_1.ui.view.SplashUI();
                            view.width = Laya.stage.width;
                            view.height = Laya.stage.height;
                            Laya.stage.addChild(view);
                            loadingView = view;
                        });
                        scenePromise = LayaUtils_1.LayaUtils.createResAsync("res/scene/Conventional/main.ls", (function (progress) { }))
                            .then(function (_scene) {
                            scene = _scene;
                        });
                        return [4 /*yield*/, Promise.all([
                                loadingPromise,
                                scenePromise,
                                platform.initialize(),
                                LayaUtils_1.LayaUtils.loadResAsync([
                                    "res/atlas/comp.atlas",
                                    "res/atlas/game.atlas",
                                ], function (progress) { return $sys_progress = progress; })
                            ])];
                    case 1:
                        _a.sent();
                        iads = [
                            "2298527883768766_2298529910435230",
                            "2298527883768766_2298529603768594"
                        ];
                        rads = [
                            "2298527883768766_2298529477101940",
                            "2298527883768766_2298529347101953"
                        ];
                        if (platform.appId == "309008946478086") {
                            iads = [
                                "309008946478086_309011306477850",
                                "309008946478086_309011353144512",
                                "309008946478086_309011426477838"
                            ],
                                rads = [
                                    "309008946478086_309011493144498",
                                    "309008946478086_309011539811160",
                                    "309008946478086_309011599811154"
                                ];
                        }
                        else if (platform.appId == "257395441815477") {
                            // rad_any,257395441815477_264943187727369,,Frist,
                            // rad_low,257395441815477_264943151060706,,Frist,
                            // rad_high,257395441815477_264943091060712,,Frist,
                            // iad_any,257395441815477_264943027727385,,Frist,
                            // iad_low,257395441815477_264942967727391,,Frist,
                            // iad_high,257395441815477_264942911060730,,Frist,
                            iads = [
                                "257395441815477_264942911060730",
                                "257395441815477_264942967727391",
                                "257395441815477_264943027727385"
                            ],
                                rads = [
                                    "257395441815477_264943091060712",
                                    "257395441815477_264943151060706",
                                    "257395441815477_264943187727369"
                                ];
                        }
                        return [4 /*yield*/, platform.startGame(iads, rads)];
                    case 2:
                        _a.sent();
                        app.ui.stage3d_.addChild(scene);
                        game = scene.addComponent(Game_1.Game);
                        Laya.stage.on(Laya.Event.MOUSE_DOWN, null, function () {
                            game.onPress_(true);
                            Laya.stage.once(Laya.Event.MOUSE_UP, null, function () {
                                game.onPress_(false);
                            });
                        });
                        return [4 /*yield*/, this.checkBotAndShortCut()];
                    case 3:
                        _a.sent();
                        loadingView.removeSelf();
                        GameHelper_1.GameHelper.onGameReady();
                        Laya.stage.screenAdaptationEnabled = false;
                        return [2 /*return*/];
                }
            });
        });
    };
    StartupCmd.prototype.checkBotAndShortCut = function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var e_1;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 3, , 4]);
                        return [4 /*yield*/, platform.subscribeBotAsync()];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, platform.createShortcutAsync()];
                    case 2:
                        _a.sent();
                        return [3 /*break*/, 4];
                    case 3:
                        e_1 = _a.sent();
                        console.log("bot subscribe/shortcut error", e_1);
                        return [3 /*break*/, 4];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    return StartupCmd;
}());
exports.StartupCmd = StartupCmd;

},{"../core/GameHelper":13,"../core/LayaUtils":15,"../game/Game":34,"../ui/layaMaxUI":59,"tslib":3}],10:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Color = /** @class */ (function () {
    function Color(r, g, b, a) {
        if (r === void 0) { r = 1; }
        if (g === void 0) { g = 1; }
        if (b === void 0) { b = 1; }
        if (a === void 0) { a = 1; }
        this.r = r;
        this.g = g;
        this.b = b;
        this.a = a;
    }
    Color.prototype.setHex = function (hex) {
        hex = Math.floor(hex);
        this.a = (hex >> 24 & 255) / 255;
        this.r = (hex >> 16 & 255) / 255;
        this.g = (hex >> 8 & 255) / 255;
        this.b = (hex & 255) / 255;
        return this;
    };
    Color.prototype.getHex = function () {
        return ((this.a * 255) << 24 ^ (this.r * 255) << 16 ^ (this.g * 255) << 8 ^ (this.b * 255) << 0) >>> 0;
    };
    Color.prototype.getHexString = function () {
        var str = ('00000000' + this.getHex().toString(16)).slice(-8);
        return "#" + str;
    };
    Color.prototype.getRGBHexString = function () {
        var str = ('000000' + this.getHex().toString(16)).slice(-6);
        return "#" + str;
    };
    Color.prototype.toV4 = function () {
        return new Laya.Vector4(this.r, this.g, this.b, this.a);
    };
    Color.Lerp = function (start, end, t) {
        var a = start.a + (end.a - start.a) * t;
        var r = start.r + (end.r - start.r) * t;
        var g = start.g + (end.g - start.g) * t;
        var b = start.b + (end.b - start.b) * t;
        return new Color(r, g, b, a);
    };
    Color.white = new Color(1, 1, 1);
    Color.black = new Color(0, 0, 0);
    Color.red = new Color(1, 0, 0);
    return Color;
}());
exports.Color = Color;

},{}],11:[function(require,module,exports){
"use strict";
/**
 * Author:terran
 * Email:terran.tian@foxmail.com
 *
 * Time:上午9:56 2016年12月17日
**/
Object.defineProperty(exports, "__esModule", { value: true });
var Emiter = /** @class */ (function () {
    function Emiter() {
        this.maps = {};
        this.uid = 0;
        this._duringEmit = false;
    }
    Emiter.prototype.add = function (name, handler, thisObject, priority, isOnce) {
        thisObject = thisObject || null;
        priority = priority || 0;
        var queue_id = this.uid++;
        var item = this.maps[name] || [];
        item.push([queue_id, handler, thisObject, priority, isOnce]);
        this.maps[name] = item;
        //倒序
        item.sort(function (a, b) { return a[3] < b[3]; });
        return queue_id;
    };
    Emiter.prototype.on = function (name, handler, thisObject, priority) { return this.add(name, handler, thisObject, priority, false); };
    Emiter.prototype.once = function (name, handler, thisObject, priority) { return this.add(name, handler, thisObject, priority, true); };
    Emiter.prototype.race = function (names, handler, thisObject, priority) {
        var _this = this;
        var events = [];
        var hasDone = false;
        var call = function (name) {
            var args = [];
            for (var _i = 1; _i < arguments.length; _i++) {
                args[_i - 1] = arguments[_i];
            }
            hasDone = true;
            //$dev && console.log(events);
            events.forEach(function (item) { return _this.rm(item[0], item[1]); });
            handler.apply(thisObject, [name].concat(args));
        };
        var _loop_1 = function (name_1) {
            if (hasDone)
                return "break";
            events.push([this_1.once(name_1, function () { return call(name_1); }, thisObject, priority), name_1]);
        };
        var this_1 = this;
        for (var _i = 0, names_1 = names; _i < names_1.length; _i++) {
            var name_1 = names_1[_i];
            var state_1 = _loop_1(name_1);
            if (state_1 === "break")
                break;
        }
    };
    Emiter.prototype.rm = function (id, name) {
        var names = name ? [name] : Object.keys(this.maps);
        for (var _i = 0, names_2 = names; _i < names_2.length; _i++) {
            var name_2 = names_2[_i];
            var handlers = this.maps[name_2];
            if (!handlers)
                continue;
            if (this._duringEmit) {
                this.maps[name_2] = handlers = handlers.concat();
            }
            var index = 0;
            while (index < handlers.length) {
                var _a = handlers[index], queue_id = _a[0], handler = _a[1], thisObject = _a[2], priority = _a[3], isOnce = _a[4];
                if (queue_id == id) {
                    handlers.splice(index, 1);
                    return true;
                }
                else {
                    index++;
                }
            }
        }
        return false;
    };
    Emiter.prototype.rmall = function (name) {
        if (name == undefined)
            this.maps = {};
        else
            delete this.maps[name];
    };
    Emiter.prototype.emit = function (name, data) {
        var handlers = this.maps[name];
        if (handlers && handlers.length > 0) {
            var index = 0;
            while (index < handlers.length) {
                var _a = handlers[index], queue_id = _a[0], handler = _a[1], thisObject = _a[2], priority = _a[3], isOnce = _a[4];
                isOnce ? handlers.splice(index, 1) : index++;
                this._duringEmit = true;
                var result = handler.call(thisObject, data);
                this._duringEmit = false;
                if (result == Emiter.CONST.break)
                    break;
            }
            return true;
        }
        return false;
    };
    Emiter.CONST = { break: {} };
    return Emiter;
}());
exports.Emiter = Emiter;

},{}],12:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var Entity = /** @class */ (function (_super) {
    tslib_1.__extends(Entity, _super);
    function Entity() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Object.defineProperty(Entity.prototype, "base", {
        get: function () {
            return this.owner;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Entity.prototype, "transform", {
        get: function () {
            return this.base.transform;
        },
        enumerable: true,
        configurable: true
    });
    Entity.prototype.getComponent_ = function (a) {
        return this.base.getComponent(a);
    };
    return Entity;
}(Laya.Script3D));
exports.Entity = Entity;

},{"tslib":3}],13:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var FBPlatform_1 = require("../platform/FBPlatform");
var GameStats_1 = require("../game/GameStats");
var Utils_1 = require("./Utils");
var GameHelper;
(function (GameHelper) {
    var recomends = [];
    function onGameReady() {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var currentContextId, arr, entry;
            return tslib_1.__generator(this, function (_a) {
                if (!(platform instanceof FBPlatform_1.FBPlatform))
                    return [2 /*return*/];
                currentContextId = platform.getContextId();
                arr = platform.remoteData.contextIds.filter(function (v) { return v != currentContextId; }).map(function (v) { return { type: 0, id: v }; });
                platform.getFriends().forEach(function (v) {
                    arr.push({ type: 1, id: v.id });
                });
                arr.shuffle();
                recomends = arr;
                entry = platform.entry;
                if (entry != "challenge_request" && entry != "challenge_result" && entry != "challenge_request_share") {
                    watchContext();
                }
                return [2 /*return*/];
            });
        });
    }
    GameHelper.onGameReady = onGameReady;
    function requestContext(withChoose) {
        if (withChoose === void 0) { withChoose = true; }
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var bo, recomend;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        bo = false;
                        if (!(recomends.length > 0)) return [3 /*break*/, 4];
                        recomend = recomends.pop();
                        if (!(recomend.type == 0)) return [3 /*break*/, 2];
                        return [4 /*yield*/, platform.switchAsync(recomend.id, "request_context")];
                    case 1:
                        bo = _a.sent();
                        return [3 /*break*/, 4];
                    case 2: return [4 /*yield*/, platform.createAsync(recomend.id, "request_context")];
                    case 3:
                        bo = _a.sent();
                        _a.label = 4;
                    case 4:
                        if (!(!bo && withChoose)) return [3 /*break*/, 6];
                        return [4 /*yield*/, platform.chooseAsync(void 0, void 0, void 0, "request_context")];
                    case 5:
                        bo = _a.sent();
                        _a.label = 6;
                    case 6: return [2 /*return*/, bo];
                }
            });
        });
    }
    GameHelper.requestContext = requestContext;
    var _lastContextId = null;
    var _contextLeaderBoard = null;
    var _lastContextualScore = 25;
    function watchContext() {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var playerName, contextId, rankName, contextIds, entry, e_1, curScore, e_2;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        playerName = FBInstant.player.getName();
                        _a.label = 1;
                    case 1:
                        if (!true) return [3 /*break*/, 15];
                        contextId = FBInstant.context.getID();
                        if (!contextId) return [3 /*break*/, 13];
                        rankName = "ncontext." + contextId;
                        if (!(contextId != _lastContextId)) return [3 /*break*/, 8];
                        console.log("context changed");
                        contextIds = platform.remoteData.contextIds;
                        if (contextIds.indexOf(contextId) == -1) {
                            contextIds.push(contextId);
                            platform.remoteData.isDirty = true;
                        }
                        _a.label = 2;
                    case 2:
                        _a.trys.push([2, 7, , 8]);
                        _lastContextId = contextId;
                        return [4 /*yield*/, FBInstant.getLeaderboardAsync(rankName)];
                    case 3:
                        _contextLeaderBoard = _a.sent();
                        return [4 /*yield*/, _contextLeaderBoard.getPlayerEntryAsync()];
                    case 4:
                        entry = _a.sent();
                        _lastContextualScore = entry ? entry.getScore() : 25;
                        return [4 /*yield*/, _contextLeaderBoard.setScoreAsync(_lastContextualScore, "")];
                    case 5:
                        _a.sent();
                        return [4 /*yield*/, FBInstant.updateAsync({ action: 'LEADERBOARD', name: rankName, text: playerName + " played this game" })];
                    case 6:
                        _a.sent();
                        return [3 /*break*/, 8];
                    case 7:
                        e_1 = _a.sent();
                        console.log("rank msg failed:", e_1);
                        return [3 /*break*/, 8];
                    case 8:
                        curScore = GameStats_1.GameStats.inst_.scores || 0;
                        if (!(_contextLeaderBoard && curScore > _lastContextualScore)) return [3 /*break*/, 13];
                        _a.label = 9;
                    case 9:
                        _a.trys.push([9, 12, , 13]);
                        console.log("score changed!");
                        return [4 /*yield*/, _contextLeaderBoard.setScoreAsync(curScore, "")];
                    case 10:
                        _a.sent();
                        return [4 /*yield*/, FBInstant.updateAsync({ action: 'LEADERBOARD', name: rankName })];
                    case 11:
                        _a.sent();
                        _lastContextualScore = curScore;
                        return [3 /*break*/, 13];
                    case 12:
                        e_2 = _a.sent();
                        console.log("score changed update failed:", e_2);
                        return [3 /*break*/, 13];
                    case 13: return [4 /*yield*/, Utils_1.Utils.wait(5000)];
                    case 14:
                        _a.sent();
                        return [3 /*break*/, 1];
                    case 15: return [2 /*return*/];
                }
            });
        });
    }
})(GameHelper = exports.GameHelper || (exports.GameHelper = {}));

},{"../game/GameStats":35,"../platform/FBPlatform":44,"./Utils":17,"tslib":3}],14:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
Object.Destroy = function (ob, delaySec) {
    if (delaySec === void 0) { delaySec = 0; }
    if (!ob)
        return;
    if (delaySec > 0) {
        setTimeout(function (t) {
            // ob.destroy(false);
            t.removeSelf();
        }, delaySec * 1000, ob);
    }
    else {
        ob.removeSelf();
        // ob.destroy(false);
    }
};
Object.defineProperty(Laya.Quaternion.prototype, "eulerAngles", {
    get: function () {
        var out = new Laya.Vector3();
        this.getYawPitchRoll(out);
        return out;
    },
    set: function (value) {
        Laya.Quaternion.createFromYawPitchRoll(value.x, value.y, value.z, this);
    },
    enumerable: true,
    configurable: true
});
Laya.Vector3.up = new Laya.Vector3(0, 1, 0);
Laya.Vector3.down = new Laya.Vector3(0, -1, 0);
Laya.Vector3.left = new Laya.Vector3(-1, 0, 0);
Laya.Vector3.right = new Laya.Vector3(1, 0, 0);
Laya.Vector3.forward = new Laya.Vector3(0, 0, 1);
Laya.Vector3.back = new Laya.Vector3(0, 0, -1);
Laya.Vector3.zero = new Laya.Vector3(0, 0, 0);
Laya.Vector3.one = new Laya.Vector3(1, 1, 1);
Laya.Vector3.prototype.length = function () {
    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);
};
Laya.Vector3.prototype.multiplyScalar = function (scalar) {
    this.x *= scalar;
    this.y *= scalar;
    this.z *= scalar;
    return this;
};
Laya.Vector3.prototype.divideScalar = function (scalar) {
    return this.multiplyScalar(1 / scalar);
};
Laya.Vector3.prototype.clampLength = function (min, max) {
    var length = this.length();
    return this.divideScalar(length || 1).multiplyScalar(Math.max(min, Math.min(max, length)));
};
Laya.Vector3.prototype.add = function (v) {
    this.x += v.x;
    this.y += v.y;
    this.z += v.z;
    return this;
};
Laya.Vector3.prototype.sub = function (v) {
    this.x -= v.x;
    this.y -= v.y;
    this.z -= v.z;
    return this;
};
Laya.Vector3.prototype.setX = function (v) {
    this.x = v;
    return this;
};
Laya.Vector3.prototype.setY = function (v) {
    this.y = v;
    return this;
};
Laya.Vector3.prototype.setZ = function (v) {
    this.z = v;
    return this;
};
Laya.Vector3.prototype.distanceTo = function (v) {
    return Math.sqrt(this.distanceToSquared(v));
};
Laya.Vector3.prototype.distanceToSquared = function (v) {
    var dx = this.x - v.x;
    var dy = this.y - v.y;
    var dz = this.z - v.z;
    return dx * dx + dy * dy + dz * dz;
};
Laya.Vector3.prototype.set = function (x, y, z) {
    this.x = x;
    this.y = y;
    this.z = z;
    return this;
};
Laya.Vector3.prototype.normalize = function () {
    return this.divideScalar(this.length() || 1);
};
Laya.Vector3.prototype.negate = function () {
    this.x = -this.x;
    this.y = -this.y;
    this.z = -this.z;
    return this;
};
Laya.Vector3.prototype.setLength = function (v) {
    return this.normalize().multiplyScalar(v);
};
Laya.Vector3.prototype.plus = function (v) {
    return new Laya.Vector3(this.x + v.x, this.y + v.y, this.z + v.z);
};
Laya.Vector3.prototype.minus = function (v) {
    return new Laya.Vector3(this.x - v.x, this.y - v.y, this.z - v.z);
    ;
};
Laya.Vector3.prototype.scale = function (v) {
    return new Laya.Vector3(this.x * v, this.y * v, this.z * v);
    ;
};
Object.defineProperty(Laya.Vector3.prototype, 'angle', {
    enumerable: true,
    configurable: true,
    get: function () {
        return Math.atan2(this.z, this.x);
    },
    set: function (value) {
        this.x = Math.cos(value) * this.length();
        this.z = Math.sin(value) * this.length();
    }
});
Object.defineProperty(laya.utils.Timer.prototype, 'deltaSec', {
    enumerable: true,
    configurable: true,
    get: function () {
        return this.delta / 1000;
    }
});
Object.defineProperty(laya.utils.Timer.prototype, 'currTimerSec', {
    enumerable: true,
    configurable: true,
    get: function () {
        return this.currTimer / 1000;
    }
});
laya.d3.core.Sprite3D.prototype.SetActive = function (bo) {
    this.active = bo;
};
exports.default = {};

},{}],15:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var LayaUtils;
(function (LayaUtils) {
    function getChildByName_(node, name) {
        var names = ("" + name).split("/");
        var child = node;
        for (var i = 0; i < names.length; i++) {
            child = child.getChildByName(names[i]);
            if (child == null)
                return null;
        }
        return child;
    }
    LayaUtils.getChildByName_ = getChildByName_;
    function getAllMaterials_(obj) {
        var result = [];
        var arr = [obj];
        for (var i = 0; i < arr.length; i++) {
            var v = arr[i];
            if (v.meshRenderer) {
                result.push.apply(result, v.meshRenderer.materials);
            }
            for (var n = 0; n < v.numChildren; n++) {
                arr.push(v.getChildAt(n));
            }
        }
        return result;
    }
    LayaUtils.getAllMaterials_ = getAllMaterials_;
    function setMeshTransparent_(obj, bo) {
        var materials = LayaUtils.getAllMaterials_(obj);
        for (var _i = 0, materials_1 = materials; _i < materials_1.length; _i++) {
            var m = materials_1[_i];
            m.renderMode = bo ? Laya.BlinnPhongMaterial.RENDERMODE_TRANSPARENT : Laya.BlinnPhongMaterial.RENDERMODE_OPAQUE;
            m.albedoColor = new Laya.Vector4(1, 1, 1, bo ? 0.5 : 1);
        }
    }
    LayaUtils.setMeshTransparent_ = setMeshTransparent_;
    function doDestroy_(mesh) {
        Laya.timer.frameOnce(1, this, function () {
            null != mesh && mesh.destroy();
        });
    }
    LayaUtils.doDestroy_ = doDestroy_;
    function addV3_(t, e) {
        var i = new Laya.Vector3;
        return Laya.Vector3.add(t, e, i), i;
    }
    LayaUtils.addV3_ = addV3_;
    function subV3_(t, e) {
        var i = new Laya.Vector3;
        return Laya.Vector3.subtract(t, e, i), i;
    }
    LayaUtils.subV3_ = subV3_;
    function mulV3_(t, e) {
        var i = new Laya.Vector3;
        return Laya.Vector3.scale(t, e, i), i;
    }
    LayaUtils.mulV3_ = mulV3_;
    function normalizeV3_(t) {
        var e = new Laya.Vector3;
        return Laya.Vector3.normalize(t, e), e;
    }
    LayaUtils.normalizeV3_ = normalizeV3_;
    function normalizeDriection_(a, b) {
        var e = new Laya.Vector3;
        Laya.Vector3.subtract(a, b, e);
        Laya.Vector3.normalize(e, e);
        return e;
    }
    LayaUtils.normalizeDriection_ = normalizeDriection_;
    function moveBy_(postion, direction, len) {
        var tmp = new Laya.Vector3;
        Laya.Vector3.scale(direction, len, tmp);
        Laya.Vector3.add(postion, tmp, tmp);
        return tmp;
    }
    LayaUtils.moveBy_ = moveBy_;
    LayaUtils.UP = new Laya.Vector3(0, 1, 0);
    LayaUtils.DOWN = new Laya.Vector3(0, -1, 0);
    // replace Laya.Quaternion.getYawPitchRoll
    function QuaternionToEuler_(q, v) {
        v.x = Math.atan2(2 * q.y * q.w - 2 * q.x * q.z, 1 - 2 * Math.pow(q.y, 2) - 2 * Math.pow(q.z, 2));
        v.z = Math.asin(2 * q.x * q.y + 2 * q.z * q.w);
        v.y = Math.atan2(2 * q.x * q.w - 2 * q.y * q.z, 1 - 2 * Math.pow(q.x, 2) - 2 * Math.pow(q.z, 2));
        if (q.x * q.y + q.z * q.w == 0.5) {
            v.x = (2 * Math.atan2(q.x, q.w));
            v.y = 0;
        }
        else if (q.x * q.y + q.z * q.w == -0.5) {
            v.x = (-2 * Math.atan2(q.x, q.w));
            v.y = 0;
        }
        return v;
    }
    LayaUtils.QuaternionToEuler_ = QuaternionToEuler_;
    function convertColor_(value) {
        var v = new Laya.Vector4();
        var hex = value.slice(1);
        var color = parseInt(hex, 16);
        // let r = value.slice(1).split("");
        // let nums = [];
        // while(r.length>2){
        // 	let a = parseInt(r.splice(0,2).join(""),16)/255;
        // 	nums.push(a);
        // }
        // while(nums.length <3){
        // 	nums.unshift(0);
        // }
        // if(nums.length < 4){
        // 	nums.unshift(1);
        // }	
        v.w = hex.length > 6 ? ((color >> 24) & 0xff) / 255 : 1; //a
        v.x = ((color >> 16) & 0xff) / 255; //r
        v.y = ((color >> 8) & 0xff) / 255; //g
        v.z = (color & 0xff) / 255; //b
        return v;
    }
    LayaUtils.convertColor_ = convertColor_;
    function walkDisplayList(parent, valideFun) {
        var target = null;
        var arr = [parent];
        for (var index = 0; index < arr.length; index++) {
            var element = arr[index];
            if (valideFun && valideFun(element)) {
                target = element;
                break;
            }
            for (var i = 0; i < element.numChildren; i++) {
                arr.push(element.getChildAt(i));
            }
        }
        return target;
    }
    LayaUtils.walkDisplayList = walkDisplayList;
    function createResAsync(url, onProgress) {
        return new Promise(function (resolve, reject) {
            Laya.loader.create(url, Laya.Handler.create(null, function () {
                if (Array.isArray(url)) {
                    var arr = url.map(function (v) { return Laya.loader.getRes((v.url ? v.url : v) || url); });
                    resolve(arr);
                }
                else {
                    var item = Laya.loader.getRes(url);
                    if (item) {
                        resolve(item);
                    }
                    else {
                        reject("create res async failed");
                    }
                }
            }), new Laya.Handler(null, onProgress));
        });
    }
    LayaUtils.createResAsync = createResAsync;
    function loadResAsync(url, onProgress) {
        return new Promise(function (resolve, reject) {
            Laya.loader.load(url, Laya.Handler.create(null, function () {
                if (Array.isArray(url)) {
                    var arr = url.map(function (v) { return Laya.loader.getRes((v.url ? v.url : v) || url); });
                    resolve(arr);
                }
                else {
                    var item = Laya.loader.getRes(url);
                    if (item) {
                        resolve(item);
                    }
                    else {
                        reject("load res async failed");
                    }
                }
            }), new Laya.Handler(null, onProgress));
        });
    }
    LayaUtils.loadResAsync = loadResAsync;
    function tween(target, props, duration, opt) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            opt = props || {};
            Laya.Tween.to(target, props, duration, opt.ease, Laya.Handler.create(_this, function () {
                resolve();
            }), opt.delay, opt.coverBefore, opt.autoRecover);
        });
    }
    LayaUtils.tween = tween;
    function wait(millseconds) {
        return new Promise(function (resolve) { return setTimeout(resolve, millseconds); });
    }
    LayaUtils.wait = wait;
})(LayaUtils = exports.LayaUtils || (exports.LayaUtils = {}));

},{}],16:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Updater = /** @class */ (function () {
    function Updater() {
        this._list = [];
        this.isStarted = false;
        this._duringUpdate = false;
    }
    Updater.prototype.add = function (obj) {
        if (this._list.indexOf(obj) > -1)
            return;
        this._list.push(obj);
        if (!this.isStarted) {
            this.isStarted = true;
            Laya.timer.frameLoop(1, this, this.onUpdate);
        }
    };
    Updater.prototype.rm = function (obj) {
        var index = this._list.indexOf(obj);
        if (index == -1)
            return;
        if (this._duringUpdate) {
            this._list = this._list.concat();
        }
        this._list.splice(index, 1);
    };
    Updater.prototype.onUpdate = function () {
        var index = 0;
        var list = this._list;
        this._duringUpdate = true;
        for (var _i = 0, list_1 = list; _i < list_1.length; _i++) {
            var obj = list_1[_i];
            obj.onUpdate();
        }
        this._duringUpdate = false;
    };
    return Updater;
}());
exports.default = Updater;

},{}],17:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Utils;
(function (Utils) {
    function wait(millseconds) {
        return new Promise(function (resolve) { return setTimeout(resolve, millseconds); });
    }
    Utils.wait = wait;
})(Utils = exports.Utils || (exports.Utils = {}));

},{}],18:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Effect = /** @class */ (function () {
    function Effect(fxTime, _next) {
        if (_next === void 0) { _next = true; }
        this.effectTime = -1;
        this.effectTime = fxTime;
        this.next = !!_next;
    }
    Object.defineProperty(Effect.prototype, "isStarted_", {
        get: function () {
            return this.start;
        },
        enumerable: true,
        configurable: true
    });
    Effect.prototype.getCoeff_ = function () {
        if (this.effectTime == -1) {
            return 0;
        }
        return Math.sin(Math.clamp(this.getLifeTime_() / this.effectTime, 0, 1) / 2 * Math.PI);
    };
    Effect.prototype.start_ = function () {
        this.start = true;
        this.timeStart = Laya.timer.currTimerSec;
        this.onStart_();
    };
    Effect.prototype.isEnd_ = function () {
        return this.getLifeTime_() >= this.effectTime;
    };
    Effect.prototype.isNext_ = function () {
        return this.next;
    };
    Effect.prototype.getLifeTime_ = function () {
        if (!this.start) {
            return 0;
        }
        return Laya.timer.currTimerSec - this.timeStart;
    };
    Effect.prototype.setTargetObj_ = function (obj) {
        this.target = obj;
    };
    Effect.prototype.getTargetObj_ = function () {
        return this.target;
    };
    Effect.prototype.update_ = function () {
    };
    Effect.prototype.onStart_ = function () {
    };
    return Effect;
}());
exports.Effect = Effect;

},{}],19:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var Entity_1 = require("../../core/Entity");
var EffectProc = /** @class */ (function (_super) {
    tslib_1.__extends(EffectProc, _super);
    function EffectProc() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.listEffects = [];
        return _this;
    }
    EffectProc.prototype.AddEffect = function (fx) {
        this.listEffects.push(fx);
        fx.setTargetObj_(this.base);
        return fx;
    };
    EffectProc.prototype.BackEffect = function () {
        if (this.listEffects.length > 0) {
            return this.listEffects[this.listEffects.length - 1];
        }
        return null;
    };
    EffectProc.prototype.ClearEffects = function () {
        this.listEffects.length = 0;
    };
    EffectProc.prototype.hasEffects_ = function () {
        return this.listEffects.length > 0;
    };
    EffectProc.prototype.UpdateEffects = function () {
        for (var i = 0; i < this.listEffects.length; i++) {
            var effect = this.listEffects[i];
            if (!effect.isStarted_) {
                effect.start_();
            }
            effect.update_();
            if (effect.isEnd_()) {
                this.listEffects.splice(i, 1);
                i--;
            }
            else if (!effect.isNext_()) {
                break;
            }
        }
    };
    EffectProc.prototype.onUpdate = function () {
        this.UpdateEffects();
    };
    return EffectProc;
}(Entity_1.Entity));
exports.EffectProc = EffectProc;

},{"../../core/Entity":12,"tslib":3}],20:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var Effect_1 = require("./Effect");
var FxScale = /** @class */ (function (_super) {
    tslib_1.__extends(FxScale, _super);
    function FxScale(fromScale, toScale, fxTime, _next) {
        if (_next === void 0) { _next = true; }
        var _this = _super.call(this, fxTime, _next) || this;
        _this.tmp_vec = new Laya.Vector3;
        _this._from = fromScale;
        _this._to = toScale;
        return _this;
    }
    FxScale.prototype.update_ = function () {
        var coeff = this.getCoeff_();
        Laya.Vector3.lerp(this._from, this._to, coeff, this.tmp_vec);
        this.getTargetObj_().transform.localScale = this.tmp_vec;
    };
    return FxScale;
}(Effect_1.Effect));
exports.FxScale = FxScale;

},{"./Effect":18,"tslib":3}],21:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
String.prototype.substitute = function (data) {
    return this.replace(/\{(.+?)\}/ig, function (match, name) { return data[name]; });
};
Object.defineProperty(Array.prototype, "random", {
    value: function (rm) {
        if (this.length == 0)
            return null;
        var index = Math.floor(this.length * Math.random());
        var item = this[index];
        if (rm)
            this.splice(index, 1);
        return this[index];
    },
    configurable: true,
    writable: true
});
Object.defineProperty(Array.prototype, "choice", {
    value: function (fun) {
        if (this.length == 0)
            return null;
        if (fun == void 0)
            fun = function (v) { return v; };
        var sum = this.reduce(function (a, b) { return a + fun(b); }, 0) * Math.random();
        var len = this.length;
        for (var i = 0; i < len; i++) {
            var w = fun(this[i]);
            if (sum < w)
                return this[i];
            sum -= w;
        }
        return this[len - 1];
    },
    configurable: true,
    writable: true
});
Object.defineProperty(Array.prototype, "unique", {
    value: function () {
        var arr = [];
        var i = 0;
        while (i < this.length) {
            var item = this[i];
            if (arr.indexOf(this[i]) >= 0) {
                this.splice(i, 1);
            }
            else {
                arr.push(this[i++]);
            }
        }
        return this;
    },
    configurable: true,
    writable: true
});
Object.defineProperty(Array.prototype, "sorton", {
    value: function (field, ascending) {
        if (ascending === void 0) { ascending = true; }
        if (typeof field == "string") {
            field = [field];
        }
        return this.sort(function (a, b) {
            var ascore = 0;
            var bscore = 0;
            var len = field.length;
            for (var i = 0; i < len; i++) {
                var key = field[i];
                ascore += (a[key] || 0) / 100000 * (len - i);
                bscore += (b[key] || 0) / 100000 * (len - i);
            }
            var result = ascore > bscore ? 1 : ascore < bscore ? -1 : 0;
            ascending || (result *= -1);
            return result;
        });
    },
    configurable: true,
    writable: true
});
Object.defineProperty(Array.prototype, "rm", {
    value: function (item) {
        var fun = typeof item == "function" ? item : function (v) { return v == item; };
        var index = 0;
        while (index < this.length) {
            var item_1 = this[index];
            if (fun(item_1)) {
                this.splice(index, 1);
                return this;
            }
            else {
                index++;
            }
        }
        return this;
    },
    configurable: true,
    writable: true
});
Object.defineProperty(Array.prototype, "shuffle", {
    value: function () {
        var _a;
        for (var i = this.length - 1; i > 0; i--) {
            var j = Math.floor(Math.random() * (i + 1));
            _a = [this[j], this[i]], this[i] = _a[0], this[j] = _a[1];
        }
        return this;
    },
    configurable: true,
    writable: true
});
Date.prototype.format = function (fmt) {
    var o = {
        "M+": this.getMonth() + 1,
        "d+": this.getDate(),
        "h+": this.getHours(),
        "m+": this.getMinutes(),
        "s+": this.getSeconds(),
        "q+": Math.floor((this.getMonth() + 3) / 3),
        "S": this.getMilliseconds() //毫秒 
    };
    if (/(y+)/.test(fmt))
        fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
    for (var k in o)
        if (new RegExp("(" + k + ")").test(fmt))
            fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));
    return fmt;
};
Date.week = function (offset) {
    if (offset === void 0) { offset = 2521; }
    // start from 1527151462527
    var timeZone = -7 * 3600 * 1000;
    var week = ~~((Date.now() + timeZone + 1 * 24 * 3600 * 1000) / (24 * 7 * 3600 * 1000)) - offset - 1;
    return week;
};
Date.days = function (offset) {
    if (offset === void 0) { offset = 0; }
    var timeZone = -7 * 3600 * 1000;
    var days = ~~((Date.now() + timeZone + 1 * 24 * 3600 * 1000) / (24 * 3600 * 1000)) - offset - 1;
    return days;
};
Math.rad = function (degree) {
    return degree * Math.PI / 180;
};
Math.deg = function (radian) {
    return radian * 180 / Math.PI;
};
Math.normalDeg = function (degree) {
    degree %= 360;
    if (degree < 0)
        degree += 360;
    return degree;
};
Math.randInt = function (min, max) {
    if (min === void 0) { min = 0; }
    if (max === void 0) { max = 10; }
    return Math.floor(Math.random() * (max - min + 1)) + min;
};
Math.randFloat = function (min, max) {
    var p = Math.randInt(0, 1000);
    return Math.lerp(min, max, p / 1000);
};
Math.clamp = function (value, min, max) {
    return Math.max(min, Math.min(value, max));
};
Math.lerp = function (x, y, t) {
    // return (1 - t) * x + t * y;
    return x + (y - x) * t;
};
Math.udid = function () {
    var stamp = Date.now();
    if (typeof performance !== 'undefined' && typeof performance.now === 'function') {
        stamp += performance.now(); //use high-precision timer if available
    }
    return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function (e) {
        var i = (stamp + 16 * Math.random()) % 16 | 0;
        stamp = Math.floor(stamp / 16);
        return ("x" == e ? i : (i & 0x3 | 0x8)).toString(16);
    });
};
!function () {
    var _w_ = 0;
    var _z_ = 987654321;
    var mask = 0xffffffff;
    function random() {
        _z_ = (36969 * (_z_ & 65535) + (_z_ >> 16)) & mask;
        _w_ = (18000 * (_w_ & 65535) + (_w_ >> 16)) & mask;
        var result = ((_z_ << 16) + _w_) & mask;
        result /= 4294967296;
        return result + 0.5;
    }
    var origin_random = Math.random;
    Object.defineProperty(Math, "randomSeed", {
        get: function () {
            return _w_;
        },
        set: function (seed) {
            if (!!+seed) {
                _w_ = seed;
                Math.random = random;
            }
            else {
                _w_ = 0;
                Math.random = origin_random;
            }
        },
        enumerable: true,
        configurable: true
    });
}();
exports.default = {};

},{}],22:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Emiter_1 = require("../Emiter");
/**
 * Author:terran
 * Email:terran.tian@foxmail.com
 *
 * Time:下午4:50 2016年12月29日
**/
var Facade = /** @class */ (function () {
    function Facade() {
        this._commands = {};
        this._responders = [];
        // if(Facade.inst) throw "singleton error";
        Facade.inst = this;
        this.emiter = new Emiter_1.Emiter();
    }
    Facade.prototype.registCommand = function (name, cmd) {
        if (this._commands[name])
            throw "cmd has been registed already!!!";
        var id = this.emiter.on(name, function (data) {
            new cmd().excute(data, name);
        });
        this._commands[name] = id;
    };
    Facade.prototype.unregistCommand = function (name) {
        var id = this._commands[name];
        if (id) {
            this.emiter.rm(id, name);
        }
    };
    Facade.prototype.registResponser = function (res) {
        if (this._responders.some(function (item) { return item.res == res; }))
            throw "this responser has been registed already!";
        var arr = res.listResponse();
        var ids = [];
        var _loop_1 = function (name_1) {
            var id = this_1.emiter.on(name_1, function (data) {
                res.doResponse(name_1, data);
            });
            ids.push({ name: name_1, id: id });
        };
        var this_1 = this;
        for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {
            var name_1 = arr_1[_i];
            _loop_1(name_1);
        }
        this._responders.push({ res: res, ids: ids });
    };
    Facade.prototype.unregistResponser = function (res) {
        for (var _i = 0, _a = this._responders; _i < _a.length; _i++) {
            var item = _a[_i];
            if (item.res == res) {
                var ids = item.ids;
                for (var _b = 0, ids_1 = ids; _b < ids_1.length; _b++) {
                    var value = ids_1[_b];
                    this.emiter.rm(value.id, value.name);
                }
                this._responders.splice(this._responders.indexOf(item), 1);
                break;
            }
        }
    };
    Facade.prototype.notify = function (name, data) {
        return this.emiter.emit(name, data);
    };
    Facade.prototype.dispose = function () {
        this.emiter.rmall();
        this._responders.length = 0;
    };
    return Facade;
}());
exports.Facade = Facade;

},{"../Emiter":11}],23:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var BaseView = /** @class */ (function (_super) {
    tslib_1.__extends(BaseView, _super);
    function BaseView(view) {
        var _this = _super.call(this) || this;
        _this.view = view;
        _this.autoClose = true; //自动关闭
        _this.modal = true; //黑色背景
        _this.modalAlpha = .7;
        _this.animateIn = true; //切换动画
        _this.fullscreen = true;
        _this.center = true;
        _this.depth = 0;
        view && (view["owner_"] = _this);
        view && view.once(Laya.Event.ADDED, _this, _this.onAdd);
        view && view.once(Laya.Event.RESIZE, _this, _this.onResize);
        return _this;
    }
    BaseView.prototype.onAdd = function () {
    };
    BaseView.prototype.onResize = function () {
    };
    BaseView.prototype.onEnter = function () {
        this.parent.addChild(this.view);
    };
    BaseView.prototype.onExit = function () {
        this.view.removeSelf();
    };
    BaseView.prototype.onReady = function () {
    };
    BaseView.prototype.listResponse = function () {
        return [];
    };
    BaseView.prototype.doResponse = function (name, data) {
    };
    BaseView.prototype.fadeIn = function (callback) {
        this.view.alpha = 0;
        return Laya.Tween.to(this.view, {
            alpha: 1
        }, 400, Laya.Ease.quadOut, new Laya.Handler(null, callback));
    };
    BaseView.prototype.close = function () {
        this.event(Laya.Event.CLOSE);
    };
    return BaseView;
}(Laya.EventDispatcher));
exports.BaseView = BaseView;

},{"tslib":3}],24:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var BusyIndicator = /** @class */ (function (_super) {
    tslib_1.__extends(BusyIndicator, _super);
    function BusyIndicator() {
        var _this = _super.call(this) || this;
        _this.img = new Laya.Image;
        _this.img.skin = "loading/img_busy.png";
        _this.addChild(_this.img);
        _this.img.anchorX = _this.img.anchorY = 0.5;
        var ticker = 0;
        _this.once(Laya.Event.ADDED, null, function () {
            var step = 360 / 8;
            clearInterval(ticker);
            ticker = setInterval(function () {
                _this.rotation += step;
            }, 100);
        });
        _this.once(Laya.Event.REMOVED, null, function () {
            clearInterval(ticker);
        });
        return _this;
    }
    return BusyIndicator;
}(Laya.Sprite));
exports.BusyIndicator = BusyIndicator;

},{"tslib":3}],25:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var BaseView_1 = require("./BaseView");
var BusyIndicator_1 = require("./BusyIndicator");
var Toast_1 = require("./Toast");
var Director = /** @class */ (function () {
    function Director() {
        var _this = this;
        this.layerNotice = new Laya.Sprite;
        this.layer = new Laya.Sprite;
        this.game_layer = new Laya.Sprite;
        this.stage3d_ = new Laya.Sprite;
        this.fps = 0;
        this.version = "";
        this.views_ = [];
        this._busyCount = 0;
        this._busy_timer = 0;
        this._toastCout = 0;
        this._toastPool = [];
        this.layer.size(Laya.stage.width, Laya.stage.height);
        this.layerNotice.size(Laya.stage.width, Laya.stage.height);
        this.layerNotice.mouseThrough = this.layer.mouseThrough = true;
        Laya.stage.addChild(this.stage3d_);
        // this.game_layer.active = true;
        Laya.stage.addChild(this.game_layer);
        Laya.stage.addChild(this.layer);
        Laya.stage.addChild(this.layerNotice);
        this.modalMask_ = new Laya.Sprite();
        this.modalMask_.visible = false;
        this.modalMask_.mouseEnabled = true;
        this.modalMask_.size(Laya.stage.width, Laya.stage.height);
        this.modalMask_.on(Laya.Event.CLICK, null, function (e) {
            for (var i = _this.layer.numChildren - 1; i >= 0; --i) {
                var pnl = _this.layer.getChildAt(i)["owner_"];
                if (pnl instanceof BaseView_1.BaseView && pnl.autoClose) {
                    _this.removeView(pnl);
                    break;
                }
            }
        });
        this.onResize();
        this.layer.addChild(this.modalMask_);
        var txt_version = new Laya.Label();
        txt_version.bottom = 2;
        txt_version.right = 5;
        txt_version.fontSize = 12;
        txt_version.color = "#ffffff";
        txt_version.align = "bottom";
        Laya.stage.addChild(txt_version);
        this.txt_status = txt_version;
        var lastTime = Date.now();
        Laya.timer.frameLoop(1, this, function () {
            _this.fps++;
            var now = Date.now();
            if (now - lastTime > 1000) {
                lastTime = now;
                _this.updateStatusInfo();
                _this.fps = 0;
            }
        });
    }
    Director.prototype.onResize = function () {
        this.modalMask_.graphics.clear();
        this.modalMask_.graphics.drawRect(0, 0, Laya.stage.width, Laya.stage.height, "#000000");
        this.modalMask_.alpha = .7;
    };
    Director.prototype.updateModal = function () {
        var findModal = false;
        this.modalMask_.removeSelf();
        for (var i = this.layer.numChildren - 1; i >= 0; --i) {
            var p = this.layer.getChildAt(i)["owner_"];
            if (p && p.modal) {
                this.modalMask_.alpha = p.modalAlpha;
                this.layer.addChildAt(this.modalMask_, i);
                findModal = true;
                break;
            }
        }
        this.modalMask_.visible = findModal;
    };
    Director.prototype.addView = function (inst) {
        var _this = this;
        if (this.views_.indexOf(inst) >= 0)
            return;
        this.views_.push(inst);
        inst.parent = inst.depth == 0 ? this.layer : this.layerNotice;
        inst.onEnter();
        inst.once(Laya.Event.CLOSE, null, function () {
            _this.removeView(inst);
        });
        if (inst.fullscreen) {
            inst.view.height = Laya.stage.height;
            inst.view.width = Laya.stage.width;
        }
        inst.modal && this.updateModal();
        inst.center && this.centerView(inst.view);
        if (!inst.animateIn) {
            inst.onReady();
        }
        else {
            inst.view.visible = false;
            Laya.timer.once(0, null, function () {
                inst.view.visible = true;
                inst.fadeIn(function () {
                    inst.onReady();
                });
            });
        }
        return inst;
    };
    Director.prototype.removeView = function (inst) {
        this.views_.splice(this.views_.indexOf(inst), 1);
        inst.onExit();
        inst.modal && this.updateModal();
    };
    Director.prototype.removeAll = function () {
        for (var i = 0; i < this.views_.length; ++i) {
            var inst = this.views_[i];
            inst.onExit();
            inst.modal && this.updateModal();
        }
        this.views_.splice(0);
    };
    Director.prototype.getView = function (cls) {
        for (var _i = 0, _a = this.views_; _i < _a.length; _i++) {
            var view = _a[_i];
            if (view instanceof cls) {
                return view;
            }
        }
        return null;
    };
    Director.prototype.centerView = function (inst) {
        inst.x = (Laya.stage.width - inst.width) * .5;
        inst.y = (Laya.stage.height - inst.height) * .5;
    };
    Director.prototype.busy = function () {
        var _this = this;
        clearTimeout(this._busy_timer);
        setTimeout(function () {
            _this._busyCount = 0;
            _this.unbusy();
        }, 10000);
        if (this._busyCount++ == 0) {
            this._busyInst = new BusyIndicator_1.BusyIndicator();
            this._busyInst.x = Laya.stage.width * .5;
            this._busyInst.y = Laya.stage.height * .5;
            this.layerNotice.addChild(this._busyInst);
        }
    };
    Director.prototype.unbusy = function () {
        if (--this._busyCount <= 0 && this._busyInst) {
            this._busyInst.removeSelf();
            this._busyInst = null;
        }
    };
    Director.prototype.toast = function (content, icon) {
        var _this = this;
        var t = this._toastPool.length > 0 ? this._toastPool.pop() : new Toast_1.Toast();
        this.layerNotice.addChild(t);
        t.setData(content, icon);
        t.alpha = 0;
        t.x = Laya.stage.width * .5;
        t.y = Laya.stage.height * .5 + 100;
        var tl = new Laya.TimeLine();
        tl.addLabel("1", this._toastCout * 500).to(t, { y: t.y - 100, alpha: 1 }, 600, Laya.Ease.quadOut)
            .addLabel("2", 600).to(t, { y: t.y - 200, alpha: 0 }, 600, Laya.Ease.quadIn);
        tl.on(Laya.Event.COMPLETE, this, function () {
            _this._toastCout--;
            t.removeSelf();
            _this._toastPool.push(t);
        });
        tl.play();
        this._toastCout++;
    };
    Director.prototype.setVersion = function (version) {
        this.version = version;
    };
    Director.prototype.updateStatusInfo = function () {
        this.txt_status.text = this.version + " " + this.fps;
    };
    return Director;
}());
exports.default = Director;

},{"./BaseView":23,"./BusyIndicator":24,"./Toast":26}],26:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var Toast = /** @class */ (function (_super) {
    tslib_1.__extends(Toast, _super);
    function Toast() {
        var _this = _super.call(this) || this;
        var bg = _this.bg = new Laya.Image("loading/bg_toast.png");
        bg.anchorX = .5;
        bg.anchorY = .5;
        _this.addChild(bg);
        _this.txt = new Laya.Label();
        _this.txt.y = 4;
        _this.txt.color = "#ffffff";
        _this.txt.anchorX = .5;
        _this.txt.anchorY = .5;
        _this.txt.bold = true;
        _this.txt.fontSize = 38;
        _this.addChild(_this.txt);
        _this.icon = new Laya.Image();
        _this.icon.width = _this.icon.height = 30;
        _this.icon.pivot(15, 8);
        _this.addChild(_this.icon);
        return _this;
    }
    Toast.prototype.setData = function (content, icon) {
        this.txt.text = content;
        if (this.txt.width > this.bg.width)
            this.bg.scaleX = this.txt.width / this.bg.width;
        else
            this.bg.scaleX = 1;
        this.icon.skin = icon || "";
        this.icon.x = this.txt.width * -.5 - this.icon.width * .5;
    };
    return Toast;
}(Laya.Sprite));
exports.Toast = Toast;

},{"tslib":3}],27:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var Entity_1 = require("../core/Entity");
var Color_1 = require("../core/Color");
var BGColor = /** @class */ (function (_super) {
    tslib_1.__extends(BGColor, _super);
    function BGColor() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._c1 = Color_1.Color.white;
        _this._c2 = Color_1.Color.white;
        _this._timeRemain = 0;
        _this._timeTotal = 0;
        return _this;
    }
    BGColor.prototype.onAwake = function () {
        this.setColor_(this._c1, this._c2);
    };
    BGColor.prototype.setColor_ = function (c1, c2) {
        var str = "linear-gradient( to bottom, " + c1.getRGBHexString() + ", " + c2.getRGBHexString() + ")";
        document.body.style.background = str;
    };
    BGColor.prototype.changeColor_ = function (c1, c2, time) {
        if (time === void 0) { time = 0; }
        this._n_c1 = c1;
        this._n_c2 = c2;
        if (time == 0) {
            this._c1 = this._n_c1;
            this._c2 = this._n_c2;
            this.setColor_(this._c1, this._c2);
        }
        else {
            this._timeRemain = time;
            this._timeTotal = time;
        }
    };
    BGColor.prototype.onUpdate = function () {
        if (this._timeRemain > 0) {
            var t = 1 - ((this._timeTotal == 0) ? 0 : Math.clamp(this._timeRemain / this._timeTotal, 0, 1));
            var c = Color_1.Color.Lerp(this._c1, this._n_c1, t);
            var c2 = Color_1.Color.Lerp(this._c2, this._n_c2, t);
            this._timeRemain -= Laya.timer.deltaSec;
            if (this._timeRemain <= 0) {
                this._c1 = this._n_c1;
                this._c2 = this._n_c2;
            }
            this.setColor_(c, c2);
        }
    };
    return BGColor;
}(Entity_1.Entity));
exports.BGColor = BGColor;

},{"../core/Color":10,"../core/Entity":12,"tslib":3}],28:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var Sound_1 = require("./Sound");
var Entity_1 = require("../core/Entity");
var LayaUtils_1 = require("../core/LayaUtils");
var Ball = /** @class */ (function (_super) {
    tslib_1.__extends(Ball, _super);
    function Ball() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._isKilled_ = false;
        _this._bottom = new Laya.Vector3;
        return _this;
    }
    Object.defineProperty(Ball.prototype, "IsKilled", {
        get: function () {
            return this._isKilled_;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Ball.prototype, "isFireMode_", {
        get: function () {
            return this._fireMode_;
        },
        enumerable: true,
        configurable: true
    });
    Ball.prototype.onAwake = function () {
        var sphere = LayaUtils_1.LayaUtils.getChildByName_(this.base, "skin_origin");
        this._particles_ = this.base.getChildByName("ps_spray");
        this._partsFire_ = this.base.getChildByName("ps_fire");
        this._partsFireStart_ = this.base.getChildByName("ps_fire_start");
        this._trail_ = this.base.getChildByName("trail");
        this._material_ = sphere.meshRenderer.material.clone();
        sphere.meshRenderer.material = this._material_;
    };
    Ball.prototype.onStart = function () {
    };
    Ball.prototype.setFireMode_ = function (fm) {
        this._fireMode_ = fm;
        this._trail_ && this._trail_.SetActive(!fm);
        if (fm) {
            Sound_1.Sound.play(Sound_1.Sound.fire_start_);
            this.owner.timerOnce(200, this, function () { return Sound_1.Sound.play(Sound_1.Sound.fire_loop_); });
            this._partsFire_ && this._partsFire_.particleSystem.play();
            this._partsFireStart_ && this._partsFireStart_.particleSystem.play();
        }
        else {
            Sound_1.Sound.stop(Sound_1.Sound.fire_loop_);
            this._partsFire_ && this._partsFire_.particleSystem.stop();
        }
        var component = this.owner.getComponent(Laya.PhysicsCollider);
        if (component != null) {
            // component.isTrigger = fm;
            component.isTrigger = fm;
        }
    };
    Ball.prototype.Reset = function () {
        if (this._ballParts_ != null) {
            Object.Destroy(this._ballParts_);
        }
        this._ballParts_ = null;
        this._coreSphere_ && this._coreSphere_.SetActive(true);
        this._trail_ && this._trail_.SetActive(true);
        this.killCounter_ = 0;
        this._fireMode_ = false;
        this._isKilled_ = false;
    };
    Ball.prototype.SetColor = function (c) {
        this._color_ = c;
        this._material_.albedoColor = c.toV4();
        this._particles_.particleSystem.startColorConstant = c.toV4();
        // (this._particles_.particleRenderer.material as Laya.ShurikenParticleMaterial).color = c.toV4();
        // this.owner.GetComponentInChildren(Laya.MeshRenderer).material.color = c;
        // this._particles_.GetComponent(Laya.Render).material.color = c;
        // let componentInChildren:Laya.TrailRenderer = GetComponentInChildren(Laya.TrailRenderer);
        // c.a = 0.8;
        // componentInChildren.startColor = c;
        if (this._trail_) {
            this._trail_.trailRenderer.material.color = c.toV4();
        }
    };
    Ball.prototype.GetColor = function () {
        return this._color_;
    };
    Ball.prototype.RunParticles = function () {
        // return;
        // let gameObject:Laya.ShuriKenParticle3D = Laya.Sprite3D.instantiate(this._particles_, this.base.parent) as any;
        this._particles_.transform.position = this.base.transform.position.plus(Laya.Vector3.down.scale(0.1)); //this.base.transform.position + Laya.Vector3.down * 0.1;
        this._particles_.particleSystem.play();
    };
    Ball.prototype.Kill = function () {
        this.RunParticles();
        // this.RunParticles();
        this._isKilled_ = true;
        if (this._ballParts_ == null) {
            this._trail_ && this._trail_.SetActive(false);
            this._coreSphere_ && this._coreSphere_.SetActive(false);
            if (this._prefBallParts_) {
                this._ballParts_ = Laya.Sprite3D.instantiate(this._prefBallParts_, this.owner);
                this._ballParts_.transform.localPosition = Laya.Vector3.zero;
                for (var i = 0; i < this._ballParts_.numChildren; i++) {
                    var item = this._ballParts_.getChildAt(i);
                    item.meshRenderer.material.albedoColor = this._color_.toV4();
                    item.getComponent(Laya.Rigidbody3D).linearVelocity = Laya.Vector3.up.scale(Math.randFloat(0.2, 0.6)).add(Laya.Vector3.right.scale(Math.randFloat(-0.6, 0.6)).add(Laya.Vector3.back));
                }
            }
        }
    };
    Object.defineProperty(Ball.prototype, "bottom", {
        get: function () {
            this.base.transform.position.cloneTo(this._bottom);
            this._bottom.y -= 0.3;
            return this._bottom;
        },
        enumerable: true,
        configurable: true
    });
    return Ball;
}(Entity_1.Entity));
exports.Ball = Ball;

},{"../core/Entity":12,"../core/LayaUtils":15,"./Sound":38,"tslib":3}],29:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var Entity_1 = require("../core/Entity");
var Ball_1 = require("./Ball");
var Sound_1 = require("./Sound");
var Game_1 = require("./Game");
var EffectProc_1 = require("../core/effect/EffectProc");
var BallMover = /** @class */ (function (_super) {
    tslib_1.__extends(BallMover, _super);
    function BallMover() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._radius_ = 0.2;
        _this._velocity_ = 6.95;
        _this._moveTimeStart_ = -1;
        _this._wallTime_ = -1;
        _this._tmp_minPos = new Laya.Vector3;
        _this.LastKillPos = new Laya.Vector3;
        return _this;
    }
    Object.defineProperty(BallMover.prototype, "moveTime", {
        get: function () {
            if (this._moveTimeStart_ < 0) {
                return -1;
            }
            return Laya.timer.currTimerSec - this._moveTimeStart_;
        },
        enumerable: true,
        configurable: true
    });
    BallMover.prototype.antiWallTime_ = function () {
        return Math.clamp(this.moveTime / 10, 0.1, 0.12);
    };
    Object.defineProperty(BallMover.prototype, "isMoved", {
        get: function () {
            return this._moveUp_;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(BallMover.prototype, "isStopped", {
        get: function () {
            return this._stopped_;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(BallMover.prototype, "pos_", {
        get: function () {
            var result = new Laya.Vector3();
            Laya.Vector3.min(this.minPos, this.base.transform.position, result);
            return result;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(BallMover.prototype, "minPos", {
        get: function () {
            this.LastKillPos.cloneTo(this._tmp_minPos);
            this._tmp_minPos.y = this.LastKillPos.y + this._radius_;
            return this._tmp_minPos;
        },
        enumerable: true,
        configurable: true
    });
    BallMover.prototype.onAwake = function () {
        this._fxProc_ = this.owner.getComponent(EffectProc_1.EffectProc);
        this._rigBody_ = this.owner.getComponent(Laya.Rigidbody3D);
        this._rigBody_.enabled = false;
    };
    BallMover.prototype.reset_ = function (vPos) {
        vPos = vPos || Laya.Vector3.zero;
        this._kill_ = false;
        this._moveUp_ = false;
        this._stopped_ = false;
        this._pressed_ = false;
        this._wallTime_ = -1;
        this._moveTimeStart_ = -1;
        this._jumpTime_ = Laya.timer.currTimerSec;
        vPos.cloneTo(this.LastKillPos);
        this._lastJump_ = 0;
        this.base.transform.localPosition = Laya.Vector3.zero;
        this._rigBody_.linearVelocity = Laya.Vector3.zero;
        this._rigBody_.enabled = false;
    };
    BallMover.prototype.ballWall_ = function () {
        this._rigBody_.linearVelocity = Laya.Vector3.zero;
        this._rigBody_.enabled = false;
        if (this.base.getComponent(Ball_1.Ball).killCounter_ > 0) {
            this._moveUp_ = false;
            this._stopped_ = true;
            this._wallTime_ = Laya.timer.currTimerSec;
            this._jumpTime_ = Laya.timer.currTimerSec + 0.02;
        }
        else {
            this.kill_();
        }
    };
    BallMover.prototype.moveUp_ = function (move) {
        this._pressed_ = move;
        this._stopped_ = false;
        if (this._moveUp_ != move) {
            this._moveUp_ = move;
            if (!move) {
                this._moveTimeStart_ = -1;
                this._rigBody_.linearVelocity = Laya.Vector3.zero;
                this._rigBody_.enabled = false;
                this._jumpTime_ = Laya.timer.currTimerSec + 0.1;
            }
            else {
                this._moveTimeStart_ = Laya.timer.currTimerSec;
                this._rigBody_.linearVelocity = Laya.Vector3.down.scale(this._velocity_);
                this._rigBody_.enabled = true;
                this.base.getComponent(Ball_1.Ball).killCounter_ = 0;
            }
        }
    };
    BallMover.prototype.onUpdate = function () {
        // return;
        if (!this._kill_) {
            if (this._stopped_) {
                var num = Laya.timer.currTimerSec - this._wallTime_;
                if (this._pressed_ && num > this.antiWallTime_()) {
                    this.kill_();
                }
            }
            else {
                var num2 = Laya.timer.currTimerSec - this._jumpTime_;
                if (!this._pressed_ && num2 >= 0) {
                    var num3 = 6;
                    var num4 = 1.1;
                    var num5 = Math.abs(Math.sin(num2 * num3));
                    var position = this.base.transform.position;
                    position.y = this.LastKillPos.y + this._radius_ + num4 * num5;
                    this.base.transform.position = position;
                    // let num6:number = Math.sin(num2 * num3 * 2) * 0.15;
                    // let b:Laya.Vector3 = Laya.Vector3.right.scale(num6).add(Laya.Vector3.forward.scale(num6)).add(Laya.Vector3.up.scale(0 - num6));
                    // this.base.transform.localScale = Laya.Vector3.one.plus(b);
                    if (Laya.timer.currTimerSec - this._lastJump_ > 0.2 && num5 < 0.1) {
                        this._lastJump_ = Laya.timer.currTimerSec;
                        app.vibrate(500);
                        Sound_1.Sound.play(Sound_1.Sound.jump_);
                        this.base.getComponent(Ball_1.Ball).RunParticles();
                    }
                }
            }
        }
    };
    BallMover.prototype.kill_ = function () {
        this._kill_ = true;
        Game_1.Game.inst_.onCrash_();
        this.base.getComponent(Ball_1.Ball).Kill();
        this._rigBody_.linearVelocity = Laya.Vector3.zero;
        this._rigBody_.enabled = false;
    };
    return BallMover;
}(Entity_1.Entity));
exports.BallMover = BallMover;

},{"../core/Entity":12,"../core/effect/EffectProc":19,"./Ball":28,"./Game":34,"./Sound":38,"tslib":3}],30:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var Entity_1 = require("../core/Entity");
var FireBallProc = /** @class */ (function (_super) {
    tslib_1.__extends(FireBallProc, _super);
    function FireBallProc() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._killsToStart_ = 10;
        _this._fillSpeed_ = 0.05;
        _this._unfillSpeed_ = 0.25;
        _this._fireSpeed_ = 0.4;
        _this._numKills_ = 0;
        _this._fireFill_ = 0;
        _this._accFire_ = false;
        _this._fire_ = false;
        return _this;
    }
    FireBallProc.prototype.onStart = function () {
    };
    FireBallProc.prototype.reset_ = function () {
        this._numKills_ = 0;
        this._accFire_ = false;
        this._fire_ = false;
        this._fireFill_ = 0;
    };
    FireBallProc.prototype.onKillBrick_ = function () {
        this._numKills_++;
        if (this._numKills_ > this._killsToStart_ && !this._accFire_ && !this._fire_) {
            this._accFire_ = true;
            this._fireFill_ += this._fillSpeed_;
        }
        if (this._accFire_) {
            this._fireFill_ += this._fillSpeed_;
            if (this._fireFill_ >= 1) {
                this._accFire_ = false;
                this._fire_ = true;
            }
            this._fireFill_ = Math.clamp(this._fireFill_, 0, 1);
        }
    };
    FireBallProc.prototype.getFill_ = function () {
        return this._fireFill_;
    };
    FireBallProc.prototype.isAccFire_ = function () {
        return this._accFire_;
    };
    FireBallProc.prototype.isFire_ = function () {
        return this._fire_;
    };
    FireBallProc.prototype.onUpdate = function () {
        if (this._fireFill_ > 0) {
            if (this._fire_) {
                this._fireFill_ -= Laya.timer.deltaSec * this._fireSpeed_;
            }
            else {
                this._fireFill_ -= Laya.timer.deltaSec * this._unfillSpeed_;
            }
            if (this._fireFill_ <= 0) {
                this._numKills_ = 0;
                this._accFire_ = false;
                this._fire_ = false;
            }
            this._fireFill_ = Math.clamp(this._fireFill_, 0, 1);
        }
    };
    return FireBallProc;
}(Entity_1.Entity));
exports.FireBallProc = FireBallProc;

},{"../core/Entity":12,"tslib":3}],31:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var Entity_1 = require("../core/Entity");
var FloorPart_1 = require("./FloorPart");
var Game_1 = require("./Game");
var Sound_1 = require("./Sound");
var EffectProc_1 = require("../core/effect/EffectProc");
var FxScale_1 = require("../core/effect/FxScale");
var Floor = /** @class */ (function (_super) {
    tslib_1.__extends(Floor, _super);
    function Floor() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._parts_ = [];
        _this.degree = 0;
        _this.degreeOffset = 0;
        return _this;
    }
    Object.defineProperty(Floor.prototype, "isKilled_", {
        get: function () {
            return this._killed_;
        },
        enumerable: true,
        configurable: true
    });
    Floor.prototype.onAwake = function () {
        this._numParts_ = +this.base.name.split("_").pop();
        this.degree = 360 / this._numParts_;
        this.buildObj_();
    };
    Floor.prototype.findFirstObj_ = function () {
        for (var _i = 0, _a = this.base._children; _i < _a.length; _i++) {
            var item = _a[_i];
            return item;
        }
        return null;
    };
    Floor.prototype.buildObj_ = function () {
        var gameObject = this.findFirstObj_();
        var num = 360 / this._numParts_;
        var fp = gameObject.addComponent(FloorPart_1.FloorPart);
        this._parts_.push(fp);
        // let translateM = new Laya.Matrix4x4();
        // Laya.Matrix4x4.createTranslate(gameObject.transform.localPosition.scale(-1),translateM);
        // let rotationM = new Laya.Matrix4x4();
        // Laya.Matrix4x4.createRotationY(Math.rad(-90),rotationM);
        // let translateM1 = new Laya.Matrix4x4();
        // Laya.Matrix4x4.createTranslate(gameObject.transform.localPosition,translateM1);
        // let matrix = gameObject.transform.localMatrix.clone() as Laya.Matrix4x4;
        // Laya.Matrix4x4.multiply(matrix,translateM,matrix);
        // Laya.Matrix4x4.multiply(matrix,rotationM,matrix);
        // Laya.Matrix4x4.multiply(matrix,translateM1,matrix);
        // gameObject.transform.localMatrix = matrix;
        for (var i = 1; i < this._numParts_; i++) {
            var gameObject2 = Laya.Sprite3D.instantiate(gameObject, this.base);
            var translateM = new Laya.Matrix4x4();
            Laya.Matrix4x4.createTranslate(gameObject.transform.localPosition.scale(-1), translateM);
            var rotationM = new Laya.Matrix4x4();
            Laya.Matrix4x4.createRotationY(Math.rad(num * i), rotationM);
            var translateM1 = new Laya.Matrix4x4();
            Laya.Matrix4x4.createTranslate(gameObject.transform.localPosition, translateM1);
            var matrix = gameObject2.transform.localMatrix.clone();
            Laya.Matrix4x4.multiply(matrix, translateM, matrix);
            Laya.Matrix4x4.multiply(matrix, rotationM, matrix);
            Laya.Matrix4x4.multiply(matrix, translateM1, matrix);
            gameObject2.transform.localMatrix = matrix;
            fp = gameObject2.addComponent(FloorPart_1.FloorPart);
            this._parts_.push(fp);
        }
    };
    Floor.prototype.setColors_ = function (c1, c2) {
        this._c1_ = c1;
        this._c2_ = c2;
        for (var _i = 0, _a = this._parts_; _i < _a.length; _i++) {
            var part = _a[_i];
            part.setColor_(c1);
        }
    };
    Floor.prototype.setMask_ = function (mask, c1, c2) {
        this._c1_ = c1 || this._c1_;
        this._c2_ = c2 || this._c2_;
        for (var i = 0; i < mask.length && i < this._parts_.length; i++) {
            var figurePart = this._parts_[i];
            if (mask[i] == 1) {
                figurePart.setWall();
                figurePart.setColor_(this._c2_);
            }
            else {
                figurePart.setColor_(this._c1_);
            }
        }
    };
    Floor.prototype.triggerEnter_ = function (part) {
        // console.log("_TriggerEnter");
        this.killMe_();
        Game_1.Game.inst_.onBlockCrash_();
    };
    Floor.prototype.scaleEffect_ = function () {
        var localScale = this.base.transform.localScale.clone();
        var vector = this.base.transform.localScale.scale(1.2).setY(localScale.y);
        var component = this.getComponent_(EffectProc_1.EffectProc);
        if (component && !component.hasEffects_()) {
            component.AddEffect(new FxScale_1.FxScale(localScale, vector, 0.1, false));
            component.AddEffect(new FxScale_1.FxScale(vector, localScale, 0.15, false));
            Sound_1.Sound.play(Sound_1.Sound.ball_brick_);
        }
    };
    Floor.prototype.killMe_ = function () {
        this._killed_ = true;
        while (this.base.numChildren > 0) {
            var item = this.base.getChildAt(0);
            var worldMatrix = item.transform.worldMatrix;
            item.transform.worldMatrix.cloneTo(worldMatrix);
            this.base.parent.parent.addChild(item);
            item.transform.worldMatrix = worldMatrix;
            var b = (item.transform.position.x < 0) ? -1 : 1;
            var component = item.getComponent(Laya.Rigidbody3D);
            component.enabled = true;
            // component.constraints = Laya.RigidbodyConstraints.None;
            component.linearVelocity = new Laya.Vector3(b * 0.5, 1.5, 0.5).multiplyScalar(Math.randInt(3, 8)); //Laya.Vector3.up.plus(b).add(Laya.Vector3.forward).multiplyScalar(6);
            component.angularVelocity = new Laya.Vector3(0, 0, b * Math.randFloat(0, Math.PI / 2));
            setTimeout(function (a) {
                a.destroy(true);
            }, 3000, item);
        }
        this.base.destroy();
    };
    Floor.prototype.onHit_ = function (obj, spinDegree) {
        // console.log("sfsaf",spinDegree);
        for (var i = 0; i < this._parts_.length; i++) {
            var part = this._parts_[i];
            var start = (i * this.degree + spinDegree + Math.deg(this.degreeOffset)) % 360;
            var end = start + this.degree;
            if (start < 269 && end > 271) {
                // part.SetColor(Color.white);
                part.onHit(obj);
                break;
            }
        }
    };
    return Floor;
}(Entity_1.Entity));
exports.Floor = Floor;

},{"../core/Entity":12,"../core/effect/EffectProc":19,"../core/effect/FxScale":20,"./FloorPart":33,"./Game":34,"./Sound":38,"tslib":3}],32:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var BallMover_1 = require("./BallMover");
var Entity_1 = require("../core/Entity");
var Ball_1 = require("./Ball");
var Sound_1 = require("./Sound");
var LayaUtils_1 = require("../core/LayaUtils");
var PaintDot_1 = require("./PaintDot");
var FloorFinish = /** @class */ (function (_super) {
    tslib_1.__extends(FloorFinish, _super);
    function FloorFinish() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    FloorFinish.prototype.onAwake = function () {
        this._topObj_ = LayaUtils_1.LayaUtils.getChildByName_(this.base, "top");
        this._topMaterial_ = this._topObj_.meshRenderer.material.clone();
        this._topObj_.meshRenderer.material = this._topMaterial_;
    };
    FloorFinish.prototype.setColor_ = function (col) {
        if (this._topObj_) {
            this._topMaterial_.albedoColor = new Laya.Vector4(col.r, col.g, col.b, col.a);
        }
    };
    FloorFinish.prototype.scaleEffect_ = function () {
        Sound_1.Sound.play(Sound_1.Sound.ball_brick_);
        // let localScale:Laya.Vector3 = this._coreObj_.transform.localScale;
        // let vector:Laya.Vector3 = localScale.scale(1.2).setY(localScale.y);
        // let vector2:Laya.Vector3 = localScale.scale(0.92).setY(localScale.y);
        // let vector3:Laya.Vector3 = localScale.scale(1.05).setY(localScale.y);
        // let component:EffectProc = this._coreObj_.getComponent(EffectProc);
        // if (component && !component.HasEffects())
        // {
        // 	component.AddEffect(new FxScale(localScale, vector, 0.2, false));
        // 	component.AddEffect(new FxScale(vector, vector2, 0.15, false));
        // 	component.AddEffect(new FxScale(vector2, vector3, 0.1, false));
        // 	component.AddEffect(new FxScale(vector3, localScale, 0.06, false));
        // 	Sound.play(Sound.ball_brick, 0);
        // }
    };
    FloorFinish.prototype.onHit = function (obj, degree) {
        // console.log("FinishLine hit...");
        var ballMover = obj.getComponent(BallMover_1.BallMover);
        var ball = obj.getComponent(Ball_1.Ball);
        if (ball.isFireMode_) {
            ball.setFireMode_(false);
        }
        PaintDot_1.PaintDot.BornInq(obj, this.base);
    };
    return FloorFinish;
}(Entity_1.Entity));
exports.FloorFinish = FloorFinish;

},{"../core/Entity":12,"../core/LayaUtils":15,"./Ball":28,"./BallMover":29,"./PaintDot":36,"./Sound":38,"tslib":3}],33:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var Entity_1 = require("../core/Entity");
var BallMover_1 = require("./BallMover");
var Ball_1 = require("./Ball");
var Floor_1 = require("./Floor");
var PaintDot_1 = require("./PaintDot");
var Game_1 = require("./Game");
var FloorPart = /** @class */ (function (_super) {
    tslib_1.__extends(FloorPart, _super);
    function FloorPart() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._wall_ = false;
        return _this;
    }
    FloorPart.prototype.onAwake = function () {
        this._wall_ = false;
        this.base.getComponent(Laya.Rigidbody3D).enabled = false;
    };
    FloorPart.prototype.setWall = function () {
        this._wall_ = true;
    };
    FloorPart.prototype.setColor_ = function (c) {
        this.base.meshRenderer.material.albedoColor = c.toV4();
    };
    FloorPart.prototype.onHit = function (obj) {
        var ballMover = obj.getComponent(BallMover_1.BallMover);
        if (this._wall_ && ballMover.isMoved) {
            this.enterCollision(obj);
        }
        else {
            this.enterTrigger(obj);
        }
    };
    FloorPart.prototype.enterTrigger = function (obj) {
        var ballMover = obj.getComponent(BallMover_1.BallMover);
        var ball = obj.getComponent(Ball_1.Ball);
        if (ball.IsKilled)
            return;
        if (!ballMover.isStopped && ballMover.isMoved) {
            var figure = this.base.parent.getComponent(Floor_1.Floor);
            if (figure != null) {
                // Laya.Vector3.min(figure.transform.position, ballMover.LastKillPos,ballMover.LastKillPos);
                figure.triggerEnter_(this);
                ++ball.killCounter_;
                Game_1.Game.inst_._stackBuilder_.topFigurePos_().cloneTo(ballMover.LastKillPos);
            }
        }
        else {
            PaintDot_1.PaintDot.BornInq(obj, this.base);
        }
    };
    FloorPart.prototype.enterCollision = function (obj) {
        var ballMover = obj.getComponent(BallMover_1.BallMover);
        if (this._wall_ && ballMover.isMoved) {
            var ball = ballMover.getComponent_(Ball_1.Ball);
            if (ball.isFireMode_) {
                this.enterTrigger(obj);
            }
            else {
                var figure = this.base.parent.getComponent(Floor_1.Floor);
                if (!figure.isKilled_) {
                    figure.scaleEffect_();
                    ballMover.ballWall_();
                    PaintDot_1.PaintDot.BornInq(obj, this.base);
                }
            }
        }
    };
    return FloorPart;
}(Entity_1.Entity));
exports.FloorPart = FloorPart;

},{"../core/Entity":12,"./Ball":28,"./BallMover":29,"./Floor":31,"./Game":34,"./PaintDot":36,"tslib":3}],34:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var Ball_1 = require("./Ball");
var Entity_1 = require("../core/Entity");
var BallMover_1 = require("./BallMover");
var FireBallProc_1 = require("./FireBallProc");
var BGColor_1 = require("./BGColor");
var Skin_1 = require("./Skin");
var GameStats_1 = require("./GameStats");
var Sound_1 = require("./Sound");
var UICenter_1 = require("./UICenter");
var LayaUtils_1 = require("../core/LayaUtils");
var PaintDot_1 = require("./PaintDot");
var ShareHelper_1 = require("../share/ShareHelper");
var StackTower_1 = require("./StackTower");
var EffectProc_1 = require("../core/effect/EffectProc");
var Floor_1 = require("./Floor");
var FloorFinish_1 = require("./FloorFinish");
var Constant_1 = require("../Constant");
var Game = /** @class */ (function (_super) {
    tslib_1.__extends(Game, _super);
    function Game() {
        var _this = _super.call(this) || this;
        _this._pitch_ = 1;
        _this._spinDegree_ = 0;
        _this._spinRotation_ = new Laya.Vector3();
        Game._instance = _this;
        return _this;
    }
    Object.defineProperty(Game.prototype, "isFinished", {
        get: function () { return this._finished_; },
        enumerable: true,
        configurable: true
    });
    ;
    Object.defineProperty(Game.prototype, "isDead", {
        get: function () { return this._ball_.IsKilled; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Game, "inst_", {
        get: function () { return this._instance; },
        enumerable: true,
        configurable: true
    });
    Game.prototype.onAwake = function () {
        var shapes = [];
        var figure_layer = LayaUtils_1.LayaUtils.getChildByName_(this.owner, "Library/shapes");
        for (var i = 0; i < figure_layer.numChildren; i++) {
            var item = figure_layer.getChildAt(i);
            // item.removeSelf();
            shapes.push(item);
        }
        figure_layer.removeChildren();
        figure_layer.removeSelf();
        this._share_list = shapes;
        var inq_prefab = LayaUtils_1.LayaUtils.getChildByName_(this.base, "Library/paint");
        PaintDot_1.PaintDot.inq_profeb = inq_prefab;
        inq_prefab.removeSelf();
        this._stackBuilder_ = this.base.addComponent(StackTower_1.StackTower);
        this._stackBuilder_._obj_cylinder = LayaUtils_1.LayaUtils.getChildByName_(this.owner, "Game/stack/cylinder");
        this._stackBuilder_.obj_con_ = LayaUtils_1.LayaUtils.getChildByName_(this.owner, "Game/stack/floors");
        this._stackBuilder_.prefab_finish_ = LayaUtils_1.LayaUtils.getChildByName_(this.owner, "Library/floor_finish");
        this._stackBuilder_.prefab_finish_.removeSelf();
        this._ps_win = LayaUtils_1.LayaUtils.getChildByName_(this.owner, "Game/ps_win");
        this._camera_ = LayaUtils_1.LayaUtils.getChildByName_(this.owner, "Game/camera_wapper");
        this._camera_.getChildByName("camera").clearColor = new Laya.Vector4(0, 0, 0, 0);
        var ballObj = LayaUtils_1.LayaUtils.getChildByName_(this.base, "Game/ball"); //this.base.getChildByName
        ballObj.addComponent(EffectProc_1.EffectProc);
        this._ballMover_ = ballObj.addComponent(BallMover_1.BallMover);
        this._ball_ = ballObj.addComponent(Ball_1.Ball);
        this._bg_ = this.owner.addComponent(BGColor_1.BGColor);
        this._fire_ = this.base.addComponent(FireBallProc_1.FireBallProc);
        this._startPos_ = this._ballMover_.transform.position;
        this._ui_ = new UICenter_1.UICenter();
        this._ui_.game_ = this;
        Sound_1.Sound.preload();
    };
    Game.prototype.getShape_ = function (level) {
        return this._share_list[level % this._share_list.length];
    };
    Game.prototype.getSkin_ = function (level) {
        if ($sys_prefer_skin.length > 0)
            return Skin_1.Skin.create.apply(null, $sys_prefer_skin);
        if (!this._skin_list) {
            this._skin_list = $sys_skins.map(function (colors) { return Skin_1.Skin.create.apply(null, colors); });
        }
        return this._skin_list[level % this._skin_list.length];
    };
    Game.prototype.onStart = function () {
        this.restart_();
    };
    Game.prototype.onUpdate = function () {
        // return;
        this._ui_._gameUI_.updateFireBar_(this._fire_.getFill_());
        this._ui_._gameUI_.showFireBar_(this._fire_.isFire_() || this._fire_.isAccFire_(), this._fire_.isFire_());
        this._ui_._gameUI_.showWarningFire_(this._fire_.isFire_() && this._fire_.getFill_() < 0.2);
        this._ui_._gameUI_.onUpdate();
        if (!this._fire_.isFire_() && this._ball_.isFireMode_) {
            this._ball_.setFireMode_(false);
        }
        this.fixedUpdate_();
        var rotateDelta = Laya.timer.deltaSec * Math.deg(1.1);
        this._spinDegree_ += rotateDelta;
        this._spinRotation_.setY(rotateDelta);
        this._stackBuilder_.obj_con_.transform.rotate(this._spinRotation_, true, false);
        this.hitTest();
    };
    Game.prototype.hitTest = function () {
        if (this._ball_.IsKilled)
            return;
        var obstacle = this._stackBuilder_.topFloor_();
        if (!obstacle)
            return;
        if (this._ball_.bottom.y > obstacle.transform.position.y) {
            return;
        }
        var figure = obstacle.getComponent(Floor_1.Floor);
        if (figure) {
            figure.onHit_(this._ball_.base, this._spinDegree_);
            return;
        }
        var finsish = obstacle.getComponent(FloorFinish_1.FloorFinish);
        if (finsish) {
            finsish.onHit(this._ball_.base, this._spinDegree_);
            if (!this._finished_) {
                this.onFinish_();
            }
            return;
        }
    };
    Game.prototype.restart_ = function () {
        console.log("restart_ ....");
        this._pitch_ = 0;
        this._numKilled_ = 0;
        this._bContinue_ = false;
        this._finished_ = false;
        this._ballMover_.transform.position = this._startPos_;
        this._ballMover_.reset_();
        this._ball_.Reset();
        this._ball_.setFireMode_(false);
        var shape = this.getShape_(GameStats_1.GameStats.inst_.level);
        var skin = this.getSkin_(GameStats_1.GameStats.inst_.level);
        this._numBricks_ = this._stackBuilder_.build_(GameStats_1.GameStats.inst_.level, skin, shape);
        this._ui_._gameUI_.showFireBar_(false);
        this._bg_.changeColor_(skin.bg_top, skin.bg_bottom, 0);
        this._ball_.SetColor(skin.ball_color);
        this._ui_._gameUI_.setColor_(skin.ball_color);
        this._camera_.transform.position = Laya.Vector3.zero;
        this._spinDegree_ = 0;
        this._stackBuilder_.obj_con_.transform.localRotation = new Laya.Quaternion;
        platform.log(Constant_1.Constant.Analytics.level_begin, { level: GameStats_1.GameStats.inst_.level });
    };
    Game.prototype.continue_ = function () {
        this._bContinue_ = true;
        var vPos = this._stackBuilder_.topFigurePos_();
        this._ballMover_.reset_(vPos);
        this._ball_.Reset();
    };
    Game.prototype.fixedUpdate_ = function () {
        if (this._numKilled_ >= 0 && this._numBricks_ - this._numKilled_ > 2) {
            var z = this._camera_.transform.position.z;
            var position = new Laya.Vector3;
            Laya.Vector3.lerp(this._camera_.transform.position, this._ballMover_.pos_, 0.1, position);
            position.z = z;
            position.x = 0;
            this._camera_.transform.position = position;
        }
        this._pitch_ -= 0.011;
        if (this._pitch_ < 1) {
            this._pitch_ = 1;
        }
    };
    Game.prototype.onCrash_ = function () {
        Sound_1.Sound.play(Sound_1.Sound.game_over_);
        app.vibrate(1500);
        this._ui_.showGameOver_(!this._bContinue_ && this._numKilled_ > 10, GameStats_1.GameStats.inst_.scores);
        this._fire_.reset_();
        GameStats_1.GameStats.inst_.best_score = GameStats_1.GameStats.inst_.scores;
        GameStats_1.GameStats.inst_.scores = 0;
        platform.setHightScore(GameStats_1.GameStats.inst_.best_score);
        ShareHelper_1.ShareHelper.sendScore(GameStats_1.GameStats.inst_.best_score);
        platform.log(Constant_1.Constant.Analytics.level_end, { result: 0, level: GameStats_1.GameStats.inst_.level });
    };
    Game.prototype.onFinish_ = function () {
        if (this._finished_)
            return;
        this._ps_win.transform.position = this._stackBuilder_.topFigurePos_();
        this._ps_win.particleSystem.play();
        this.onPress_(false);
        this._finished_ = true;
        app.vibrate(1000);
        Sound_1.Sound.play(Sound_1.Sound.game_compl_);
        this._ui_.showWin_(GameStats_1.GameStats.inst_.level);
        this._fire_.reset_();
        platform.hasIAD() && platform.showIAD("level_finish");
        GameStats_1.GameStats.inst_.best_score = GameStats_1.GameStats.inst_.scores;
        platform.setHightScore(GameStats_1.GameStats.inst_.best_score);
        platform.log(Constant_1.Constant.Analytics.level_end, { result: 1, level: GameStats_1.GameStats.inst_.level });
    };
    Game.prototype.onPress_ = function (pressed) {
        if (pressed) {
            if (this.isFinished || this.isDead)
                return;
            this._ui_.showMainMenu_(false);
        }
        this._ballMover_.moveUp_(pressed);
    };
    Game.prototype.onBlockCrash_ = function () {
        Sound_1.Sound.playPitch_(Sound_1.Sound.brick_, this._pitch_);
        app.vibrate(500);
        this._pitch_ += 0.06;
        this._numKilled_++;
        if (!this._fire_.isFire_()) {
            var num = ++GameStats_1.GameStats.inst_.scores;
        }
        else {
            GameStats_1.GameStats.inst_.scores += 2;
        }
        this._ui_._gameUI_.updateUI_(this._numKilled_ / this._numBricks_, GameStats_1.GameStats.inst_.scores);
        this._stackBuilder_.updateVisible_();
        this._fire_.onKillBrick_();
        if (this._fire_.isFire_()) {
            if (!this._ball_.isFireMode_) {
                this._ball_.setFireMode_(true);
            }
        }
        else if (this._ball_.isFireMode_) {
            this._ball_.setFireMode_(false);
        }
    };
    return Game;
}(Entity_1.Entity));
exports.Game = Game;

},{"../Constant":6,"../core/Entity":12,"../core/LayaUtils":15,"../core/effect/EffectProc":19,"../share/ShareHelper":57,"./BGColor":27,"./Ball":28,"./BallMover":29,"./FireBallProc":30,"./Floor":31,"./FloorFinish":32,"./GameStats":35,"./PaintDot":36,"./Skin":37,"./Sound":38,"./StackTower":40,"./UICenter":41,"tslib":3}],35:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameStats = /** @class */ (function () {
    function GameStats() {
        this.scores = 0;
        GameStats._inst = this;
    }
    Object.defineProperty(GameStats, "inst_", {
        get: function () {
            if (!GameStats._inst) {
                GameStats._inst = new GameStats;
            }
            return GameStats._inst;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GameStats.prototype, "level", {
        get: function () {
            return platform.remoteData.level;
        },
        set: function (v) {
            platform.remoteData.level = v;
            platform.remoteData.isDirty = true;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GameStats.prototype, "best_score", {
        get: function () {
            return platform.remoteData.best_score;
        },
        set: function (v) {
            if (v <= platform.remoteData.best_score)
                return;
            platform.remoteData.best_score = v;
            platform.remoteData.isDirty = true;
        },
        enumerable: true,
        configurable: true
    });
    return GameStats;
}());
exports.GameStats = GameStats;

},{}],36:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var Entity_1 = require("../core/Entity");
var BallMover_1 = require("./BallMover");
var Ball_1 = require("./Ball");
var PaintDot = /** @class */ (function (_super) {
    tslib_1.__extends(PaintDot, _super);
    function PaintDot() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._lifeTime_ = 3;
        _this._time_ = 0;
        return _this;
    }
    PaintDot.prototype.onAwake = function () {
        this._lifeTime_ = Math.randInt(15, 25);
        Object.Destroy(this.base, this._lifeTime_ + 0.1);
        var display = this.base.getChildByName("Quad");
        this._material_ = display.meshRenderer.material.clone();
        display.meshRenderer.material = this._material_;
    };
    PaintDot.prototype.build_ = function (c) {
        this._color_ = c;
        this._material_.albedoColor = this._color_.toV4();
    };
    PaintDot.prototype.onUpdate = function () {
        this._time_ += Laya.timer.deltaSec;
        var a = 1 - Math.clamp(this._time_ / this._lifeTime_, 0, 1);
        // let color:Color = this._color_;
        // color.a = a;
        // this._material_.albedoColor = this._color_.toV4();
        this._material_.albedoColorA = a;
    };
    PaintDot.BornInq = function (other, parent) {
        var prefab = PaintDot.inq_profeb;
        if (!prefab)
            return;
        var bm = other.getComponent(BallMover_1.BallMover);
        if (bm && bm.isMoved)
            return;
        var ball = other.getComponent(Ball_1.Ball);
        var gameObject = Laya.Sprite3D.instantiate(prefab, parent);
        var position = ball.bottom;
        gameObject.transform.position = new Laya.Vector3(position.x, parent.transform.position.y + 0.01, position.z);
        gameObject.transform.localScale = Laya.Vector3.one.scale(Math.randFloat(1, 2));
        gameObject.transform.rotate(new Laya.Vector3(0, Math.randInt(0, 300), 0), true, false);
        var inqDot = gameObject.addComponent(PaintDot);
        inqDot.build_(other.getComponent(Ball_1.Ball).GetColor());
    };
    return PaintDot;
}(Entity_1.Entity));
exports.PaintDot = PaintDot;

},{"../core/Entity":12,"./Ball":28,"./BallMover":29,"tslib":3}],37:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Color_1 = require("../core/Color");
function createColor(hex) {
    var color = new Color_1.Color();
    color.setHex(hex);
    color.a = 1;
    return color;
}
var Skin = /** @class */ (function () {
    function Skin() {
    }
    Skin.create = function (colBall, colBG1, colBG2, colObj1, colObj2, colWall) {
        var skin = new Skin();
        skin.ball_color = createColor(colBall);
        skin.bg_top = createColor(colBG1);
        skin.bg_bottom = createColor(colBG2);
        skin.floor_top = createColor(colObj1);
        skin.floor_bottom = createColor(colObj2);
        skin.colWall = createColor(colWall);
        return skin;
    };
    return Skin;
}());
exports.Skin = Skin;

},{"../core/Color":10}],38:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var howler_1 = require("howler");
var Sound;
(function (Sound) {
    Sound.jump_ = "audio/brick";
    Sound.ball_brick_ = "audio/ball_brick";
    Sound.game_over_ = "audio/game_over";
    Sound.game_compl_ = "audio/game_compl";
    Sound.brick_ = "audio/brick";
    Sound.fire_start_ = "audio/fire_start";
    Sound.fire_loop_ = "audio/fire_loop";
    function preload() {
        [
            Sound.jump_, Sound.ball_brick_, Sound.game_over_, Sound.game_compl_, Sound.brick_, Sound.fire_start_, Sound.fire_loop_
        ].forEach(function (v) { return getHowl(v); });
    }
    Sound.preload = preload;
    var howlMap = {};
    function getHowl(name) {
        var howler = howlMap[name] || (howlMap[name] = new howler_1.Howl({
            onloaderror: function (e, msg) {
                console.log("audio error:" + name, msg);
            },
            src: [name + ".webm", name + ".mp3"] //".webm"
        }));
        return howler;
    }
    function setMute(mute) {
        howler_1.Howler.mute(mute);
        localStorage.setItem("sound_mute", mute ? "true" : "false");
        return mute;
    }
    Sound.setMute = setMute;
    function getMeute() {
        return localStorage.getItem("sound_mute") != "false";
    }
    Sound.getMeute = getMeute;
    function play(name) {
        var howler = getHowl(name);
        howler.play();
        return true;
    }
    Sound.play = play;
    function playPitch_(name, pitch) {
        var howler = getHowl(name);
        var id = howler.play();
        howler.rate(pitch, id);
    }
    Sound.playPitch_ = playPitch_;
    function stop(name) {
        var howler = getHowl(name);
        howler.stop();
        return true;
    }
    Sound.stop = stop;
})(Sound = exports.Sound || (exports.Sound = {}));

},{"howler":1}],39:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var StackSetting = /** @class */ (function () {
    function StackSetting() {
        this.length = 40;
        this.startEmpty = 5;
        this.fillMain = 10;
        this.sectorFill = 50;
        this.sectorLenMin = 6;
        this.sectorLenMax = 20;
        this.sectorLenRandom = 5;
    }
    StackSetting.create = function (length, fillMain, sectorFill, sectorLenMax, sectorLenMin, sectorLenRandom, startEmpty) {
        var obj = new StackSetting();
        obj.length = length;
        obj.fillMain = fillMain;
        obj.sectorFill = sectorFill;
        obj.sectorLenMax = sectorLenMax;
        obj.sectorLenMin = sectorLenMin;
        obj.sectorLenRandom = sectorLenRandom;
        obj.startEmpty = startEmpty;
        return obj;
    };
    return StackSetting;
}());
exports.StackSetting = StackSetting;

},{}],40:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var Entity_1 = require("../core/Entity");
var StackSetting_1 = require("./StackSetting");
var Color_1 = require("../core/Color");
var FloorFinish_1 = require("./FloorFinish");
var EffectProc_1 = require("../core/effect/EffectProc");
var Floor_1 = require("./Floor");
var StackTower = /** @class */ (function (_super) {
    tslib_1.__extends(StackTower, _super);
    function StackTower() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._selectLevel_ = -1;
        _this._offset_ = 0.33;
        _this._rotateStep_ = -0.05;
        _this._settings_ = [
            StackSetting_1.StackSetting.create(60, 10, 20, 16, 8, 10, 2),
            StackSetting_1.StackSetting.create(68, 20, 35, 16, 5, 10, 2),
            StackSetting_1.StackSetting.create(75, 25, 40, 18, 8, 4, 3),
            StackSetting_1.StackSetting.create(80, 60, 42, 20, 10, 2, 2),
            StackSetting_1.StackSetting.create(80, 80, 5, 14, 6, 3, 3),
            StackSetting_1.StackSetting.create(82, 50, 70, 20, 14, 8, 2),
            StackSetting_1.StackSetting.create(90, 5, 75, 18, 10, 8, 0),
            StackSetting_1.StackSetting.create(96, 80, 70, 26, 12, 4, 1),
            StackSetting_1.StackSetting.create(100, 90, 40, 25, 12, 5, 1)
        ];
        _this._seetingsLoop_ = [
            StackSetting_1.StackSetting.create(100, 65, 75, 20, 10, 5, 1),
            StackSetting_1.StackSetting.create(100, 80, 50, 30, 15, 8, 0),
            StackSetting_1.StackSetting.create(100, 80, 80, 30, 20, 1, 2),
            StackSetting_1.StackSetting.create(100, 90, 15, 14, 6, 3, 0),
        ];
        _this._mask_ = [];
        return _this;
    }
    StackTower.prototype.onAwake = function () {
        for (var i = 0; i < 10; i++) {
            this._mask_.push(0);
        }
    };
    StackTower.prototype.clear_ = function () {
        // this._objCore_.removeChildren();
        this.obj_con_.destroyChildren();
        // this._objCore_.destroyChildren();
        // for(let i=0;i <this._objCore_.numChildren;i++){
        // 	let item  = this._objCore_.getChildAt(i);
        // 	item.destroyChildren()
        // }
        // foreach (Transform item in this._objCore_.transform)
        // {
        // 	Object.Destroy(item.gameObject);
        // }
    };
    StackTower.prototype.build_ = function (iLevel, skin, shape) {
        this._currShape_ = shape;
        this.clear_();
        var settings = this.getSetting_(iLevel);
        var pos = Laya.Vector3.zero;
        if (settings.startEmpty > 0) {
            this.buildSector_(0, settings.startEmpty, settings.length, iLevel, 0, skin.floor_top, skin.floor_bottom, skin.colWall);
        }
        var num;
        var a2;
        for (num = settings.startEmpty; num < settings.length; num += a2) {
            a2 = Math.randInt(0, settings.sectorLenRandom);
            a2 = Math.min(a2, settings.length - num);
            if (a2 > 0) {
                pos = this.buildSector_(num, a2, settings.length, iLevel, settings.fillMain, skin.floor_top, skin.floor_bottom, skin.colWall);
            }
            num += a2;
            a2 = Math.randInt(settings.sectorLenMin, settings.sectorLenMax);
            a2 = Math.min(a2, settings.length - num);
            if (a2 > 0) {
                pos = this.buildSector_(num, a2, settings.length, iLevel, settings.sectorFill, skin.floor_top, skin.floor_bottom, skin.colWall);
            }
        }
        this.createFinish_(pos.plus(Laya.Vector3.down.scale(this._offset_ * 1)), Color_1.Color.Lerp(Color_1.Color.white, skin.ball_color, 0.4));
        var d = (settings.length + 4) * this._offset_;
        this._obj_cylinder.transform.localScale = Laya.Vector3.up.scale(d / 2).add(Laya.Vector3.right).add(Laya.Vector3.forward);
        this._obj_cylinder.transform.localPosition = Laya.Vector3.down.scale(d / 2).add(Laya.Vector3.up.scale(this._offset_ * 3));
        return settings.length;
    };
    StackTower.prototype.buildSector_ = function (i, len, fullLen, levelNum, fill, c1, c2, cW) {
        var result = Laya.Vector3.zero;
        var numParts = +this._currShape_.name.split("_").pop(); //this._currShape_.getComponent(Figure)._numParts_;
        this.fillWall_(this._mask_, numParts, fill, i / fullLen);
        var num = Math.randInt(0, 3);
        for (var j = 0; j < len; j++) {
            var c3 = Color_1.Color.Lerp(c1, c2, i / (fullLen - 1));
            var figure = this.createFloor_(Laya.Vector3.down.scale(i * this._offset_), i * this._rotateStep_);
            if (num == 0) {
                if (Math.randInt(0, 100) < 60) {
                    figure.setMask_(this._mask_, c3, cW);
                }
                else {
                    figure.setColors_(c3, cW);
                }
            }
            else if (j % num == 0) {
                figure.setMask_(this._mask_, c3, cW);
            }
            else {
                figure.setColors_(c3, cW);
            }
            result = figure.transform.localPosition;
            figure.owner.active = (i < 20);
            //TODO: add scale;
            // let scale = this.GetScale(i, fullLen, levelNum);
            // console.log(scale);
            // figure.transform.localScale = Laya.Vector3.one.scale(scale);
            i++;
        }
        return result;
    };
    StackTower.prototype.createFloor_ = function (pos, rotate) {
        var figureObj = Laya.Sprite3D.instantiate((this._prefBrick_ != null) ? this._prefBrick_ : this._currShape_, this.obj_con_);
        figureObj.transform.localPosition = pos;
        var quaternion = new Laya.Quaternion;
        Laya.Quaternion.createFromYawPitchRoll(rotate, 0, 0, quaternion);
        figureObj.transform.localRotation = quaternion;
        var figure = figureObj.addComponent(Floor_1.Floor);
        figure.degreeOffset = rotate;
        figureObj.addComponent(EffectProc_1.EffectProc);
        return figure;
    };
    StackTower.prototype.createFinish_ = function (pos, col) {
        var gameObject = Laya.Sprite3D.instantiate(this.prefab_finish_, this.obj_con_);
        gameObject.transform.localPosition = pos;
        var component = gameObject.addComponent(FloorFinish_1.FloorFinish);
        if (component) {
            component.setColor_(col);
        }
    };
    StackTower.prototype.getSetting_ = function (i) {
        if (this._selectLevel_ >= 0) {
            if (this._selectLevel_ < this._settings_.length) {
                return this._settings_[this._selectLevel_];
            }
            return this._seetingsLoop_[this._selectLevel_ - this._settings_.length];
        }
        if (i < this._settings_.length * 2) {
            // console.warn("SN= " + Math.floor(i / 2) % this._settings_.length);
            return this._settings_[Math.floor(i / 2) % this._settings_.length];
        }
        i -= this._settings_.length * 2;
        // console.warn("SN2= " + i % this._seetingsLoop_.length);
        var roadSettings = this._seetingsLoop_[i % this._seetingsLoop_.length];
        roadSettings.length = Math.clamp(100 + i * 2, 100, 200);
        return roadSettings;
    };
    StackTower.prototype.fillWall_ = function (list, count, percFill, depth) {
        var num = 0;
        for (var i = 0; i < count; i++) {
            list[i] = ((Math.randInt(0, 100) < percFill) ? 1 : 0);
            num += list[i];
        }
        if (num == count) {
            num--;
            list[Math.randInt(0, count - 1)] = 0;
        }
        if (count - num == 1 && count >= 4 && depth < 0.5) {
            // console.log("ADD RAND");
            var j = 0;
            for (j = 0; j < count && list[j] != 0; j++) {
            }
            var num2 = j;
            for (var k = 0; k < 10; k++) {
                if (j != num2 && num2 != j + 1 && num2 != j - 1) {
                    break;
                }
                num2 = Math.randInt(0, list.length - 1);
            }
            list[num2] = 0;
        }
    };
    StackTower.prototype.getScale_ = function (i, count, level) {
        // let seed:number = Math.randomSeed;
        // Math.randomSeed = level;
        var num = i / count;
        var num2 = Math.randInt(0, 10);
        var num3 = Math.sin(Math.randFloat(0, 3.14159274) + num * 3.14159274 * num2);
        // Math.randomSeed = seed;
        return 1 - num3 * 0.1;
    };
    StackTower.prototype.updateVisible_ = function () {
        for (var i = 0; i < this.obj_con_.numChildren; i++) {
            var item = this.obj_con_.getChildAt(i);
            if (!item.active) {
                item.active = true;
                break;
            }
        }
    };
    StackTower.prototype.topFigurePos_ = function () {
        for (var i = 0; i < this.obj_con_.numChildren; i++) {
            var item = this.obj_con_.getChildAt(i);
            if (item.active && item.numChildren > 0) {
                return item.transform.position;
            }
        }
        return Laya.Vector3.zero;
    };
    StackTower.prototype.topFloor_ = function () {
        for (var i = 0; i < this.obj_con_.numChildren; i++) {
            var item = this.obj_con_.getChildAt(i);
            if (item.active && item.numChildren > 0) {
                return item;
            }
        }
        return null;
    };
    return StackTower;
}(Entity_1.Entity));
exports.StackTower = StackTower;

},{"../core/Color":10,"../core/Entity":12,"../core/effect/EffectProc":19,"./Floor":31,"./FloorFinish":32,"./StackSetting":39,"tslib":3}],41:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameStats_1 = require("./GameStats");
var GameUI_1 = require("../view/GameUI");
var GameOverUI_1 = require("../view/GameOverUI");
var GameWinUI_1 = require("../view/GameWinUI");
var MenuUI_1 = require("../view/MenuUI");
var RankUI_1 = require("../view/RankUI");
var UICenter = /** @class */ (function () {
    function UICenter() {
        this._gameUI_ = new GameUI_1.GameUI();
        this._mainMenu_ = new MenuUI_1.MeunUI();
        app.ui.game_layer.addChild(this._gameUI_);
        app.ui.game_layer.addChild(this._mainMenu_);
        this._gameOverUI_ = new GameOverUI_1.GameOverUI();
        this._gameWinUI_ = new GameWinUI_1.GameWinUI();
        this.showMainMenu_(true);
    }
    UICenter.prototype.onAwake = function () {
    };
    UICenter.prototype.onStart = function () {
        // DebugOut("FIRST launch: " + (!Stats.Instance.HasParam("init_ads_delay")).ToString());
        // Analytics.Initialize();
        // FBMan.Instance.InitFB();
        // Invoke("InitADS", Stats.Instance.GetParamFloat("init_ads_delay", 2f));
        // Stats.Instance.SetParam("init_ads_delay", 0.1f);
        // ShowMainMenu(true);
        // InvokeRepeating("WriteFPS", 1f, 0.5f);
        // this.ShowMainMenu(true);		
    };
    // private void InitADS()
    // {
    // 	bool showBannerAuto = Stats.Instance.level >= Stats.Instance.GetRemoteInt("ad_banner_show_level", 10);
    // 	ADs.Init(Stats.Instance.adsRemoved ? ADType.Rewarded : ADType.All, showBannerAuto);
    // 	Instance.DebugOut("INIT ADS - Show BANNER = " + showBannerAuto.ToString());
    // }
    // private void HandleLog(string logString, string stackTrace, LogType type)
    // {
    // 	string str = "log " + type.ToString()[0].ToString();
    // 	if (type == LogType.Exception)
    // 	{
    // 		str += "x";
    // 	}
    // 	DebugOut(str + " " + logString);
    // }
    UICenter.prototype.showMainMenu_ = function (show) {
        this._mainMenu_.visible = show;
    };
    UICenter.prototype.showGameOver_ = function (canContinue, scores) {
        this._gameOverUI_.show_(canContinue, scores, 0);
    };
    UICenter.prototype.showWin_ = function (level) {
        this._gameWinUI_.show_(level);
    };
    UICenter.prototype.showRank = function () {
        var _this = this;
        if (!this._rankview_) {
            this._rankview_ = new RankUI_1.RankUI();
        }
        var view = this._rankview_;
        app.ui.game_layer.addChild(view);
        view.once(Laya.Event.CLOSE, this, function () {
            view.removeSelf();
            _this.showMainMenu_(true);
        });
        this.showMainMenu_(false);
    };
    UICenter.prototype.hideRank = function () {
        if (!this._rankview_)
            return;
        if (this._rankview_.hasListener(Laya.Event.CLOSE)) {
            this._rankview_.event(Laya.Event.CLOSE);
        }
        else {
            this._rankview_.removeSelf();
        }
        this._rankview_ = null;
    };
    UICenter.prototype.onClickPlayMain_ = function () {
        this.showMainMenu_(false);
    };
    UICenter.prototype.onClickNext_ = function () {
        GameStats_1.GameStats.inst_.level++;
        this._gameWinUI_.hide_();
        this.game_.restart_();
        this._gameUI_.updateUI_(0, GameStats_1.GameStats.inst_.scores);
        this.showMainMenu_(true);
    };
    UICenter.prototype.onClickRestart = function (withMenu) {
        if (withMenu === void 0) { withMenu = true; }
        this._gameOverUI_.hide_();
        this.showMainMenu_(withMenu);
        this._gameUI_.updateUI_(0, 0);
        this.game_.restart_();
    };
    return UICenter;
}());
exports.UICenter = UICenter;

},{"../view/GameOverUI":60,"../view/GameUI":61,"../view/GameWinUI":62,"../view/MenuUI":63,"../view/RankUI":65,"./GameStats":35}],42:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var Emiter_1 = require("../core/Emiter");
// /**
//  * Author:terran
//  * Email:terran.tian@foxmail.com
//  * 
//  * Time:上午9:56 2016年12月17日
//  **/
function wait(duration, callBack) {
    return new Promise(function (resolve, reject) {
        var time = 0;
        time = setTimeout(function () {
            clearTimeout(time);
            resolve();
            if (callBack)
                callBack();
        }, duration);
    });
}
/*
    How is fill rate calculated?
    Fill rate is calculated based on total filled ads over total eligible requests. Scenarios where a request will not be counted include:

    Request for an ad is too frequent. For example, if you request an ad with the same placement ID in less than 15 second intervals
    IDFA (iOS) or Advertising ID (Android) is not available or can not be used for ad delivery
    Facebook has not been installed on the requesting app or the user has not logged in recently

    https://developers.facebook.com/docs/audience-network/testing
*/
var Advertise = /** @class */ (function (_super) {
    tslib_1.__extends(Advertise, _super);
    function Advertise(ids, autoPreload) {
        if (autoPreload === void 0) { autoPreload = true; }
        var _this = _super.call(this) || this;
        _this.ids = ids;
        _this._adInstance = null;
        _this._isStart = false;
        _this._watch_count = 0;
        _this.suportAD() && autoPreload && (_this.preloadAD());
        return _this;
    }
    Advertise.prototype.suportAD = function () { throw "should be implemented in subclass!"; };
    Advertise.prototype.getName = function () { throw "should be implemented in subclass!"; };
    Advertise.prototype.getADInstanceAsync = function (placementId) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                // throw "should be implemented in subclass!"
                return [2 /*return*/, null];
            });
        });
    };
    Advertise.prototype.hasAD = function () { return !!this._adInstance; };
    Advertise.prototype.preloadAD = function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var lastError, arr, i, _tmp_inst, index, reloadCount, e_1, e_2, e_3;
            var _this = this;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (this._isStart)
                            return [2 /*return*/];
                        this._isStart = true;
                        lastError = "";
                        arr = this.ids.concat();
                        i = 0;
                        _tmp_inst = null;
                        _a.label = 1;
                    case 1:
                        if (!!_tmp_inst) return [3 /*break*/, 24];
                        index = i++ % arr.length;
                        _a.label = 2;
                    case 2:
                        _a.trys.push([2, 22, , 23]);
                        return [4 /*yield*/, this.getADInstanceAsync(arr[index])];
                    case 3:
                        _tmp_inst = _a.sent();
                        lastError = "";
                        console.log(this.getName() + " create suc:" + index);
                        reloadCount = 0;
                        _a.label = 4;
                    case 4:
                        if (!(!this._adInstance && _tmp_inst)) return [3 /*break*/, 21];
                        _a.label = 5;
                    case 5:
                        _a.trys.push([5, 14, , 20]);
                        return [4 /*yield*/, _tmp_inst.loadAsync()];
                    case 6:
                        _a.sent();
                        lastError = "";
                        this._adInstance = _tmp_inst;
                        this.emit("ad_ready");
                        console.log(this.getName() + " load suc");
                        _a.label = 7;
                    case 7:
                        if (!true) return [3 /*break*/, 13];
                        return [4 /*yield*/, new Promise(function (resolve, reject) { return _this.once("show_ad", resolve); })];
                    case 8:
                        _a.sent();
                        _a.label = 9;
                    case 9:
                        _a.trys.push([9, 11, , 12]);
                        return [4 /*yield*/, this._adInstance.showAsync()];
                    case 10:
                        _a.sent();
                        lastError = "";
                        console.log(this.getName() + " show suc");
                        this.emit("show_result", { result: true, level: index });
                        //重新获取广告位
                        i = 0;
                        this._adInstance = null;
                        _tmp_inst = null;
                        return [3 /*break*/, 13];
                    case 11:
                        e_1 = _a.sent();
                        console.log(this.getName() + " show failed," + e_1.code + "," + e_1.message);
                        this.emit("ad_failed", { type: this.getName(), phase: 2, code: e_1.code, msg: e_1.message, lastError: lastError });
                        lastError = e_1.code + ":2";
                        this.emit("show_result", { result: false, err: e_1, level: index });
                        if (e_1.code == "ADS_NOT_LOADED") {
                            //重新加载
                            this._adInstance = null;
                            //重置加载计数
                            reloadCount = 0;
                            // await wait(30 * 1000)
                            return [3 /*break*/, 13];
                        }
                        else if (e_1.code == "PENDING_REQUEST" || e_1.code == "UNKNOWN" || e_1.code == "RATE_LIMITED" /*Can not show ads immediately after the game starts.*/) {
                            //do nothing,pennding show this instance next time;
                        }
                        else {
                            //重新获取广告位
                            this._adInstance = null;
                            _tmp_inst = null;
                            return [3 /*break*/, 13];
                        }
                        return [3 /*break*/, 12];
                    case 12: return [3 /*break*/, 7];
                    case 13: return [3 /*break*/, 20];
                    case 14:
                        e_2 = _a.sent();
                        console.log(this.getName() + " load failed," + e_2.code + "," + e_2.message);
                        this.emit("ad_failed", { type: this.getName(), phase: 1, code: e_2.code, msg: e_2.message, lastError: lastError });
                        lastError = e_2.code + ":1";
                        if (!(e_2.code == "ADS_FREQUENT_LOAD")) return [3 /*break*/, 16];
                        // Ad Requests are based on a combination of:
                        // Device ID
                        // Placement ID
                        // Display Format (Banner, Interstitial, Native)
                        // Your application should attempt to make another request after 30 minutes. 
                        // We also suggest adjusting your Refresh Rate or Request Rate.
                        return [4 /*yield*/, wait(30 * 60 * 1000)];
                    case 15:
                        // Ad Requests are based on a combination of:
                        // Device ID
                        // Placement ID
                        // Display Format (Banner, Interstitial, Native)
                        // Your application should attempt to make another request after 30 minutes. 
                        // We also suggest adjusting your Refresh Rate or Request Rate.
                        _a.sent();
                        return [3 /*break*/, 21];
                    case 16:
                        if (!(e_2.code == "INVALID_PARAM")) return [3 /*break*/, 17];
                        //重新获取广告位
                        _tmp_inst = null;
                        return [3 /*break*/, 21];
                    case 17: 
                    //ADS_NO_FILL,NETWORK_FAILURE,UNKNOWN
                    // You are not submitting requests too frequently 
                    // (for example, requesting an ad for the same placement ID multiple times within a 15 second interval)
                    // await wait(Math.min(++reloadCount,4)*15 * 1000)
                    return [4 /*yield*/, wait(31 * 1000)];
                    case 18:
                        //ADS_NO_FILL,NETWORK_FAILURE,UNKNOWN
                        // You are not submitting requests too frequently 
                        // (for example, requesting an ad for the same placement ID multiple times within a 15 second interval)
                        // await wait(Math.min(++reloadCount,4)*15 * 1000)
                        _a.sent();
                        _a.label = 19;
                    case 19: return [3 /*break*/, 20];
                    case 20: return [3 /*break*/, 4];
                    case 21: return [3 /*break*/, 23];
                    case 22:
                        e_3 = _a.sent();
                        console.log(this.getName() + " create failed," + e_3.code + "," + index);
                        this.emit("ad_failed", { type: this.getName(), phase: 0, code: e_3.code, msg: e_3.message, lastError: lastError });
                        lastError = e_3.code + ":0";
                        if (e_3.code == "CLIENT_UNSUPPORTED_OPERATION" || e_3.code == "ADS_TOO_MANY_INSTANCES") {
                            //不在获取广告
                            return [2 /*return*/];
                        }
                        return [3 /*break*/, 23];
                    case 23: return [3 /*break*/, 1];
                    case 24: return [2 /*return*/];
                }
            });
        });
    };
    Advertise.prototype.showAD = function (source) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var bo;
            var _this = this;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this.hasAD()) {
                            throw "no ad ready";
                        }
                        bo = this.emit("show_ad");
                        if (!bo)
                            return [2 /*return*/];
                        return [4 /*yield*/, new Promise(function (resolve, reject) {
                                _this.once("show_result", function (data) {
                                    if (data.result) {
                                        _this.emit("ad_show", { type: _this.getName(), result: ++_this._watch_count, level: data.level, source: source });
                                    }
                                    // data.result?resolve():reject(data.err);
                                    resolve(data.err ? false : true);
                                });
                            })];
                    case 1:
                        bo = _a.sent();
                        return [2 /*return*/, bo];
                }
            });
        });
    };
    return Advertise;
}(Emiter_1.Emiter));
var InterstitialAD = /** @class */ (function (_super) {
    tslib_1.__extends(InterstitialAD, _super);
    function InterstitialAD() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    InterstitialAD.prototype.getName = function () {
        return "iad";
    };
    InterstitialAD.prototype.suportAD = function () {
        var apis = FBInstant.getSupportedAPIs();
        return apis.indexOf("getInterstitialAdAsync") > -1;
    };
    InterstitialAD.prototype.getADInstanceAsync = function (placementId) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, FBInstant.getInterstitialAdAsync(placementId)];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    return InterstitialAD;
}(Advertise));
exports.InterstitialAD = InterstitialAD;
var RewardedVideoAD = /** @class */ (function (_super) {
    tslib_1.__extends(RewardedVideoAD, _super);
    function RewardedVideoAD() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    RewardedVideoAD.prototype.getName = function () {
        return "rad";
    };
    RewardedVideoAD.prototype.suportAD = function () {
        var apis = FBInstant.getSupportedAPIs();
        return apis.indexOf("getRewardedVideoAsync") > -1;
    };
    RewardedVideoAD.prototype.getADInstanceAsync = function (placementId) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, FBInstant.getRewardedVideoAsync(placementId)];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    return RewardedVideoAD;
}(Advertise));
exports.RewardedVideoAD = RewardedVideoAD;

},{"../core/Emiter":11,"tslib":3}],43:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var Emiter_1 = require("../core/Emiter");
var RankVO_1 = require("./RankVO");
var BasePlatform = /** @class */ (function (_super) {
    tslib_1.__extends(BasePlatform, _super);
    function BasePlatform(defaultData) {
        var _this = _super.call(this) || this;
        _this.defaultData = defaultData;
        _this.oppenentData = null;
        _this.entry = null;
        _this.switch_gameInfo = null;
        _this.battle_info = null;
        _this.isNewPlayer = true;
        _this.playerInfo = {
            playerId: "i0",
            name: "terran",
            photo: "resource/default_head.png",
            signature: ""
        };
        _this.appId = $sys_app_id;
        _this.appName = $sys_app_name;
        _this.$remoteData = null;
        setInterval(function () {
            if (_this.$remoteData && _this.$remoteData.isDirty) {
                delete _this.$remoteData.isDirty;
                _this.syncRemoteData();
            }
        }, 200);
        return _this;
    }
    BasePlatform.prototype.getFriends = function () {
        return this._friends;
    };
    BasePlatform.prototype.initialize = function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                this._friends = [];
                return [2 /*return*/];
            });
        });
    };
    BasePlatform.prototype.pullRemoteData = function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var data, obj, isEmpty, key, prop;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.getData(["user_data"])];
                    case 1:
                        data = _a.sent();
                        obj = {};
                        try {
                            obj = JSON.parse(data["user_data"]) || {};
                        }
                        catch (e) { }
                        this.$remoteData = obj;
                        isEmpty = true;
                        for (key in this.defaultData) {
                            prop = key;
                            if (obj[prop] == void 0) {
                                obj[prop] = this.defaultData[key];
                            }
                            else {
                                isEmpty = true;
                            }
                        }
                        this.isNewPlayer = isEmpty;
                        return [2 /*return*/];
                }
            });
        });
    };
    BasePlatform.prototype.syncRemoteData = function (force) {
        if (force === void 0) { force = false; }
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.setData({ user_data: JSON.stringify(this.$remoteData) }, force)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    Object.defineProperty(BasePlatform.prototype, "remoteData", {
        get: function () {
            return this.$remoteData;
        },
        enumerable: true,
        configurable: true
    });
    BasePlatform.prototype.clearRemote = function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.$remoteData = {};
                        return [4 /*yield*/, this.syncRemoteData()];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    BasePlatform.prototype.setLoadingProgress = function (value) {
        $sys_progress = value;
    };
    BasePlatform.prototype.startGame = function (iad_ids, rad_ids) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        $sys_platform_started = true;
                        return [4 /*yield*/, this.pullRemoteData()];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, new Promise(function (r) { return setTimeout(r, 200); })];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    BasePlatform.prototype.getWorldEntries = function () {
        var arr = [];
        for (var i = 0; i <= 10; i++) {
            var r = new RankVO_1.default();
            r.id = "i" + i;
            r.name = "world" + i;
            r.photo = "rank/default_portrait.png",
                r.rank = i + 1,
                r.score = i * 10;
            arr.push(r);
        }
        return arr;
    };
    ;
    BasePlatform.prototype.getWorldEntriesAsync = function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () { return tslib_1.__generator(this, function (_a) {
            return [2 /*return*/, this.getWorldEntries()];
        }); });
    };
    ;
    BasePlatform.prototype.getWorldFriendEntries = function () {
        var arr = [];
        for (var i = 0; i <= 10; i++) {
            var r = new RankVO_1.default();
            r.id = "i" + i;
            r.name = "bot" + i;
            r.photo = "rank/default_portrait.png",
                r.rank = i + 1,
                r.score = i * 10;
            arr.push(r);
        }
        return arr;
    };
    ;
    BasePlatform.prototype.getWorldFriendEntriesAsync = function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () { return tslib_1.__generator(this, function (_a) {
            return [2 /*return*/, this.getWorldFriendEntries()];
        }); });
    };
    ;
    BasePlatform.prototype.getWorldHighScore = function () { return +localStorage.getItem("hight_score1") || 0; };
    BasePlatform.prototype.getWorldEntry = function () {
        var rank = new RankVO_1.default();
        rank.id = "i0";
        rank.name = "bot0";
        rank.photo = "rank/default_portrait.png",
            rank.score = 100;
        rank.rank = 1;
        return rank;
    };
    BasePlatform.prototype.getWeeklyEntries = function () { return []; };
    ;
    BasePlatform.prototype.getWeeklyEntriesAsync = function () { return Promise.resolve([]); };
    ;
    BasePlatform.prototype.getWeeklyFriendEntries = function () { return []; };
    ;
    BasePlatform.prototype.getWeeklyFriendEntriesAsync = function () { return Promise.resolve([]); };
    ;
    BasePlatform.prototype.getWeeklyHighScore = function () { return +localStorage.getItem("hight_score1") || 0; };
    BasePlatform.prototype.getWeeklyEntry = function () {
        var rank = new RankVO_1.default();
        rank.id = "i0";
        rank.name = "bot0";
        rank.photo = "resource/default_head.png",
            rank.score = 100;
        rank.rank = 1;
        return rank;
    };
    BasePlatform.prototype.setHightScore = function (value, data) {
        localStorage.setItem("hight_score1", value + "");
    };
    BasePlatform.prototype.getData = function (keys) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var result, _i, keys_1, key;
            return tslib_1.__generator(this, function (_a) {
                result = {};
                for (_i = 0, keys_1 = keys; _i < keys_1.length; _i++) {
                    key = keys_1[_i];
                    result[key] = localStorage.getItem(key);
                }
                return [2 /*return*/, result];
            });
        });
    };
    BasePlatform.prototype.setData = function (obj, force) {
        if (force === void 0) { force = false; }
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var key;
            return tslib_1.__generator(this, function (_a) {
                for (key in obj) {
                    localStorage.setItem(key, obj[key]);
                }
                return [2 /*return*/];
            });
        });
    };
    BasePlatform.prototype.hasIAD = function () { return true; };
    BasePlatform.prototype.showIAD = function (source) {
        if (source === void 0) { source = "any"; }
        return tslib_1.__awaiter(this, void 0, void 0, function () { return tslib_1.__generator(this, function (_a) {
            return [2 /*return*/, true];
        }); });
    };
    BasePlatform.prototype.hasAD = function () { return true; };
    BasePlatform.prototype.showAD = function (source) {
        if (source === void 0) { source = "any"; }
        return tslib_1.__awaiter(this, void 0, void 0, function () { return tslib_1.__generator(this, function (_a) {
            return [2 /*return*/, true];
        }); });
    };
    BasePlatform.prototype.hasRAD = function () { return true; };
    BasePlatform.prototype.showRAD = function (source) {
        if (source === void 0) { source = "any"; }
        return tslib_1.__awaiter(this, void 0, void 0, function () { return tslib_1.__generator(this, function (_a) {
            return [2 /*return*/, true];
        }); });
    };
    BasePlatform.prototype.shareAsync = function (option) {
        return tslib_1.__awaiter(this, void 0, void 0, function () { return tslib_1.__generator(this, function (_a) {
            return [2 /*return*/];
        }); });
    };
    BasePlatform.prototype.updateAsync = function (option) {
        return tslib_1.__awaiter(this, void 0, void 0, function () { return tslib_1.__generator(this, function (_a) {
            return [2 /*return*/];
        }); });
    };
    BasePlatform.prototype.chooseAsync = function (filters, maxSize, minSize, source) {
        if (source === void 0) { source = "any"; }
        return tslib_1.__awaiter(this, void 0, void 0, function () { return tslib_1.__generator(this, function (_a) {
            return [2 /*return*/, true];
        }); });
    };
    BasePlatform.prototype.createAsync = function (id, source) {
        if (source === void 0) { source = "any"; }
        return tslib_1.__awaiter(this, void 0, void 0, function () { return tslib_1.__generator(this, function (_a) {
            return [2 /*return*/, true];
        }); });
    };
    BasePlatform.prototype.switchAsync = function (contextId, source) {
        if (source === void 0) { source = "any"; }
        return tslib_1.__awaiter(this, void 0, void 0, function () { return tslib_1.__generator(this, function (_a) {
            return [2 /*return*/, true];
        }); });
    };
    BasePlatform.prototype.getContextId = function () { return null; };
    ;
    BasePlatform.prototype.log = function (name, data, valueSum) {
        if (valueSum === void 0) { valueSum = 1; }
        console.log(name, JSON.stringify(data));
    };
    BasePlatform.prototype.createShortcutAsync = function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                return [2 /*return*/, true];
            });
        });
    };
    BasePlatform.prototype.subscribeBotAsync = function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                return [2 /*return*/, true];
            });
        });
    };
    return BasePlatform;
}(Emiter_1.Emiter));
exports.BasePlatform = BasePlatform;

},{"../core/Emiter":11,"./RankVO":48,"tslib":3}],44:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var BasePlatform_1 = require("./BasePlatform");
var Advertise_1 = require("./Advertise");
var Utils_1 = require("../core/Utils");
var LeaderBoard_1 = require("./LeaderBoard");
var PlayerVO_1 = require("./PlayerVO");
var FBPlatform = /** @class */ (function (_super) {
    tslib_1.__extends(FBPlatform, _super);
    function FBPlatform() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._signedPlayerInfo = "";
        _this._isDateReady = false;
        _this._isFetching = false;
        _this._lastIADTime = NaN;
        _this._chooseAsync_times = 0;
        _this._createAsync_times = 0;
        _this._switchAsync_times = 0;
        return _this;
    }
    FBPlatform.prototype.initialize = function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!!$sys_platform_initialized) return [3 /*break*/, 2];
                        return [4 /*yield*/, new Promise(function (r) { return setTimeout(r, 100); })];
                    case 1:
                        _a.sent();
                        return [3 /*break*/, 0];
                    case 2:
                        this._world_leader = new LeaderBoard_1.default("nworld");
                        // this._weeky_leader = new LeaderBoard("weekly");
                        this.fetchData();
                        return [2 /*return*/];
                }
            });
        });
    };
    FBPlatform.prototype.fetchData = function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var e_1;
            var _this = this;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (this._isDateReady)
                            return [2 /*return*/];
                        if (!this._isFetching) return [3 /*break*/, 2];
                        return [4 /*yield*/, new Promise(function (resolve, reject) {
                                _this.once("data_ready", resolve);
                            })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                    case 2:
                        _a.trys.push([2, 4, , 5]);
                        this._isFetching = true;
                        return [4 /*yield*/, Promise.all([
                                FBInstant.player.getSignedPlayerInfoAsync("kcuf").then(function (v) { return _this._signedPlayerInfo = v.getSignature(); }).catch(function (v) { return null; }),
                                this.pullRemoteData(),
                                this._world_leader.initializeAsync(false, true),
                            ])];
                    case 3:
                        _a.sent();
                        return [3 /*break*/, 5];
                    case 4:
                        e_1 = _a.sent();
                        console.log("fetchData error", e_1.code || e_1.msg || e_1);
                        return [3 /*break*/, 5];
                    case 5:
                        this._isFetching = false;
                        this._isDateReady = true;
                        this.emit("data_ready");
                        return [2 /*return*/];
                }
            });
        });
    };
    FBPlatform.prototype.startGame = function (iad_ids, rad_ids) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var option, data, entry_point, arr;
            var _this = this;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, FBInstant.startGameAsync()];
                    case 1:
                        _a.sent();
                        if (iad_ids && iad_ids.length > 0) {
                            this._iad = new Advertise_1.InterstitialAD(iad_ids, true);
                            this._iad.on("ad_failed", function (d) { return _this.log("ad_failed", d); });
                            this._iad.on("ad_show", function (d) { return _this.log("iad_times", d); });
                        }
                        if (rad_ids && rad_ids.length > 0) {
                            this._rad = new Advertise_1.RewardedVideoAD(rad_ids, true);
                            this._rad.on("ad_failed", function (d) { return _this.log("ad_failed", d); });
                            this._rad.on("ad_show", function (d) { return _this.log("rad_times", d); });
                        }
                        this.playerInfo.playerId = FBInstant.player.getID();
                        this.playerInfo.name = FBInstant.player.getName();
                        this.playerInfo.photo = FBInstant.player.getPhoto();
                        this.playerInfo.signature = this._signedPlayerInfo;
                        option = FBInstant.getEntryPointData() || {};
                        Object.assign($sys_args, option);
                        data = option["oppenent_info"];
                        if (data && data.playerId != this.playerInfo.playerId) {
                            this.oppenentData = data;
                        }
                        entry_point = FBInstant.getEntryPointAsync();
                        this.entry = option["entry"] || option["type"] || "normal";
                        if (this.entry == "normal" && entry_point == "admin_message") {
                            this.entry = "leaderboard";
                        }
                        this.switch_gameInfo = option["switch_gameInfo"] || null;
                        this.battle_info = option["battle_info"] || null;
                        return [4 /*yield*/, Promise.all([
                                this.fetchData(),
                                Utils_1.Utils.wait(1000).then(function () { return FBInstant.player.getConnectedPlayersAsync(); })
                            ])];
                    case 2:
                        arr = _a.sent();
                        this._friends = (arr[1] || []).map(function (v) { return PlayerVO_1.default.fromFBPlayer(v); });
                        // this._weeky_leader.setFriends(this._friends);
                        this._world_leader.setFriends(this._friends);
                        FBInstant.setSessionData({
                            playerInfo: {
                                name: FBInstant.player.getName(),
                                head: FBInstant.player.getPhoto(),
                                lang: FBInstant.getLocale()
                            },
                            friends: this._friends.map(function (v) {
                                return {
                                    id: v.id,
                                    photo: v.photo,
                                    name: v.name
                                };
                            })
                        });
                        this.log("entry_info", { entry: this.entry || "normal" });
                        console.log("startGame done!");
                        return [2 /*return*/];
                }
            });
        });
    };
    FBPlatform.prototype.getWorldEntries = function () { return this._world_leader.getEntries(); };
    ;
    FBPlatform.prototype.getWorldEntriesAsync = function () { return this._world_leader.getEntriesAsync(); };
    ;
    FBPlatform.prototype.getWorldFriendEntries = function () { return this._world_leader.getConnectedPlayerEntries(); };
    ;
    FBPlatform.prototype.getWorldFriendEntriesAsync = function () { return this._world_leader.getConnectedPlayerEntriesAsync(); };
    ;
    FBPlatform.prototype.getWorldHighScore = function () { return this._world_leader.getScore(); };
    FBPlatform.prototype.getWorldEntry = function () { return this._world_leader.getSelfEntry(); };
    // getWeeklyEntries(){return this._weeky_leader.getEntries()};
    // getWeeklyEntriesAsync(){return this._weeky_leader.getEntriesAsync()};
    // getWeeklyFriendEntries(){return this._weeky_leader.getConnectedPlayerEntries()};
    // getWeeklyFriendEntriesAsync(){return this._weeky_leader.getConnectedPlayerEntriesAsync()};
    // getWeeklyHighScore(){return this._weeky_leader.getScore();}
    // getWeeklyEntry(){return this._weeky_leader.getSelfEntry()}
    FBPlatform.prototype.setHightScore = function (value, data) {
        // this._weeky_leader.setScore(value,data)
        this._world_leader.setScore(value, data);
    };
    FBPlatform.prototype.getData = function (keys) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, FBInstant.player.getDataAsync(keys)];
                    case 1: return [2 /*return*/, (_a.sent()) || {}];
                }
            });
        });
    };
    FBPlatform.prototype.setData = function (obj, force) {
        if (force === void 0) { force = false; }
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, FBInstant.player.setDataAsync(obj)];
                    case 1:
                        _a.sent();
                        if (!force) return [3 /*break*/, 3];
                        return [4 /*yield*/, FBInstant.player.flushDataAsync()];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    FBPlatform.prototype.hasAD = function () {
        return this.hasRAD() || this.hasIAD();
    };
    FBPlatform.prototype.showAD = function (source) {
        if (source === void 0) { source = "any"; }
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var _a;
            return tslib_1.__generator(this, function (_b) {
                switch (_b.label) {
                    case 0: return [4 /*yield*/, this.showRAD(source)];
                    case 1:
                        _a = (_b.sent());
                        if (_a) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.showIAD(source)];
                    case 2:
                        _a = (_b.sent());
                        _b.label = 3;
                    case 3: return [2 /*return*/, _a];
                }
            });
        });
    };
    FBPlatform.prototype.hasRAD = function () {
        return this._rad && this._rad.hasAD();
    };
    FBPlatform.prototype.showRAD = function (source) {
        if (source === void 0) { source = "any"; }
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var bo, _a;
            return tslib_1.__generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this.log("showRAD", { result: -1, source: source });
                        _a = this._rad;
                        if (!_a) return [3 /*break*/, 2];
                        return [4 /*yield*/, this._rad.showAD(source)];
                    case 1:
                        _a = (_b.sent());
                        _b.label = 2;
                    case 2:
                        bo = _a;
                        this.log("showRAD", { result: bo ? 1 : 0, source: source });
                        return [2 /*return*/, bo];
                }
            });
        });
    };
    Object.defineProperty(FBPlatform.prototype, "lastIADTime", {
        get: function () {
            if (isNaN(this._lastIADTime)) {
                var value = localStorage.getItem(this.playerInfo.playerId + "_lit");
                if (!value) {
                    this._lastIADTime = this.isNewPlayer ? Date.now() : 0;
                }
                else {
                    this._lastIADTime = +value || 0;
                }
            }
            return this._lastIADTime;
        },
        set: function (v) {
            if (this._lastIADTime == v)
                return;
            this._lastIADTime = v;
            localStorage.setItem(this.playerInfo.playerId + "_lit", v + "");
        },
        enumerable: true,
        configurable: true
    });
    FBPlatform.prototype.hasIAD = function () {
        if (Date.now() - this.lastIADTime < 40 * 100)
            return false;
        return this._iad && this._iad.hasAD();
    };
    FBPlatform.prototype.showIAD = function (source) {
        if (source === void 0) { source = "any"; }
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var bo, _a;
            return tslib_1.__generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this.log("showIAD", { result: -1, source: source });
                        _a = this._iad;
                        if (!_a) return [3 /*break*/, 2];
                        return [4 /*yield*/, this._iad.showAD(source)];
                    case 1:
                        _a = (_b.sent());
                        _b.label = 2;
                    case 2:
                        bo = _a;
                        this.log("showIAD", { result: bo ? 1 : 0, source: source });
                        this.lastIADTime = Date.now();
                        return [2 /*return*/, bo];
                }
            });
        });
    };
    FBPlatform.prototype.shareAsync = function (option) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var origin;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        origin = { entry: option.template || 'normal_share' };
                        return [4 /*yield*/, FBInstant.shareAsync({
                                intent: "SHARE",
                                image: option.image,
                                text: option.text,
                                data: Object.assign(origin, option.payload),
                            })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    FBPlatform.prototype.updateAsync = function (option) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var origin;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        origin = { entry: option.template || 'normal_update' };
                        return [4 /*yield*/, FBInstant.updateAsync({
                                action: 'CUSTOM',
                                cta: option.cta || 'Play now',
                                image: option.image,
                                text: option.text || 'Play with me!',
                                template: option.template || 'game_result',
                                data: Object.assign(origin, option.payload),
                                strategy: option.strategy || 'IMMEDIATE',
                                notification: 'NO_PUSH'
                            })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    FBPlatform.prototype.chooseAsync = function (filters, maxSize, minSize, source) {
        if (source === void 0) { source = "any"; }
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var bo, e_2;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        bo = false;
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 3, , 4]);
                        this.log("chooseAsync", { result: -1, source: source });
                        return [4 /*yield*/, FBInstant.context.chooseAsync({ filters: filters, maxSize: maxSize, minSize: minSize })];
                    case 2:
                        _a.sent();
                        this.log("chooseAsync_times", { result: ++this._chooseAsync_times, source: source });
                        bo = true;
                        return [3 /*break*/, 4];
                    case 3:
                        e_2 = _a.sent();
                        // if(e.code == Constant.USER_INPUT) return false;
                        if (e_2.code != "SAME_CONTEXT") {
                            console.log(JSON.stringify(e_2));
                            bo = false;
                        }
                        return [3 /*break*/, 4];
                    case 4:
                        this.log("chooseAsync", { result: bo ? 1 : 0, source: source });
                        return [2 /*return*/, bo];
                }
            });
        });
    };
    FBPlatform.prototype.createAsync = function (playerId, source) {
        if (source === void 0) { source = "any"; }
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var bo, e_3;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        bo = false;
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 3, , 4]);
                        this.log("createAsync", { result: -1, source: source });
                        return [4 /*yield*/, FBInstant.context.createAsync(playerId)];
                    case 2:
                        _a.sent();
                        this.log("createAsync_times", { result: ++this._createAsync_times, source: source });
                        bo = true;
                        return [3 /*break*/, 4];
                    case 3:
                        e_3 = _a.sent();
                        // if(e.code == Constant.USER_INPUT) return false;
                        if (e_3.code != "SAME_CONTEXT") {
                            console.log(JSON.stringify(e_3));
                            bo = false;
                        }
                        return [3 /*break*/, 4];
                    case 4:
                        this.log("createAsync", { result: bo ? 1 : 0, source: source });
                        return [2 /*return*/, bo];
                }
            });
        });
    };
    FBPlatform.prototype.switchAsync = function (contextId, source) {
        if (source === void 0) { source = "any"; }
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var bo, e_4;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        bo = false;
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 3, , 4]);
                        this.log("switchAsync", { result: -1, source: source });
                        return [4 /*yield*/, FBInstant.context.switchAsync(contextId)];
                    case 2:
                        _a.sent();
                        this.log("switchAsync_times", { result: ++this._switchAsync_times, source: source });
                        bo = true;
                        return [3 /*break*/, 4];
                    case 3:
                        e_4 = _a.sent();
                        // if(e.code == Constant.USER_INPUT) return false;
                        if (e_4.code != "SAME_CONTEXT") {
                            console.log(JSON.stringify(e_4));
                            bo = false;
                        }
                        return [3 /*break*/, 4];
                    case 4:
                        this.log("switchAsync", { result: bo ? 1 : 0, source: source });
                        return [2 /*return*/, bo];
                }
            });
        });
    };
    FBPlatform.prototype.getContextId = function () { return FBInstant.context.getID(); };
    ;
    FBPlatform.prototype.log = function (name, data, valueSum) {
        if (valueSum === void 0) { valueSum = 1; }
        _super.prototype.log.call(this, name, data, valueSum);
        data = data || {};
        data.app_version = data._appVersion = $sys_args["v"] || "0.0.0";
        data.nick_name = FBInstant.player.getName();
        FBInstant.logEvent(name, valueSum, data);
    };
    FBPlatform.prototype.createShortcutAsync = function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var bo, key, data, str, isSupport, e_5, e_6;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        bo = false;
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 9, , 10]);
                        key = "short_cut_" + this.appName;
                        data = { shortcut: 0, shortcut_refuse: 0 };
                        str = localStorage.getItem(key);
                        if (str) {
                            try {
                                data = Object.assign(data, JSON.parse(str));
                            }
                            catch (e) {
                                console.log("shortcut parse error");
                            }
                        }
                        if (data.shortcut != 0)
                            return [2 /*return*/, false];
                        if (data.shortcut_refuse >= 2)
                            return [2 /*return*/, false];
                        _a.label = 2;
                    case 2:
                        _a.trys.push([2, 7, , 8]);
                        return [4 /*yield*/, FBInstant.canCreateShortcutAsync()];
                    case 3:
                        isSupport = _a.sent();
                        if (!isSupport) return [3 /*break*/, 5];
                        this.log("shortcut", { result: -1 });
                        return [4 /*yield*/, FBInstant.createShortcutAsync()];
                    case 4:
                        _a.sent();
                        this.log("shortcut", { result: 1 });
                        bo = true;
                        data.shortcut = 1;
                        return [3 /*break*/, 6];
                    case 5:
                        console.log("shortcut unsupport");
                        _a.label = 6;
                    case 6: return [3 /*break*/, 8];
                    case 7:
                        e_5 = _a.sent();
                        this.log("shortcut", { result: 0, code: e_5.code });
                        console.log("shortcut result", JSON.stringify(e_5));
                        if (e_5.code == "USER_INPUT") {
                            data.shortcut_refuse++;
                        }
                        else {
                            data.shortcut = 2;
                        }
                        return [3 /*break*/, 8];
                    case 8:
                        localStorage.setItem(key, JSON.stringify(data));
                        return [3 /*break*/, 10];
                    case 9:
                        e_6 = _a.sent();
                        console.log("shortcut failed:", e_6);
                        return [3 /*break*/, 10];
                    case 10: return [2 /*return*/, bo];
                }
            });
        });
    };
    FBPlatform.prototype.subscribeBotAsync = function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var bo, bo_1, reuslt, e_7;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        bo = false;
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 5, , 6]);
                        return [4 /*yield*/, FBInstant.player.canSubscribeBotAsync()];
                    case 2:
                        bo_1 = _a.sent();
                        if (!bo_1) return [3 /*break*/, 4];
                        this.log("bot_subscribe", { result: -1 });
                        return [4 /*yield*/, FBInstant.player.subscribeBotAsync()];
                    case 3:
                        reuslt = _a.sent();
                        this.log("bot_subscribe", { result: 1 });
                        bo_1 = true;
                        _a.label = 4;
                    case 4: return [3 /*break*/, 6];
                    case 5:
                        e_7 = _a.sent();
                        console.log("subscitbe bot failed:", e_7);
                        this.log("bot_subscribe", { result: 0 });
                        return [3 /*break*/, 6];
                    case 6: return [2 /*return*/, bo];
                }
            });
        });
    };
    FBPlatform.prototype.switchGame = function (appId, data) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var origin;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        origin = { switch_gameInfo: { appId: this.appId, appName: this.appName } };
                        return [4 /*yield*/, FBInstant.switchGameAsync(appId, Object.assign(origin, data))];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    return FBPlatform;
}(BasePlatform_1.BasePlatform));
exports.FBPlatform = FBPlatform;

},{"../core/Utils":17,"./Advertise":42,"./BasePlatform":43,"./LeaderBoard":45,"./PlayerVO":47,"tslib":3}],45:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var Emiter_1 = require("../core/Emiter");
var RankVO_1 = require("./RankVO");
var PlayerVO_1 = require("./PlayerVO");
var LeaderBoard = /** @class */ (function (_super) {
    tslib_1.__extends(LeaderBoard, _super);
    function LeaderBoard(name, sortType, defaultScore) {
        if (sortType === void 0) { sortType = "high"; }
        if (defaultScore === void 0) { defaultScore = 0; }
        var _this = _super.call(this) || this;
        _this.name = name;
        _this.sortType = sortType;
        _this.defaultScore = defaultScore;
        _this._selfEntry = null;
        _this._entries = null;
        _this._friendEntries = null;
        _this._preInitialized = false;
        _this._preInitializing = false;
        _this._initialized = false;
        _this._initializing = false;
        _this._friends = null;
        return _this;
    }
    LeaderBoard.prototype.preInitializeAsync = function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var _a, entry;
            var _this = this;
            return tslib_1.__generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        if (this._preInitialized)
                            return [2 /*return*/];
                        if (!this._preInitializing) return [3 /*break*/, 2];
                        return [4 /*yield*/, new Promise(function (resolve) {
                                _this.once("preInitialized", resolve);
                            })];
                    case 1:
                        _b.sent();
                        return [2 /*return*/];
                    case 2:
                        this._preInitializing = true;
                        _a = this;
                        return [4 /*yield*/, FBInstant.getLeaderboardAsync(this.name)];
                    case 3:
                        _a._leaderboard = _b.sent();
                        return [4 /*yield*/, this._leaderboard.getPlayerEntryAsync()];
                    case 4:
                        entry = _b.sent();
                        if (entry) {
                            this._selfEntry = RankVO_1.default.fromLeaderBoardEntry(entry);
                        }
                        else {
                            this._selfEntry = RankVO_1.default.fromFBPlayer(FBInstant.player);
                        }
                        this._preInitialized = true;
                        this._preInitializing = false;
                        this.emit("preInitialized");
                        return [2 /*return*/];
                }
            });
        });
    };
    LeaderBoard.prototype.initializeAsync = function (world, friend) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var _a, _b, e_1;
            var _this = this;
            return tslib_1.__generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        if (this._initialized)
                            return [2 /*return*/];
                        if (!this._initializing) return [3 /*break*/, 2];
                        return [4 /*yield*/, new Promise(function (resolve) {
                                _this.once("initialized", resolve);
                            })];
                    case 1:
                        _c.sent();
                        return [2 /*return*/];
                    case 2:
                        this._initializing = true;
                        return [4 /*yield*/, this.preInitializeAsync()];
                    case 3:
                        _c.sent();
                        _c.label = 4;
                    case 4:
                        _c.trys.push([4, 9, , 10]);
                        _a = world;
                        if (!_a) return [3 /*break*/, 6];
                        return [4 /*yield*/, this.getEntriesAsync()];
                    case 5:
                        _a = (_c.sent());
                        _c.label = 6;
                    case 6:
                        _a;
                        _b = friend;
                        if (!_b) return [3 /*break*/, 8];
                        return [4 /*yield*/, this.getConnectedPlayerEntriesAsync()];
                    case 7:
                        _b = (_c.sent());
                        _c.label = 8;
                    case 8:
                        _b;
                        return [3 /*break*/, 10];
                    case 9:
                        e_1 = _c.sent();
                        console.log("get enties failed!");
                        return [3 /*break*/, 10];
                    case 10:
                        this._initialized = true;
                        this._initializing = false;
                        this.emit("initialized");
                        return [2 /*return*/];
                }
            });
        });
    };
    LeaderBoard.prototype.getEntriesAsync = function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var leaderboard, arr;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.preInitializeAsync()];
                    case 1:
                        _a.sent();
                        if (!!this._entries) return [3 /*break*/, 3];
                        leaderboard = this._leaderboard;
                        return [4 /*yield*/, leaderboard.getEntriesAsync(100, 0)];
                    case 2:
                        arr = _a.sent();
                        this._entries = arr.map(function (v) { return RankVO_1.default.fromLeaderBoardEntry(v); });
                        _a.label = 3;
                    case 3: return [2 /*return*/, this._entries || []];
                }
            });
        });
    };
    LeaderBoard.prototype.getEntries = function () {
        return this._entries || [];
    };
    LeaderBoard.prototype.getConnectedPlayerEntriesAsync = function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var leaderboard, arr, selfId_1, index;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.preInitializeAsync()];
                    case 1:
                        _a.sent();
                        if (!!this._friendEntries) return [3 /*break*/, 3];
                        leaderboard = this._leaderboard;
                        return [4 /*yield*/, leaderboard.getConnectedPlayerEntriesAsync(100, 0)];
                    case 2:
                        arr = _a.sent();
                        this._friendEntries = arr.map(function (v) { return RankVO_1.default.fromLeaderBoardEntry(v); });
                        selfId_1 = FBInstant.player.getID();
                        index = this._friendEntries.findIndex(function (v) { return v.id == selfId_1; });
                        if (index == -1) {
                            this._friendEntries.push(RankVO_1.default.fromFBPlayer(FBInstant.player));
                            this._friendEntries.forEach(function (v, i) { return v.rank = i + 1; });
                        }
                        this.bindFriends();
                        _a.label = 3;
                    case 3: return [2 /*return*/, this._friendEntries || []];
                }
            });
        });
    };
    LeaderBoard.prototype.getConnectedPlayerEntries = function () {
        return this._friendEntries || [];
    };
    LeaderBoard.prototype.refreshRankList = function (arr, score, data) {
        var selfId = FBInstant.player.getID();
        var index = arr.findIndex(function (v) { return v.id == selfId; });
        if (index != -1) {
            var vo = arr[index];
            vo.score = score;
            vo.extraData = data;
            arr.sorton("score", this.sortType == "low");
            arr.forEach(function (v, i) { return v.rank = i + 1; });
        }
        else {
            if (arr.length > 0 && score > arr[arr.length - 1].score) {
                var vo = RankVO_1.default.fromFBPlayer(FBInstant.player);
                vo.score = score;
                vo.extraData = data;
                arr.push(vo);
                arr.sorton("score", this.sortType == "low");
                arr.forEach(function (v, i) { return v.rank = i + 1; });
            }
        }
    };
    LeaderBoard.prototype.setScore = function (score, data) {
        var _this = this;
        if (!this._preInitialized)
            throw "doesn't preInitialized";
        if (score < this._selfEntry.score)
            return;
        this._selfEntry.score = score;
        this._selfEntry.extraData = data;
        if (this._entries) {
            this.refreshRankList(this._entries, score, data);
        }
        if (this._friendEntries) {
            this.refreshRankList(this._friendEntries, score, data);
        }
        new Promise(function (resolve, reject) { return tslib_1.__awaiter(_this, void 0, void 0, function () {
            var entry;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.preInitializeAsync()];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, this._leaderboard.setScoreAsync(score, JSON.stringify(data))];
                    case 2:
                        entry = _a.sent();
                        this._selfEntry = RankVO_1.default.fromLeaderBoardEntry(entry);
                        resolve();
                        return [2 /*return*/];
                }
            });
        }); });
    };
    LeaderBoard.prototype.getScore = function () {
        if (!this._preInitialized)
            throw "doesn't preInitialized";
        return this._selfEntry.score;
    };
    LeaderBoard.prototype.setFriends = function (friends) {
        this._friends = friends;
        this.bindFriends();
    };
    LeaderBoard.prototype.bindFriends = function () {
        if (!this._friends || !this._friendEntries)
            return;
        var friendMap = {};
        var list = this._friends;
        list.forEach(function (f) { return friendMap[f.id] = f; });
        friendMap[FBInstant.player.getID()] = PlayerVO_1.default.fromFBPlayer(FBInstant.player);
        var arr = this._friendEntries;
        arr.forEach(function (v) {
            var friend = friendMap[v.id];
            if (friend) {
                v.name = friend.name;
                v.photo = friend.photo;
                delete friendMap[v.id];
            }
        });
        for (var id in friendMap) {
            var vo = RankVO_1.default.fromPlayer(friendMap[id]);
            vo.score = this.defaultScore;
            arr.push(vo);
        }
        arr.sorton("score", this.sortType == "low");
        arr.forEach(function (v, i) { return v.rank = i + 1; });
    };
    LeaderBoard.prototype.getSelfEntry = function () {
        return this._selfEntry;
    };
    return LeaderBoard;
}(Emiter_1.Emiter));
exports.default = LeaderBoard;

},{"../core/Emiter":11,"./PlayerVO":47,"./RankVO":48,"tslib":3}],46:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var RemoteData_1 = require("./RemoteData");
var BasePlatform_1 = require("./BasePlatform");
var FBPlatform_1 = require("./FBPlatform");
var PlatformFactory = /** @class */ (function () {
    function PlatformFactory() {
    }
    PlatformFactory.startup = function () {
        var inst;
        var defaultData = new RemoteData_1.RemoteData();
        if (window["FBInstant"]) {
            inst = new FBPlatform_1.FBPlatform(defaultData);
            // }else if(window["kaixin"]){
            // 	inst = new KXPlatform(defaultData);
        }
        else {
            inst = new BasePlatform_1.BasePlatform(defaultData);
        }
        Object.defineProperty(window, 'platform', { get: function () { return inst; }, configurable: true });
    };
    return PlatformFactory;
}());
exports.PlatformFactory = PlatformFactory;

},{"./BasePlatform":43,"./FBPlatform":44,"./RemoteData":49}],47:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var RankVO_1 = require("./RankVO");
var PlayerVO = /** @class */ (function () {
    function PlayerVO() {
        this.id = "";
        this.name = "";
        this.photo = "";
    }
    PlayerVO.fromFBPlayer = function (p) {
        var result = new RankVO_1.default;
        result.name = p.getName();
        result.id = p.getID();
        result.photo = p.getPhoto();
        return result;
    };
    return PlayerVO;
}());
exports.default = PlayerVO;

},{"./RankVO":48}],48:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var PlayerVO_1 = require("./PlayerVO");
var RankVO = /** @class */ (function (_super) {
    tslib_1.__extends(RankVO, _super);
    function RankVO() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.score = 0;
        _this.rank = 0;
        _this.extraData = null;
        return _this;
    }
    RankVO.fromLeaderBoardEntry = function (v) {
        var p = v.getPlayer();
        var result = new RankVO;
        result.name = p.getName();
        result.id = p.getID();
        result.photo = p.getPhoto();
        result.score = v.getScore();
        result.rank = v.getRank();
        // try{
        // 	let extraStr = v.getExtraData()
        // 	let obj = JSON.parse(extraStr);
        // 	result.extraData = obj;
        // }catch(e){
        // 	console.error("extra parse error",v.getExtraData())
        // }
        return result;
    };
    RankVO.fromPlayer = function (p) {
        var result = new RankVO;
        result.name = p.name;
        result.id = p.id;
        result.photo = p.photo;
        return result;
    };
    return RankVO;
}(PlayerVO_1.default));
exports.default = RankVO;

},{"./PlayerVO":47,"tslib":3}],49:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var RemoteData = /** @class */ (function () {
    function RemoteData() {
        this.isDirty = false;
        this.contextIds = [];
        this.level = 0;
        this.best_score = 0;
    }
    return RemoteData;
}());
exports.RemoteData = RemoteData;

},{}],50:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var ButtonScript = /** @class */ (function (_super) {
    tslib_1.__extends(ButtonScript, _super);
    function ButtonScript() {
        return _super.call(this) || this;
    }
    ButtonScript.prototype.onAwake = function () {
        var _this = this;
        this.owner.on(Laya.Event.MOUSE_DOWN, this, function () {
            _this.owner.alpha = 0.7;
            Laya.stage.once(Laya.Event.MOUSE_UP, _this, function () {
                _this.owner.alpha = 1;
            });
        });
    };
    ButtonScript.prototype.onEnable = function () {
    };
    ButtonScript.prototype.onDisable = function () {
    };
    return ButtonScript;
}(Laya.Script));
exports.default = ButtonScript;

},{"tslib":3}],51:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var CircleProgressScript = /** @class */ (function (_super) {
    tslib_1.__extends(CircleProgressScript, _super);
    function CircleProgressScript() {
        var _this = _super.call(this) || this;
        _this._progress = NaN;
        return _this;
    }
    CircleProgressScript.prototype.onAwake = function () {
        console.log("onAwake:CircleProgressScript");
        this.bg_track = this.owner.getChildByName("bg_track");
        this.bar = this.owner.getChildByName("bar");
        this.bar_mask = new Laya.Sprite();
        this.bar.mask = this.bar_mask;
        this.value = 0;
    };
    Object.defineProperty(CircleProgressScript.prototype, "value", {
        get: function () {
            return this._progress || 0;
        },
        set: function (v) {
            v = Math.clamp(v, 0, 1);
            if (this._progress == v)
                return;
            this._progress = v;
            var radius = this.bar.width >> 1;
            this.bar_mask.graphics.clear(true);
            this.bar_mask.graphics.drawPie(radius, radius, radius + 10, 90, 90 + v * 360, 0);
        },
        enumerable: true,
        configurable: true
    });
    CircleProgressScript.prototype.onEnable = function () {
        console.log("onEnable:CircleProgressScript");
    };
    CircleProgressScript.prototype.onDisable = function () {
        console.log("onDisable:CircleProgressScript");
    };
    return CircleProgressScript;
}(Laya.Script));
exports.default = CircleProgressScript;

},{"tslib":3}],52:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var FullScreenScript = /** @class */ (function (_super) {
    tslib_1.__extends(FullScreenScript, _super);
    // 更多参数说明请访问: https://ldc2.layabox.com/doc/?nav=zh-as-2-4-0
    function FullScreenScript() {
        var _this = _super.call(this) || this;
        /** @prop {name:intType, tips:"整数类型示例", type:Int, default:1000}*/
        _this.intType = 1000;
        /** @prop {name:numType, tips:"数字类型示例", type:Number, default:1000}*/
        _this.numType = 1000;
        /** @prop {name:strType, tips:"字符串类型示例", type:String, default:"hello laya"}*/
        _this.strType = "hello laya";
        /** @prop {name:boolType, tips:"布尔类型示例", type:Bool, default:true}*/
        _this.boolType = true;
        return _this;
    }
    FullScreenScript.prototype.onAwake = function () {
        this.onStageResized();
    };
    FullScreenScript.prototype.onEnable = function () {
        Laya.stage.on(Laya.Event.RESIZE, this, this.onStageResized);
    };
    FullScreenScript.prototype.onDisable = function () {
        Laya.stage.off(Laya.Event.RESIZE, this, this.onStageResized);
    };
    FullScreenScript.prototype.onUpdate = function () {
    };
    FullScreenScript.prototype.onStageResized = function () {
        var node = this.owner;
        var scale = Math.max(Laya.stage.width / node.width, Laya.stage.height / node.height);
        node.scale(scale, scale);
        node.pos((Laya.stage.width - node.width * scale) >> 1, (Laya.stage.height - node.height * scale) >> 1);
    };
    return FullScreenScript;
}(Laya.Script));
exports.default = FullScreenScript;

},{"tslib":3}],53:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var RotateScript = /** @class */ (function (_super) {
    tslib_1.__extends(RotateScript, _super);
    function RotateScript() {
        var _this = _super.call(this) || this;
        /** @prop {name:intType, tips:"degree in second", type:Int, default:80}*/
        _this.speed = 80;
        return _this;
    }
    RotateScript.prototype.onEnable = function () {
    };
    RotateScript.prototype.onUpdate = function () {
        var node = this.owner;
        node.rotation += this.speed / 360 * Laya.timer.delta;
    };
    RotateScript.prototype.onDisable = function () {
    };
    return RotateScript;
}(Laya.Script));
exports.default = RotateScript;

},{"tslib":3}],54:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var layaMaxUI_1 = require("../ui/layaMaxUI");
var ShareChallengeResultUI = /** @class */ (function (_super) {
    tslib_1.__extends(ShareChallengeResultUI, _super);
    function ShareChallengeResultUI(lefData, rightData) {
        var _this = _super.call(this) || this;
        _this.lefData = lefData;
        _this.rightData = rightData;
        _this.img_bg.skin = null;
        _this.img_head_left.skin = null;
        _this.img_head_right.skin = null;
        _this.applyData();
        return _this;
    }
    ShareChallengeResultUI.prototype.applyData = function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var _this = this;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.txt_score_left.text = this.lefData.score + "";
                        this.txt_score_right.text = this.rightData.score + "";
                        return [4 /*yield*/, Promise.all([
                                new Promise(function (resolve, reject) {
                                    _this.img_bg.once(Laya.Event.LOADED, _this, resolve);
                                    _this.img_bg.skin = "share/share_challenge_result.png";
                                }),
                                new Promise(function (resolve) {
                                    _this.img_head_left.once(Laya.Event.LOADED, _this, resolve);
                                    _this.img_head_left.skin = _this.lefData.head;
                                }),
                                new Promise(function (resolve) {
                                    _this.img_head_right.once(Laya.Event.LOADED, _this, resolve);
                                    _this.img_head_right.skin = _this.rightData.head;
                                }),
                            ])];
                    case 1:
                        _a.sent();
                        console.log("challenge result loaded");
                        Laya.timer.frameOnce(2, this, function () {
                            _this.event("ready_draw");
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    return ShareChallengeResultUI;
}(layaMaxUI_1.ui.share.ShareChallengeResultUI));
exports.default = ShareChallengeResultUI;

},{"../ui/layaMaxUI":59,"tslib":3}],55:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var layaMaxUI_1 = require("../ui/layaMaxUI");
var ShareChallengeUI = /** @class */ (function (_super) {
    tslib_1.__extends(ShareChallengeUI, _super);
    function ShareChallengeUI(dat) {
        var _this = _super.call(this) || this;
        _this.dat = dat;
        _this.img_bg.skin = null;
        _this.img_head.skin = null;
        _this.applyData();
        return _this;
    }
    ShareChallengeUI.prototype.applyData = function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var _this = this;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.txt_score.text = this.dat.score + "";
                        return [4 /*yield*/, Promise.all([
                                new Promise(function (resolve, reject) {
                                    _this.img_bg.skin = null;
                                    _this.img_bg.once(Laya.Event.LOADED, _this, resolve);
                                    _this.img_bg.skin = "share/share_challenge.jpg";
                                }),
                                new Promise(function (resolve) {
                                    _this.img_head.skin = null;
                                    _this.img_head.once(Laya.Event.LOADED, _this, resolve);
                                    _this.img_head.skin = _this.dat.head;
                                })
                            ])];
                    case 1:
                        _a.sent();
                        Laya.timer.frameOnce(2, this, function () {
                            _this.event("ready_draw");
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    return ShareChallengeUI;
}(layaMaxUI_1.ui.share.ShareChallengeUI));
exports.default = ShareChallengeUI;

},{"../ui/layaMaxUI":59,"tslib":3}],56:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var layaMaxUI_1 = require("../ui/layaMaxUI");
var ShareGameUI = /** @class */ (function (_super) {
    tslib_1.__extends(ShareGameUI, _super);
    function ShareGameUI(dat) {
        var _this = _super.call(this) || this;
        _this.dat = dat;
        _this.img_bg.skin = null;
        _this.applyData();
        return _this;
    }
    ShareGameUI.prototype.applyData = function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var _this = this;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, Promise.all([
                            new Promise(function (resolve, reject) {
                                _this.img_bg.skin = null;
                                _this.img_bg.once(Laya.Event.LOADED, _this, resolve);
                                _this.img_bg.skin = _this.dat.bg;
                            })
                        ])];
                    case 1:
                        _a.sent();
                        Laya.timer.frameOnce(2, this, function () {
                            _this.event("ready_draw");
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    return ShareGameUI;
}(layaMaxUI_1.ui.share.ShareGameUI));
exports.default = ShareGameUI;

},{"../ui/layaMaxUI":59,"tslib":3}],57:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var FBPlatform_1 = require("../platform/FBPlatform");
var ShareGameUI_1 = require("./ShareGameUI");
var ShareChallengeResultUI_1 = require("./ShareChallengeResultUI");
var ShareChallengeUI_1 = require("./ShareChallengeUI");
var ShareNewRecoredUI_1 = require("./ShareNewRecoredUI");
var ShareHelper;
(function (ShareHelper) {
    function generateImage(spr) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var base64;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, new Promise(function (resolve) {
                            spr.once("ready_draw", null, function () {
                                // spr.alpha =1;
                                var canvas = spr.drawToCanvas(spr.width, spr.height, 0, 0);
                                console.log("texture generated!");
                                var b64 = canvas.toBase64("image/png", 0.92);
                                spr.removeSelf();
                                resolve(b64);
                            });
                            Laya.stage.addChildAt(spr, 0);
                            // spr.alpha =0;
                        })];
                    case 1:
                        base64 = _a.sent();
                        return [2 /*return*/, base64];
                }
            });
        });
    }
    ShareHelper.generateImage = generateImage;
    function baseShare(template, useUpdate) {
        if (useUpdate === void 0) { useUpdate = true; }
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var info, texts, imgs, image, text;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        useUpdate || app.ui.busy();
                        info = {
                            head: platform.playerInfo.photo,
                            playerId: platform.playerInfo.playerId,
                            name: platform.playerInfo.name,
                            score: platform.getWorldHighScore(),
                            skin: 0
                        };
                        texts = [
                            "Whoa! I can't believe I did that.",
                            "Opps, what have I done?",
                            "Just look at it. Isn't it amazing!",
                            "Phew, what a relief!",
                            "Ugh. It’s horrible."
                        ];
                        imgs = [
                            // "share/share_game_1.jpg",
                            "share/share_game.jpg",
                        ];
                        return [4 /*yield*/, generateImage(new ShareGameUI_1.default({ bg: imgs.random(), photo: info.head, score: info.score, skin: 0 }))];
                    case 1:
                        image = _a.sent();
                        text = texts.random();
                        if (!useUpdate) return [3 /*break*/, 3];
                        return [4 /*yield*/, platform.updateAsync({
                                text: text,
                                image: image,
                                template: template,
                                cta: "Play",
                            })];
                    case 2:
                        _a.sent();
                        return [3 /*break*/, 5];
                    case 3: return [4 /*yield*/, platform.shareAsync({
                            text: text,
                            image: image,
                            template: template,
                        })];
                    case 4:
                        _a.sent();
                        _a.label = 5;
                    case 5:
                        useUpdate || app.ui.unbusy();
                        return [2 /*return*/];
                }
            });
        });
    }
    ShareHelper.baseShare = baseShare;
    function hscoreShare(score, useUpdate) {
        if (useUpdate === void 0) { useUpdate = true; }
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var info, image, text, template;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        useUpdate || app.ui.busy();
                        info = {
                            head: platform.playerInfo.photo,
                            playerId: platform.playerInfo.playerId,
                            name: platform.playerInfo.name,
                            score: score,
                            skin: 0
                        };
                        return [4 /*yield*/, generateImage(new ShareNewRecoredUI_1.default(info))];
                    case 1:
                        image = _a.sent();
                        text = "New record again,can you beat me?";
                        template = "high_score";
                        if (!useUpdate) return [3 /*break*/, 3];
                        return [4 /*yield*/, platform.updateAsync({
                                text: text,
                                image: image,
                                template: template,
                                cta: "Surpass " + info.name,
                                payload: { oppenent_info: info },
                            })];
                    case 2:
                        _a.sent();
                        return [3 /*break*/, 5];
                    case 3: return [4 /*yield*/, platform.shareAsync({
                            text: text,
                            image: image,
                            template: template,
                            payload: { oppenent_info: info }
                        })];
                    case 4:
                        _a.sent();
                        _a.label = 5;
                    case 5:
                        useUpdate || app.ui.unbusy();
                        return [2 /*return*/];
                }
            });
        });
    }
    ShareHelper.hscoreShare = hscoreShare;
    function challengeShare(score, useUpdate) {
        if (useUpdate === void 0) { useUpdate = true; }
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var info, image, text;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        useUpdate || app.ui.busy();
                        info = {
                            head: platform.playerInfo.photo,
                            playerId: platform.playerInfo.playerId,
                            name: platform.playerInfo.name,
                            score: score,
                            skin: 0
                        };
                        console.log("gen image");
                        return [4 /*yield*/, generateImage(new ShareChallengeUI_1.default(info))];
                    case 1:
                        image = _a.sent();
                        console.log("gen image done");
                        text = info.name + " has challenged you to a match of " + platform.appName + "!";
                        if (!useUpdate) return [3 /*break*/, 3];
                        console.log("update");
                        return [4 /*yield*/, platform.updateAsync({
                                image: image,
                                text: text,
                                cta: "CHALLENGE",
                                payload: { oppenent_info: info },
                                template: "challenge_request"
                            })];
                    case 2:
                        _a.sent();
                        console.log("update done");
                        return [3 /*break*/, 5];
                    case 3: return [4 /*yield*/, platform.shareAsync({
                            image: image,
                            text: text,
                            template: "challenge_request_share",
                            payload: { oppenent_info: info }
                        })];
                    case 4:
                        _a.sent();
                        _a.label = 5;
                    case 5:
                        useUpdate || app.ui.unbusy();
                        return [2 /*return*/];
                }
            });
        });
    }
    ShareHelper.challengeShare = challengeShare;
    function challengeResultShare(score, opponent, isGroup) {
        if (isGroup === void 0) { isGroup = false; }
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var info, friendName, opponentName, who, text, image;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        info = {
                            head: platform.playerInfo.photo,
                            playerId: platform.playerInfo.playerId,
                            name: platform.playerInfo.name,
                            score: score,
                            skin: 0
                        };
                        friendName = isGroup ? opponent.name : "";
                        opponentName = friendName || 'you';
                        who = opponentName == "you" ? "you" : "they";
                        text = info.name + " has challenged " + opponentName + ", " + who + " are really evenly matched!";
                        if (info.score < opponent.score) {
                            text = info.name + " has failed to surpass " + opponentName + ", " + opponentName + " win!";
                        }
                        else if (info.score > opponent.score) {
                            text = info.name + " has succeeded in passing " + opponentName + ". Come and surpass " + info.name;
                        }
                        return [4 /*yield*/, generateImage(new ShareChallengeResultUI_1.default(info, opponent))];
                    case 1:
                        image = _a.sent();
                        return [4 /*yield*/, platform.updateAsync({
                                image: image,
                                text: text,
                                cta: "START NEW MATCH",
                                payload: { oppenent_info: info },
                                template: "challenge_result"
                            })];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    }
    function sendScore(score) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var needNormalUpdate, isGroup, leaderName, leaderboard, result, isGroup_1, players;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!platform.getContextId())
                            return [2 /*return*/];
                        needNormalUpdate = true;
                        isGroup = false;
                        if (!(platform instanceof FBPlatform_1.FBPlatform)) return [3 /*break*/, 5];
                        leaderName = "context." + FBInstant.context.getID();
                        return [4 /*yield*/, FBInstant.getLeaderboardAsync(leaderName)];
                    case 1:
                        leaderboard = _a.sent();
                        return [4 /*yield*/, leaderboard.setScoreAsync(score)];
                    case 2:
                        _a.sent();
                        result = FBInstant.context.isSizeBetween(3, null);
                        isGroup_1 = result && result.answer;
                        if (!isGroup_1) return [3 /*break*/, 5];
                        return [4 /*yield*/, FBInstant.context.getPlayersAsync()];
                    case 3:
                        players = _a.sent();
                        players = players.filter(function (v) { return v.getID() != platform.playerInfo.playerId; });
                        if (!(players.length >= 2)) return [3 /*break*/, 5];
                        return [4 /*yield*/, FBInstant.updateAsync({
                                action: "LEADERBOARD",
                                name: leaderName
                            })];
                    case 4:
                        _a.sent();
                        needNormalUpdate = false;
                        _a.label = 5;
                    case 5:
                        if (!needNormalUpdate) return [3 /*break*/, 9];
                        if (!platform.oppenentData) return [3 /*break*/, 7];
                        return [4 /*yield*/, challengeResultShare(score, platform.oppenentData, isGroup)];
                    case 6:
                        _a.sent();
                        platform.oppenentData = null;
                        return [3 /*break*/, 9];
                    case 7: return [4 /*yield*/, challengeShare(score)];
                    case 8:
                        _a.sent();
                        _a.label = 9;
                    case 9: return [2 /*return*/];
                }
            });
        });
    }
    ShareHelper.sendScore = sendScore;
})(ShareHelper = exports.ShareHelper || (exports.ShareHelper = {}));

},{"../platform/FBPlatform":44,"./ShareChallengeResultUI":54,"./ShareChallengeUI":55,"./ShareGameUI":56,"./ShareNewRecoredUI":58,"tslib":3}],58:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var layaMaxUI_1 = require("../ui/layaMaxUI");
var ShareNewRecoredUI = /** @class */ (function (_super) {
    tslib_1.__extends(ShareNewRecoredUI, _super);
    function ShareNewRecoredUI(dat) {
        var _this = _super.call(this) || this;
        _this.dat = dat;
        _this.img_bg.skin = null;
        _this.img_head.skin = null;
        _this.applyData();
        return _this;
    }
    ShareNewRecoredUI.prototype.applyData = function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var _this = this;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.txt_score.text = this.dat.score + "";
                        return [4 /*yield*/, Promise.all([
                                new Promise(function (resolve, reject) {
                                    _this.img_bg.skin = null;
                                    _this.img_bg.once(Laya.Event.LOADED, _this, resolve);
                                    _this.img_bg.skin = "share/share_challenge.jpg";
                                }),
                                new Promise(function (resolve) {
                                    _this.img_head.skin = null;
                                    _this.img_head.once(Laya.Event.LOADED, _this, resolve);
                                    _this.img_head.skin = _this.dat.head;
                                })
                            ])];
                    case 1:
                        _a.sent();
                        Laya.timer.frameOnce(2, this, function () {
                            _this.event("ready_draw");
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    return ShareNewRecoredUI;
}(layaMaxUI_1.ui.share.ShareNewRecordUI));
exports.default = ShareNewRecoredUI;

},{"../ui/layaMaxUI":59,"tslib":3}],59:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var Scene = Laya.Scene;
var REG = Laya.ClassUtils.regClass;
var ui;
(function (ui) {
    var share;
    (function (share) {
        var ShareChallengeUI = /** @class */ (function (_super) {
            tslib_1.__extends(ShareChallengeUI, _super);
            function ShareChallengeUI() {
                return _super.call(this) || this;
            }
            ShareChallengeUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.createView(ShareChallengeUI.uiView);
            };
            ShareChallengeUI.uiView = { "type": "Scene", "props": { "width": 640, "height": 335 }, "compId": 2, "child": [{ "type": "Image", "props": { "var": "img_bg", "top": 0, "skin": "comp/image.png", "right": 0, "left": 0, "bottom": 0 }, "compId": 4 }, { "type": "Label", "props": { "y": 205, "x": 168, "text": "SCORE", "fontSize": 38, "color": "#ffffff", "bold": true, "anchorY": 0.5, "anchorX": 0.5 }, "compId": 7 }, { "type": "Label", "props": { "y": 270, "x": 158, "var": "txt_score", "text": "2340", "fontSize": 68, "color": "#ffffff", "bold": true, "anchorY": 0.5, "anchorX": 0.5 }, "compId": 6 }, { "type": "Image", "props": { "y": 43, "x": 98, "width": 130, "var": "img_head", "skin": "comp/image.png", "height": 130 }, "compId": 3, "child": [{ "type": "Image", "props": { "width": 130, "skin": "game/default_portait_square.png", "renderType": "mask", "height": 130 }, "compId": 5 }] }], "loadList": ["comp/image.png", "game/default_portait_square.png"], "loadList3D": [] };
            return ShareChallengeUI;
        }(Scene));
        share.ShareChallengeUI = ShareChallengeUI;
        REG("ui.share.ShareChallengeUI", ShareChallengeUI);
        var ShareChallengeResultUI = /** @class */ (function (_super) {
            tslib_1.__extends(ShareChallengeResultUI, _super);
            function ShareChallengeResultUI() {
                return _super.call(this) || this;
            }
            ShareChallengeResultUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.createView(ShareChallengeResultUI.uiView);
            };
            ShareChallengeResultUI.uiView = { "type": "Scene", "props": { "width": 640, "height": 335 }, "compId": 2, "child": [{ "type": "Image", "props": { "y": 0, "x": 0, "var": "img_bg", "top": 0, "skin": "comp/image.png", "right": 0, "left": 0, "bottom": 0 }, "compId": 4 }, { "type": "Label", "props": { "y": 268, "x": 100, "var": "txt_score_left", "text": "23400", "fontSize": 65, "color": "#ffffff", "bold": true, "anchorY": 0.5, "anchorX": 0.5 }, "compId": 5 }, { "type": "Image", "props": { "y": 129, "x": 100, "width": 130, "var": "img_head_left", "skin": "comp/image.png", "height": 130, "anchorY": 0.5, "anchorX": 0.5 }, "compId": 6, "child": [{ "type": "Image", "props": { "width": 130, "skin": "game/default_portait_square.png", "renderType": "mask", "height": 130 }, "compId": 7 }] }, { "type": "Label", "props": { "y": 264, "x": 520, "var": "txt_score_right", "text": "12000", "fontSize": 65, "color": "#ffffff", "bold": true, "anchorY": 0.5, "anchorX": 0.5 }, "compId": 8 }, { "type": "Image", "props": { "y": 129, "x": 540, "width": 130, "var": "img_head_right", "skin": "comp/image.png", "height": 130, "anchorY": 0.5, "anchorX": 0.5 }, "compId": 9, "child": [{ "type": "Image", "props": { "width": 130, "skin": "game/default_portait_square.png", "renderType": "mask", "height": 130 }, "compId": 10 }] }, { "type": "Label", "props": { "y": 239, "x": 239, "text": "VS", "name": "vs", "fontSize": 68, "color": "#ffffff", "centerX": 0, "bold": true }, "compId": 14 }], "loadList": ["comp/image.png", "game/default_portait_square.png"], "loadList3D": [] };
            return ShareChallengeResultUI;
        }(Scene));
        share.ShareChallengeResultUI = ShareChallengeResultUI;
        REG("ui.share.ShareChallengeResultUI", ShareChallengeResultUI);
        var ShareGameUI = /** @class */ (function (_super) {
            tslib_1.__extends(ShareGameUI, _super);
            function ShareGameUI() {
                return _super.call(this) || this;
            }
            ShareGameUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.createView(ShareGameUI.uiView);
            };
            ShareGameUI.uiView = { "type": "Scene", "props": { "width": 640, "height": 335 }, "compId": 2, "child": [{ "type": "Image", "props": { "var": "img_bg", "top": 0, "skin": "comp/image.png", "right": 0, "left": 0, "bottom": 0 }, "compId": 3 }], "loadList": ["comp/image.png"], "loadList3D": [] };
            return ShareGameUI;
        }(Scene));
        share.ShareGameUI = ShareGameUI;
        REG("ui.share.ShareGameUI", ShareGameUI);
        var ShareNewRecordUI = /** @class */ (function (_super) {
            tslib_1.__extends(ShareNewRecordUI, _super);
            function ShareNewRecordUI() {
                return _super.call(this) || this;
            }
            ShareNewRecordUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.createView(ShareNewRecordUI.uiView);
            };
            ShareNewRecordUI.uiView = { "type": "Scene", "props": { "width": 640, "height": 335 }, "compId": 2, "child": [{ "type": "Image", "props": { "y": 10, "x": 10, "var": "img_bg", "top": 0, "skin": "comp/image.png", "right": 0, "left": 0, "bottom": 0 }, "compId": 3 }, { "type": "Label", "props": { "y": 215, "x": 178, "text": "BEST SCORE", "fontSize": 30, "color": "#ffffff", "bold": true, "anchorY": 0.5, "anchorX": 0.5 }, "compId": 4 }, { "type": "Label", "props": { "y": 280, "x": 168, "var": "txt_score", "text": "2340", "fontSize": 68, "color": "#ffffff", "bold": true, "anchorY": 0.5, "anchorX": 0.5 }, "compId": 5 }, { "type": "Image", "props": { "y": 53, "x": 108, "width": 130, "var": "img_head", "skin": "comp/image.png", "height": 130 }, "compId": 6, "child": [{ "type": "Image", "props": { "width": 130, "skin": "game/default_portait_square.png", "renderType": "mask", "height": 130 }, "compId": 7 }] }], "loadList": ["comp/image.png", "game/default_portait_square.png"], "loadList3D": [] };
            return ShareNewRecordUI;
        }(Scene));
        share.ShareNewRecordUI = ShareNewRecordUI;
        REG("ui.share.ShareNewRecordUI", ShareNewRecordUI);
    })(share = ui.share || (ui.share = {}));
})(ui = exports.ui || (exports.ui = {}));
(function (ui) {
    var view;
    (function (view) {
        var GameUI = /** @class */ (function (_super) {
            tslib_1.__extends(GameUI, _super);
            function GameUI() {
                return _super.call(this) || this;
            }
            GameUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.createView(GameUI.uiView);
            };
            GameUI.uiView = { "type": "Scene", "props": { "width": 640, "height": 1136 }, "compId": 2, "child": [{ "type": "Label", "props": { "y": 120, "var": "_txt_score", "text": "999", "styleSkin": "comp/label.png", "fontSize": 50, "color": "0", "centerX": 0, "bold": true }, "compId": 7 }, { "type": "Box", "props": { "y": 70, "width": 390, "var": "_bx_core", "centerX": 0 }, "compId": 12, "child": [{ "type": "Box", "props": { "y": 17, "x": 52 }, "compId": 37, "child": [{ "type": "Image", "props": { "var": "_img_bartrack", "skin": "game/level_bar_track.png" }, "compId": 38 }, { "type": "Image", "props": { "var": "_img_bar", "skin": "game/level_bar.png" }, "compId": 39 }] }, { "type": "Sprite", "props": { "y": 0, "x": 0, "var": "_img_left", "texture": "game/bg_level_num.png" }, "compId": 41 }, { "type": "Sprite", "props": { "y": 0, "x": 335, "var": "_img_right", "texture": "game/bg_level_num.png" }, "compId": 40 }, { "type": "Label", "props": { "y": 27, "x": 27, "var": "_txtNum_left", "valign": "middle", "text": "100", "styleSkin": "comp/label.png", "height": 55, "fontSize": 34, "color": "#ffffff", "anchorY": 0.5, "anchorX": 0.5 }, "compId": 4 }, { "type": "Label", "props": { "y": 27, "x": 362, "var": "_txtNum_right", "valign": "middle", "text": "100", "styleSkin": "comp/label.png", "height": 55, "fontSize": 34, "color": "#ffffff", "anchorY": 0.5, "anchorX": 0.5 }, "compId": 42 }] }, { "type": "Box", "props": { "width": 1, "var": "_circle_bar", "height": 1, "centerY": 200, "centerX": 0 }, "compId": 32, "child": [{ "type": "Image", "props": { "y": 0, "x": 0, "skin": "game/circle_bar_track.png", "name": "bg_track", "anchorY": 0.5, "anchorX": 0.5, "alpha": 0.6 }, "compId": 30 }, { "type": "Image", "props": { "y": 0, "x": 0, "skin": "game/circle_bar.png", "name": "bar", "anchorY": 0.5, "anchorX": 0.5 }, "compId": 31 }, { "type": "Label", "props": { "var": "_txt_warning", "text": "!", "styleSkin": "comp/image.png", "fontSize": 100, "color": "#ffffff", "centerY": 0, "centerX": 0, "bold": true }, "compId": 10 }, { "type": "Script", "props": { "runtime": "script/CircleProgressScript.ts" }, "compId": 33 }] }], "loadList": ["comp/label.png", "game/level_bar_track.png", "game/level_bar.png", "game/bg_level_num.png", "game/circle_bar_track.png", "game/circle_bar.png", "comp/image.png"], "loadList3D": [] };
            return GameUI;
        }(Scene));
        view.GameUI = GameUI;
        REG("ui.view.GameUI", GameUI);
        var GameOverUI = /** @class */ (function (_super) {
            tslib_1.__extends(GameOverUI, _super);
            function GameOverUI() {
                return _super.call(this) || this;
            }
            GameOverUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.createView(GameOverUI.uiView);
            };
            GameOverUI.uiView = { "type": "Scene", "props": { "width": 640, "height": 1136 }, "compId": 2, "child": [{ "type": "Box", "props": { "y": 0, "x": 0, "top": 0, "right": 0, "left": 0, "bottom": 0, "bgColor": "#0", "alpha": 0.6 }, "compId": 20 }, { "type": "Label", "props": { "y": 260, "text": "GAME OVER", "styleSkin": "comp/label.png", "name": "game_over", "fontSize": 60, "color": "#ffffff", "centerX": 0, "bold": true }, "compId": 12 }, { "type": "Box", "props": { "var": "node_restart", "top": 0, "right": 0, "name": "node_restart", "left": 0, "bottom": 0 }, "compId": 13, "child": [{ "type": "Label", "props": { "y": 408, "text": "SCORE:", "styleSkin": "comp/label.png", "name": "score", "fontSize": 50, "color": "#ffffff", "centerX": 0 }, "compId": 11, "child": [{ "type": "Label", "props": { "y": 58, "var": "_txt_scores", "text": "100", "styleSkin": "comp/label.png", "fontSize": 72, "color": "#fff9f9", "centerX": 0 }, "compId": 7 }] }, { "type": "Label", "props": { "y": 567, "text": "BEST", "styleSkin": "comp/label.png", "name": "best", "fontSize": 40, "color": "#fd9003", "centerX": 0 }, "compId": 9, "child": [{ "type": "Label", "props": { "y": 50, "var": "_txt_best", "text": "1000", "styleSkin": "comp/label.png", "fontSize": 70, "color": "#fd9003", "centerX": -1 }, "compId": 8 }] }, { "type": "Label", "props": { "var": "btn_friendly", "text": "PLAY FRIENDLY", "labelSize": 40, "labelColors": "#ffffff", "label": "TOUCH TO RESTART", "fontSize": 40, "color": "#ffffff", "centerX": 0, "bottom": 206, "bold": true }, "compId": 21, "child": [{ "type": "Script", "props": { "runtime": "script/ButtonScript.ts" }, "compId": 22 }] }, { "type": "Label", "props": { "x": 160, "var": "btn_restart", "text": "PLAY SINGLE", "labelSize": 40, "labelColors": "#ffffff", "label": "TOUCH TO RESTART", "fontSize": 40, "color": "#ffffff", "centerX": 0, "bottom": 115, "bold": true }, "compId": 3, "child": [{ "type": "Script", "props": { "runtime": "script/ButtonScript.ts" }, "compId": 23 }] }] }, { "type": "Box", "props": { "var": "node_continue", "top": 1, "right": 0, "name": "node_continue", "left": 0, "bottom": 0 }, "compId": 14, "child": [{ "type": "Box", "props": { "var": "node_timer", "centerY": 1, "centerX": 0 }, "compId": 16, "child": [{ "type": "Image", "props": { "y": 1, "x": 0, "skin": "game/ad_timer.png", "name": "bar" }, "compId": 17 }, { "type": "Sprite", "props": { "y": 89, "x": 80, "texture": "game/icon_ad.png" }, "compId": 18 }, { "type": "Script", "props": { "runtime": "script/CircleProgressScript.ts" }, "compId": 19 }, { "type": "Script", "props": { "runtime": "script/ButtonScript.ts" }, "compId": 26 }] }, { "type": "Label", "props": { "y": 810, "x": 60, "var": "_btn_continue", "text": "SECOND CHANCE?", "labelSize": 41, "labelColors": "#ffffff", "label": "continue", "fontSize": 55, "color": "#FFFFFF", "centerX": 0, "bottom": 270, "bold": true }, "compId": 4, "child": [{ "type": "Label", "props": { "y": -94, "x": 87, "var": "_txt_timer", "text": "10s", "styleSkin": "comp/label.png", "fontSize": 41, "color": "#ffffff", "centerX": 0 }, "compId": 6 }, { "type": "Script", "props": { "runtime": "script/ButtonScript.ts" }, "compId": 25 }] }, { "type": "Label", "props": { "var": "_btn_noThanks", "text": "NO THANKS", "labelSize": 36, "labelColors": "#FFFFFF", "label": "NO THANKS", "fontSize": 36, "color": "#ffffff", "centerX": 0, "bottom": 176 }, "compId": 5, "child": [{ "type": "Script", "props": { "runtime": "script/ButtonScript.ts" }, "compId": 24 }] }] }], "loadList": ["comp/label.png", "game/ad_timer.png", "game/icon_ad.png"], "loadList3D": [] };
            return GameOverUI;
        }(Scene));
        view.GameOverUI = GameOverUI;
        REG("ui.view.GameOverUI", GameOverUI);
        var GameWinUI = /** @class */ (function (_super) {
            tslib_1.__extends(GameWinUI, _super);
            function GameWinUI() {
                return _super.call(this) || this;
            }
            GameWinUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.createView(GameWinUI.uiView);
            };
            GameWinUI.uiView = { "type": "Scene", "props": { "width": 640, "height": 1136 }, "compId": 2, "child": [{ "type": "Box", "props": { "y": 0, "x": 0, "top": 0, "right": 0, "left": 0, "bottom": 0, "bgColor": "#0", "alpha": 0.6 }, "compId": 9 }, { "type": "Label", "props": { "y": 172, "wordWrap": true, "width": 400, "var": "_txtComplete", "text": "LEVEL 100  COMPLETED!", "styleSkin": "comp/label.png", "leading": 15, "fontSize": 60, "color": "#ffffff", "centerX": 0, "bold": true, "align": "center" }, "compId": 4 }, { "type": "Label", "props": { "text": "TOUCH TO NEXT", "styleSkin": "comp/label.png", "fontSize": 40, "color": "#ffffff", "centerX": 0, "bottom": 120 }, "compId": 5 }], "loadList": ["comp/label.png"], "loadList3D": [] };
            return GameWinUI;
        }(Scene));
        view.GameWinUI = GameWinUI;
        REG("ui.view.GameWinUI", GameWinUI);
        var MeunUI = /** @class */ (function (_super) {
            tslib_1.__extends(MeunUI, _super);
            function MeunUI() {
                return _super.call(this) || this;
            }
            MeunUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.createView(MeunUI.uiView);
            };
            MeunUI.uiView = { "type": "Scene", "props": { "width": 640, "height": 1136 }, "compId": 2, "child": [{ "type": "Label", "props": { "text": "TAP TO PLAY", "styleSkin": "comp/label.png", "fontSize": 40, "color": "#ffffff", "centerX": 0, "bottom": 293 }, "compId": 6 }, { "type": "Box", "props": { "var": "bx_btns", "centerX": 0, "bottom": 60 }, "compId": 15, "child": [{ "type": "Box", "props": { "y": -2, "x": 0, "width": 97, "height": 101 }, "compId": 20, "child": [{ "type": "Box", "props": { "y": -240, "width": 117, "var": "bx_subMenu", "height": 338, "centerX": 0 }, "compId": 21, "child": [{ "type": "Image", "props": { "top": -15, "skin": "game/bg_setting.png", "right": 0, "left": 0, "bottom": -15, "sizeGrid": "50,55,50,50" }, "compId": 26 }, { "type": "Button", "props": { "var": "btn_mute", "stateNum": 1, "skin": "game/btn_mute.png", "centerX": 0 }, "compId": 24, "child": [{ "type": "Script", "props": { "runtime": "script/ButtonScript.ts" }, "compId": 25 }] }, { "type": "Button", "props": { "y": 117, "var": "btn_vibrate", "stateNum": 1, "skin": "game/btn_vibrate.png", "centerX": 0 }, "compId": 9, "child": [{ "type": "Script", "props": { "runtime": "script/ButtonScript.ts" }, "compId": 16 }] }] }, { "type": "Button", "props": { "y": 0, "x": 0, "var": "btn_setting", "stateNum": 1, "skin": "game/btn_setting.png" }, "compId": 22, "child": [{ "type": "Script", "props": { "runtime": "script/ButtonScript.ts" }, "compId": 23 }] }] }, { "type": "Button", "props": { "x": 200, "var": "btn_rank", "stateNum": 1, "skin": "game/btn_rank.png" }, "compId": 7, "child": [{ "type": "Script", "props": { "runtime": "script/ButtonScript.ts" }, "compId": 17 }] }, { "type": "Button", "props": { "x": 400, "var": "btn_share", "stateNum": 1, "skin": "game/btn_share.png", "labelSize": 40 }, "compId": 4, "child": [{ "type": "Script", "props": { "runtime": "script/ButtonScript.ts" }, "compId": 19 }] }] }, { "type": "Button", "props": { "y": 1035, "x": 445.19140625, "visible": false, "var": "btn_noad", "stateNum": 1, "skin": "game/btn_ad.png", "labelSize": 40 }, "compId": 5, "child": [{ "type": "Script", "props": { "runtime": "script/ButtonScript.ts" }, "compId": 18 }] }], "loadList": ["comp/label.png", "game/bg_setting.png", "game/btn_mute.png", "game/btn_vibrate.png", "game/btn_setting.png", "game/btn_rank.png", "game/btn_share.png", "game/btn_ad.png"], "loadList3D": [] };
            return MeunUI;
        }(Scene));
        view.MeunUI = MeunUI;
        REG("ui.view.MeunUI", MeunUI);
        var RankUI = /** @class */ (function (_super) {
            tslib_1.__extends(RankUI, _super);
            function RankUI() {
                return _super.call(this) || this;
            }
            RankUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.createView(RankUI.uiView);
            };
            RankUI.uiView = { "type": "Scene", "props": { "width": 640, "height": 1136 }, "compId": 2, "child": [{ "type": "Box", "props": { "y": 0, "x": 0, "top": 0, "right": 0, "left": 0, "bottom": 0, "bgColor": "#0", "alpha": 0.6 }, "compId": 51 }, { "type": "Sprite", "props": { "y": 34, "x": 26, "var": "btn_home", "texture": "rank/btn_home.png", "label": "label" }, "compId": 4, "child": [{ "type": "Script", "props": { "runtime": "script/ButtonScript.ts" }, "compId": 72 }] }, { "type": "Box", "props": { "y": 274, "width": 436, "var": "bx_tab", "height": 62, "centerX": 0 }, "compId": 6, "child": [{ "type": "Sprite", "props": { "y": 0, "x": 0, "texture": "rank/rank_tab_h.png" }, "compId": 8, "child": [{ "type": "Sprite", "props": { "y": 0, "x": 436, "texture": "rank/rank_tab_h.png", "scaleX": -1, "name": "sprite" }, "compId": 10 }] }, { "type": "Sprite", "props": { "y": 0, "x": 0, "var": "tab_left", "texture": "rank/rank_tab.png" }, "compId": 9, "child": [{ "type": "Script", "props": { "runtime": "script/ButtonScript.ts" }, "compId": 73 }] }, { "type": "Box", "props": { "y": 0, "x": 218, "width": 218, "var": "tab_right", "mouseEnabled": true, "height": 62 }, "compId": 13, "child": [{ "type": "Sprite", "props": { "x": 218, "texture": "rank/rank_tab.png", "scaleX": -1, "mouseEnabled": false }, "compId": 7 }, { "type": "Script", "props": { "runtime": "script/ButtonScript.ts" }, "compId": 74 }] }, { "type": "Label", "props": { "y": 0, "x": 0, "width": 218, "var": "lbl_left", "valign": "middle", "text": "FRIENDS", "mouseEnabled": false, "height": 60, "fontSize": 30, "bold": true, "align": "center" }, "compId": 11 }, { "type": "Label", "props": { "y": 0, "x": 218, "width": 218, "var": "lbl_right", "valign": "middle", "text": "GLOBAL", "mouseEnabled": false, "height": 60, "fontSize": 30, "bold": true, "align": "center" }, "compId": 12 }] }, { "type": "List", "props": { "y": 684, "x": 60, "var": "list_global", "top": 342, "right": 30, "repeatY": 7, "repeatX": 1, "left": 30, "bottom": 206 }, "compId": 42, "child": [{ "type": "Box", "props": { "x": 0, "right": 0, "name": "render", "left": 0, "height": 80 }, "compId": 63, "child": [{ "type": "Image", "props": { "y": 0, "skin": "rank/bg_rank_item.png", "right": 0, "left": 0, "sizeGrid": "39,38,39,36" }, "compId": 64 }, { "type": "Label", "props": { "x": 0, "width": 70, "valign": "middle", "top": 0, "text": "1", "name": "txt_rank", "height": 80, "fontSize": 28, "color": "#fff6f6", "bottom": 0, "bold": true, "align": "center" }, "compId": 65 }, { "type": "Image", "props": { "x": 73, "width": 70, "skin": "rank/default_portrait.png", "name": "img_head", "height": 70, "centerY": 0 }, "compId": 66, "child": [{ "type": "Image", "props": { "y": 0, "width": 70, "skin": "rank/default_portrait.png", "renderType": "mask", "name": "img_head_mask", "height": 70, "centerY": 0 }, "compId": 79 }] }, { "type": "Label", "props": { "x": 166, "wordWrap": true, "width": 173, "valign": "middle", "top": 0, "text": "label", "name": "txt_name", "fontSize": 24, "color": "#fff6f6", "bottom": 0, "align": "left" }, "compId": 67 }, { "type": "Label", "props": { "x": 339, "width": 135, "valign": "middle", "top": 0, "text": "label", "name": "txt_score", "height": 80, "fontSize": 24, "color": "#fff6f6", "bottom": 0, "align": "center" }, "compId": 68 }, { "type": "Image", "props": { "y": 3, "skin": "rank/icon_play_game.png", "right": 34, "name": "btn_action", "centerY": 0 }, "compId": 69, "child": [{ "type": "Script", "props": { "runtime": "script/ButtonScript.ts" }, "compId": 75 }] }, { "type": "Script", "props": { "runtime": "view/RankItemRender.ts" }, "compId": 70 }] }, { "type": "VScrollBar", "props": { "visible": false, "top": 0, "skin": "comp/vscroll.png", "right": 0, "name": "scrollBar", "bottom": 0 }, "compId": 50 }] }, { "type": "List", "props": { "var": "list_friends", "top": 342, "right": 30, "repeatY": 7, "repeatX": 1, "left": 30, "bottom": 206 }, "compId": 22, "child": [{ "type": "Box", "props": { "x": 0, "right": 0, "name": "render", "left": 0, "height": 80 }, "compId": 56, "child": [{ "type": "Image", "props": { "y": 0, "skin": "rank/bg_rank_item.png", "right": 0, "left": 0, "sizeGrid": "39,38,39,36" }, "compId": 57 }, { "type": "Label", "props": { "x": 0, "width": 70, "valign": "middle", "top": 0, "text": "1", "name": "txt_rank", "height": 80, "fontSize": 28, "color": "#fff6f6", "bottom": 0, "bold": true, "align": "center" }, "compId": 58 }, { "type": "Image", "props": { "x": 73, "width": 70, "skin": "rank/default_portrait.png", "name": "img_head", "height": 70, "centerY": 0 }, "compId": 59, "child": [{ "type": "Image", "props": { "y": 0, "width": 70, "skin": "rank/default_portrait.png", "renderType": "mask", "name": "img_head_mask", "height": 70, "centerY": 0 }, "compId": 78 }] }, { "type": "Label", "props": { "x": 166, "wordWrap": true, "width": 173, "valign": "middle", "top": 0, "text": "label", "name": "txt_name", "fontSize": 24, "color": "#fff6f6", "bottom": 0, "align": "left" }, "compId": 60 }, { "type": "Label", "props": { "x": 339, "width": 135, "valign": "middle", "top": 0, "text": "label", "name": "txt_score", "height": 80, "fontSize": 24, "color": "#fff6f6", "bottom": 0, "align": "center" }, "compId": 61 }, { "type": "Image", "props": { "y": 3, "skin": "rank/icon_play_game.png", "right": 34, "name": "btn_action", "centerY": 0 }, "compId": 62, "child": [{ "type": "Script", "props": { "runtime": "script/ButtonScript.ts" }, "compId": 76 }] }, { "type": "Script", "props": { "runtime": "view/RankItemRender.ts" }, "compId": 71 }] }, { "type": "VScrollBar", "props": { "visible": false, "top": 0, "skin": "comp/vscroll.png", "right": 0, "name": "scrollBar", "bottom": 0 }, "compId": 23 }] }, { "type": "Image", "props": { "var": "btn_invite", "skin": "rank/btn_invite.png", "label": "label", "centerX": 0, "bottom": 52 }, "compId": 24, "child": [{ "type": "Sprite", "props": { "y": 26, "x": 37, "texture": "rank/icon_friend.png" }, "compId": 25 }, { "type": "Label", "props": { "width": 192, "text": "INVITE", "height": 38, "fontSize": 38, "centerY": 0, "centerX": 34, "bold": true, "align": "center" }, "compId": 26 }, { "type": "Script", "props": { "runtime": "script/ButtonScript.ts" }, "compId": 77 }] }, { "type": "Box", "props": { "y": 58, "width": 171, "centerX": 0 }, "compId": 28, "child": [{ "type": "Image", "props": { "width": 171, "var": "img_head", "skin": "rank/default_portrait.png", "height": 171 }, "compId": 27, "child": [{ "type": "Image", "props": { "y": 0, "x": 0, "width": 171, "skin": "rank/default_portrait.png", "renderType": "mask", "height": 171 }, "compId": 30 }] }, { "type": "Image", "props": { "y": 0, "x": 0, "skin": "rank/bord_head.png" }, "compId": 29 }, { "type": "Label", "props": { "y": 172, "var": "txt_cname", "text": " assfa asdfasdfas asdf asdfa ", "fontSize": 30, "color": "#ffffff", "centerX": 0 }, "compId": 31 }] }, { "type": "Image", "props": { "y": 619, "var": "img_busy", "skin": "loading/busy_indicator.png", "centerX": 0, "anchorY": 0.5, "anchorX": 0.5 }, "compId": 52, "child": [{ "type": "Script", "props": { "y": -585, "x": -287, "runtime": "script/RotateScript.ts" }, "compId": 53 }] }], "loadList": ["rank/btn_home.png", "rank/rank_tab_h.png", "rank/rank_tab.png", "rank/bg_rank_item.png", "rank/default_portrait.png", "rank/icon_play_game.png", "comp/vscroll.png", "rank/btn_invite.png", "rank/icon_friend.png", "rank/bord_head.png", "loading/busy_indicator.png"], "loadList3D": [] };
            return RankUI;
        }(Scene));
        view.RankUI = RankUI;
        REG("ui.view.RankUI", RankUI);
        var SplashUI = /** @class */ (function (_super) {
            tslib_1.__extends(SplashUI, _super);
            function SplashUI() {
                return _super.call(this) || this;
            }
            SplashUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.createView(SplashUI.uiView);
            };
            SplashUI.uiView = { "type": "Scene", "props": { "width": 640, "height": 1136 }, "compId": 2, "child": [{ "type": "Sprite", "props": { "y": 0, "x": 0, "texture": "loading/bg_loading.jpg" }, "compId": 3, "child": [{ "type": "Script", "props": { "runtime": "script/FullScreenScript.ts" }, "compId": 4 }] }, { "type": "Image", "props": { "y": 902, "x": 320, "skin": "loading/busy_indicator.png", "centerX": 0, "bottom": 200, "anchorY": 0.5, "anchorX": 0.5 }, "compId": 5, "child": [{ "type": "Script", "props": { "runtime": "script/RotateScript.ts" }, "compId": 6 }] }], "loadList": ["loading/bg_loading.jpg", "loading/busy_indicator.png"], "loadList3D": [] };
            return SplashUI;
        }(Scene));
        view.SplashUI = SplashUI;
        REG("ui.view.SplashUI", SplashUI);
    })(view = ui.view || (ui.view = {}));
})(ui = exports.ui || (exports.ui = {}));

},{"tslib":3}],60:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var layaMaxUI_1 = require("../ui/layaMaxUI");
var GameStats_1 = require("../game/GameStats");
var Game_1 = require("../game/Game");
var CircleProgressScript_1 = require("../script/CircleProgressScript");
var GameHelper_1 = require("../core/GameHelper");
var Constant_1 = require("../Constant");
var GameOverUI = /** @class */ (function (_super) {
    tslib_1.__extends(GameOverUI, _super);
    function GameOverUI() {
        var _this = _super.call(this) || this;
        _this._timeShow_ = 0;
        _this.duration = 6;
        _this._pause = false;
        _this.btn_restart.on(Laya.Event.CLICK, _this, function () {
            Game_1.Game.inst_._ui_.onClickRestart();
        });
        _this.btn_friendly.on(Laya.Event.CLICK, _this, function () { return tslib_1.__awaiter(_this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, GameHelper_1.GameHelper.requestContext()];
                    case 1:
                        _a.sent();
                        Game_1.Game.inst_._ui_.onClickRestart(false);
                        return [2 /*return*/];
                }
            });
        }); });
        _this._btn_continue.on(Laya.Event.CLICK, _this, function () {
            // Game.Instance._ui_.onClickContinue_();
            _this.onContinue();
        });
        _this.node_timer.on(Laya.Event.CLICK, _this, function () {
            // Game.Instance._ui_.onClickContinue_();
            _this.onContinue();
        });
        _this._btn_noThanks.on(Laya.Event.CLICK, _this, function () {
            _this.onClickContinueCancel();
        });
        return _this;
    }
    GameOverUI.prototype.onContinue = function () {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var bo;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        platform.log(Constant_1.Constant.Analytics.continue_show, { level: GameStats_1.GameStats.inst_.level, result: 1 });
                        this._pause = true;
                        return [4 /*yield*/, platform.showRAD("revive")];
                    case 1:
                        bo = _a.sent();
                        this._pause = false;
                        this.hide_();
                        Game_1.Game.inst_.continue_();
                        return [2 /*return*/];
                }
            });
        });
    };
    GameOverUI.prototype.show_ = function (canContinue, scores, percentComplete) {
        this._txt_best.text = GameStats_1.GameStats.inst_.best_score + "";
        this._txt_scores.text = scores + "";
        var flag = canContinue && platform.hasRAD();
        this.node_restart.visible = !flag;
        this.node_continue.visible = flag;
        if (!flag) {
            platform.hasIAD() && platform.showIAD("game_over");
        }
        else {
            this._timeShow_ = this.duration;
            Laya.timer.once(1400, this, this.showNoThanks_);
            app.updater.add(this);
            this.bar_timer = this.node_timer.getComponent(CircleProgressScript_1.default);
            platform.log(Constant_1.Constant.Analytics.continue_show, { level: GameStats_1.GameStats.inst_.level, result: -1 });
        }
        this.width = Laya.stage.width;
        this.height = Laya.stage.height;
        app.ui.game_layer.addChild(this);
    };
    GameOverUI.prototype.hide_ = function () {
        app.updater.rm(this);
        this.removeSelf();
    };
    GameOverUI.prototype.onClickContinueCancel = function () {
        this.cancelContinueInt_("no_thanks");
    };
    GameOverUI.prototype.cancelContinueInt_ = function (reason) {
        this.node_restart.visible = true;
        this.node_continue.visible = false;
        platform.log(Constant_1.Constant.Analytics.continue_show, { level: GameStats_1.GameStats.inst_.level, result: 0, reason: reason });
        platform.hasIAD() && platform.showIAD(reason);
    };
    GameOverUI.prototype.showNoThanks_ = function () {
        this._btn_noThanks.visible = true;
    };
    GameOverUI.prototype.onUpdate = function () {
        if (this._timeShow_ <= 0)
            return;
        if (this._pause)
            return;
        this._txt_timer.text = Math.round(this._timeShow_) + "";
        this.bar_timer && (this.bar_timer.value = this._timeShow_ / this.duration);
        this._timeShow_ -= Laya.timer.deltaSec;
        if (this._timeShow_ < 1) {
            this._timeShow_ = -1;
            this.cancelContinueInt_("time_out");
        }
    };
    return GameOverUI;
}(layaMaxUI_1.ui.view.GameOverUI));
exports.GameOverUI = GameOverUI;

},{"../Constant":6,"../core/GameHelper":13,"../game/Game":34,"../game/GameStats":35,"../script/CircleProgressScript":51,"../ui/layaMaxUI":59,"tslib":3}],61:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var layaMaxUI_1 = require("../ui/layaMaxUI");
var GameStats_1 = require("../game/GameStats");
var CircleProgressScript_1 = require("../script/CircleProgressScript");
var GameUI = /** @class */ (function (_super) {
    tslib_1.__extends(GameUI, _super);
    function GameUI() {
        var _this = _super.call(this) || this;
        _this.width = Laya.stage.width;
        _this.height = Laya.stage.height;
        _this.once(Laya.Event.ADDED, _this, function (e) {
            _this._circle_progress_ = _this._circle_bar.getComponent(CircleProgressScript_1.default);
            _this.updateUI_(0, GameStats_1.GameStats.inst_.scores);
            _this.showFireBar_(false);
        });
        return _this;
    }
    GameUI.prototype.setColor_ = function (color) {
        // this._circle_bar.filters = [color.getHexString()]
        var f = new Laya.ColorFilter().setColor(color.getRGBHexString());
        this._img_left.filters = this._img_right.filters = this._img_bar.filters = [f];
    };
    GameUI.prototype.updateUI_ = function (progress, scores) {
        var txtNumL = this._txtNum_left;
        var num = GameStats_1.GameStats.inst_.level;
        txtNumL.text = num.toString();
        var txtNumR = this._txtNum_right;
        num = GameStats_1.GameStats.inst_.level + 1;
        txtNumR.text = num.toString();
        this._img_bar.width = progress * this._img_bartrack.width;
        this._txt_score.text = scores.toString();
        var scale = Math.min(this._img_left.width / this._txtNum_left.width, 1);
        this._txtNum_left.scale(scale, scale, true);
        scale = Math.min(this._img_right.width / this._txtNum_right.width, 1);
        this._txtNum_right.scale(scale, scale, true);
    };
    GameUI.prototype.setScoreColor_ = function (color, bold) {
        var colorStr = color.getHexString();
        this._txt_score.color = colorStr;
        this._txt_score.bold = bold;
    };
    GameUI.prototype.showWarningFire_ = function (show) {
        this._txt_warning.visible = show;
    };
    GameUI.prototype.showFireBar_ = function (show, isRed) {
        if (isRed === void 0) { isRed = false; }
        if (this._circle_bar.visible != show) {
            this._circle_bar.visible = show;
            this._circle_progress_.value = 0;
            this._targetCircleAmount_ = 0;
        }
        if (isRed) {
            var f = new Laya.ColorFilter().setColor("#ff0000");
            this._circle_progress_.bar.filters = [f];
        }
        else {
            this._circle_progress_.bar.filters = null;
        }
    };
    GameUI.prototype.updateFireBar_ = function (progress) {
        this._targetCircleAmount_ = progress;
    };
    GameUI.prototype.onUpdate = function () {
        var value = (this._circle_progress_.value + this._targetCircleAmount_) / 2;
        this._circle_progress_.value = value;
    };
    return GameUI;
}(layaMaxUI_1.ui.view.GameUI));
exports.GameUI = GameUI;

},{"../game/GameStats":35,"../script/CircleProgressScript":51,"../ui/layaMaxUI":59,"tslib":3}],62:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var layaMaxUI_1 = require("../ui/layaMaxUI");
var Game_1 = require("../game/Game");
var GameWinUI = /** @class */ (function (_super) {
    tslib_1.__extends(GameWinUI, _super);
    function GameWinUI() {
        var _this = _super.call(this) || this;
        _this.mouseEnabled = true;
        return _this;
    }
    GameWinUI.prototype.show_ = function (level) {
        this._txtComplete.text = "LEVEL " + level + "\nCOMPLETED!";
        this.width = Laya.stage.width;
        this.height = Laya.stage.height;
        app.ui.game_layer.addChild(this);
        this.on(Laya.Event.CLICK, this, this.onStageClick);
    };
    GameWinUI.prototype.hide_ = function () {
        this.removeSelf();
        this.off(Laya.Event.CLICK, this, this.onStageClick);
    };
    GameWinUI.prototype.onStageClick = function (e) {
        e.stopPropagation();
        Game_1.Game.inst_._ui_.onClickNext_();
    };
    return GameWinUI;
}(layaMaxUI_1.ui.view.GameWinUI));
exports.GameWinUI = GameWinUI;

},{"../game/Game":34,"../ui/layaMaxUI":59,"tslib":3}],63:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var layaMaxUI_1 = require("../ui/layaMaxUI");
var Game_1 = require("../game/Game");
var ShareHelper_1 = require("../share/ShareHelper");
var Sound_1 = require("../game/Sound");
var MeunUI = /** @class */ (function (_super) {
    tslib_1.__extends(MeunUI, _super);
    function MeunUI() {
        var _this = _super.call(this) || this;
        _this.width = Laya.stage.width;
        _this.height = Laya.stage.height;
        _this.btn_noad.visible = false;
        _this.bx_subMenu.visible = false;
        _this.on(Laya.Event.MOUSE_DOWN, _this, function (e) {
            if (e.target instanceof Laya.Button) {
                e.stopPropagation();
            }
            else {
                _this.bx_subMenu.visible = false;
            }
        });
        // this.bx_btns.on(Laya.Event.MOUSE_DOWN,this,(e:Laya.Event)=>{
        // 	e.stopPropagation();
        // })
        // this.bx_btns.on(Laya.Event.CLICK,this,(e:Laya.Event)=>{
        // 	e.stopPropagation();
        // })
        _this.btn_rank.on(Laya.Event.CLICK, _this, function (e) {
            Game_1.Game.inst_._ui_.showRank();
        });
        _this.btn_noad.on(Laya.Event.CLICK, _this, function () {
            //TODO:
        });
        _this.btn_share.on(Laya.Event.CLICK, _this, function () {
            ShareHelper_1.ShareHelper.baseShare("home_share", false);
        });
        _this.btn_setting.on(Laya.Event.CLICK, _this, function () {
            _this.bx_subMenu.visible = !_this.bx_subMenu.visible;
        });
        _this.btn_vibrate.skin = app.vibrateEnable ? "game/btn_vibrate.png" : "game/btn_vibrate_h.png";
        _this.btn_vibrate.on(Laya.Event.CLICK, _this, function () {
            app.vibrateEnable = !app.vibrateEnable;
            _this.btn_vibrate.skin = app.vibrateEnable ? "game/btn_vibrate.png" : "game/btn_vibrate_h.png";
        });
        _this.btn_mute.skin = Sound_1.Sound.getMeute() ? "game/btn_mute_h.png" : "game/btn_mute.png";
        _this.btn_mute.on(Laya.Event.CLICK, _this, function () {
            var bo = Sound_1.Sound.setMute(!Sound_1.Sound.getMeute());
            _this.btn_mute.skin = bo ? "game/btn_mute_h.png" : "game/btn_mute.png";
        });
        return _this;
    }
    return MeunUI;
}(layaMaxUI_1.ui.view.MeunUI));
exports.MeunUI = MeunUI;

},{"../game/Game":34,"../game/Sound":38,"../share/ShareHelper":57,"../ui/layaMaxUI":59,"tslib":3}],64:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var ShareHelper_1 = require("../share/ShareHelper");
var Game_1 = require("../game/Game");
var RankItemRender = /** @class */ (function (_super) {
    tslib_1.__extends(RankItemRender, _super);
    function RankItemRender() {
        return _super.call(this) || this;
    }
    RankItemRender.prototype.onAwake = function () {
        var _this = this;
        this.txt_rank = this.owner.getChildByName("txt_rank");
        this.txt_name = this.owner.getChildByName("txt_name");
        this.txt_score = this.owner.getChildByName("txt_score");
        this.img_head = this.owner.getChildByName("img_head");
        this.btn_action = this.owner.getChildByName("btn_action");
        this.btn_action.on(Laya.Event.CLICK, this, function () { return tslib_1.__awaiter(_this, void 0, void 0, function () {
            var bo;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(this._data.id == platform.playerInfo.playerId)) return [3 /*break*/, 1];
                        ShareHelper_1.ShareHelper.baseShare("rank_share", false);
                        return [3 /*break*/, 3];
                    case 1: return [4 /*yield*/, platform.createAsync(this._data.id, "rank_play")];
                    case 2:
                        bo = _a.sent();
                        if (bo) {
                            ShareHelper_1.ShareHelper.baseShare("rank_play", true);
                        }
                        Game_1.Game.inst_._ui_.hideRank();
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        }); });
    };
    RankItemRender.prototype.setData = function (data, index) {
        this._data = data;
        this.txt_rank.text = (index + 1) + "";
        this.txt_name.text = data.name;
        this.txt_score.text = data.score + "";
        this.img_head.skin = data.photo;
        this.btn_action.skin = this._data.id == platform.playerInfo.playerId ? "rank/icon_share.png" : "rank/icon_play_game.png";
    };
    RankItemRender.prototype.onEnable = function () {
    };
    RankItemRender.prototype.onDisable = function () {
    };
    return RankItemRender;
}(Laya.Script));
exports.default = RankItemRender;

},{"../game/Game":34,"../share/ShareHelper":57,"tslib":3}],65:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var layaMaxUI_1 = require("../ui/layaMaxUI");
var RankItemRender_1 = require("./RankItemRender");
var ShareHelper_1 = require("../share/ShareHelper");
var RankUI = /** @class */ (function (_super) {
    tslib_1.__extends(RankUI, _super);
    function RankUI() {
        var _this = _super.call(this) || this;
        _this._busy_count = 0;
        _this.width = Laya.stage.width;
        _this.height = Laya.stage.height;
        _this.on(Laya.Event.CLICK, _this, function (e) {
            e.stopPropagation();
        });
        _this.on(Laya.Event.MOUSE_DOWN, _this, function (e) {
            e.stopPropagation();
        });
        return _this;
    }
    RankUI.prototype.createChildren = function () {
        var _this = this;
        _super.prototype.createChildren.call(this);
        this.img_busy.visible = false;
        this.btn_home.on(Laya.Event.CLICK, this, function () {
            _this.event(Laya.Event.CLOSE);
        });
        this.btn_invite.on(Laya.Event.CLICK, this, function () { return tslib_1.__awaiter(_this, void 0, void 0, function () {
            var bo;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, platform.chooseAsync(["NEW_CONTEXT_ONLY"])];
                    case 1:
                        bo = _a.sent();
                        if (bo) {
                            ShareHelper_1.ShareHelper.baseShare("rank_invite", true);
                            this.event(Laya.Event.CLOSE);
                        }
                        return [2 /*return*/];
                }
            });
        }); });
        this.list_friends.renderHandler = this.list_global.renderHandler = new Laya.Handler(this, function (cell, index) {
            var logic = cell.getComponent(RankItemRender_1.default);
            logic.setData(cell.dataSource, index);
        });
        this.tab_left.mouseEnabled = true;
        this.tab_right.mouseEnabled = true;
        this.bx_tab.on(Laya.Event.CLICK, this, function (e) {
            if (e.target == _this.tab_left) {
                _this.changeView(0);
            }
            else if (e.target == _this.tab_right) {
                _this.changeView(1);
            }
            else {
                console.log("something wrong with rank tab!");
            }
        });
        this.changeView(0);
    };
    RankUI.prototype.showBusy = function () {
        this._busy_count++;
        this.img_busy.visible = true;
    };
    RankUI.prototype.hideBusy = function () {
        if (--this._busy_count <= 0) {
            this.img_busy.visible = false;
        }
    };
    RankUI.prototype.changeView = function (index) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var _a, _b, champion;
            return tslib_1.__generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        this.tab_left.alpha = index == 1 ? 0 : 1;
                        this.lbl_left.color = index == 1 ? "#ffffff" : "#0";
                        this.tab_right.alpha = index == 0 ? 0 : 1;
                        this.lbl_right.color = index == 0 ? "#ffffff" : "#0";
                        this.list_friends.visible = index == 0;
                        this.list_global.visible = index == 1;
                        if (!(index == 0 && !this.list_friends.array)) return [3 /*break*/, 2];
                        this.showBusy();
                        _a = this.list_friends;
                        return [4 /*yield*/, platform.getWorldFriendEntriesAsync()];
                    case 1:
                        _a.array = _c.sent();
                        this.hideBusy();
                        _c.label = 2;
                    case 2:
                        if (!(index == 1 && !this.list_global.array)) return [3 /*break*/, 4];
                        this.showBusy();
                        _b = this.list_global;
                        return [4 /*yield*/, platform.getWorldEntriesAsync()];
                    case 3:
                        _b.array = _c.sent();
                        this.hideBusy();
                        _c.label = 4;
                    case 4:
                        champion = index == 0 ? this.list_friends.array[0] : this.list_global.array[0];
                        this.img_head.skin = champion ? champion.photo : platform.playerInfo.photo;
                        this.txt_cname.text = champion ? champion.name : platform.playerInfo.name;
                        return [2 /*return*/];
                }
            });
        });
    };
    return RankUI;
}(layaMaxUI_1.ui.view.RankUI));
exports.RankUI = RankUI;

},{"../share/ShareHelper":57,"../ui/layaMaxUI":59,"./RankItemRender":64,"tslib":3}]},{},[8])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy5ucG0vbGliL25vZGVfbW9kdWxlcy9sYXlhYWlyMi1jbWQvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsIm5vZGVfbW9kdWxlcy9ob3dsZXIvZGlzdC9ob3dsZXIuanMiLCJub2RlX21vZHVsZXMvdHMtcG9seWZpbGwvZGlzdC90cy1wb2x5ZmlsbC5qcyIsIm5vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5qcyIsIm5vZGVfbW9kdWxlcy92Y29uc29sZS9kaXN0L3Zjb25zb2xlLm1pbi5qcyIsInNyYy9BcHAudHMiLCJzcmMvQ29uc3RhbnQudHMiLCJzcmMvR2FtZUNvbmZpZy50cyIsInNyYy9NYWluLnRzIiwic3JjL2NtZC9TdGFydHVwQ21kLnRzIiwic3JjL2NvcmUvQ29sb3IudHMiLCJzcmMvY29yZS9FbWl0ZXIudHMiLCJzcmMvY29yZS9FbnRpdHkudHMiLCJzcmMvY29yZS9HYW1lSGVscGVyLnRzIiwic3JjL2NvcmUvTGF5YUV4dHJhLnRzIiwic3JjL2NvcmUvTGF5YVV0aWxzLnRzIiwic3JjL2NvcmUvVXBkYXRlci50cyIsInNyYy9jb3JlL1V0aWxzLnRzIiwic3JjL2NvcmUvZWZmZWN0L0VmZmVjdC50cyIsInNyYy9jb3JlL2VmZmVjdC9FZmZlY3RQcm9jLnRzIiwic3JjL2NvcmUvZWZmZWN0L0Z4U2NhbGUudHMiLCJzcmMvY29yZS9leHRlbnNpb24udHMiLCJzcmMvY29yZS9tdmMvRmFjYWRlLnRzIiwic3JjL2NvcmUvdmlldy9CYXNlVmlldy50cyIsInNyYy9jb3JlL3ZpZXcvQnVzeUluZGljYXRvci50cyIsInNyYy9jb3JlL3ZpZXcvRGlyZWN0b3IudHMiLCJzcmMvY29yZS92aWV3L1RvYXN0LnRzIiwic3JjL2dhbWUvQkdDb2xvci50cyIsInNyYy9nYW1lL0JhbGwudHMiLCJzcmMvZ2FtZS9CYWxsTW92ZXIudHMiLCJzcmMvZ2FtZS9GaXJlQmFsbFByb2MudHMiLCJzcmMvZ2FtZS9GbG9vci50cyIsInNyYy9nYW1lL0Zsb29yRmluaXNoLnRzIiwic3JjL2dhbWUvRmxvb3JQYXJ0LnRzIiwic3JjL2dhbWUvR2FtZS50cyIsInNyYy9nYW1lL0dhbWVTdGF0cy50cyIsInNyYy9nYW1lL1BhaW50RG90LnRzIiwic3JjL2dhbWUvU2tpbi50cyIsInNyYy9nYW1lL1NvdW5kLnRzIiwic3JjL2dhbWUvU3RhY2tTZXR0aW5nLnRzIiwic3JjL2dhbWUvU3RhY2tUb3dlci50cyIsInNyYy9nYW1lL1VJQ2VudGVyLnRzIiwic3JjL3BsYXRmb3JtL0FkdmVydGlzZS50cyIsInNyYy9wbGF0Zm9ybS9CYXNlUGxhdGZvcm0udHMiLCJzcmMvcGxhdGZvcm0vRkJQbGF0Zm9ybS50cyIsInNyYy9wbGF0Zm9ybS9MZWFkZXJCb2FyZC50cyIsInNyYy9wbGF0Zm9ybS9QbGF0Zm9ybUZhY3RvcnkudHMiLCJzcmMvcGxhdGZvcm0vUGxheWVyVk8udHMiLCJzcmMvcGxhdGZvcm0vUmFua1ZPLnRzIiwic3JjL3BsYXRmb3JtL1JlbW90ZURhdGEudHMiLCJzcmMvc2NyaXB0L0J1dHRvblNjcmlwdC50cyIsInNyYy9zY3JpcHQvQ2lyY2xlUHJvZ3Jlc3NTY3JpcHQudHMiLCJzcmMvc2NyaXB0L0Z1bGxTY3JlZW5TY3JpcHQudHMiLCJzcmMvc2NyaXB0L1JvdGF0ZVNjcmlwdC50cyIsInNyYy9zaGFyZS9TaGFyZUNoYWxsZW5nZVJlc3VsdFVJLnRzIiwic3JjL3NoYXJlL1NoYXJlQ2hhbGxlbmdlVUkudHMiLCJzcmMvc2hhcmUvU2hhcmVHYW1lVUkudHMiLCJzcmMvc2hhcmUvU2hhcmVIZWxwZXIudHMiLCJzcmMvc2hhcmUvU2hhcmVOZXdSZWNvcmVkVUkudHMiLCJzcmMvdWkvbGF5YU1heFVJLnRzIiwic3JjL3ZpZXcvR2FtZU92ZXJVSS50cyIsInNyYy92aWV3L0dhbWVVSS50cyIsInNyYy92aWV3L0dhbWVXaW5VSS50cyIsInNyYy92aWV3L01lbnVVSS50cyIsInNyYy92aWV3L1JhbmtJdGVtUmVuZGVyLnRzIiwic3JjL3ZpZXcvUmFua1VJLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ3JsR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ2hvSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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Q0FBQyxDQUFDLEVBQUMsS0FBSyxDQUFDLENBQUMsRUFBQyxLQUFLLENBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3RFLENBQUM7SUFDRCxVQUFVLEVBQUUsSUFBSTtJQUNoQixZQUFZLEVBQUUsSUFBSTtDQUNsQixDQUFDLENBQUM7QUFFSCxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsR0FBRyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtBQUMzQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzdDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7QUFDOUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEdBQUcsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7QUFDOUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7QUFDaEQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQTtBQUM5QyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtBQUM3QyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsR0FBRyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMs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RSxHQUFHLENBQUM7UUFDekIsSUFBSSxFQUFFLElBQUksQ0FBQyxPQUFPLEVBQUU7UUFDcEIsSUFBSSxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUU7UUFDckIsSUFBSSxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUU7UUFDdkIsSUFBSSxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUU7UUFDdkIsSUFBSSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzNDLEdBQUcsRUFBRSxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUMsS0FBSztLQUNqQyxDQUFDO0lBQ0YsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQztRQUFFLEdBQUcsR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFDM0csS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ2QsSUFBSSxJQUFJLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7WUFBRSxHQUFHLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMs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QUMsQ0FBQSxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsRUFBRSxDQUFBLENBQUMsQ0FBQSxJQUFJLGFBQUssRUFBRSxDQUFDO1FBQ25FLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdCLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRXpCLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ1osQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUE7UUFDM0IsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxFQUFFLEdBQUcsR0FBRyxDQUFDO1FBQ25DLElBQUksRUFBRSxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQzdCLEVBQUUsQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxVQUFVLEdBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDO2FBQzlGLFFBQVEsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUE7UUFDNUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUU7WUFDN0IsS0FBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1lBQ2xCLENBQUMsQ0FBQyxVQUFVLEVB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QUksQ0FBQyxDQUFDOzRCQUM3QyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxXQUFXLEVBQUMsVUFBQSxDQUFDLElBQUUsT0FBQSxLQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBQyxDQUFDLENBQUMsRUFBdkIsQ0FBdUIsQ0FBQyxDQUFBOzRCQUNwRCxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUMsVUFBQSxDQUFDLElBQUUsT0FBQSxLQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBQyxDQUFDLENBQUMsRUFBdkIsQ0FBdUIsQ0FBQyxDQUFBO3lCQUNsRDt3QkFFRCxJQUFHLE9BQU8sSUFBSSxPQUFPLENBQUMsTUFBTSxHQUFDLENBQUMsRUFBQzs0QkFDOUIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLDJCQUFlLENBQUMsT0FBTyxFQUFDLElBQUksQ0FBQyxDQUFDOzRCQUM5QyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxXQUFXLEVBQUMsVUFBQSxDQUFDLElBQUUsT0FBQSxLQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBQyxDQUFDLENBQUMsRUFBdkIsQ0FBdUIsQ0FBQyxDQUFBOzRCQUNwRCxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUMsVUFBQSxDQUFDLElBQUUsT0FBQSxLQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBQyxDQUFDLENBQUMsRUFBdkIsQ0FBdUIsQ0FBQyxDQUFBO3lCQUNsRDt3QkFFRCxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDO3dCQUNwRCxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFDO3dCQUNsRCxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxDQUFDO3dCQUNwRCxJQUFJLENBQUMsVUFBVSxD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LE9BQU8sRUFBQyxHQUFHLEVBQUMsUUFBUSxFQUFDLEdBQUcsRUFBQyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLEtBQUssRUFBQyxRQUFRLEVBQUMsS0FBSyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsZ0JBQWdCLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLFVBQVUsRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLFNBQVMsRUFBQyxNQUFNLEVBQUMsSUFBSSxFQUFDLFNBQVMsRUFBQyxHQUFHLEVBQUMsU0FBUyxFQUFDLEdBQUcsRUFBQyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEtBQUssRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLE1BQU0sRUFBQyxVQUFVLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxTQUFTLEVBQUMsTUFBTSxFQUFDLElBQUksRUFBQyxTQUFTLEVBQUMsR0FBRyxFQUFDLFNBQVMsRUFBQyxHQUFHLEVBQUMsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQyxPQUFPLEVBQUMsR0FBRyxFQUFDLEtBQUssRUFBQyxVQUFVLEVBQUMsTUFBTSxFQUFDLGdCQUFnQixFQUFDLFFBQVEsRUFBQyxHQUFHLEVBQUMsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFDLE9BQU8sRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxPQUFPLEVBQUMsRUFBQyxPQUFPLEVBQUMsR0FBRyxFQUFDLE1BQU0sRUFBQyxpQ0FBaUMsRUFBQyxZQUFZLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxHQUFHLEVBQUMsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsVUFBVSxFQUFDLENBQUMsZ0JBQWdCLEVBQUMsaUNBQWlDLENBQUMsRUFBQyxZQUFZLEVBQUMsRUFBRSxFQUFDLENBQUM7WUFNbDFCLHVCQUFDO1NBVkQsQUFVQyxDQVZxQyxLQUFLLEdBVTFDO1FBVlksc0JBQWdCLG1CQVU1QixDQUFBO1FBQ0QsR0FBRyxDQUFDLDJCQUEyQixFQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDbEQ7WUFBNEMsa0RBQUs7WUFPN0M7dUJBQWUsaUJBQU87WUFBQSxDQUFDO1lBQ3ZCLCtDQUFjLEdBQWQ7Z0JBQ0ksaUJBQU0sY0FBYyxXQUFFLENBQUM7Z0JBQ3ZCLElBQUksQ0FBQyxVQUFVLENBQUMsc0JBQXNCLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDbkQsQ0FBQztZQUxjLDZCQUFNLEdBQU0sRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLE9BQU8sRUFBQyxHQUFHLEVBQUMsUUFBUSxFQUFDLEdBQUcsRUFBQyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxLQUFLLEVBQUMsUUFBUSxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLGdCQUFnQixFQUFDLE9BQU8sRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLENBQUMsRUFBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsS0FBSyxFQUFDLGdCQUFnQixFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsVUFBVSxFQUFDLEVBQUUsRUFBQyxPQUFPLEVBQUMsU0FBUyxFQUFDLE1BQU0sRUFBQyxJQUFJLEVBQUMsU0FBUyxFQUFDLEdBQUcsRUFBQyxTQUFTLEVBQUMsR0FBRyxFQUFDLEVBQUMsUUFBUSxFQUFDLENBQUMsRUFBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsT0FBTyxFQUFDLEdBQUcsRUFBQyxLQUFLLEVBQUMsZUFBZSxFQUFDLE1BQU0sRUFBQyxnQkFBZ0IsRUFBQyxRQUFRLEVBQUMsR0FBRyxFQUFDLFNBQVMsRUFBQyxHQUFHLEVBQUMsU0FBUyxFQUFDLEdBQUcsRUFBQyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLE9BQU8sRUFBQyxHQUFHLEVBQUMsTUFBTSxFQUFDLGlDQUFpQyxFQUFDLFlBQVksRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLEdBQUcsRUFBQyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxLQUFLLEVBQUMsaUJBQWlCLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxVQUFVLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxTQUFTLEVBQUMsTUFBTSxFQUFDLElBQUksRUFBQyxTQUFTLEVBQUMsR0FBRyxFQUFDLFNBQVMsRUFBQyxHQUFHLEVBQUMs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T0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQyxLQUFLLEVBQUMsUUFBUSxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLGdCQUFnQixFQUFDLE9BQU8sRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLENBQUMsRUFBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsTUFBTSxFQUFDLFlBQVksRUFBQyxVQUFVLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxTQUFTLEVBQUMsTUFBTSxFQUFDLElBQUksRUFBQyxTQUFTLEVBQUMsR0FBRyxFQUFDLFNBQVMsRUFBQyxHQUFHLEVBQUMsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxLQUFLLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBQyxNQUFNLEVBQUMsVUFBVSxFQUFDLEVBQUUsRUFBQyxPQUFPLEVBQUMsU0FBUyxFQUFDLE1BQU0sRUFBQyxJQUFJLEVBQUMsU0FBUyxFQUFDLEdBQUcsRUFBQyxTQUFTLEVBQUMsR0FBRyxFQUFDLEVBQUMsUUFBUSxFQUFDLENBQUMsRUFBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsRUFBRSxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsT0FBTyxFQUFDLEdBQUcsRUFBQyxLQUFLLEVBQUMsVUFBVSxFQUFDLE1BQU0sRUFBQyxnQkFBZ0IsRUFBQyxRQUFRLEVBQUMsR0FBRyxFQUFDLEVBQUMsUUFBUSxFQUFDLENBQUMsRUFBQyxPQUFPLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsT0FBTyxFQUFDLEVBQUMsT0FBTyxFQUFDLEdBQUcsRUFBQyxNQUFNLEVBQUMsaUNBQWlDLEVBQUMsWUFBWSxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUMsR0FBRyxFQUFDLEVBQUMsUUFBUSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLFVBQVUsRUFBQyxDQUFDLGdCQUFnQixFQUFDLGlDQUFpQyxDQUFDLEVBQUMsWUFBWSxFQUFDLEVBQUUsRUFBQyxDQUFDO1lBTXQyQix1QkFBQztTQVZELEFBVUMsQ0FWcUMsS0FBSyxHQVUxQztRQVZZLHNCQUFnQixtQkFVNUIsQ0FBQTtRQUNELEdBQUcsQ0FBQywyQkFBMkIsRUFBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ3RELENBQUMsRUFqRGdCLEtBQUssR0FBTCxRQUFLLEtBQUwsUUFBSyxRQWlEckI7QUFBRCxDQUFDLEVBakRhLEVBQUUsR0FBRixVQUFFLEtBQUYsVUFBRSxRQWlEZjtBQUNELFdBQWMsRUFBRTtJQUFDLElBQUEsSUFBSSxDQWdHcEI7SUFoR2dCLFdBQUEsSUFBSTtRQUNqQjtZQUE0QixrQ0FBSztZQVk3Qjt1QkFBZSxpQkFBTztZQUFBLENBQUM7WUFDdkIsK0JBQWMsR0FBZDtnQkFDSSxpQkFBTSxjQUFjLFdBQUUsQ0FBQztnQkFDdkIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDbkMsQ0FBQztZQUxjLGFBQU0sR0FBTSxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsT0FBTyxFQUFDLEVBQUMsT0FBTyxFQUFDLEdBQUcsRUFBQyxRQUFRLEVBQUMsSUFBSSxFQUFDLEVBQUMsUUFBUSxFQUFDLENBQUMsRUFBQyxPQUFPLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxLQUFLLEVBQUMsWUFBWSxFQUFDLE1BQU0sRUFBQyxLQUFLLEVBQUMsV0FBVyxFQUFDLGdCQUFnQixFQUFDLFVBQVUsRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLEdBQUcsRUFBQyxTQUFTLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxJQUFJLEVBQUMsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsS0FBSyxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLEdBQUcsRUFBQyxLQUFLLEVBQUMsVUFBVSxFQUFDLFNBQVMsRUFBQyxDQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLEtBQUssRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsRUFBRSxFQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxPQUFPLEVBQUMsRUFBQyxLQUFLLEVBQUMsZUFBZSxFQUFDLE1BQU0sRUFBQywwQkFBMEIsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsT0FBTyxFQUFDLEVBQUMsS0FBSyxFQUFDLFVBQVUsRUFBQyxNQUFNLEVBQUMsb0JBQW9CLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsS0FBSyxFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsdUJBQXVCLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxLQUFLLEVBQUMsWUFBWSxFQUFDLFNBQVMsRUFBQyx1QkFBdUIsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQyxHQUFHLEVBQUMsRUFBRSxFQUFDLEtBQUssRUFBQyxjQUFjLEVBQUMsUUFBUSxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsS0FBSyxFQUFDLFdBQVcsRUFBQyxnQkFBZ0IsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLFVBQVUsRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLFNBQVMsRUFBQyxTQUFTLEVBQUMsR0FBRyxFQUFDLFNBQVMsRUFBQyxHQUFHLEVBQUMsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxLQUFLLEVBQUMsZUFBZSxFQUFDLFFBQVEsRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLEtBQUssRUFBQyxXQUFXLEVBQUMsZ0JBQWdCLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxVQUFVLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxTQUFTLEVBQUMsU0FBUyxFQUFDLEdBQUcsRUFBQyxTQUFTLEVBQUMsR0FBRyxFQUFDLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxLQUFLLEVBQUMsT0FBTyxFQUFDLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxLQUFLLEVBQUMsYUFBYSxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsU0FBUyxFQUFDLEdBQUcsRUFBQyxTQUFTLEVBQUMsQ0FBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxPQUFPLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQywyQkFB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QyxRQUFRLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUMsV0FBVyxFQUFDLGdCQUFnQixFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsVUFBVSxFQUFDLEVBQUUsRUFBQyxPQUFPLEVBQUMsU0FBUyxFQUFDLFNBQVMsRUFBQyxDQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsRUFBRSxFQUFDLEtBQUssRUFBQyxhQUFhLEVBQUMsTUFBTSxFQUFDLEtBQUssRUFBQyxXQUFXLEVBQUMsZ0JBQWdCLEVBQUMsVUFBVSxFQUFDLEVBQUUsRUFBQyxPQUFPLEVBQUMsU0FBUyxFQUFDLFNBQVMsRUFBQyxDQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLE1BQU0sRUFBQyxNQUFNLEVBQUMsV0FBVyxFQUFDLGdCQUFnQixFQUFDLE1BQU0sRUFBQyxNQUFNLEVBQUMsVUFBVSxFQUFDLEVBQUUsRUFBQyxPQUFPLEVBQUMsU0FBUyxFQUFDLFNBQVMsRUFBQyxDQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFDLE9BQU8sRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsRUFBRSxFQUFDLEtBQUssRUFBQyxXQUFXLEVBQUMsTUFBTSxFQUFDLE1BQU0sRUFBQyxXQUFXLEVBQUMsZ0JBQWdCLEVBQUMsVUFBVSxFQUFDLEVBQUUsRUFBQyxPQUFPLEVBQUMsU0FBUyxFQUFDLFNBQVMsRUFBQyxDQUFDLENBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLEtBQUssRUFBQyxjQUFjLEVBQUMsTUFBTSxFQUFDLGVBQWUsRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLGFBQWEsRUFBQyxTQUFTLEVBQUMsT0FBTyxFQUFDLGtCQUFrQixFQUFDLFVBQVUsRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLFNBQVMsRUFBQyxTQUFTLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBQyxHQUFHLEVBQUMsTUFBTSxFQUFDLElBQUksRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxFQUFDLFNBQVMsRUFBQyx3QkFBd0IsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsS0FBSyxFQUFDLGFBQWEsRUFBQyxNQUFNLEVBQUMsYUFBYSxFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsYUFBYSxFQUFDLFNBQVMsRUFBQyxPQUFPLEVBQUMsa0JBQWtCLEVBQUMsVUFBVSxFQUFDLEVBQUUsRUFBQyxPQUFPLEVBQUMsU0FBUyxFQUFDLFNBQVMsRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFDLEdBQUcsRUFBQyxNQUFNLEVBQUMsSUFBSSxFQUFDLEVBQUMsUUFBUSxFQUFDLENBQUMsRUFBQyxPQUFPLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLEVBQUMsU0FBUyxFQUFDLHdCQUF3QixFQUFDLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsS0FBSyxFQUFDLE9BQU8sRUFBQyxFQUFDLEtBQUssRUFBQyxlQUFlLEVBQUMsS0FBSyxFQUFDLENBQUMsRUFBQyxPQUFPLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxPQUFPLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxLQUFLLEVBQUMsT0FBTyxFQUFDLEVBQUMsS0FBSyxFQUFDLFlBQVksRUFBQyxTQUFTLEVBQUMsQ0FBQyxFQUFDLFNBQVMsRUFBQyxDQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLG1CQUFtQixFQUFDLE1BQU0sRUFBQyxLQUFLLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQyxTQUFTLEVBQUMsa0JBQWtCLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxFQUFDLFNBQVMsRUFBQyxnQ0FBZ0MsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLEVBQUMsU0FBUyxFQUFDLHdCQUF3QixFQUFDLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsRUFBRSxFQUFDLEtBQUssRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLGdCQUFnQixFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsYUFBYSxFQUFDLFNBQVMsRUFBQyxPQUFPLEVBQUMsVUFBVSxFQUFDLFVBQVUsRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLFNBQVMsRUFBQyxTQUFTLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBQyxHQUFHLEVBQUMsTUFBTSxFQUFDLElBQUksRUFBQyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUUsRUFBQyxHQUFHLEVBQUMsRUFBRSxFQUFDLEtBQUssRUFBQyxZQUFZLEVBQUMsTUFBTSxFQUFDLEtBQUssRUFBQyxXQUFXLEVBQUMsZ0JBQWdCLEVBQUMsVUFBVSxFQUFDLEVBQUUsRUFBQyxPQUFPLEVBQUMsU0FBUyxFQUFDLFNBQVMsRUFBQyxDQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxFQUFDLFNBQVMsRUFBQyx3QkFBd0IsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLEtBQUssRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLFdBQVcsRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLGFBQWEsRUFBQyxTQUFTLEVBQUMsT0FBTyxFQUFDLFdBQVcsRUFBQyxVQUFVLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxTQUFTLEVBQUMsU0FBUyxFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUMsR0FBRyxFQUFDLEVBQUMsUUFBUSxFQUFDLENBQUMsRUFBQyxPQUFPLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLEVBQUMsU0FBUyxFQUFDLHdCQUF3QixFQUFDLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxVQUFVLEVBQUMsQ0FBQyxn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QUFDLEdBQUcsRUFBQyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxLQUFLLEVBQUMsT0FBTyxFQUFDLEVBQUMsS0FBSyxFQUFDLFNBQVMsRUFBQyxTQUFTLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLEtBQUssRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsQ0FBQyxDQUFDLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxPQUFPLEVBQUMsRUFBRSxFQUFDLFFBQVEsRUFBQyxHQUFHLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLEtBQUssRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsQ0FBQyxHQUFHLEVBQUMsT0FBTyxFQUFDLEdBQUcsRUFBQyxLQUFLLEVBQUMsWUFBWSxFQUFDLFFBQVEsRUFBQyxHQUFHLEVBQUMsU0FBUyxFQUFDLENBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUMscUJBQXFCLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUUsRUFBQyxVQUFVLEVBQUMsYUFBYSxFQUFDLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsRUFBQyxLQUFLLEVBQUMsVUFBVSxFQUFDLFVBQVUsRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLG1CQUFtQixFQUFDLFNBQVMsRUFBQyxDQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsRUFBQyxTQUFTLEVBQUMsd0JBQXdCLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEtBQUssRUFBQyxhQUFhLEVBQUMsVUFBVSxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsc0JBQXNCLEVBQUMsU0FBUyxFQUFDLENBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxFQUFDLFNBQVMsRUFBQyx3QkFBd0IsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsS0FBSyxFQUFDLGFBQWEsRUFBQyxVQUFVLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxzQkFBc0IsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxFQUFDLFNBQVMsRUFBQyx3QkFBd0IsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEtBQUssRUFBQyxVQUFVLEVBQUMsVUFBVSxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsbUJBQW1CLEVBQUMsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFDLE9BQU8sRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsRUFBQyxTQUFTLEVBQUMs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S0FBSyxFQUFDLFFBQVEsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLFNBQVMsRUFBQyxDQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFDLE9BQU8sRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsU0FBUyxFQUFDLHFCQUFxQixFQUFDLEVBQUMsUUFBUSxFQUFDLENBQUMsRUFBQyxPQUFPLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLFNBQVMsRUFBQyxxQkFBcUIsRUFBQyxRQUFRLEVBQUMsQ0FBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxLQUFLLEVBQUMsVUFBVSxFQUFDLFNBQVMsRUFBQyxtQkFBbUIsRUFBQyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxFQUFDLFNBQVMsRUFBQyx3QkFBd0IsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsS0FBSyxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxPQUFPLEVBQUMsR0FBRyxFQUFDLEtBQUssRUFBQyxXQUFXLEVBQUMsY0FBYyxFQUFDLElBQUksRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxPQUFPLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxTQUFTLEVBQUMsbUJBQW1CLEVBQUMsUUFBUSxFQUFDLENBQUMsQ0FBQyxFQUFDLGNBQWMsRUFBQyxLQUFLLEVBQUMsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxFQUFDLFNBQVMsRUFBQyx3QkFBd0IsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxPQUFPLEVBQUMsR0FBRyxFQUFDLEtBQUssRUFBQyxVQUFVLEVBQUMsUUFBUSxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsU0FBUyxFQUFDLGNBQWMsRUFBQyxLQUFLLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxVQUFVLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyxJQUFJLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLE9BQU8sRUFBQyxHQUFHLEVBQUMsS0FBSyxFQUFDLFdBQVcsRUFBQyxRQUFRLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUMsY0FBYyxFQUFDLEtBQUssRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLFVBQVUsRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFDLElBQUksRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsRUFBRSxFQUFDLEtBQUssRUFBQyxhQUFhLEVBQUMsS0FBSyxFQUFDLEdBQUcsRUFBQyxPQUFPLEVBQUMsRUFBRSxFQUFDLFNBQVMsRUFBQyxDQUFDLEVBQUMsU0FBUyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsRUFBRSxFQUFDLFFBQVEsRUFBQyxHQUFHLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLEtBQUssRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLE9BQU8sRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyx1QkFBdUIsRUFBQyxPQUFPLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUMsVUFBVSxFQUFDLGFBQWEsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxPQUFPLEVBQUMsRUFBRSxFQUFDLFFBQVEsRUFBQyxRQUFRLEVBQUMsS0FBSyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsR0FBRyxFQUFDLE1BQU0sRUFBQyxVQUFVLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxVQUFVLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxTQUFTLEVBQUMsUUFBUSxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsSUFBSSxFQUFDLE9BQU8sRUFBQyxRQUFRLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUMsMkJBQTJCLEVBQUMsTUFBTSxFQUFDLFVBQVUsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLFNBQVMsRUFBQyxDQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLE9BQU8sRUFBQyxFQUFFLEVBQUMsTUFBTSxFQUFDLDJCQUEyQixFQUFDLFlBQVksRUFBQyxNQUFNLEVBQUMsTUFBTSxFQUFDLGVBQWUsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLFNBQVMsRUFBQyxDQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLFVBQVUsRUFBQyxJQUFJLEVBQUMsT0FBTyxFQUFDLEdBQUcsRUFBQyxRQUFRLEVBQUMsUUFBUSxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxNQUFNLEVBQUMsVUFBVSxFQUFDLFVBQVUsRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLFNBQVMsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFDLE9BQU8sRUFBQyxNQUFNLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsT0FBTyxFQUFDLEdBQUcsRUFBQyxRQUFRLEVBQUMsUUFBUSxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxNQUFNLEVBQUMsV0FBVyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsVUFBVSxFQUFDLEVBQUUsRUFBQyxPQUFPLEVBQUMsU0FBUyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMseUJBQXlCLEVBQUMsT0FBTyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUMsWUFBWSxFQUFDLFNBQVMsRUFBQyxDQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsRUFBQyxTQUFTLEVBQUMsd0JBQXdCLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsRUFBQyxTQUFTLEVBQUMsd0JBQXdCLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLFlBQVksRUFBQyxPQUFPLEVBQUMsRUFBQyxTQUFTLEVBQUMsS0FBSyxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLGtCQUFrQixFQUFDLE9BQU8sRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLFdBQVcsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFDLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLEVBQUMsS0FBSyxFQUFDLGNBQWMsRUFBQyxLQUFLLEVBQUMsR0FBRyxFQUFDLE9BQU8sRUFBQyxFQUFFLEVBQUMsU0FBUyxFQUFDLENBQUMsRUFBQyxTQUFTLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxFQUFFLEVBQUMsUUFBUSxFQUFDLEdBQUcsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsS0FBSyxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLHVCQUF1QixFQUFDLE9BQU8sRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLENBQUMsRUFBQyxVQUFVLEVBQUMsYUFBYSxFQUFDLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLE9BQU8sRUFBQyxFQUFFLEVBQUMsUUFBUSxFQUFDLFFBQVEsRUFBQyxLQUFLLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxHQUFHLEVBQUMsTUFBTSxFQUFDLFVBQVUsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLFVBQVUsRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLFNBQVMsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxJQUFJLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQyxPQUFPLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQywyQkFBMkIsRUFBQyxNQUFNLEVBQUMsVUFBVSxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsU0FBUyxFQUFDLENBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsT0FBTyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUMsMkJBQTJCLEVBQUMsWUFBWSxFQUFDLE1BQU0sRUFBQyxNQUFNLEVBQUMsZUFBZSxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsU0FBUyxFQUFDLENBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsVUFBVSxFQUFDLElBQUksRUFBQyxPQUFPLEVBQUMsR0FBRyxFQUFDLFFBQVEsRUFBQyxRQUFRLEVBQUMsS0FBSyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE1BQU0sRUFBQyxVQUFVLEVBQUMsVUFBVSxFQUFDLEVBQUUsRUFBQyxPQUFPLEVBQUMsU0FBUyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsT0FBTyxFQUFDLE1BQU0sRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxPQUFPLEVBQUMsR0FBRyxFQUFDLFFBQVEsRUFBQyxRQUFRLEVBQUMsS0FBSyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE1BQU0sRUFBQyxXQUFXLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxVQUFVLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxTQUFTLEVBQUMsUUFBUSxFQUFDLENBQUMsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyx5QkFBeUIsRUFBQyxPQUFPLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyxZQUFZLEVBQUMsU0FBUyxFQUFDLENBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxFQUFDLFNBQVMsRUFBQyx3QkFBd0IsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxFQUFDLFNBQVMsRUFBQyx3QkFBd0IsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsWUFBWSxFQUFDLE9BQU8sRUFBQyxFQUFDLFNBQVMsRUFBQyxLQUFLLEVBQUMsS0FBSyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsa0JBQWtCLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsV0FBVyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxPQUFPLEVBQUMsRUFBQyxLQUFLLEVBQUMsWUFBWSxFQUFDLE1BQU0sRUFBQyxxQkFBcUIsRUFBQyxPQUFPLEVBQUMsT0FBTyxFQUFDLFNBQVMsRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQyxTQUFTLEVBQUMsc0JBQXNCLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLE9BQU8sRUFBQyxHQUFHLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLFVBQVUsRUFBQyxFQUFFLEVBQUMsU0FBUyxFQUFDLENBQUMsRUFBQyxTQUFTLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyxJQUFJLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLEVBQUMsU0FBUyxFQUFDLHdCQUF3QixFQUFDLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxLQUFLLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQyxPQUFPLEVBQUMsR0FBRyxFQUFDLFNBQVMsRUFBQyxDQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxPQUFPLEVBQUMsRUFBQyxPQUFPLEVBQUMsR0FBRyxFQUFDLEtBQUssRUFBQyxVQUFVLEVBQUMsTUFBTSxFQUFDLDJCQUEyQixFQUFDLFFBQVEsRUFBQyxHQUFHLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsT0FBTyxFQUFDLEdBQUcsRUFBQyxNQUFNLEVBQUMsMkJBQTJCLEVBQUMsWUFBWSxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUMsR0FBRyxFQUFDLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxvQkFBb0IsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxLQUFLLEVBQUMsV0FBVyxFQUFDLE1BQU0sRUFBQywrQkFBK0IsRUFBQyxVQUFVLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxTQUFTLEVBQUMsU0FBUyxFQUFDLENBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsS0FBSyxFQUFDLFVBQVUsRUFBQyxNQUFNLEVBQUMsNEJBQTRCLEVBQUMsU0FBUyxFQUFDLENBQUMsRUFBQyxTQUFTLEVBQUMsR0FBRyxFQUFDLFNBQVMsRUFBQyxHQUFHLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsQ0FBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLENBQUMsR0FBRyxFQUFDLFNBQVMsRUFBQyx3QkFBd0IsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxVQUFVLEVBQUMsQ0FBQyxtQkFBbUIsRUFBQyxxQkFBcUIsRUFBQyxtQkFBbUIsRUFBQyx1QkFBdUIsRUFBQywyQkFBMkIsRUFBQyx5QkFBeUIsRUFBQyxrQkFBa0IsRUFBQyxxQkFBcUIsRUFBQyxzQkFBc0IsRUFBQyxvQkFBb0IsRUFBQyw0QkFBNEIsQ0FBQyxFQUFDLFlBQVksRUFBQyxFQUFFLEVBQUMsQ0FBQztZQU0zek0sYUFBQztTQW5CRCxBQW1CQyxDQW5CMkIsS0FBSyxHQW1CaEM7UUFuQlksV0FBTSxTQW1CbEIsQ0FBQTtRQUNELEdBQUcsQ0FBQyxnQkFBZ0IsRUFBQyxNQUFNLENBQUMsQ0FBQztRQUM3QjtZQUE4QixvQ0FBSztZQUUvQjt1QkFBZSxpQkFBTztZQUFBLENBQUM7WUFDdkIsaUNBQWMsR0FBZDtnQkFDSSxpQkFBTSxjQUFjLFdBQUUsQ0FBQztnQkFDdkIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDckMsQ0FBQztZQUxjLGVBQU0sR0FBTSxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsT0FBTyxFQUFDLEVBQUMsT0FBTyxFQUFDLEdBQUcsRUFBQyxRQUFRLEVBQUMsSUFBSSxFQUFDLEVBQUMsUUFBUSxFQUFDLENBQUMsRUFBQyxPQUFPLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLFNBQVMsRUFBQyx3QkFBd0IsRUFBQyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxFQUFDLFNBQVMsRUFBQyw0QkFBNEIsRUFBQyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxNQUFNLEVBQUMsNEJBQTRCLEVBQUMsU0FBUyxFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUMsR0FBRyxFQUFDLFNBQVMsRUFBQyxHQUFHLEVBQUMsU0FBUyxFQUFDLEdBQUcsRUFBQyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxFQUFDLFNBQVMsRUFBQyx3QkFBd0IsRUFBQyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxVQUFVLEVBQUMsQ0FBQyx3QkFBd0IsRUFBQyw0QkFBNEIsQ0FBQyxFQUFDLFlBQVksRUFBQyxFQUFFLEVBQUMsQ0FBQztZQU03a0IsZUFBQztTQVBELEFBT0MsQ0FQNkIsS0FBSyxHQU9sQztRQVBZLGFBQVEsV0FPcEIsQ0FBQTtRQUNELEdBQUcsQ0FBQyxrQkFBa0IsRUFBQyxRQUFRLENBQUMsQ0FBQztJQUNyQyxDQUFD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a0IsS0FBSyxHQUFHLFNBQTJDLENBQUM7d0JBQ3RFLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQzs7OzZCQUdqQixDQUFBLEtBQUssSUFBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQSxFQUFwQyx3QkFBb0M7d0JBQ25DLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQzt3QkFDaEIsS0FBQSxJQUFJLENBQUMsV0FBVyxDQUFBO3dCQUFTLHFCQUFNLFFBQVEsQ0FBQyxvQkFBb0IsRUFBRSxFQUFBOzt3QkFBOUQsR0FBaUIsS0FBSyxHQUFHLFNBQXFDLENBQUE7d0JBQzlELElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQzs7O3dCQUdoQixRQUFRLEdBQVUsS0FBSyxJQUFJLENBQUMsQ0FBQSxDQUFDLENBQUEsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUEsQ0FBQyxDQUFBLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFBO3dCQUNyRixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksR0FBRyxRQUFRLENBQUEsQ0FBQyxDQUFBLFFBQVEsQ0FBQyxLQUFLLENBQUEsQ0FBQyxDQUFBLFFBQVEsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDO3dCQUN2RSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxRQUFRLENBQUEsQ0FBQyxDQUFBLFFBQVEsQ0FBQyxJQUFJLENBQUEsQ0FBQyxDQUFBLFFBQVEsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDOzs7OztLQUN6RTtJQUNMLGFBQUM7QUFBRCxDQXpGQSxBQXlGQyxDQXpGMkIsY0FBRSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBeUZ6QztBQXpGWSx3QkFBTSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIvKiFcbiAqICBob3dsZXIuanMgdjIuMS4yXG4gKiAgaG93bGVyanMuY29tXG4gKlxuICogIChjKSAyMDEzLTIwMTksIEphbWVzIFNpbXBzb24gb2YgR29sZEZpcmUgU3R1ZGlvc1xuICogIGdvbGRmaXJlc3R1ZGlvcy5jb21cbiAqXG4gKiAgTUlUIExpY2Vuc2VcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKiBHbG9iYWwgTWV0aG9kcyAqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvKipcbiAgICogQ3JlYXRlIHRoZSBnbG9iYWwgY29udHJvbGxlci4gQWxsIGNvbnRhaW5lZCBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzIGFwcGx5XG4gICAqIHRvIGFsbCBzb3VuZHMgdGhhdCBhcmUgY3VycmVudGx5IHBsYXlpbmcgb3Igd2lsbCBiZSBpbiB0aGUgZnV0dXJlLlxuICAgKi9cbiAgdmFyIEhvd2xlckdsb2JhbCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW5pdCgpO1xuICB9O1xuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIGdsb2JhbCBIb3dsZXIgb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge0hvd2xlcn1cbiAgICAgKi9cbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIENyZWF0ZSBhIGdsb2JhbCBJRCBjb3VudGVyLlxuICAgICAgc2VsZi5fY291bnRlciA9IDEwMDA7XG5cbiAgICAgIC8vIFBvb2wgb2YgdW5sb2NrZWQgSFRNTDUgQXVkaW8gb2JqZWN0cy5cbiAgICAgIHNlbGYuX2h0bWw1QXVkaW9Qb29sID0gW107XG4gICAgICBzZWxmLmh0bWw1UG9vbFNpemUgPSAxMDtcblxuICAgICAgLy8gSW50ZXJuYWwgcHJvcGVydGllcy5cbiAgICAgIHNlbGYuX2NvZGVjcyA9IHt9O1xuICAgICAgc2VsZi5faG93bHMgPSBbXTtcbiAgICAgIHNlbGYuX211dGVkID0gZmFsc2U7XG4gICAgICBzZWxmLl92b2x1bWUgPSAxO1xuICAgICAgc2VsZi5fY2FuUGxheUV2ZW50ID0gJ2NhbnBsYXl0aHJvdWdoJztcbiAgICAgIHNlbGYuX25hdmlnYXRvciA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cubmF2aWdhdG9yKSA/IHdpbmRvdy5uYXZpZ2F0b3IgOiBudWxsO1xuXG4gICAgICAvLyBQdWJsaWMgcHJvcGVydGllcy5cbiAgICAgIHNlbGYubWFzdGVyR2FpbiA9IG51bGw7XG4gICAgICBzZWxmLm5vQXVkaW8gPSBmYWxzZTtcbiAgICAgIHNlbGYudXNpbmdXZWJBdWRpbyA9IHRydWU7XG4gICAgICBzZWxmLmF1dG9TdXNwZW5kID0gdHJ1ZTtcbiAgICAgIHNlbGYuY3R4ID0gbnVsbDtcblxuICAgICAgLy8gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgdGhlIGF1dG8gYXVkaW8gdW5sb2NrZXIuXG4gICAgICBzZWxmLmF1dG9VbmxvY2sgPSB0cnVlO1xuXG4gICAgICAvLyBTZXR1cCB0aGUgdmFyaW91cyBzdGF0ZSB2YWx1ZXMgZm9yIGdsb2JhbCB0cmFja2luZy5cbiAgICAgIHNlbGYuX3NldHVwKCk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQvc2V0IHRoZSBnbG9iYWwgdm9sdW1lIGZvciBhbGwgc291bmRzLlxuICAgICAqIEBwYXJhbSAge0Zsb2F0fSB2b2wgVm9sdW1lIGZyb20gMC4wIHRvIDEuMC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXIvRmxvYXR9ICAgICBSZXR1cm5zIHNlbGYgb3IgY3VycmVudCB2b2x1bWUuXG4gICAgICovXG4gICAgdm9sdW1lOiBmdW5jdGlvbih2b2wpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG4gICAgICB2b2wgPSBwYXJzZUZsb2F0KHZvbCk7XG5cbiAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW4gQXVkaW9Db250ZXh0IGNyZWF0ZWQgeWV0LCBydW4gdGhlIHNldHVwLlxuICAgICAgaWYgKCFzZWxmLmN0eCkge1xuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHZvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgdm9sID49IDAgJiYgdm9sIDw9IDEpIHtcbiAgICAgICAgc2VsZi5fdm9sdW1lID0gdm9sO1xuXG4gICAgICAgIC8vIERvbid0IHVwZGF0ZSBhbnkgb2YgdGhlIG5vZGVzIGlmIHdlIGFyZSBtdXRlZC5cbiAgICAgICAgaWYgKHNlbGYuX211dGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXaGVuIHVzaW5nIFdlYiBBdWRpbywgd2UganVzdCBuZWVkIHRvIGFkanVzdCB0aGUgbWFzdGVyIGdhaW4uXG4gICAgICAgIGlmIChzZWxmLnVzaW5nV2ViQXVkaW8pIHtcbiAgICAgICAgICBzZWxmLm1hc3RlckdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZSh2b2wsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFuZCBjaGFuZ2Ugdm9sdW1lIGZvciBhbGwgSFRNTDUgYXVkaW8gbm9kZXMuXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9ob3dscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICghc2VsZi5faG93bHNbaV0uX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgICAvLyBHZXQgYWxsIG9mIHRoZSBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAgICAgICAgdmFyIGlkcyA9IHNlbGYuX2hvd2xzW2ldLl9nZXRTb3VuZElkcygpO1xuXG4gICAgICAgICAgICAvLyBMb29wIHRocm91Z2ggYWxsIHNvdW5kcyBhbmQgY2hhbmdlIHRoZSB2b2x1bWVzLlxuICAgICAgICAgICAgZm9yICh2YXIgaj0wOyBqPGlkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9ob3dsc1tpXS5fc291bmRCeUlkKGlkc1tqXSk7XG5cbiAgICAgICAgICAgICAgaWYgKHNvdW5kICYmIHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICAgICAgc291bmQuX25vZGUudm9sdW1lID0gc291bmQuX3ZvbHVtZSAqIHZvbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZi5fdm9sdW1lO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgbXV0aW5nIGFuZCB1bm11dGluZyBnbG9iYWxseS5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBtdXRlZCBJcyBtdXRlZCBvciBub3QuXG4gICAgICovXG4gICAgbXV0ZTogZnVuY3Rpb24obXV0ZWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW4gQXVkaW9Db250ZXh0IGNyZWF0ZWQgeWV0LCBydW4gdGhlIHNldHVwLlxuICAgICAgaWYgKCFzZWxmLmN0eCkge1xuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfVxuXG4gICAgICBzZWxmLl9tdXRlZCA9IG11dGVkO1xuXG4gICAgICAvLyBXaXRoIFdlYiBBdWRpbywgd2UganVzdCBuZWVkIHRvIG11dGUgdGhlIG1hc3RlciBnYWluLlxuICAgICAgaWYgKHNlbGYudXNpbmdXZWJBdWRpbykge1xuICAgICAgICBzZWxmLm1hc3RlckdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZShtdXRlZCA/IDAgOiBzZWxmLl92b2x1bWUsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgfVxuXG4gICAgICAvLyBMb29wIHRocm91Z2ggYW5kIG11dGUgYWxsIEhUTUw1IEF1ZGlvIG5vZGVzLlxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghc2VsZi5faG93bHNbaV0uX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgLy8gR2V0IGFsbCBvZiB0aGUgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cbiAgICAgICAgICB2YXIgaWRzID0gc2VsZi5faG93bHNbaV0uX2dldFNvdW5kSWRzKCk7XG5cbiAgICAgICAgICAvLyBMb29wIHRocm91Z2ggYWxsIHNvdW5kcyBhbmQgbWFyayB0aGUgYXVkaW8gbm9kZSBhcyBtdXRlZC5cbiAgICAgICAgICBmb3IgKHZhciBqPTA7IGo8aWRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9ob3dsc1tpXS5fc291bmRCeUlkKGlkc1tqXSk7XG5cbiAgICAgICAgICAgIGlmIChzb3VuZCAmJiBzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5tdXRlZCA9IChtdXRlZCkgPyB0cnVlIDogc291bmQuX211dGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVW5sb2FkIGFuZCBkZXN0cm95IGFsbCBjdXJyZW50bHkgbG9hZGVkIEhvd2wgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgdW5sb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIGZvciAodmFyIGk9c2VsZi5faG93bHMubGVuZ3RoLTE7IGk+PTA7IGktLSkge1xuICAgICAgICBzZWxmLl9ob3dsc1tpXS51bmxvYWQoKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ3JlYXRlIGEgbmV3IEF1ZGlvQ29udGV4dCB0byBtYWtlIHN1cmUgaXQgaXMgZnVsbHkgcmVzZXQuXG4gICAgICBpZiAoc2VsZi51c2luZ1dlYkF1ZGlvICYmIHNlbGYuY3R4ICYmIHR5cGVvZiBzZWxmLmN0eC5jbG9zZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc2VsZi5jdHguY2xvc2UoKTtcbiAgICAgICAgc2VsZi5jdHggPSBudWxsO1xuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgZm9yIGNvZGVjIHN1cHBvcnQgb2Ygc3BlY2lmaWMgZXh0ZW5zaW9uLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gZXh0IEF1ZGlvIGZpbGUgZXh0ZW50aW9uLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgY29kZWNzOiBmdW5jdGlvbihleHQpIHtcbiAgICAgIHJldHVybiAodGhpcyB8fCBIb3dsZXIpLl9jb2RlY3NbZXh0LnJlcGxhY2UoL154LS8sICcnKV07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHVwIHZhcmlvdXMgc3RhdGUgdmFsdWVzIGZvciBnbG9iYWwgdHJhY2tpbmcuXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIF9zZXR1cDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xuXG4gICAgICAvLyBLZWVwcyB0cmFjayBvZiB0aGUgc3VzcGVuZC9yZXN1bWUgc3RhdGUgb2YgdGhlIEF1ZGlvQ29udGV4dC5cbiAgICAgIHNlbGYuc3RhdGUgPSBzZWxmLmN0eCA/IHNlbGYuY3R4LnN0YXRlIHx8ICdzdXNwZW5kZWQnIDogJ3N1c3BlbmRlZCc7XG5cbiAgICAgIC8vIEF1dG9tYXRpY2FsbHkgYmVnaW4gdGhlIDMwLXNlY29uZCBzdXNwZW5kIHByb2Nlc3NcbiAgICAgIHNlbGYuX2F1dG9TdXNwZW5kKCk7XG5cbiAgICAgIC8vIENoZWNrIGlmIGF1ZGlvIGlzIGF2YWlsYWJsZS5cbiAgICAgIGlmICghc2VsZi51c2luZ1dlYkF1ZGlvKSB7XG4gICAgICAgIC8vIE5vIGF1ZGlvIGlzIGF2YWlsYWJsZSBvbiB0aGlzIHN5c3RlbSBpZiBub0F1ZGlvIGlzIHNldCB0byB0cnVlLlxuICAgICAgICBpZiAodHlwZW9mIEF1ZGlvICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgdGVzdCA9IG5ldyBBdWRpbygpO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgY2FucGxheXRocm91Z2ggZXZlbnQgaXMgYXZhaWxhYmxlLlxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZXN0Lm9uY2FucGxheXRocm91Z2ggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHNlbGYuX2NhblBsYXlFdmVudCA9ICdjYW5wbGF5JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIHNlbGYubm9BdWRpbyA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYubm9BdWRpbyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGVzdCB0byBtYWtlIHN1cmUgYXVkaW8gaXNuJ3QgZGlzYWJsZWQgaW4gSW50ZXJuZXQgRXhwbG9yZXIuXG4gICAgICB0cnkge1xuICAgICAgICB2YXIgdGVzdCA9IG5ldyBBdWRpbygpO1xuICAgICAgICBpZiAodGVzdC5tdXRlZCkge1xuICAgICAgICAgIHNlbGYubm9BdWRpbyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG5cbiAgICAgIC8vIENoZWNrIGZvciBzdXBwb3J0ZWQgY29kZWNzLlxuICAgICAgaWYgKCFzZWxmLm5vQXVkaW8pIHtcbiAgICAgICAgc2VsZi5fc2V0dXBDb2RlY3MoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGZvciBicm93c2VyIHN1cHBvcnQgZm9yIHZhcmlvdXMgY29kZWNzIGFuZCBjYWNoZSB0aGUgcmVzdWx0cy5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX3NldHVwQ29kZWNzOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG4gICAgICB2YXIgYXVkaW9UZXN0ID0gbnVsbDtcblxuICAgICAgLy8gTXVzdCB3cmFwIGluIGEgdHJ5L2NhdGNoIGJlY2F1c2UgSUUxMSBpbiBzZXJ2ZXIgbW9kZSB0aHJvd3MgYW4gZXJyb3IuXG4gICAgICB0cnkge1xuICAgICAgICBhdWRpb1Rlc3QgPSAodHlwZW9mIEF1ZGlvICE9PSAndW5kZWZpbmVkJykgPyBuZXcgQXVkaW8oKSA6IG51bGw7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIGlmICghYXVkaW9UZXN0IHx8IHR5cGVvZiBhdWRpb1Rlc3QuY2FuUGxheVR5cGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIHZhciBtcGVnVGVzdCA9IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vbXBlZzsnKS5yZXBsYWNlKC9ebm8kLywgJycpO1xuXG4gICAgICAvLyBPcGVyYSB2ZXJzaW9uIDwzMyBoYXMgbWl4ZWQgTVAzIHN1cHBvcnQsIHNvIHdlIG5lZWQgdG8gY2hlY2sgZm9yIGFuZCBibG9jayBpdC5cbiAgICAgIHZhciBjaGVja09wZXJhID0gc2VsZi5fbmF2aWdhdG9yICYmIHNlbGYuX25hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL09QUlxcLyhbMC02XS4pL2cpO1xuICAgICAgdmFyIGlzT2xkT3BlcmEgPSAoY2hlY2tPcGVyYSAmJiBwYXJzZUludChjaGVja09wZXJhWzBdLnNwbGl0KCcvJylbMV0sIDEwKSA8IDMzKTtcblxuICAgICAgc2VsZi5fY29kZWNzID0ge1xuICAgICAgICBtcDM6ICEhKCFpc09sZE9wZXJhICYmIChtcGVnVGVzdCB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL21wMzsnKS5yZXBsYWNlKC9ebm8kLywgJycpKSksXG4gICAgICAgIG1wZWc6ICEhbXBlZ1Rlc3QsXG4gICAgICAgIG9wdXM6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz1cIm9wdXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIG9nZzogISFhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL29nZzsgY29kZWNzPVwidm9yYmlzXCInKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBvZ2E6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz1cInZvcmJpc1wiJykucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgd2F2OiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vd2F2OyBjb2RlY3M9XCIxXCInKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBhYWM6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9hYWM7JykucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgY2FmOiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8veC1jYWY7JykucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgbTRhOiAhIShhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3gtbTRhOycpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vbTRhOycpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vYWFjOycpKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBtcDQ6ICEhKGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8veC1tcDQ7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9tcDQ7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9hYWM7JykpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIHdlYmE6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby93ZWJtOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIHdlYm06ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby93ZWJtOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIGRvbGJ5OiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vbXA0OyBjb2RlY3M9XCJlYy0zXCInKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBmbGFjOiAhIShhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3gtZmxhYzsnKSB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL2ZsYWM7JykpLnJlcGxhY2UoL15ubyQvLCAnJylcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTb21lIGJyb3dzZXJzL2RldmljZXMgd2lsbCBvbmx5IGFsbG93IGF1ZGlvIHRvIGJlIHBsYXllZCBhZnRlciBhIHVzZXIgaW50ZXJhY3Rpb24uXG4gICAgICogQXR0ZW1wdCB0byBhdXRvbWF0aWNhbGx5IHVubG9jayBhdWRpbyBvbiB0aGUgZmlyc3QgdXNlciBpbnRlcmFjdGlvbi5cbiAgICAgKiBDb25jZXB0IGZyb206IGh0dHA6Ly9wYXVsYmFrYXVzLmNvbS90dXRvcmlhbHMvaHRtbDUvd2ViLWF1ZGlvLW9uLWlvcy9cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX3VubG9ja0F1ZGlvOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIE9ubHkgcnVuIHRoaXMgaWYgV2ViIEF1ZGlvIGlzIHN1cHBvcnRlZCBhbmQgaXQgaGFzbid0IGFscmVhZHkgYmVlbiB1bmxvY2tlZC5cbiAgICAgIGlmIChzZWxmLl9hdWRpb1VubG9ja2VkIHx8ICFzZWxmLmN0eCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHNlbGYuX2F1ZGlvVW5sb2NrZWQgPSBmYWxzZTtcbiAgICAgIHNlbGYuYXV0b1VubG9jayA9IGZhbHNlO1xuXG4gICAgICAvLyBTb21lIG1vYmlsZSBkZXZpY2VzL3BsYXRmb3JtcyBoYXZlIGRpc3RvcnRpb24gaXNzdWVzIHdoZW4gb3BlbmluZy9jbG9zaW5nIHRhYnMgYW5kL29yIHdlYiB2aWV3cy5cbiAgICAgIC8vIEJ1Z3MgaW4gdGhlIGJyb3dzZXIgKGVzcGVjaWFsbHkgTW9iaWxlIFNhZmFyaSkgY2FuIGNhdXNlIHRoZSBzYW1wbGVSYXRlIHRvIGNoYW5nZSBmcm9tIDQ0MTAwIHRvIDQ4MDAwLlxuICAgICAgLy8gQnkgY2FsbGluZyBIb3dsZXIudW5sb2FkKCksIHdlIGNyZWF0ZSBhIG5ldyBBdWRpb0NvbnRleHQgd2l0aCB0aGUgY29ycmVjdCBzYW1wbGVSYXRlLlxuICAgICAgaWYgKCFzZWxmLl9tb2JpbGVVbmxvYWRlZCAmJiBzZWxmLmN0eC5zYW1wbGVSYXRlICE9PSA0NDEwMCkge1xuICAgICAgICBzZWxmLl9tb2JpbGVVbmxvYWRlZCA9IHRydWU7XG4gICAgICAgIHNlbGYudW5sb2FkKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNjcmF0Y2ggYnVmZmVyIGZvciBlbmFibGluZyBpT1MgdG8gZGlzcG9zZSBvZiB3ZWIgYXVkaW8gYnVmZmVycyBjb3JyZWN0bHksIGFzIHBlcjpcbiAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjQxMTk2ODRcbiAgICAgIHNlbGYuX3NjcmF0Y2hCdWZmZXIgPSBzZWxmLmN0eC5jcmVhdGVCdWZmZXIoMSwgMSwgMjIwNTApO1xuXG4gICAgICAvLyBDYWxsIHRoaXMgbWV0aG9kIG9uIHRvdWNoIHN0YXJ0IHRvIGNyZWF0ZSBhbmQgcGxheSBhIGJ1ZmZlcixcbiAgICAgIC8vIHRoZW4gY2hlY2sgaWYgdGhlIGF1ZGlvIGFjdHVhbGx5IHBsYXllZCB0byBkZXRlcm1pbmUgaWZcbiAgICAgIC8vIGF1ZGlvIGhhcyBub3cgYmVlbiB1bmxvY2tlZCBvbiBpT1MsIEFuZHJvaWQsIGV0Yy5cbiAgICAgIHZhciB1bmxvY2sgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIC8vIENyZWF0ZSBhIHBvb2wgb2YgdW5sb2NrZWQgSFRNTDUgQXVkaW8gb2JqZWN0cyB0aGF0IGNhblxuICAgICAgICAvLyBiZSB1c2VkIGZvciBwbGF5aW5nIHNvdW5kcyB3aXRob3V0IHVzZXIgaW50ZXJhY3Rpb24uIEhUTUw1XG4gICAgICAgIC8vIEF1ZGlvIG9iamVjdHMgbXVzdCBiZSBpbmRpdmlkdWFsbHkgdW5sb2NrZWQsIGFzIG9wcG9zZWRcbiAgICAgICAgLy8gdG8gdGhlIFdlYkF1ZGlvIEFQSSB3aGljaCBvbmx5IG5lZWRzIGEgc2luZ2xlIGFjdGl2YXRpb24uXG4gICAgICAgIC8vIFRoaXMgbXVzdCBvY2N1ciBiZWZvcmUgV2ViQXVkaW8gc2V0dXAgb3IgdGhlIHNvdXJjZS5vbmVuZGVkXG4gICAgICAgIC8vIGV2ZW50IHdpbGwgbm90IGZpcmUuXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLmh0bWw1UG9vbFNpemU7IGkrKykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgYXVkaW9Ob2RlID0gbmV3IEF1ZGlvKCk7XG5cbiAgICAgICAgICAgIC8vIE1hcmsgdGhpcyBBdWRpbyBvYmplY3QgYXMgdW5sb2NrZWQgdG8gZW5zdXJlIGl0IGNhbiBnZXQgcmV0dXJuZWRcbiAgICAgICAgICAgIC8vIHRvIHRoZSB1bmxvY2tlZCBwb29sIHdoZW4gcmVsZWFzZWQuXG4gICAgICAgICAgICBhdWRpb05vZGUuX3VubG9ja2VkID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gQWRkIHRoZSBhdWRpbyBub2RlIHRvIHRoZSBwb29sLlxuICAgICAgICAgICAgc2VsZi5fcmVsZWFzZUh0bWw1QXVkaW8oYXVkaW9Ob2RlKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBzZWxmLm5vQXVkaW8gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBhbnkgYXNzaWduZWQgYXVkaW8gbm9kZXMgYW5kIHVubG9jayB0aGVtLlxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoIXNlbGYuX2hvd2xzW2ldLl93ZWJBdWRpbykge1xuICAgICAgICAgICAgLy8gR2V0IGFsbCBvZiB0aGUgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cbiAgICAgICAgICAgIHZhciBpZHMgPSBzZWxmLl9ob3dsc1tpXS5fZ2V0U291bmRJZHMoKTtcblxuICAgICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBzb3VuZHMgYW5kIHVubG9jayB0aGUgYXVkaW8gbm9kZXMuXG4gICAgICAgICAgICBmb3IgKHZhciBqPTA7IGo8aWRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX2hvd2xzW2ldLl9zb3VuZEJ5SWQoaWRzW2pdKTtcblxuICAgICAgICAgICAgICBpZiAoc291bmQgJiYgc291bmQuX25vZGUgJiYgIXNvdW5kLl9ub2RlLl91bmxvY2tlZCkge1xuICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLl91bmxvY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc291bmQuX25vZGUubG9hZCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRml4IEFuZHJvaWQgY2FuIG5vdCBwbGF5IGluIHN1c3BlbmQgc3RhdGUuXG4gICAgICAgIHNlbGYuX2F1dG9SZXN1bWUoKTtcblxuICAgICAgICAvLyBDcmVhdGUgYW4gZW1wdHkgYnVmZmVyLlxuICAgICAgICB2YXIgc291cmNlID0gc2VsZi5jdHguY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgICAgIHNvdXJjZS5idWZmZXIgPSBzZWxmLl9zY3JhdGNoQnVmZmVyO1xuICAgICAgICBzb3VyY2UuY29ubmVjdChzZWxmLmN0eC5kZXN0aW5hdGlvbik7XG5cbiAgICAgICAgLy8gUGxheSB0aGUgZW1wdHkgYnVmZmVyLlxuICAgICAgICBpZiAodHlwZW9mIHNvdXJjZS5zdGFydCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBzb3VyY2Uubm90ZU9uKDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNvdXJjZS5zdGFydCgwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhbGxpbmcgcmVzdW1lKCkgb24gYSBzdGFjayBpbml0aWF0ZWQgYnkgdXNlciBnZXN0dXJlIGlzIHdoYXQgYWN0dWFsbHkgdW5sb2NrcyB0aGUgYXVkaW8gb24gQW5kcm9pZCBDaHJvbWUgPj0gNTUuXG4gICAgICAgIGlmICh0eXBlb2Ygc2VsZi5jdHgucmVzdW1lID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgc2VsZi5jdHgucmVzdW1lKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXR1cCBhIHRpbWVvdXQgdG8gY2hlY2sgdGhhdCB3ZSBhcmUgdW5sb2NrZWQgb24gdGhlIG5leHQgZXZlbnQgbG9vcC5cbiAgICAgICAgc291cmNlLm9uZW5kZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzb3VyY2UuZGlzY29ubmVjdCgwKTtcblxuICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgdW5sb2NrZWQgc3RhdGUgYW5kIHByZXZlbnQgdGhpcyBjaGVjayBmcm9tIGhhcHBlbmluZyBhZ2Fpbi5cbiAgICAgICAgICBzZWxmLl9hdWRpb1VubG9ja2VkID0gdHJ1ZTtcblxuICAgICAgICAgIC8vIFJlbW92ZSB0aGUgdG91Y2ggc3RhcnQgbGlzdGVuZXIuXG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHVubG9jaywgdHJ1ZSk7XG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB1bmxvY2ssIHRydWUpO1xuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdW5sb2NrLCB0cnVlKTtcblxuICAgICAgICAgIC8vIExldCBhbGwgc291bmRzIGtub3cgdGhhdCBhdWRpbyBoYXMgYmVlbiB1bmxvY2tlZC5cbiAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHNlbGYuX2hvd2xzW2ldLl9lbWl0KCd1bmxvY2snKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9O1xuXG4gICAgICAvLyBTZXR1cCBhIHRvdWNoIHN0YXJ0IGxpc3RlbmVyIHRvIGF0dGVtcHQgYW4gdW5sb2NrIGluLlxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHVubG9jaywgdHJ1ZSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHVubG9jaywgdHJ1ZSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHVubG9jaywgdHJ1ZSk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgYW4gdW5sb2NrZWQgSFRNTDUgQXVkaW8gb2JqZWN0IGZyb20gdGhlIHBvb2wuIElmIG5vbmUgYXJlIGxlZnQsXG4gICAgICogcmV0dXJuIGEgbmV3IEF1ZGlvIG9iamVjdCBhbmQgdGhyb3cgYSB3YXJuaW5nLlxuICAgICAqIEByZXR1cm4ge0F1ZGlvfSBIVE1MNSBBdWRpbyBvYmplY3QuXG4gICAgICovXG4gICAgX29idGFpbkh0bWw1QXVkaW86IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcblxuICAgICAgLy8gUmV0dXJuIHRoZSBuZXh0IG9iamVjdCBmcm9tIHRoZSBwb29sIGlmIG9uZSBleGlzdHMuXG4gICAgICBpZiAoc2VsZi5faHRtbDVBdWRpb1Bvb2wubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzZWxmLl9odG1sNUF1ZGlvUG9vbC5wb3AoKTtcbiAgICAgIH1cblxuICAgICAgLy8uQ2hlY2sgaWYgdGhlIGF1ZGlvIGlzIGxvY2tlZCBhbmQgdGhyb3cgYSB3YXJuaW5nLlxuICAgICAgdmFyIHRlc3RQbGF5ID0gbmV3IEF1ZGlvKCkucGxheSgpO1xuICAgICAgaWYgKHRlc3RQbGF5ICYmIHR5cGVvZiBQcm9taXNlICE9PSAndW5kZWZpbmVkJyAmJiAodGVzdFBsYXkgaW5zdGFuY2VvZiBQcm9taXNlIHx8IHR5cGVvZiB0ZXN0UGxheS50aGVuID09PSAnZnVuY3Rpb24nKSkge1xuICAgICAgICB0ZXN0UGxheS5jYXRjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0hUTUw1IEF1ZGlvIHBvb2wgZXhoYXVzdGVkLCByZXR1cm5pbmcgcG90ZW50aWFsbHkgbG9ja2VkIGF1ZGlvIG9iamVjdC4nKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQXVkaW8oKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFuIGFjdGl2YXRlZCBIVE1MNSBBdWRpbyBvYmplY3QgdG8gdGhlIHBvb2wuXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIF9yZWxlYXNlSHRtbDVBdWRpbzogZnVuY3Rpb24oYXVkaW8pIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIERvbid0IGFkZCBhdWRpbyB0byB0aGUgcG9vbCBpZiB3ZSBkb24ndCBrbm93IGlmIGl0IGhhcyBiZWVuIHVubG9ja2VkLlxuICAgICAgaWYgKGF1ZGlvLl91bmxvY2tlZCkge1xuICAgICAgICBzZWxmLl9odG1sNUF1ZGlvUG9vbC5wdXNoKGF1ZGlvKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEF1dG9tYXRpY2FsbHkgc3VzcGVuZCB0aGUgV2ViIEF1ZGlvIEF1ZGlvQ29udGV4dCBhZnRlciBubyBzb3VuZCBoYXMgcGxheWVkIGZvciAzMCBzZWNvbmRzLlxuICAgICAqIFRoaXMgc2F2ZXMgcHJvY2Vzc2luZy9lbmVyZ3kgYW5kIGZpeGVzIHZhcmlvdXMgYnJvd3Nlci1zcGVjaWZpYyBidWdzIHdpdGggYXVkaW8gZ2V0dGluZyBzdHVjay5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX2F1dG9TdXNwZW5kOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgaWYgKCFzZWxmLmF1dG9TdXNwZW5kIHx8ICFzZWxmLmN0eCB8fCB0eXBlb2Ygc2VsZi5jdHguc3VzcGVuZCA9PT0gJ3VuZGVmaW5lZCcgfHwgIUhvd2xlci51c2luZ1dlYkF1ZGlvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgaWYgYW55IHNvdW5kcyBhcmUgcGxheWluZy5cbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9ob3dscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc2VsZi5faG93bHNbaV0uX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgZm9yICh2YXIgaj0wOyBqPHNlbGYuX2hvd2xzW2ldLl9zb3VuZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmICghc2VsZi5faG93bHNbaV0uX3NvdW5kc1tqXS5fcGF1c2VkKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc2VsZi5fc3VzcGVuZFRpbWVyKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChzZWxmLl9zdXNwZW5kVGltZXIpO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBubyBzb3VuZCBoYXMgcGxheWVkIGFmdGVyIDMwIHNlY29uZHMsIHN1c3BlbmQgdGhlIGNvbnRleHQuXG4gICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXNlbGYuYXV0b1N1c3BlbmQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBudWxsO1xuICAgICAgICBzZWxmLnN0YXRlID0gJ3N1c3BlbmRpbmcnO1xuICAgICAgICBzZWxmLmN0eC5zdXNwZW5kKCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLnN0YXRlID0gJ3N1c3BlbmRlZCc7XG5cbiAgICAgICAgICBpZiAoc2VsZi5fcmVzdW1lQWZ0ZXJTdXNwZW5kKSB7XG4gICAgICAgICAgICBkZWxldGUgc2VsZi5fcmVzdW1lQWZ0ZXJTdXNwZW5kO1xuICAgICAgICAgICAgc2VsZi5fYXV0b1Jlc3VtZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LCAzMDAwMCk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBdXRvbWF0aWNhbGx5IHJlc3VtZSB0aGUgV2ViIEF1ZGlvIEF1ZGlvQ29udGV4dCB3aGVuIGEgbmV3IHNvdW5kIGlzIHBsYXllZC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX2F1dG9SZXN1bWU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBpZiAoIXNlbGYuY3R4IHx8IHR5cGVvZiBzZWxmLmN0eC5yZXN1bWUgPT09ICd1bmRlZmluZWQnIHx8ICFIb3dsZXIudXNpbmdXZWJBdWRpbykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChzZWxmLnN0YXRlID09PSAncnVubmluZycgJiYgc2VsZi5fc3VzcGVuZFRpbWVyKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChzZWxmLl9zdXNwZW5kVGltZXIpO1xuICAgICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBudWxsO1xuICAgICAgfSBlbHNlIGlmIChzZWxmLnN0YXRlID09PSAnc3VzcGVuZGVkJykge1xuICAgICAgICBzZWxmLmN0eC5yZXN1bWUoKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYuc3RhdGUgPSAncnVubmluZyc7XG5cbiAgICAgICAgICAvLyBFbWl0IHRvIGFsbCBIb3dscyB0aGF0IHRoZSBhdWRpbyBoYXMgcmVzdW1lZC5cbiAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHNlbGYuX2hvd2xzW2ldLl9lbWl0KCdyZXN1bWUnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChzZWxmLl9zdXNwZW5kVGltZXIpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQoc2VsZi5fc3VzcGVuZFRpbWVyKTtcbiAgICAgICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNlbGYuc3RhdGUgPT09ICdzdXNwZW5kaW5nJykge1xuICAgICAgICBzZWxmLl9yZXN1bWVBZnRlclN1c3BlbmQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG4gIH07XG5cbiAgLy8gU2V0dXAgdGhlIGdsb2JhbCBhdWRpbyBjb250cm9sbGVyLlxuICB2YXIgSG93bGVyID0gbmV3IEhvd2xlckdsb2JhbCgpO1xuXG4gIC8qKiBHcm91cCBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gYXVkaW8gZ3JvdXAgY29udHJvbGxlci5cbiAgICogQHBhcmFtIHtPYmplY3R9IG8gUGFzc2VkIGluIHByb3BlcnRpZXMgZm9yIHRoaXMgZ3JvdXAuXG4gICAqL1xuICB2YXIgSG93bCA9IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBUaHJvdyBhbiBlcnJvciBpZiBubyBzb3VyY2UgaXMgcHJvdmlkZWQuXG4gICAgaWYgKCFvLnNyYyB8fCBvLnNyYy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0FuIGFycmF5IG9mIHNvdXJjZSBmaWxlcyBtdXN0IGJlIHBhc3NlZCB3aXRoIGFueSBuZXcgSG93bC4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZWxmLmluaXQobyk7XG4gIH07XG4gIEhvd2wucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgYSBuZXcgSG93bCBncm91cCBvYmplY3QuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBvIFBhc3NlZCBpbiBwcm9wZXJ0aWVzIGZvciB0aGlzIGdyb3VwLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgaW5pdDogZnVuY3Rpb24obykge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGFuIEF1ZGlvQ29udGV4dCBjcmVhdGVkIHlldCwgcnVuIHRoZSBzZXR1cC5cbiAgICAgIGlmICghSG93bGVyLmN0eCkge1xuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXR1cCB1c2VyLWRlZmluZWQgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAgc2VsZi5fYXV0b3BsYXkgPSBvLmF1dG9wbGF5IHx8IGZhbHNlO1xuICAgICAgc2VsZi5fZm9ybWF0ID0gKHR5cGVvZiBvLmZvcm1hdCAhPT0gJ3N0cmluZycpID8gby5mb3JtYXQgOiBbby5mb3JtYXRdO1xuICAgICAgc2VsZi5faHRtbDUgPSBvLmh0bWw1IHx8IGZhbHNlO1xuICAgICAgc2VsZi5fbXV0ZWQgPSBvLm11dGUgfHwgZmFsc2U7XG4gICAgICBzZWxmLl9sb29wID0gby5sb29wIHx8IGZhbHNlO1xuICAgICAgc2VsZi5fcG9vbCA9IG8ucG9vbCB8fCA1O1xuICAgICAgc2VsZi5fcHJlbG9hZCA9ICh0eXBlb2Ygby5wcmVsb2FkID09PSAnYm9vbGVhbicpID8gby5wcmVsb2FkIDogdHJ1ZTtcbiAgICAgIHNlbGYuX3JhdGUgPSBvLnJhdGUgfHwgMTtcbiAgICAgIHNlbGYuX3Nwcml0ZSA9IG8uc3ByaXRlIHx8IHt9O1xuICAgICAgc2VsZi5fc3JjID0gKHR5cGVvZiBvLnNyYyAhPT0gJ3N0cmluZycpID8gby5zcmMgOiBbby5zcmNdO1xuICAgICAgc2VsZi5fdm9sdW1lID0gby52b2x1bWUgIT09IHVuZGVmaW5lZCA/IG8udm9sdW1lIDogMTtcbiAgICAgIHNlbGYuX3hocldpdGhDcmVkZW50aWFscyA9IG8ueGhyV2l0aENyZWRlbnRpYWxzIHx8IGZhbHNlO1xuXG4gICAgICAvLyBTZXR1cCBhbGwgb3RoZXIgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAgc2VsZi5fZHVyYXRpb24gPSAwO1xuICAgICAgc2VsZi5fc3RhdGUgPSAndW5sb2FkZWQnO1xuICAgICAgc2VsZi5fc291bmRzID0gW107XG4gICAgICBzZWxmLl9lbmRUaW1lcnMgPSB7fTtcbiAgICAgIHNlbGYuX3F1ZXVlID0gW107XG4gICAgICBzZWxmLl9wbGF5TG9jayA9IGZhbHNlO1xuXG4gICAgICAvLyBTZXR1cCBldmVudCBsaXN0ZW5lcnMuXG4gICAgICBzZWxmLl9vbmVuZCA9IG8ub25lbmQgPyBbe2ZuOiBvLm9uZW5kfV0gOiBbXTtcbiAgICAgIHNlbGYuX29uZmFkZSA9IG8ub25mYWRlID8gW3tmbjogby5vbmZhZGV9XSA6IFtdO1xuICAgICAgc2VsZi5fb25sb2FkID0gby5vbmxvYWQgPyBbe2ZuOiBvLm9ubG9hZH1dIDogW107XG4gICAgICBzZWxmLl9vbmxvYWRlcnJvciA9IG8ub25sb2FkZXJyb3IgPyBbe2ZuOiBvLm9ubG9hZGVycm9yfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ucGxheWVycm9yID0gby5vbnBsYXllcnJvciA/IFt7Zm46IG8ub25wbGF5ZXJyb3J9XSA6IFtdO1xuICAgICAgc2VsZi5fb25wYXVzZSA9IG8ub25wYXVzZSA/IFt7Zm46IG8ub25wYXVzZX1dIDogW107XG4gICAgICBzZWxmLl9vbnBsYXkgPSBvLm9ucGxheSA/IFt7Zm46IG8ub25wbGF5fV0gOiBbXTtcbiAgICAgIHNlbGYuX29uc3RvcCA9IG8ub25zdG9wID8gW3tmbjogby5vbnN0b3B9XSA6IFtdO1xuICAgICAgc2VsZi5fb25tdXRlID0gby5vbm11dGUgPyBbe2ZuOiBvLm9ubXV0ZX1dIDogW107XG4gICAgICBzZWxmLl9vbnZvbHVtZSA9IG8ub252b2x1bWUgPyBbe2ZuOiBvLm9udm9sdW1lfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ucmF0ZSA9IG8ub25yYXRlID8gW3tmbjogby5vbnJhdGV9XSA6IFtdO1xuICAgICAgc2VsZi5fb25zZWVrID0gby5vbnNlZWsgPyBbe2ZuOiBvLm9uc2Vla31dIDogW107XG4gICAgICBzZWxmLl9vbnVubG9jayA9IG8ub251bmxvY2sgPyBbe2ZuOiBvLm9udW5sb2NrfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ucmVzdW1lID0gW107XG5cbiAgICAgIC8vIFdlYiBBdWRpbyBvciBIVE1MNSBBdWRpbz9cbiAgICAgIHNlbGYuX3dlYkF1ZGlvID0gSG93bGVyLnVzaW5nV2ViQXVkaW8gJiYgIXNlbGYuX2h0bWw1O1xuXG4gICAgICAvLyBBdXRvbWF0aWNhbGx5IHRyeSB0byBlbmFibGUgYXVkaW8uXG4gICAgICBpZiAodHlwZW9mIEhvd2xlci5jdHggIT09ICd1bmRlZmluZWQnICYmIEhvd2xlci5jdHggJiYgSG93bGVyLmF1dG9VbmxvY2spIHtcbiAgICAgICAgSG93bGVyLl91bmxvY2tBdWRpbygpO1xuICAgICAgfVxuXG4gICAgICAvLyBLZWVwIHRyYWNrIG9mIHRoaXMgSG93bCBncm91cCBpbiB0aGUgZ2xvYmFsIGNvbnRyb2xsZXIuXG4gICAgICBIb3dsZXIuX2hvd2xzLnB1c2goc2VsZik7XG5cbiAgICAgIC8vIElmIHRoZXkgc2VsZWN0ZWQgYXV0b3BsYXksIGFkZCBhIHBsYXkgZXZlbnQgdG8gdGhlIGxvYWQgcXVldWUuXG4gICAgICBpZiAoc2VsZi5fYXV0b3BsYXkpIHtcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgZXZlbnQ6ICdwbGF5JyxcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5wbGF5KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gTG9hZCB0aGUgc291cmNlIGZpbGUgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gICAgICBpZiAoc2VsZi5fcHJlbG9hZCkge1xuICAgICAgICBzZWxmLmxvYWQoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIExvYWQgdGhlIGF1ZGlvIGZpbGUuXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIGxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHVybCA9IG51bGw7XG5cbiAgICAgIC8vIElmIG5vIGF1ZGlvIGlzIGF2YWlsYWJsZSwgcXVpdCBpbW1lZGlhdGVseS5cbiAgICAgIGlmIChIb3dsZXIubm9BdWRpbykge1xuICAgICAgICBzZWxmLl9lbWl0KCdsb2FkZXJyb3InLCBudWxsLCAnTm8gYXVkaW8gc3VwcG9ydC4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBNYWtlIHN1cmUgb3VyIHNvdXJjZSBpcyBpbiBhbiBhcnJheS5cbiAgICAgIGlmICh0eXBlb2Ygc2VsZi5fc3JjID09PSAnc3RyaW5nJykge1xuICAgICAgICBzZWxmLl9zcmMgPSBbc2VsZi5fc3JjXTtcbiAgICAgIH1cblxuICAgICAgLy8gTG9vcCB0aHJvdWdoIHRoZSBzb3VyY2VzIGFuZCBwaWNrIHRoZSBmaXJzdCBvbmUgdGhhdCBpcyBjb21wYXRpYmxlLlxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3NyYy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZXh0LCBzdHI7XG5cbiAgICAgICAgaWYgKHNlbGYuX2Zvcm1hdCAmJiBzZWxmLl9mb3JtYXRbaV0pIHtcbiAgICAgICAgICAvLyBJZiBhbiBleHRlbnNpb24gd2FzIHNwZWNpZmllZCwgdXNlIHRoYXQgaW5zdGVhZC5cbiAgICAgICAgICBleHQgPSBzZWxmLl9mb3JtYXRbaV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBzb3VyY2UgaXMgYSBzdHJpbmcuXG4gICAgICAgICAgc3RyID0gc2VsZi5fc3JjW2ldO1xuICAgICAgICAgIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgc2VsZi5fZW1pdCgnbG9hZGVycm9yJywgbnVsbCwgJ05vbi1zdHJpbmcgZm91bmQgaW4gc2VsZWN0ZWQgYXVkaW8gc291cmNlcyAtIGlnbm9yaW5nLicpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRXh0cmFjdCB0aGUgZmlsZSBleHRlbnNpb24gZnJvbSB0aGUgVVJMIG9yIGJhc2U2NCBkYXRhIFVSSS5cbiAgICAgICAgICBleHQgPSAvXmRhdGE6YXVkaW9cXC8oW147LF0rKTsvaS5leGVjKHN0cik7XG4gICAgICAgICAgaWYgKCFleHQpIHtcbiAgICAgICAgICAgIGV4dCA9IC9cXC4oW14uXSspJC8uZXhlYyhzdHIuc3BsaXQoJz8nLCAxKVswXSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGV4dCkge1xuICAgICAgICAgICAgZXh0ID0gZXh0WzFdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gTG9nIGEgd2FybmluZyBpZiBubyBleHRlbnNpb24gd2FzIGZvdW5kLlxuICAgICAgICBpZiAoIWV4dCkge1xuICAgICAgICAgIGNvbnNvbGUud2FybignTm8gZmlsZSBleHRlbnNpb24gd2FzIGZvdW5kLiBDb25zaWRlciB1c2luZyB0aGUgXCJmb3JtYXRcIiBwcm9wZXJ0eSBvciBzcGVjaWZ5IGFuIGV4dGVuc2lvbi4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoaXMgZXh0ZW5zaW9uIGlzIGF2YWlsYWJsZS5cbiAgICAgICAgaWYgKGV4dCAmJiBIb3dsZXIuY29kZWNzKGV4dCkpIHtcbiAgICAgICAgICB1cmwgPSBzZWxmLl9zcmNbaV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCF1cmwpIHtcbiAgICAgICAgc2VsZi5fZW1pdCgnbG9hZGVycm9yJywgbnVsbCwgJ05vIGNvZGVjIHN1cHBvcnQgZm9yIHNlbGVjdGVkIGF1ZGlvIHNvdXJjZXMuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2VsZi5fc3JjID0gdXJsO1xuICAgICAgc2VsZi5fc3RhdGUgPSAnbG9hZGluZyc7XG5cbiAgICAgIC8vIElmIHRoZSBob3N0aW5nIHBhZ2UgaXMgSFRUUFMgYW5kIHRoZSBzb3VyY2UgaXNuJ3QsXG4gICAgICAvLyBkcm9wIGRvd24gdG8gSFRNTDUgQXVkaW8gdG8gYXZvaWQgTWl4ZWQgQ29udGVudCBlcnJvcnMuXG4gICAgICBpZiAod2luZG93LmxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cHM6JyAmJiB1cmwuc2xpY2UoMCwgNSkgPT09ICdodHRwOicpIHtcbiAgICAgICAgc2VsZi5faHRtbDUgPSB0cnVlO1xuICAgICAgICBzZWxmLl93ZWJBdWRpbyA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgYSBuZXcgc291bmQgb2JqZWN0IGFuZCBhZGQgaXQgdG8gdGhlIHBvb2wuXG4gICAgICBuZXcgU291bmQoc2VsZik7XG5cbiAgICAgIC8vIExvYWQgYW5kIGRlY29kZSB0aGUgYXVkaW8gZGF0YSBmb3IgcGxheWJhY2suXG4gICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgbG9hZEJ1ZmZlcihzZWxmKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFBsYXkgYSBzb3VuZCBvciByZXN1bWUgcHJldmlvdXMgcGxheWJhY2suXG4gICAgICogQHBhcmFtICB7U3RyaW5nL051bWJlcn0gc3ByaXRlICAgU3ByaXRlIG5hbWUgZm9yIHNwcml0ZSBwbGF5YmFjayBvciBzb3VuZCBpZCB0byBjb250aW51ZSBwcmV2aW91cy5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBpbnRlcm5hbCBJbnRlcm5hbCBVc2U6IHRydWUgcHJldmVudHMgZXZlbnQgZmlyaW5nLlxuICAgICAqIEByZXR1cm4ge051bWJlcn0gICAgICAgICAgU291bmQgSUQuXG4gICAgICovXG4gICAgcGxheTogZnVuY3Rpb24oc3ByaXRlLCBpbnRlcm5hbCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGlkID0gbnVsbDtcblxuICAgICAgLy8gRGV0ZXJtaW5lIGlmIGEgc3ByaXRlLCBzb3VuZCBpZCBvciBub3RoaW5nIHdhcyBwYXNzZWRcbiAgICAgIGlmICh0eXBlb2Ygc3ByaXRlID09PSAnbnVtYmVyJykge1xuICAgICAgICBpZCA9IHNwcml0ZTtcbiAgICAgICAgc3ByaXRlID0gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNwcml0ZSA9PT0gJ3N0cmluZycgJiYgc2VsZi5fc3RhdGUgPT09ICdsb2FkZWQnICYmICFzZWxmLl9zcHJpdGVbc3ByaXRlXSkge1xuICAgICAgICAvLyBJZiB0aGUgcGFzc2VkIHNwcml0ZSBkb2Vzbid0IGV4aXN0LCBkbyBub3RoaW5nLlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNwcml0ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gVXNlIHRoZSBkZWZhdWx0IHNvdW5kIHNwcml0ZSAocGxheXMgdGhlIGZ1bGwgYXVkaW8gbGVuZ3RoKS5cbiAgICAgICAgc3ByaXRlID0gJ19fZGVmYXVsdCc7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYSBzaW5nbGUgcGF1c2VkIHNvdW5kIHRoYXQgaXNuJ3QgZW5kZWQuIFxuICAgICAgICAvLyBJZiB0aGVyZSBpcywgcGxheSB0aGF0IHNvdW5kLiBJZiBub3QsIGNvbnRpbnVlIGFzIHVzdWFsLiAgXG4gICAgICAgIGlmICghc2VsZi5fcGxheUxvY2spIHtcbiAgICAgICAgICB2YXIgbnVtID0gMDtcbiAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5fc291bmRzW2ldLl9wYXVzZWQgJiYgIXNlbGYuX3NvdW5kc1tpXS5fZW5kZWQpIHtcbiAgICAgICAgICAgICAgbnVtKys7XG4gICAgICAgICAgICAgIGlkID0gc2VsZi5fc291bmRzW2ldLl9pZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobnVtID09PSAxKSB7XG4gICAgICAgICAgICBzcHJpdGUgPSBudWxsO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEdldCB0aGUgc2VsZWN0ZWQgbm9kZSwgb3IgZ2V0IG9uZSBmcm9tIHRoZSBwb29sLlxuICAgICAgdmFyIHNvdW5kID0gaWQgPyBzZWxmLl9zb3VuZEJ5SWQoaWQpIDogc2VsZi5faW5hY3RpdmVTb3VuZCgpO1xuXG4gICAgICAvLyBJZiB0aGUgc291bmQgZG9lc24ndCBleGlzdCwgZG8gbm90aGluZy5cbiAgICAgIGlmICghc291bmQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIFNlbGVjdCB0aGUgc3ByaXRlIGRlZmluaXRpb24uXG4gICAgICBpZiAoaWQgJiYgIXNwcml0ZSkge1xuICAgICAgICBzcHJpdGUgPSBzb3VuZC5fc3ByaXRlIHx8ICdfX2RlZmF1bHQnO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgd2UgbXVzdCB3YWl0IHRvIGdldCB0aGUgYXVkaW8ncyBkdXJhdGlvbi5cbiAgICAgIC8vIFdlIGFsc28gbmVlZCB0byB3YWl0IHRvIG1ha2Ugc3VyZSB3ZSBkb24ndCBydW4gaW50byByYWNlIGNvbmRpdGlvbnMgd2l0aFxuICAgICAgLy8gdGhlIG9yZGVyIG9mIGZ1bmN0aW9uIGNhbGxzLlxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgICAvLyBTZXQgdGhlIHNwcml0ZSB2YWx1ZSBvbiB0aGlzIHNvdW5kLlxuICAgICAgICBzb3VuZC5fc3ByaXRlID0gc3ByaXRlO1xuXG4gICAgICAgIC8vIE1hcmsgdGhpcyBzb3VuZCBhcyBub3QgZW5kZWQgaW4gY2FzZSBhbm90aGVyIHNvdW5kIGlzIHBsYXllZCBiZWZvcmUgdGhpcyBvbmUgbG9hZHMuXG4gICAgICAgIHNvdW5kLl9lbmRlZCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIEFkZCB0aGUgc291bmQgdG8gdGhlIHF1ZXVlIHRvIGJlIHBsYXllZCBvbiBsb2FkLlxuICAgICAgICB2YXIgc291bmRJZCA9IHNvdW5kLl9pZDtcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgZXZlbnQ6ICdwbGF5JyxcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5wbGF5KHNvdW5kSWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHNvdW5kSWQ7XG4gICAgICB9XG5cbiAgICAgIC8vIERvbid0IHBsYXkgdGhlIHNvdW5kIGlmIGFuIGlkIHdhcyBwYXNzZWQgYW5kIGl0IGlzIGFscmVhZHkgcGxheWluZy5cbiAgICAgIGlmIChpZCAmJiAhc291bmQuX3BhdXNlZCkge1xuICAgICAgICAvLyBUcmlnZ2VyIHRoZSBwbGF5IGV2ZW50LCBpbiBvcmRlciB0byBrZWVwIGl0ZXJhdGluZyB0aHJvdWdoIHF1ZXVlLlxuICAgICAgICBpZiAoIWludGVybmFsKSB7XG4gICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCdwbGF5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc291bmQuX2lkO1xuICAgICAgfVxuXG4gICAgICAvLyBNYWtlIHN1cmUgdGhlIEF1ZGlvQ29udGV4dCBpc24ndCBzdXNwZW5kZWQsIGFuZCByZXN1bWUgaXQgaWYgaXQgaXMuXG4gICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgSG93bGVyLl9hdXRvUmVzdW1lKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIERldGVybWluZSBob3cgbG9uZyB0byBwbGF5IGZvciBhbmQgd2hlcmUgdG8gc3RhcnQgcGxheWluZy5cbiAgICAgIHZhciBzZWVrID0gTWF0aC5tYXgoMCwgc291bmQuX3NlZWsgPiAwID8gc291bmQuX3NlZWsgOiBzZWxmLl9zcHJpdGVbc3ByaXRlXVswXSAvIDEwMDApO1xuICAgICAgdmFyIGR1cmF0aW9uID0gTWF0aC5tYXgoMCwgKChzZWxmLl9zcHJpdGVbc3ByaXRlXVswXSArIHNlbGYuX3Nwcml0ZVtzcHJpdGVdWzFdKSAvIDEwMDApIC0gc2Vlayk7XG4gICAgICB2YXIgdGltZW91dCA9IChkdXJhdGlvbiAqIDEwMDApIC8gTWF0aC5hYnMoc291bmQuX3JhdGUpO1xuICAgICAgdmFyIHN0YXJ0ID0gc2VsZi5fc3ByaXRlW3Nwcml0ZV1bMF0gLyAxMDAwO1xuICAgICAgdmFyIHN0b3AgPSAoc2VsZi5fc3ByaXRlW3Nwcml0ZV1bMF0gKyBzZWxmLl9zcHJpdGVbc3ByaXRlXVsxXSkgLyAxMDAwO1xuICAgICAgdmFyIGxvb3AgPSAhIShzb3VuZC5fbG9vcCB8fCBzZWxmLl9zcHJpdGVbc3ByaXRlXVsyXSk7XG4gICAgICBzb3VuZC5fc3ByaXRlID0gc3ByaXRlO1xuXG4gICAgICAvLyBNYXJrIHRoZSBzb3VuZCBhcyBlbmRlZCBpbnN0YW50bHkgc28gdGhhdCB0aGlzIGFzeW5jIHBsYXliYWNrXG4gICAgICAvLyBkb2Vzbid0IGdldCBncmFiYmVkIGJ5IGFub3RoZXIgY2FsbCB0byBwbGF5IHdoaWxlIHRoaXMgb25lIHdhaXRzIHRvIHN0YXJ0LlxuICAgICAgc291bmQuX2VuZGVkID0gZmFsc2U7XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgcGFyYW1ldGVycyBvZiB0aGUgc291bmQuXG4gICAgICB2YXIgc2V0UGFyYW1zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNvdW5kLl9wYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgc291bmQuX3NlZWsgPSBzZWVrO1xuICAgICAgICBzb3VuZC5fc3RhcnQgPSBzdGFydDtcbiAgICAgICAgc291bmQuX3N0b3AgPSBzdG9wO1xuICAgICAgICBzb3VuZC5fbG9vcCA9IGxvb3A7XG4gICAgICB9O1xuXG4gICAgICAvLyBFbmQgdGhlIHNvdW5kIGluc3RhbnRseSBpZiBzZWVrIGlzIGF0IHRoZSBlbmQuXG4gICAgICBpZiAoc2VlayA+PSBzdG9wKSB7XG4gICAgICAgIHNlbGYuX2VuZGVkKHNvdW5kKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBCZWdpbiB0aGUgYWN0dWFsIHBsYXliYWNrLlxuICAgICAgdmFyIG5vZGUgPSBzb3VuZC5fbm9kZTtcbiAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xuICAgICAgICAvLyBGaXJlIHRoaXMgd2hlbiB0aGUgc291bmQgaXMgcmVhZHkgdG8gcGxheSB0byBiZWdpbiBXZWIgQXVkaW8gcGxheWJhY2suXG4gICAgICAgIHZhciBwbGF5V2ViQXVkaW8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IGZhbHNlO1xuICAgICAgICAgIHNldFBhcmFtcygpO1xuICAgICAgICAgIHNlbGYuX3JlZnJlc2hCdWZmZXIoc291bmQpO1xuXG4gICAgICAgICAgLy8gU2V0dXAgdGhlIHBsYXliYWNrIHBhcmFtcy5cbiAgICAgICAgICB2YXIgdm9sID0gKHNvdW5kLl9tdXRlZCB8fCBzZWxmLl9tdXRlZCkgPyAwIDogc291bmQuX3ZvbHVtZTtcbiAgICAgICAgICBub2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUodm9sLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICBzb3VuZC5fcGxheVN0YXJ0ID0gSG93bGVyLmN0eC5jdXJyZW50VGltZTtcblxuICAgICAgICAgIC8vIFBsYXkgdGhlIHNvdW5kIHVzaW5nIHRoZSBzdXBwb3J0ZWQgbWV0aG9kLlxuICAgICAgICAgIGlmICh0eXBlb2Ygbm9kZS5idWZmZXJTb3VyY2Uuc3RhcnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBzb3VuZC5fbG9vcCA/IG5vZGUuYnVmZmVyU291cmNlLm5vdGVHcmFpbk9uKDAsIHNlZWssIDg2NDAwKSA6IG5vZGUuYnVmZmVyU291cmNlLm5vdGVHcmFpbk9uKDAsIHNlZWssIGR1cmF0aW9uKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc291bmQuX2xvb3AgPyBub2RlLmJ1ZmZlclNvdXJjZS5zdGFydCgwLCBzZWVrLCA4NjQwMCkgOiBub2RlLmJ1ZmZlclNvdXJjZS5zdGFydCgwLCBzZWVrLCBkdXJhdGlvbik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gU3RhcnQgYSBuZXcgdGltZXIgaWYgbm9uZSBpcyBwcmVzZW50LlxuICAgICAgICAgIGlmICh0aW1lb3V0ICE9PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0gPSBzZXRUaW1lb3V0KHNlbGYuX2VuZGVkLmJpbmQoc2VsZiwgc291bmQpLCB0aW1lb3V0KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWludGVybmFsKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5Jywgc291bmQuX2lkKTtcbiAgICAgICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKEhvd2xlci5zdGF0ZSA9PT0gJ3J1bm5pbmcnKSB7XG4gICAgICAgICAgcGxheVdlYkF1ZGlvKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5fcGxheUxvY2sgPSB0cnVlO1xuXG4gICAgICAgICAgLy8gV2FpdCBmb3IgdGhlIGF1ZGlvIGNvbnRleHQgdG8gcmVzdW1lIGJlZm9yZSBwbGF5aW5nLlxuICAgICAgICAgIHNlbGYub25jZSgncmVzdW1lJywgcGxheVdlYkF1ZGlvKTtcblxuICAgICAgICAgIC8vIENhbmNlbCB0aGUgZW5kIHRpbWVyLlxuICAgICAgICAgIHNlbGYuX2NsZWFyVGltZXIoc291bmQuX2lkKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRmlyZSB0aGlzIHdoZW4gdGhlIHNvdW5kIGlzIHJlYWR5IHRvIHBsYXkgdG8gYmVnaW4gSFRNTDUgQXVkaW8gcGxheWJhY2suXG4gICAgICAgIHZhciBwbGF5SHRtbDUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBub2RlLmN1cnJlbnRUaW1lID0gc2VlaztcbiAgICAgICAgICBub2RlLm11dGVkID0gc291bmQuX211dGVkIHx8IHNlbGYuX211dGVkIHx8IEhvd2xlci5fbXV0ZWQgfHwgbm9kZS5tdXRlZDtcbiAgICAgICAgICBub2RlLnZvbHVtZSA9IHNvdW5kLl92b2x1bWUgKiBIb3dsZXIudm9sdW1lKCk7XG4gICAgICAgICAgbm9kZS5wbGF5YmFja1JhdGUgPSBzb3VuZC5fcmF0ZTtcblxuICAgICAgICAgIC8vIFNvbWUgYnJvd3NlcnMgd2lsbCB0aHJvdyBhbiBlcnJvciBpZiB0aGlzIGlzIGNhbGxlZCB3aXRob3V0IHVzZXIgaW50ZXJhY3Rpb24uXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBwbGF5ID0gbm9kZS5wbGF5KCk7XG5cbiAgICAgICAgICAgIC8vIFN1cHBvcnQgb2xkZXIgYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IHByb21pc2VzLCBhbmQgdGh1cyBkb24ndCBoYXZlIHRoaXMgaXNzdWUuXG4gICAgICAgICAgICBpZiAocGxheSAmJiB0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcgJiYgKHBsYXkgaW5zdGFuY2VvZiBQcm9taXNlIHx8IHR5cGVvZiBwbGF5LnRoZW4gPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICAgICAgICAgIC8vIEltcGxlbWVudHMgYSBsb2NrIHRvIHByZXZlbnQgRE9NRXhjZXB0aW9uOiBUaGUgcGxheSgpIHJlcXVlc3Qgd2FzIGludGVycnVwdGVkIGJ5IGEgY2FsbCB0byBwYXVzZSgpLlxuICAgICAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IHRydWU7XG5cbiAgICAgICAgICAgICAgLy8gU2V0IHBhcmFtIHZhbHVlcyBpbW1lZGlhdGVseS5cbiAgICAgICAgICAgICAgc2V0UGFyYW1zKCk7XG5cbiAgICAgICAgICAgICAgLy8gUmVsZWFzZXMgdGhlIGxvY2sgYW5kIGV4ZWN1dGVzIHF1ZXVlZCBhY3Rpb25zLlxuICAgICAgICAgICAgICBwbGF5XG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgbm9kZS5fdW5sb2NrZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgaWYgKCFpbnRlcm5hbCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5Jywgc291bmQuX2lkKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgc2VsZi5fZW1pdCgncGxheWVycm9yJywgc291bmQuX2lkLCAnUGxheWJhY2sgd2FzIHVuYWJsZSB0byBzdGFydC4gVGhpcyBpcyBtb3N0IGNvbW1vbmx5IGFuIGlzc3VlICcgK1xuICAgICAgICAgICAgICAgICAgICAnb24gbW9iaWxlIGRldmljZXMgYW5kIENocm9tZSB3aGVyZSBwbGF5YmFjayB3YXMgbm90IHdpdGhpbiBhIHVzZXIgaW50ZXJhY3Rpb24uJyk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIFJlc2V0IHRoZSBlbmRlZCBhbmQgcGF1c2VkIHZhbHVlcy5cbiAgICAgICAgICAgICAgICAgIHNvdW5kLl9lbmRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBzb3VuZC5fcGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWludGVybmFsKSB7XG4gICAgICAgICAgICAgIHNlbGYuX3BsYXlMb2NrID0gZmFsc2U7XG4gICAgICAgICAgICAgIHNldFBhcmFtcygpO1xuICAgICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5Jywgc291bmQuX2lkKTtcbiAgICAgICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNldHRpbmcgcmF0ZSBiZWZvcmUgcGxheWluZyB3b24ndCB3b3JrIGluIElFLCBzbyB3ZSBzZXQgaXQgYWdhaW4gaGVyZS5cbiAgICAgICAgICAgIG5vZGUucGxheWJhY2tSYXRlID0gc291bmQuX3JhdGU7XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSBub2RlIGlzIHN0aWxsIHBhdXNlZCwgdGhlbiB3ZSBjYW4gYXNzdW1lIHRoZXJlIHdhcyBhIHBsYXliYWNrIGlzc3VlLlxuICAgICAgICAgICAgaWYgKG5vZGUucGF1c2VkKSB7XG4gICAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3BsYXllcnJvcicsIHNvdW5kLl9pZCwgJ1BsYXliYWNrIHdhcyB1bmFibGUgdG8gc3RhcnQuIFRoaXMgaXMgbW9zdCBjb21tb25seSBhbiBpc3N1ZSAnICtcbiAgICAgICAgICAgICAgICAnb24gbW9iaWxlIGRldmljZXMgYW5kIENocm9tZSB3aGVyZSBwbGF5YmFjayB3YXMgbm90IHdpdGhpbiBhIHVzZXIgaW50ZXJhY3Rpb24uJyk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2V0dXAgdGhlIGVuZCB0aW1lciBvbiBzcHJpdGVzIG9yIGxpc3RlbiBmb3IgdGhlIGVuZGVkIGV2ZW50LlxuICAgICAgICAgICAgaWYgKHNwcml0ZSAhPT0gJ19fZGVmYXVsdCcgfHwgc291bmQuX2xvb3ApIHtcbiAgICAgICAgICAgICAgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0gPSBzZXRUaW1lb3V0KHNlbGYuX2VuZGVkLmJpbmQoc2VsZiwgc291bmQpLCB0aW1lb3V0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNlbGYuX2VuZFRpbWVyc1tzb3VuZC5faWRdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgLy8gRmlyZSBlbmRlZCBvbiB0aGlzIGF1ZGlvIG5vZGUuXG4gICAgICAgICAgICAgICAgc2VsZi5fZW5kZWQoc291bmQpO1xuXG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgdGhpcyBsaXN0ZW5lci5cbiAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0sIGZhbHNlKTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIHNlbGYuX2VuZFRpbWVyc1tzb3VuZC5faWRdLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5ZXJyb3InLCBzb3VuZC5faWQsIGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIElmIHRoaXMgaXMgc3RyZWFtaW5nIGF1ZGlvLCBtYWtlIHN1cmUgdGhlIHNyYyBpcyBzZXQgYW5kIGxvYWQgYWdhaW4uXG4gICAgICAgIGlmIChub2RlLnNyYyA9PT0gJ2RhdGE6YXVkaW8vd2F2O2Jhc2U2NCxVa2xHUmlnQUFBQlhRVlpGWm0xMElCSUFBQUFCQUFFQVJLd0FBSWhZQVFBQ0FCQUFBQUJrWVhSaEFnQUFBQUVBJykge1xuICAgICAgICAgIG5vZGUuc3JjID0gc2VsZi5fc3JjO1xuICAgICAgICAgIG5vZGUubG9hZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUGxheSBpbW1lZGlhdGVseSBpZiByZWFkeSwgb3Igd2FpdCBmb3IgdGhlICdjYW5wbGF5dGhyb3VnaCdlIHZlbnQuXG4gICAgICAgIHZhciBsb2FkZWROb1JlYWR5U3RhdGUgPSAod2luZG93ICYmIHdpbmRvdy5lamVjdGEpIHx8ICghbm9kZS5yZWFkeVN0YXRlICYmIEhvd2xlci5fbmF2aWdhdG9yLmlzQ29jb29uSlMpO1xuICAgICAgICBpZiAobm9kZS5yZWFkeVN0YXRlID49IDMgfHwgbG9hZGVkTm9SZWFkeVN0YXRlKSB7XG4gICAgICAgICAgcGxheUh0bWw1KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5fcGxheUxvY2sgPSB0cnVlO1xuXG4gICAgICAgICAgdmFyIGxpc3RlbmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBCZWdpbiBwbGF5YmFjay5cbiAgICAgICAgICAgIHBsYXlIdG1sNSgpO1xuXG4gICAgICAgICAgICAvLyBDbGVhciB0aGlzIGxpc3RlbmVyLlxuICAgICAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKEhvd2xlci5fY2FuUGxheUV2ZW50LCBsaXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKEhvd2xlci5fY2FuUGxheUV2ZW50LCBsaXN0ZW5lciwgZmFsc2UpO1xuXG4gICAgICAgICAgLy8gQ2FuY2VsIHRoZSBlbmQgdGltZXIuXG4gICAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihzb3VuZC5faWQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzb3VuZC5faWQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFBhdXNlIHBsYXliYWNrIGFuZCBzYXZlIGN1cnJlbnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCBUaGUgc291bmQgSUQgKGVtcHR5IHRvIHBhdXNlIGFsbCBpbiBncm91cCkuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBwYXVzZTogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQgb3IgYSBwbGF5KCkgcHJvbWlzZSBpcyBwZW5kaW5nLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gcGF1c2Ugd2hlbiBjYXBhYmxlLlxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJyB8fCBzZWxmLl9wbGF5TG9jaykge1xuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICBldmVudDogJ3BhdXNlJyxcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5wYXVzZShpZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgbm8gaWQgaXMgcGFzc2VkLCBnZXQgYWxsIElEJ3MgdG8gYmUgcGF1c2VkLlxuICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcblxuICAgICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBDbGVhciB0aGUgZW5kIHRpbWVyLlxuICAgICAgICBzZWxmLl9jbGVhclRpbWVyKGlkc1tpXSk7XG5cbiAgICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XG5cbiAgICAgICAgaWYgKHNvdW5kICYmICFzb3VuZC5fcGF1c2VkKSB7XG4gICAgICAgICAgLy8gUmVzZXQgdGhlIHNlZWsgcG9zaXRpb24uXG4gICAgICAgICAgc291bmQuX3NlZWsgPSBzZWxmLnNlZWsoaWRzW2ldKTtcbiAgICAgICAgICBzb3VuZC5fcmF0ZVNlZWsgPSAwO1xuICAgICAgICAgIHNvdW5kLl9wYXVzZWQgPSB0cnVlO1xuXG4gICAgICAgICAgLy8gU3RvcCBjdXJyZW50bHkgcnVubmluZyBmYWRlcy5cbiAgICAgICAgICBzZWxmLl9zdG9wRmFkZShpZHNbaV0pO1xuXG4gICAgICAgICAgaWYgKHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBzb3VuZCBoYXMgYmVlbiBjcmVhdGVkLlxuICAgICAgICAgICAgICBpZiAoIXNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2Uuc3RvcCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2Uubm90ZU9mZigwKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2Uuc3RvcCgwKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIENsZWFuIHVwIHRoZSBidWZmZXIgc291cmNlLlxuICAgICAgICAgICAgICBzZWxmLl9jbGVhbkJ1ZmZlcihzb3VuZC5fbm9kZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFpc05hTihzb3VuZC5fbm9kZS5kdXJhdGlvbikgfHwgc291bmQuX25vZGUuZHVyYXRpb24gPT09IEluZmluaXR5KSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLnBhdXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmlyZSB0aGUgcGF1c2UgZXZlbnQsIHVubGVzcyBgdHJ1ZWAgaXMgcGFzc2VkIGFzIHRoZSAybmQgYXJndW1lbnQuXG4gICAgICAgIGlmICghYXJndW1lbnRzWzFdKSB7XG4gICAgICAgICAgc2VsZi5fZW1pdCgncGF1c2UnLCBzb3VuZCA/IHNvdW5kLl9pZCA6IG51bGwpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTdG9wIHBsYXliYWNrIGFuZCByZXNldCB0byBzdGFydC5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFRoZSBzb3VuZCBJRCAoZW1wdHkgdG8gc3RvcCBhbGwgaW4gZ3JvdXApLlxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IGludGVybmFsIEludGVybmFsIFVzZTogdHJ1ZSBwcmV2ZW50cyBldmVudCBmaXJpbmcuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBzdG9wOiBmdW5jdGlvbihpZCwgaW50ZXJuYWwpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBzdG9wIHdoZW4gY2FwYWJsZS5cbiAgICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcgfHwgc2VsZi5fcGxheUxvY2spIHtcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgZXZlbnQ6ICdzdG9wJyxcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5zdG9wKGlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBubyBpZCBpcyBwYXNzZWQsIGdldCBhbGwgSUQncyB0byBiZSBzdG9wcGVkLlxuICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcblxuICAgICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBDbGVhciB0aGUgZW5kIHRpbWVyLlxuICAgICAgICBzZWxmLl9jbGVhclRpbWVyKGlkc1tpXSk7XG5cbiAgICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XG5cbiAgICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgICAgLy8gUmVzZXQgdGhlIHNlZWsgcG9zaXRpb24uXG4gICAgICAgICAgc291bmQuX3NlZWsgPSBzb3VuZC5fc3RhcnQgfHwgMDtcbiAgICAgICAgICBzb3VuZC5fcmF0ZVNlZWsgPSAwO1xuICAgICAgICAgIHNvdW5kLl9wYXVzZWQgPSB0cnVlO1xuICAgICAgICAgIHNvdW5kLl9lbmRlZCA9IHRydWU7XG5cbiAgICAgICAgICAvLyBTdG9wIGN1cnJlbnRseSBydW5uaW5nIGZhZGVzLlxuICAgICAgICAgIHNlbGYuX3N0b3BGYWRlKGlkc1tpXSk7XG5cbiAgICAgICAgICBpZiAoc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xuICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHNvdW5kJ3MgQXVkaW9CdWZmZXJTb3VyY2VOb2RlIGhhcyBiZWVuIGNyZWF0ZWQuXG4gICAgICAgICAgICAgIGlmIChzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5zdG9wID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLm5vdGVPZmYoMCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5zdG9wKDApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENsZWFuIHVwIHRoZSBidWZmZXIgc291cmNlLlxuICAgICAgICAgICAgICAgIHNlbGYuX2NsZWFuQnVmZmVyKHNvdW5kLl9ub2RlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICghaXNOYU4oc291bmQuX25vZGUuZHVyYXRpb24pIHx8IHNvdW5kLl9ub2RlLmR1cmF0aW9uID09PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5jdXJyZW50VGltZSA9IHNvdW5kLl9zdGFydCB8fCAwO1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5wYXVzZSgpO1xuXG4gICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgYSBsaXZlIHN0cmVhbSwgc3RvcCBkb3dubG9hZCBvbmNlIHRoZSBhdWRpbyBpcyBzdG9wcGVkLlxuICAgICAgICAgICAgICBpZiAoc291bmQuX25vZGUuZHVyYXRpb24gPT09IEluZmluaXR5KSB7XG4gICAgICAgICAgICAgICAgc2VsZi5fY2xlYXJTb3VuZChzb3VuZC5fbm9kZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWludGVybmFsKSB7XG4gICAgICAgICAgICBzZWxmLl9lbWl0KCdzdG9wJywgc291bmQuX2lkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE11dGUvdW5tdXRlIGEgc2luZ2xlIHNvdW5kIG9yIGFsbCBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IG11dGVkIFNldCB0byB0cnVlIHRvIG11dGUgYW5kIGZhbHNlIHRvIHVubXV0ZS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkICAgIFRoZSBzb3VuZCBJRCB0byB1cGRhdGUgKG9taXQgdG8gbXV0ZS91bm11dGUgYWxsKS5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIG11dGU6IGZ1bmN0aW9uKG11dGVkLCBpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIG11dGUgd2hlbiBjYXBhYmxlLlxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJ3x8IHNlbGYuX3BsYXlMb2NrKSB7XG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICAgIGV2ZW50OiAnbXV0ZScsXG4gICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYubXV0ZShtdXRlZCwgaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIGFwcGx5aW5nIG11dGUvdW5tdXRlIHRvIGFsbCBzb3VuZHMsIHVwZGF0ZSB0aGUgZ3JvdXAncyB2YWx1ZS5cbiAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbXV0ZWQgPT09ICdib29sZWFuJykge1xuICAgICAgICAgIHNlbGYuX211dGVkID0gbXV0ZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGYuX211dGVkO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG5vIGlkIGlzIHBhc3NlZCwgZ2V0IGFsbCBJRCdzIHRvIGJlIG11dGVkLlxuICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcblxuICAgICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgICBzb3VuZC5fbXV0ZWQgPSBtdXRlZDtcblxuICAgICAgICAgIC8vIENhbmNlbCBhY3RpdmUgZmFkZSBhbmQgc2V0IHRoZSB2b2x1bWUgdG8gdGhlIGVuZCB2YWx1ZS5cbiAgICAgICAgICBpZiAoc291bmQuX2ludGVydmFsKSB7XG4gICAgICAgICAgICBzZWxmLl9zdG9wRmFkZShzb3VuZC5faWQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgc291bmQuX25vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZShtdXRlZCA/IDAgOiBzb3VuZC5fdm9sdW1lLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICBzb3VuZC5fbm9kZS5tdXRlZCA9IEhvd2xlci5fbXV0ZWQgPyB0cnVlIDogbXV0ZWQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fZW1pdCgnbXV0ZScsIHNvdW5kLl9pZCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldC9zZXQgdGhlIHZvbHVtZSBvZiB0aGlzIHNvdW5kIG9yIG9mIHRoZSBIb3dsIGdyb3VwLiBUaGlzIG1ldGhvZCBjYW4gb3B0aW9uYWxseSB0YWtlIDAsIDEgb3IgMiBhcmd1bWVudHMuXG4gICAgICogICB2b2x1bWUoKSAtPiBSZXR1cm5zIHRoZSBncm91cCdzIHZvbHVtZSB2YWx1ZS5cbiAgICAgKiAgIHZvbHVtZShpZCkgLT4gUmV0dXJucyB0aGUgc291bmQgaWQncyBjdXJyZW50IHZvbHVtZS5cbiAgICAgKiAgIHZvbHVtZSh2b2wpIC0+IFNldHMgdGhlIHZvbHVtZSBvZiBhbGwgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cbiAgICAgKiAgIHZvbHVtZSh2b2wsIGlkKSAtPiBTZXRzIHRoZSB2b2x1bWUgb2YgcGFzc2VkIHNvdW5kIGlkLlxuICAgICAqIEByZXR1cm4ge0hvd2wvTnVtYmVyfSBSZXR1cm5zIHNlbGYgb3IgY3VycmVudCB2b2x1bWUuXG4gICAgICovXG4gICAgdm9sdW1lOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgdmFyIHZvbCwgaWQ7XG5cbiAgICAgIC8vIERldGVybWluZSB0aGUgdmFsdWVzIGJhc2VkIG9uIGFyZ3VtZW50cy5cbiAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBSZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSBncm91cHMnIHZvbHVtZS5cbiAgICAgICAgcmV0dXJuIHNlbGYuX3ZvbHVtZTtcbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDEgfHwgYXJncy5sZW5ndGggPT09IDIgJiYgdHlwZW9mIGFyZ3NbMV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIEZpcnN0IGNoZWNrIGlmIHRoaXMgaXMgYW4gSUQsIGFuZCBpZiBub3QsIGFzc3VtZSBpdCBpcyBhIG5ldyB2b2x1bWUuXG4gICAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcygpO1xuICAgICAgICB2YXIgaW5kZXggPSBpZHMuaW5kZXhPZihhcmdzWzBdKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMF0sIDEwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2b2wgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID49IDIpIHtcbiAgICAgICAgdm9sID0gcGFyc2VGbG9hdChhcmdzWzBdKTtcbiAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzFdLCAxMCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgdm9sdW1lIG9yIHJldHVybiB0aGUgY3VycmVudCB2b2x1bWUuXG4gICAgICB2YXIgc291bmQ7XG4gICAgICBpZiAodHlwZW9mIHZvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgdm9sID49IDAgJiYgdm9sIDw9IDEpIHtcbiAgICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBjaGFuZ2Ugdm9sdW1lIHdoZW4gY2FwYWJsZS5cbiAgICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJ3x8IHNlbGYuX3BsYXlMb2NrKSB7XG4gICAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgICBldmVudDogJ3ZvbHVtZScsXG4gICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBzZWxmLnZvbHVtZS5hcHBseShzZWxmLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IHRoZSBncm91cCB2b2x1bWUuXG4gICAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgc2VsZi5fdm9sdW1lID0gdm9sO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIG9uZSBvciBhbGwgdm9sdW1lcy5cbiAgICAgICAgaWQgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxpZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIC8vIEdldCB0aGUgc291bmQuXG4gICAgICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRbaV0pO1xuXG4gICAgICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgICAgICBzb3VuZC5fdm9sdW1lID0gdm9sO1xuXG4gICAgICAgICAgICAvLyBTdG9wIGN1cnJlbnRseSBydW5uaW5nIGZhZGVzLlxuICAgICAgICAgICAgaWYgKCFhcmdzWzJdKSB7XG4gICAgICAgICAgICAgIHNlbGYuX3N0b3BGYWRlKGlkW2ldKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmIHNvdW5kLl9ub2RlICYmICFzb3VuZC5fbXV0ZWQpIHtcbiAgICAgICAgICAgICAgc291bmQuX25vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZSh2b2wsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzb3VuZC5fbm9kZSAmJiAhc291bmQuX211dGVkKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLnZvbHVtZSA9IHZvbCAqIEhvd2xlci52b2x1bWUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VsZi5fZW1pdCgndm9sdW1lJywgc291bmQuX2lkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNvdW5kID0gaWQgPyBzZWxmLl9zb3VuZEJ5SWQoaWQpIDogc2VsZi5fc291bmRzWzBdO1xuICAgICAgICByZXR1cm4gc291bmQgPyBzb3VuZC5fdm9sdW1lIDogMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZhZGUgYSBjdXJyZW50bHkgcGxheWluZyBzb3VuZCBiZXR3ZWVuIHR3byB2b2x1bWVzIChpZiBubyBpZCBpcyBwYXNzc2VkLCBhbGwgc291bmRzIHdpbGwgZmFkZSkuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBmcm9tIFRoZSB2YWx1ZSB0byBmYWRlIGZyb20gKDAuMCB0byAxLjApLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gdG8gICBUaGUgdm9sdW1lIHRvIGZhZGUgdG8gKDAuMCB0byAxLjApLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gbGVuICBUaW1lIGluIG1pbGxpc2Vjb25kcyB0byBmYWRlLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgICBUaGUgc291bmQgaWQgKG9taXQgdG8gZmFkZSBhbGwgc291bmRzKS5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIGZhZGU6IGZ1bmN0aW9uKGZyb20sIHRvLCBsZW4sIGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gZmFkZSB3aGVuIGNhcGFibGUuXG4gICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnIHx8IHNlbGYuX3BsYXlMb2NrKSB7XG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICAgIGV2ZW50OiAnZmFkZScsXG4gICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuZmFkZShmcm9tLCB0bywgbGVuLCBpZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH1cblxuICAgICAgLy8gTWFrZSBzdXJlIHRoZSB0by9mcm9tL2xlbiB2YWx1ZXMgYXJlIG51bWJlcnMuXG4gICAgICBmcm9tID0gcGFyc2VGbG9hdChmcm9tKTtcbiAgICAgIHRvID0gcGFyc2VGbG9hdCh0byk7XG4gICAgICBsZW4gPSBwYXJzZUZsb2F0KGxlbik7XG5cbiAgICAgIC8vIFNldCB0aGUgdm9sdW1lIHRvIHRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgIHNlbGYudm9sdW1lKGZyb20sIGlkKTtcblxuICAgICAgLy8gRmFkZSB0aGUgdm9sdW1lIG9mIG9uZSBvciBhbGwgc291bmRzLlxuICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcbiAgICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGEgbGluZWFyIGZhZGUgb3IgZmFsbCBiYWNrIHRvIHRpbWVvdXRzIHdpdGggSFRNTDUgQXVkaW8uXG4gICAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICAgIC8vIFN0b3AgdGhlIHByZXZpb3VzIGZhZGUgaWYgbm8gc3ByaXRlIGlzIGJlaW5nIHVzZWQgKG90aGVyd2lzZSwgdm9sdW1lIGhhbmRsZXMgdGhpcykuXG4gICAgICAgICAgaWYgKCFpZCkge1xuICAgICAgICAgICAgc2VsZi5fc3RvcEZhZGUoaWRzW2ldKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBJZiB3ZSBhcmUgdXNpbmcgV2ViIEF1ZGlvLCBsZXQgdGhlIG5hdGl2ZSBtZXRob2RzIGRvIHRoZSBhY3R1YWwgZmFkZS5cbiAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8gJiYgIXNvdW5kLl9tdXRlZCkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gSG93bGVyLmN0eC5jdXJyZW50VGltZTtcbiAgICAgICAgICAgIHZhciBlbmQgPSBjdXJyZW50VGltZSArIChsZW4gLyAxMDAwKTtcbiAgICAgICAgICAgIHNvdW5kLl92b2x1bWUgPSBmcm9tO1xuICAgICAgICAgICAgc291bmQuX25vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZShmcm9tLCBjdXJyZW50VGltZSk7XG4gICAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHRvLCBlbmQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuX3N0YXJ0RmFkZUludGVydmFsKHNvdW5kLCBmcm9tLCB0bywgbGVuLCBpZHNbaV0sIHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTdGFydHMgdGhlIGludGVybmFsIGludGVydmFsIHRvIGZhZGUgYSBzb3VuZC5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IHNvdW5kIFJlZmVyZW5jZSB0byBzb3VuZCB0byBmYWRlLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gZnJvbSBUaGUgdmFsdWUgdG8gZmFkZSBmcm9tICgwLjAgdG8gMS4wKS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHRvICAgVGhlIHZvbHVtZSB0byBmYWRlIHRvICgwLjAgdG8gMS4wKS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGxlbiAgVGltZSBpbiBtaWxsaXNlY29uZHMgdG8gZmFkZS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkICAgVGhlIHNvdW5kIGlkIHRvIGZhZGUuXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gaXNHcm91cCAgIElmIHRydWUsIHNldCB0aGUgdm9sdW1lIG9uIHRoZSBncm91cC5cbiAgICAgKi9cbiAgICBfc3RhcnRGYWRlSW50ZXJ2YWw6IGZ1bmN0aW9uKHNvdW5kLCBmcm9tLCB0bywgbGVuLCBpZCwgaXNHcm91cCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHZvbCA9IGZyb207XG4gICAgICB2YXIgZGlmZiA9IHRvIC0gZnJvbTtcbiAgICAgIHZhciBzdGVwcyA9IE1hdGguYWJzKGRpZmYgLyAwLjAxKTtcbiAgICAgIHZhciBzdGVwTGVuID0gTWF0aC5tYXgoNCwgKHN0ZXBzID4gMCkgPyBsZW4gLyBzdGVwcyA6IGxlbik7XG4gICAgICB2YXIgbGFzdFRpY2sgPSBEYXRlLm5vdygpO1xuXG4gICAgICAvLyBTdG9yZSB0aGUgdmFsdWUgYmVpbmcgZmFkZWQgdG8uXG4gICAgICBzb3VuZC5fZmFkZVRvID0gdG87XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgdm9sdW1lIHZhbHVlIG9uIGVhY2ggaW50ZXJ2YWwgdGljay5cbiAgICAgIHNvdW5kLl9pbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBVcGRhdGUgdGhlIHZvbHVtZSBiYXNlZCBvbiB0aGUgdGltZSBzaW5jZSB0aGUgbGFzdCB0aWNrLlxuICAgICAgICB2YXIgdGljayA9IChEYXRlLm5vdygpIC0gbGFzdFRpY2spIC8gbGVuO1xuICAgICAgICBsYXN0VGljayA9IERhdGUubm93KCk7XG4gICAgICAgIHZvbCArPSBkaWZmICogdGljaztcblxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHZvbHVtZSBpcyBpbiB0aGUgcmlnaHQgYm91bmRzLlxuICAgICAgICB2b2wgPSBNYXRoLm1heCgwLCB2b2wpO1xuICAgICAgICB2b2wgPSBNYXRoLm1pbigxLCB2b2wpO1xuXG4gICAgICAgIC8vIFJvdW5kIHRvIHdpdGhpbiAyIGRlY2ltYWwgcG9pbnRzLlxuICAgICAgICB2b2wgPSBNYXRoLnJvdW5kKHZvbCAqIDEwMCkgLyAxMDA7XG5cbiAgICAgICAgLy8gQ2hhbmdlIHRoZSB2b2x1bWUuXG4gICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xuICAgICAgICAgIHNvdW5kLl92b2x1bWUgPSB2b2w7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi52b2x1bWUodm9sLCBzb3VuZC5faWQsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IHRoZSBncm91cCdzIHZvbHVtZS5cbiAgICAgICAgaWYgKGlzR3JvdXApIHtcbiAgICAgICAgICBzZWxmLl92b2x1bWUgPSB2b2w7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXaGVuIHRoZSBmYWRlIGlzIGNvbXBsZXRlLCBzdG9wIGl0IGFuZCBmaXJlIGV2ZW50LlxuICAgICAgICBpZiAoKHRvIDwgZnJvbSAmJiB2b2wgPD0gdG8pIHx8ICh0byA+IGZyb20gJiYgdm9sID49IHRvKSkge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoc291bmQuX2ludGVydmFsKTtcbiAgICAgICAgICBzb3VuZC5faW50ZXJ2YWwgPSBudWxsO1xuICAgICAgICAgIHNvdW5kLl9mYWRlVG8gPSBudWxsO1xuICAgICAgICAgIHNlbGYudm9sdW1lKHRvLCBzb3VuZC5faWQpO1xuICAgICAgICAgIHNlbGYuX2VtaXQoJ2ZhZGUnLCBzb3VuZC5faWQpO1xuICAgICAgICB9XG4gICAgICB9LCBzdGVwTGVuKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgbWV0aG9kIHRoYXQgc3RvcHMgdGhlIGN1cnJlbnRseSBwbGF5aW5nIGZhZGUgd2hlblxuICAgICAqIGEgbmV3IGZhZGUgc3RhcnRzLCB2b2x1bWUgaXMgY2hhbmdlZCBvciB0aGUgc291bmQgaXMgc3RvcHBlZC5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFRoZSBzb3VuZCBpZC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIF9zdG9wRmFkZTogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZCk7XG5cbiAgICAgIGlmIChzb3VuZCAmJiBzb3VuZC5faW50ZXJ2YWwpIHtcbiAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgc291bmQuX25vZGUuZ2Fpbi5jYW5jZWxTY2hlZHVsZWRWYWx1ZXMoSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgIH1cblxuICAgICAgICBjbGVhckludGVydmFsKHNvdW5kLl9pbnRlcnZhbCk7XG4gICAgICAgIHNvdW5kLl9pbnRlcnZhbCA9IG51bGw7XG4gICAgICAgIHNlbGYudm9sdW1lKHNvdW5kLl9mYWRlVG8sIGlkKTtcbiAgICAgICAgc291bmQuX2ZhZGVUbyA9IG51bGw7XG4gICAgICAgIHNlbGYuX2VtaXQoJ2ZhZGUnLCBpZCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQvc2V0IHRoZSBsb29wIHBhcmFtZXRlciBvbiBhIHNvdW5kLiBUaGlzIG1ldGhvZCBjYW4gb3B0aW9uYWxseSB0YWtlIDAsIDEgb3IgMiBhcmd1bWVudHMuXG4gICAgICogICBsb29wKCkgLT4gUmV0dXJucyB0aGUgZ3JvdXAncyBsb29wIHZhbHVlLlxuICAgICAqICAgbG9vcChpZCkgLT4gUmV0dXJucyB0aGUgc291bmQgaWQncyBsb29wIHZhbHVlLlxuICAgICAqICAgbG9vcChsb29wKSAtPiBTZXRzIHRoZSBsb29wIHZhbHVlIGZvciBhbGwgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cbiAgICAgKiAgIGxvb3AobG9vcCwgaWQpIC0+IFNldHMgdGhlIGxvb3AgdmFsdWUgb2YgcGFzc2VkIHNvdW5kIGlkLlxuICAgICAqIEByZXR1cm4ge0hvd2wvQm9vbGVhbn0gUmV0dXJucyBzZWxmIG9yIGN1cnJlbnQgbG9vcCB2YWx1ZS5cbiAgICAgKi9cbiAgICBsb29wOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgdmFyIGxvb3AsIGlkLCBzb3VuZDtcblxuICAgICAgLy8gRGV0ZXJtaW5lIHRoZSB2YWx1ZXMgZm9yIGxvb3AgYW5kIGlkLlxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIFJldHVybiB0aGUgZ3JvdSdzIGxvb3AgdmFsdWUuXG4gICAgICAgIHJldHVybiBzZWxmLl9sb29wO1xuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBpZiAodHlwZW9mIGFyZ3NbMF0gPT09ICdib29sZWFuJykge1xuICAgICAgICAgIGxvb3AgPSBhcmdzWzBdO1xuICAgICAgICAgIHNlbGYuX2xvb3AgPSBsb29wO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFJldHVybiB0aGlzIHNvdW5kJ3MgbG9vcCB2YWx1ZS5cbiAgICAgICAgICBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChwYXJzZUludChhcmdzWzBdLCAxMCkpO1xuICAgICAgICAgIHJldHVybiBzb3VuZCA/IHNvdW5kLl9sb29wIDogZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgbG9vcCA9IGFyZ3NbMF07XG4gICAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1sxXSwgMTApO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBubyBpZCBpcyBwYXNzZWQsIGdldCBhbGwgSUQncyB0byBiZSBsb29wZWQuXG4gICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuICAgICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xuXG4gICAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICAgIHNvdW5kLl9sb29wID0gbG9vcDtcbiAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8gJiYgc291bmQuX25vZGUgJiYgc291bmQuX25vZGUuYnVmZmVyU291cmNlKSB7XG4gICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UubG9vcCA9IGxvb3A7XG4gICAgICAgICAgICBpZiAobG9vcCkge1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UubG9vcFN0YXJ0ID0gc291bmQuX3N0YXJ0IHx8IDA7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wRW5kID0gc291bmQuX3N0b3A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQvc2V0IHRoZSBwbGF5YmFjayByYXRlIG9mIGEgc291bmQuIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGx5IHRha2UgMCwgMSBvciAyIGFyZ3VtZW50cy5cbiAgICAgKiAgIHJhdGUoKSAtPiBSZXR1cm5zIHRoZSBmaXJzdCBzb3VuZCBub2RlJ3MgY3VycmVudCBwbGF5YmFjayByYXRlLlxuICAgICAqICAgcmF0ZShpZCkgLT4gUmV0dXJucyB0aGUgc291bmQgaWQncyBjdXJyZW50IHBsYXliYWNrIHJhdGUuXG4gICAgICogICByYXRlKHJhdGUpIC0+IFNldHMgdGhlIHBsYXliYWNrIHJhdGUgb2YgYWxsIHNvdW5kcyBpbiB0aGlzIEhvd2wgZ3JvdXAuXG4gICAgICogICByYXRlKHJhdGUsIGlkKSAtPiBTZXRzIHRoZSBwbGF5YmFjayByYXRlIG9mIHBhc3NlZCBzb3VuZCBpZC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsL051bWJlcn0gUmV0dXJucyBzZWxmIG9yIHRoZSBjdXJyZW50IHBsYXliYWNrIHJhdGUuXG4gICAgICovXG4gICAgcmF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIHZhciByYXRlLCBpZDtcblxuICAgICAgLy8gRGV0ZXJtaW5lIHRoZSB2YWx1ZXMgYmFzZWQgb24gYXJndW1lbnRzLlxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIFdlIHdpbGwgc2ltcGx5IHJldHVybiB0aGUgY3VycmVudCByYXRlIG9mIHRoZSBmaXJzdCBub2RlLlxuICAgICAgICBpZCA9IHNlbGYuX3NvdW5kc1swXS5faWQ7XG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIC8vIEZpcnN0IGNoZWNrIGlmIHRoaXMgaXMgYW4gSUQsIGFuZCBpZiBub3QsIGFzc3VtZSBpdCBpcyBhIG5ldyByYXRlIHZhbHVlLlxuICAgICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoKTtcbiAgICAgICAgdmFyIGluZGV4ID0gaWRzLmluZGV4T2YoYXJnc1swXSk7XG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzBdLCAxMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmF0ZSA9IHBhcnNlRmxvYXQoYXJnc1swXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgcmF0ZSA9IHBhcnNlRmxvYXQoYXJnc1swXSk7XG4gICAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1sxXSwgMTApO1xuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgdGhlIHBsYXliYWNrIHJhdGUgb3IgcmV0dXJuIHRoZSBjdXJyZW50IHZhbHVlLlxuICAgICAgdmFyIHNvdW5kO1xuICAgICAgaWYgKHR5cGVvZiByYXRlID09PSAnbnVtYmVyJykge1xuICAgICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIGNoYW5nZSBwbGF5YmFjayByYXRlIHdoZW4gY2FwYWJsZS5cbiAgICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJyB8fCBzZWxmLl9wbGF5TG9jaykge1xuICAgICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICAgICAgZXZlbnQ6ICdyYXRlJyxcbiAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHNlbGYucmF0ZS5hcHBseShzZWxmLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IHRoZSBncm91cCByYXRlLlxuICAgICAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHNlbGYuX3JhdGUgPSByYXRlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIG9uZSBvciBhbGwgdm9sdW1lcy5cbiAgICAgICAgaWQgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxpZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIC8vIEdldCB0aGUgc291bmQuXG4gICAgICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRbaV0pO1xuXG4gICAgICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgICAgICAvLyBLZWVwIHRyYWNrIG9mIG91ciBwb3NpdGlvbiB3aGVuIHRoZSByYXRlIGNoYW5nZWQgYW5kIHVwZGF0ZSB0aGUgcGxheWJhY2tcbiAgICAgICAgICAgIC8vIHN0YXJ0IHBvc2l0aW9uIHNvIHdlIGNhbiBwcm9wZXJseSBhZGp1c3QgdGhlIHNlZWsgcG9zaXRpb24gZm9yIHRpbWUgZWxhcHNlZC5cbiAgICAgICAgICAgIGlmIChzZWxmLnBsYXlpbmcoaWRbaV0pKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9yYXRlU2VlayA9IHNlbGYuc2VlayhpZFtpXSk7XG4gICAgICAgICAgICAgIHNvdW5kLl9wbGF5U3RhcnQgPSBzZWxmLl93ZWJBdWRpbyA/IEhvd2xlci5jdHguY3VycmVudFRpbWUgOiBzb3VuZC5fcGxheVN0YXJ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc291bmQuX3JhdGUgPSByYXRlO1xuXG4gICAgICAgICAgICAvLyBDaGFuZ2UgdGhlIHBsYXliYWNrIHJhdGUuXG4gICAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8gJiYgc291bmQuX25vZGUgJiYgc291bmQuX25vZGUuYnVmZmVyU291cmNlKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5wbGF5YmFja1JhdGUuc2V0VmFsdWVBdFRpbWUocmF0ZSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLnBsYXliYWNrUmF0ZSA9IHJhdGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlc2V0IHRoZSB0aW1lcnMuXG4gICAgICAgICAgICB2YXIgc2VlayA9IHNlbGYuc2VlayhpZFtpXSk7XG4gICAgICAgICAgICB2YXIgZHVyYXRpb24gPSAoKHNlbGYuX3Nwcml0ZVtzb3VuZC5fc3ByaXRlXVswXSArIHNlbGYuX3Nwcml0ZVtzb3VuZC5fc3ByaXRlXVsxXSkgLyAxMDAwKSAtIHNlZWs7XG4gICAgICAgICAgICB2YXIgdGltZW91dCA9IChkdXJhdGlvbiAqIDEwMDApIC8gTWF0aC5hYnMoc291bmQuX3JhdGUpO1xuXG4gICAgICAgICAgICAvLyBTdGFydCBhIG5ldyBlbmQgdGltZXIgaWYgc291bmQgaXMgYWxyZWFkeSBwbGF5aW5nLlxuICAgICAgICAgICAgaWYgKHNlbGYuX2VuZFRpbWVyc1tpZFtpXV0gfHwgIXNvdW5kLl9wYXVzZWQpIHtcbiAgICAgICAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihpZFtpXSk7XG4gICAgICAgICAgICAgIHNlbGYuX2VuZFRpbWVyc1tpZFtpXV0gPSBzZXRUaW1lb3V0KHNlbGYuX2VuZGVkLmJpbmQoc2VsZiwgc291bmQpLCB0aW1lb3V0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VsZi5fZW1pdCgncmF0ZScsIHNvdW5kLl9pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZCk7XG4gICAgICAgIHJldHVybiBzb3VuZCA/IHNvdW5kLl9yYXRlIDogc2VsZi5fcmF0ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldC9zZXQgdGhlIHNlZWsgcG9zaXRpb24gb2YgYSBzb3VuZC4gVGhpcyBtZXRob2QgY2FuIG9wdGlvbmFsbHkgdGFrZSAwLCAxIG9yIDIgYXJndW1lbnRzLlxuICAgICAqICAgc2VlaygpIC0+IFJldHVybnMgdGhlIGZpcnN0IHNvdW5kIG5vZGUncyBjdXJyZW50IHNlZWsgcG9zaXRpb24uXG4gICAgICogICBzZWVrKGlkKSAtPiBSZXR1cm5zIHRoZSBzb3VuZCBpZCdzIGN1cnJlbnQgc2VlayBwb3NpdGlvbi5cbiAgICAgKiAgIHNlZWsoc2VlaykgLT4gU2V0cyB0aGUgc2VlayBwb3NpdGlvbiBvZiB0aGUgZmlyc3Qgc291bmQgbm9kZS5cbiAgICAgKiAgIHNlZWsoc2VlaywgaWQpIC0+IFNldHMgdGhlIHNlZWsgcG9zaXRpb24gb2YgcGFzc2VkIHNvdW5kIGlkLlxuICAgICAqIEByZXR1cm4ge0hvd2wvTnVtYmVyfSBSZXR1cm5zIHNlbGYgb3IgdGhlIGN1cnJlbnQgc2VlayBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBzZWVrOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgdmFyIHNlZWssIGlkO1xuXG4gICAgICAvLyBEZXRlcm1pbmUgdGhlIHZhbHVlcyBiYXNlZCBvbiBhcmd1bWVudHMuXG4gICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gV2Ugd2lsbCBzaW1wbHkgcmV0dXJuIHRoZSBjdXJyZW50IHBvc2l0aW9uIG9mIHRoZSBmaXJzdCBub2RlLlxuICAgICAgICBpZCA9IHNlbGYuX3NvdW5kc1swXS5faWQ7XG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIC8vIEZpcnN0IGNoZWNrIGlmIHRoaXMgaXMgYW4gSUQsIGFuZCBpZiBub3QsIGFzc3VtZSBpdCBpcyBhIG5ldyBzZWVrIHBvc2l0aW9uLlxuICAgICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoKTtcbiAgICAgICAgdmFyIGluZGV4ID0gaWRzLmluZGV4T2YoYXJnc1swXSk7XG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzBdLCAxMCk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2VsZi5fc291bmRzLmxlbmd0aCkge1xuICAgICAgICAgIGlkID0gc2VsZi5fc291bmRzWzBdLl9pZDtcbiAgICAgICAgICBzZWVrID0gcGFyc2VGbG9hdChhcmdzWzBdKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICBzZWVrID0gcGFyc2VGbG9hdChhcmdzWzBdKTtcbiAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzFdLCAxMCk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZXJlIGlzIG5vIElELCBiYWlsIG91dC5cbiAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIHNlZWsgd2hlbiBjYXBhYmxlLlxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJyB8fCBzZWxmLl9wbGF5TG9jaykge1xuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICBldmVudDogJ3NlZWsnLFxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLnNlZWsuYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH1cblxuICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZCk7XG5cbiAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICBpZiAodHlwZW9mIHNlZWsgPT09ICdudW1iZXInICYmIHNlZWsgPj0gMCkge1xuICAgICAgICAgIC8vIFBhdXNlIHRoZSBzb3VuZCBhbmQgdXBkYXRlIHBvc2l0aW9uIGZvciByZXN0YXJ0aW5nIHBsYXliYWNrLlxuICAgICAgICAgIHZhciBwbGF5aW5nID0gc2VsZi5wbGF5aW5nKGlkKTtcbiAgICAgICAgICBpZiAocGxheWluZykge1xuICAgICAgICAgICAgc2VsZi5wYXVzZShpZCwgdHJ1ZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gTW92ZSB0aGUgcG9zaXRpb24gb2YgdGhlIHRyYWNrIGFuZCBjYW5jZWwgdGltZXIuXG4gICAgICAgICAgc291bmQuX3NlZWsgPSBzZWVrO1xuICAgICAgICAgIHNvdW5kLl9lbmRlZCA9IGZhbHNlO1xuICAgICAgICAgIHNlbGYuX2NsZWFyVGltZXIoaWQpO1xuXG4gICAgICAgICAgLy8gVXBkYXRlIHRoZSBzZWVrIHBvc2l0aW9uIGZvciBIVE1MNSBBdWRpby5cbiAgICAgICAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvICYmIHNvdW5kLl9ub2RlICYmICFpc05hTihzb3VuZC5fbm9kZS5kdXJhdGlvbikpIHtcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLmN1cnJlbnRUaW1lID0gc2VlaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBTZWVrIGFuZCBlbWl0IHdoZW4gcmVhZHkuXG4gICAgICAgICAgdmFyIHNlZWtBbmRFbWl0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLl9lbWl0KCdzZWVrJywgaWQpO1xuXG4gICAgICAgICAgICAvLyBSZXN0YXJ0IHRoZSBwbGF5YmFjayBpZiB0aGUgc291bmQgd2FzIHBsYXlpbmcuXG4gICAgICAgICAgICBpZiAocGxheWluZykge1xuICAgICAgICAgICAgICBzZWxmLnBsYXkoaWQsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyBXYWl0IGZvciB0aGUgcGxheSBsb2NrIHRvIGJlIHVuc2V0IGJlZm9yZSBlbWl0dGluZyAoSFRNTDUgQXVkaW8pLlxuICAgICAgICAgIGlmIChwbGF5aW5nICYmICFzZWxmLl93ZWJBdWRpbykge1xuICAgICAgICAgICAgdmFyIGVtaXRTZWVrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGlmICghc2VsZi5fcGxheUxvY2spIHtcbiAgICAgICAgICAgICAgICBzZWVrQW5kRW1pdCgpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZW1pdFNlZWssIDApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc2V0VGltZW91dChlbWl0U2VlaywgMCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlZWtBbmRFbWl0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xuICAgICAgICAgICAgdmFyIHJlYWxUaW1lID0gc2VsZi5wbGF5aW5nKGlkKSA/IEhvd2xlci5jdHguY3VycmVudFRpbWUgLSBzb3VuZC5fcGxheVN0YXJ0IDogMDtcbiAgICAgICAgICAgIHZhciByYXRlU2VlayA9IHNvdW5kLl9yYXRlU2VlayA/IHNvdW5kLl9yYXRlU2VlayAtIHNvdW5kLl9zZWVrIDogMDtcbiAgICAgICAgICAgIHJldHVybiBzb3VuZC5fc2VlayArIChyYXRlU2VlayArIHJlYWxUaW1lICogTWF0aC5hYnMoc291bmQuX3JhdGUpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHNvdW5kLl9ub2RlLmN1cnJlbnRUaW1lO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgYSBzcGVjaWZpYyBzb3VuZCBpcyBjdXJyZW50bHkgcGxheWluZyBvciBub3QgKGlmIGlkIGlzIHByb3ZpZGVkKSwgb3IgY2hlY2sgaWYgYXQgbGVhc3Qgb25lIG9mIHRoZSBzb3VuZHMgaW4gdGhlIGdyb3VwIGlzIHBsYXlpbmcgb3Igbm90LlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gIGlkIFRoZSBzb3VuZCBpZCB0byBjaGVjay4gSWYgbm9uZSBpcyBwYXNzZWQsIHRoZSB3aG9sZSBzb3VuZCBncm91cCBpcyBjaGVja2VkLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgcGxheWluZyBhbmQgZmFsc2UgaWYgbm90LlxuICAgICAqL1xuICAgIHBsYXlpbmc6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIENoZWNrIHRoZSBwYXNzZWQgc291bmQgSUQgKGlmIGFueSkuXG4gICAgICBpZiAodHlwZW9mIGlkID09PSAnbnVtYmVyJykge1xuICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWQpO1xuICAgICAgICByZXR1cm4gc291bmQgPyAhc291bmQuX3BhdXNlZCA6IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBPdGhlcndpc2UsIGxvb3AgdGhyb3VnaCBhbGwgc291bmRzIGFuZCBjaGVjayBpZiBhbnkgYXJlIHBsYXlpbmcuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghc2VsZi5fc291bmRzW2ldLl9wYXVzZWQpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZHVyYXRpb24gb2YgdGhpcyBzb3VuZC4gUGFzc2luZyBhIHNvdW5kIGlkIHdpbGwgcmV0dXJuIHRoZSBzcHJpdGUgZHVyYXRpb24uXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCBUaGUgc291bmQgaWQgdG8gY2hlY2suIElmIG5vbmUgaXMgcGFzc2VkLCByZXR1cm4gZnVsbCBzb3VyY2UgZHVyYXRpb24uXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBBdWRpbyBkdXJhdGlvbiBpbiBzZWNvbmRzLlxuICAgICAqL1xuICAgIGR1cmF0aW9uOiBmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGR1cmF0aW9uID0gc2VsZi5fZHVyYXRpb247XG5cbiAgICAgIC8vIElmIHdlIHBhc3MgYW4gSUQsIGdldCB0aGUgc291bmQgYW5kIHJldHVybiB0aGUgc3ByaXRlIGxlbmd0aC5cbiAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZCk7XG4gICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgZHVyYXRpb24gPSBzZWxmLl9zcHJpdGVbc291bmQuX3Nwcml0ZV1bMV0gLyAxMDAwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZHVyYXRpb247XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgbG9hZGVkIHN0YXRlIG9mIHRoaXMgSG93bC5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9ICd1bmxvYWRlZCcsICdsb2FkaW5nJywgJ2xvYWRlZCdcbiAgICAgKi9cbiAgICBzdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc3RhdGU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFVubG9hZCBhbmQgZGVzdHJveSB0aGUgY3VycmVudCBIb3dsIG9iamVjdC5cbiAgICAgKiBUaGlzIHdpbGwgaW1tZWRpYXRlbHkgc3RvcCBhbGwgc291bmQgaW5zdGFuY2VzIGF0dGFjaGVkIHRvIHRoaXMgZ3JvdXAuXG4gICAgICovXG4gICAgdW5sb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gU3RvcCBwbGF5aW5nIGFueSBhY3RpdmUgc291bmRzLlxuICAgICAgdmFyIHNvdW5kcyA9IHNlbGYuX3NvdW5kcztcbiAgICAgIGZvciAodmFyIGk9MDsgaTxzb3VuZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gU3RvcCB0aGUgc291bmQgaWYgaXQgaXMgY3VycmVudGx5IHBsYXlpbmcuXG4gICAgICAgIGlmICghc291bmRzW2ldLl9wYXVzZWQpIHtcbiAgICAgICAgICBzZWxmLnN0b3Aoc291bmRzW2ldLl9pZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZW1vdmUgdGhlIHNvdXJjZSBvciBkaXNjb25uZWN0LlxuICAgICAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgLy8gU2V0IHRoZSBzb3VyY2UgdG8gMC1zZWNvbmQgc2lsZW5jZSB0byBzdG9wIGFueSBkb3dubG9hZGluZyAoZXhjZXB0IGluIElFKS5cbiAgICAgICAgICBzZWxmLl9jbGVhclNvdW5kKHNvdW5kc1tpXS5fbm9kZSk7XG5cbiAgICAgICAgICAvLyBSZW1vdmUgYW55IGV2ZW50IGxpc3RlbmVycy5cbiAgICAgICAgICBzb3VuZHNbaV0uX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBzb3VuZHNbaV0uX2Vycm9yRm4sIGZhbHNlKTtcbiAgICAgICAgICBzb3VuZHNbaV0uX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihIb3dsZXIuX2NhblBsYXlFdmVudCwgc291bmRzW2ldLl9sb2FkRm4sIGZhbHNlKTtcblxuICAgICAgICAgIC8vIFJlbGVhc2UgdGhlIEF1ZGlvIG9iamVjdCBiYWNrIHRvIHRoZSBwb29sLlxuICAgICAgICAgIEhvd2xlci5fcmVsZWFzZUh0bWw1QXVkaW8oc291bmRzW2ldLl9ub2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEVtcHR5IG91dCBhbGwgb2YgdGhlIG5vZGVzLlxuICAgICAgICBkZWxldGUgc291bmRzW2ldLl9ub2RlO1xuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSBhbGwgdGltZXJzIGFyZSBjbGVhcmVkIG91dC5cbiAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihzb3VuZHNbaV0uX2lkKTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVtb3ZlIHRoZSByZWZlcmVuY2VzIGluIHRoZSBnbG9iYWwgSG93bGVyIG9iamVjdC5cbiAgICAgIHZhciBpbmRleCA9IEhvd2xlci5faG93bHMuaW5kZXhPZihzZWxmKTtcbiAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIEhvd2xlci5faG93bHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cblxuICAgICAgLy8gRGVsZXRlIHRoaXMgc291bmQgZnJvbSB0aGUgY2FjaGUgKGlmIG5vIG90aGVyIEhvd2wgaXMgdXNpbmcgaXQpLlxuICAgICAgdmFyIHJlbUNhY2hlID0gdHJ1ZTtcbiAgICAgIGZvciAoaT0wOyBpPEhvd2xlci5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKEhvd2xlci5faG93bHNbaV0uX3NyYyA9PT0gc2VsZi5fc3JjIHx8IHNlbGYuX3NyYy5pbmRleE9mKEhvd2xlci5faG93bHNbaV0uX3NyYykgPj0gMCkge1xuICAgICAgICAgIHJlbUNhY2hlID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGNhY2hlICYmIHJlbUNhY2hlKSB7XG4gICAgICAgIGRlbGV0ZSBjYWNoZVtzZWxmLl9zcmNdO1xuICAgICAgfVxuXG4gICAgICAvLyBDbGVhciBnbG9iYWwgZXJyb3JzLlxuICAgICAgSG93bGVyLm5vQXVkaW8gPSBmYWxzZTtcblxuICAgICAgLy8gQ2xlYXIgb3V0IGBzZWxmYC5cbiAgICAgIHNlbGYuX3N0YXRlID0gJ3VubG9hZGVkJztcbiAgICAgIHNlbGYuX3NvdW5kcyA9IFtdO1xuICAgICAgc2VsZiA9IG51bGw7XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMaXN0ZW4gdG8gYSBjdXN0b20gZXZlbnQuXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgIGV2ZW50IEV2ZW50IG5hbWUuXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGZuICAgIExpc3RlbmVyIHRvIGNhbGwuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgIGlkICAgIChvcHRpb25hbCkgT25seSBsaXN0ZW4gdG8gZXZlbnRzIGZvciB0aGlzIHNvdW5kLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gICBvbmNlICAoSU5URVJOQUwpIE1hcmtzIGV2ZW50IHRvIGZpcmUgb25seSBvbmNlLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgb246IGZ1bmN0aW9uKGV2ZW50LCBmbiwgaWQsIG9uY2UpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBldmVudHMgPSBzZWxmWydfb24nICsgZXZlbnRdO1xuXG4gICAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGV2ZW50cy5wdXNoKG9uY2UgPyB7aWQ6IGlkLCBmbjogZm4sIG9uY2U6IG9uY2V9IDoge2lkOiBpZCwgZm46IGZufSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBjdXN0b20gZXZlbnQuIENhbGwgd2l0aG91dCBwYXJhbWV0ZXJzIHRvIHJlbW92ZSBhbGwgZXZlbnRzLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBldmVudCBFdmVudCBuYW1lLlxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmbiAgICBMaXN0ZW5lciB0byByZW1vdmUuIExlYXZlIGVtcHR5IHRvIHJlbW92ZSBhbGwuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgIGlkICAgIChvcHRpb25hbCkgT25seSByZW1vdmUgZXZlbnRzIGZvciB0aGlzIHNvdW5kLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgb2ZmOiBmdW5jdGlvbihldmVudCwgZm4sIGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgZXZlbnRzID0gc2VsZlsnX29uJyArIGV2ZW50XTtcbiAgICAgIHZhciBpID0gMDtcblxuICAgICAgLy8gQWxsb3cgcGFzc2luZyBqdXN0IGFuIGV2ZW50IGFuZCBJRC5cbiAgICAgIGlmICh0eXBlb2YgZm4gPT09ICdudW1iZXInKSB7XG4gICAgICAgIGlkID0gZm47XG4gICAgICAgIGZuID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKGZuIHx8IGlkKSB7XG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBldmVudCBzdG9yZSBhbmQgcmVtb3ZlIHRoZSBwYXNzZWQgZnVuY3Rpb24uXG4gICAgICAgIGZvciAoaT0wOyBpPGV2ZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBpc0lkID0gKGlkID09PSBldmVudHNbaV0uaWQpO1xuICAgICAgICAgIGlmIChmbiA9PT0gZXZlbnRzW2ldLmZuICYmIGlzSWQgfHwgIWZuICYmIGlzSWQpIHtcbiAgICAgICAgICAgIGV2ZW50cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZXZlbnQpIHtcbiAgICAgICAgLy8gQ2xlYXIgb3V0IGFsbCBldmVudHMgb2YgdGhpcyB0eXBlLlxuICAgICAgICBzZWxmWydfb24nICsgZXZlbnRdID0gW107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDbGVhciBvdXQgYWxsIGV2ZW50cyBvZiBldmVyeSB0eXBlLlxuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNlbGYpO1xuICAgICAgICBmb3IgKGk9MDsgaTxrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKChrZXlzW2ldLmluZGV4T2YoJ19vbicpID09PSAwKSAmJiBBcnJheS5pc0FycmF5KHNlbGZba2V5c1tpXV0pKSB7XG4gICAgICAgICAgICBzZWxmW2tleXNbaV1dID0gW107XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMaXN0ZW4gdG8gYSBjdXN0b20gZXZlbnQgYW5kIHJlbW92ZSBpdCBvbmNlIGZpcmVkLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBldmVudCBFdmVudCBuYW1lLlxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmbiAgICBMaXN0ZW5lciB0byBjYWxsLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gICBpZCAgICAob3B0aW9uYWwpIE9ubHkgbGlzdGVuIHRvIGV2ZW50cyBmb3IgdGhpcyBzb3VuZC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIG9uY2U6IGZ1bmN0aW9uKGV2ZW50LCBmbiwgaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gU2V0dXAgdGhlIGV2ZW50IGxpc3RlbmVyLlxuICAgICAgc2VsZi5vbihldmVudCwgZm4sIGlkLCAxKTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEVtaXQgYWxsIGV2ZW50cyBvZiBhIHNwZWNpZmljIHR5cGUgYW5kIHBhc3MgdGhlIHNvdW5kIGlkLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gZXZlbnQgRXZlbnQgbmFtZS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkICAgIFNvdW5kIElELlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gbXNnICAgTWVzc2FnZSB0byBnbyB3aXRoIGV2ZW50LlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX2VtaXQ6IGZ1bmN0aW9uKGV2ZW50LCBpZCwgbXNnKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgZXZlbnRzID0gc2VsZlsnX29uJyArIGV2ZW50XTtcblxuICAgICAgLy8gTG9vcCB0aHJvdWdoIGV2ZW50IHN0b3JlIGFuZCBmaXJlIGFsbCBmdW5jdGlvbnMuXG4gICAgICBmb3IgKHZhciBpPWV2ZW50cy5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XG4gICAgICAgIC8vIE9ubHkgZmlyZSB0aGUgbGlzdGVuZXIgaWYgdGhlIGNvcnJlY3QgSUQgaXMgdXNlZC5cbiAgICAgICAgaWYgKCFldmVudHNbaV0uaWQgfHwgZXZlbnRzW2ldLmlkID09PSBpZCB8fCBldmVudCA9PT0gJ2xvYWQnKSB7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbihmbikge1xuICAgICAgICAgICAgZm4uY2FsbCh0aGlzLCBpZCwgbXNnKTtcbiAgICAgICAgICB9LmJpbmQoc2VsZiwgZXZlbnRzW2ldLmZuKSwgMCk7XG5cbiAgICAgICAgICAvLyBJZiB0aGlzIGV2ZW50IHdhcyBzZXR1cCB3aXRoIGBvbmNlYCwgcmVtb3ZlIGl0LlxuICAgICAgICAgIGlmIChldmVudHNbaV0ub25jZSkge1xuICAgICAgICAgICAgc2VsZi5vZmYoZXZlbnQsIGV2ZW50c1tpXS5mbiwgZXZlbnRzW2ldLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gUGFzcyB0aGUgZXZlbnQgdHlwZSBpbnRvIGxvYWQgcXVldWUgc28gdGhhdCBpdCBjYW4gY29udGludWUgc3RlcHBpbmcuXG4gICAgICBzZWxmLl9sb2FkUXVldWUoZXZlbnQpO1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUXVldWUgb2YgYWN0aW9ucyBpbml0aWF0ZWQgYmVmb3JlIHRoZSBzb3VuZCBoYXMgbG9hZGVkLlxuICAgICAqIFRoZXNlIHdpbGwgYmUgY2FsbGVkIGluIHNlcXVlbmNlLCB3aXRoIHRoZSBuZXh0IG9ubHkgZmlyaW5nXG4gICAgICogYWZ0ZXIgdGhlIHByZXZpb3VzIGhhcyBmaW5pc2hlZCBleGVjdXRpbmcgKGV2ZW4gaWYgYXN5bmMgbGlrZSBwbGF5KS5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIF9sb2FkUXVldWU6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIGlmIChzZWxmLl9xdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciB0YXNrID0gc2VsZi5fcXVldWVbMF07XG5cbiAgICAgICAgLy8gUmVtb3ZlIHRoaXMgdGFzayBpZiBhIG1hdGNoaW5nIGV2ZW50IHdhcyBwYXNzZWQuXG4gICAgICAgIGlmICh0YXNrLmV2ZW50ID09PSBldmVudCkge1xuICAgICAgICAgIHNlbGYuX3F1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSdW4gdGhlIHRhc2sgaWYgbm8gZXZlbnQgdHlwZSBpcyBwYXNzZWQuXG4gICAgICAgIGlmICghZXZlbnQpIHtcbiAgICAgICAgICB0YXNrLmFjdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHBsYXliYWNrIGVuZHMgYXQgdGhlIGVuZCBvZiB0aGUgZHVyYXRpb24uXG4gICAgICogQHBhcmFtICB7U291bmR9IHNvdW5kIFRoZSBzb3VuZCBvYmplY3QgdG8gd29yayB3aXRoLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX2VuZGVkOiBmdW5jdGlvbihzb3VuZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHNwcml0ZSA9IHNvdW5kLl9zcHJpdGU7XG5cbiAgICAgIC8vIElmIHdlIGFyZSB1c2luZyBJRSBhbmQgdGhlcmUgd2FzIG5ldHdvcmsgbGF0ZW5jeSB3ZSBtYXkgYmUgY2xpcHBpbmdcbiAgICAgIC8vIGF1ZGlvIGJlZm9yZSBpdCBjb21wbGV0ZXMgcGxheWluZy4gTGV0cyBjaGVjayB0aGUgbm9kZSB0byBtYWtlIHN1cmUgaXRcbiAgICAgIC8vIGJlbGlldmVzIGl0IGhhcyBjb21wbGV0ZWQsIGJlZm9yZSBlbmRpbmcgdGhlIHBsYXliYWNrLlxuICAgICAgaWYgKCFzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSAmJiAhc291bmQuX25vZGUucGF1c2VkICYmICFzb3VuZC5fbm9kZS5lbmRlZCAmJiBzb3VuZC5fbm9kZS5jdXJyZW50VGltZSA8IHNvdW5kLl9zdG9wKSB7XG4gICAgICAgIHNldFRpbWVvdXQoc2VsZi5fZW5kZWQuYmluZChzZWxmLCBzb3VuZCksIDEwMCk7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICAvLyBTaG91bGQgdGhpcyBzb3VuZCBsb29wP1xuICAgICAgdmFyIGxvb3AgPSAhIShzb3VuZC5fbG9vcCB8fCBzZWxmLl9zcHJpdGVbc3ByaXRlXVsyXSk7XG5cbiAgICAgIC8vIEZpcmUgdGhlIGVuZGVkIGV2ZW50LlxuICAgICAgc2VsZi5fZW1pdCgnZW5kJywgc291bmQuX2lkKTtcblxuICAgICAgLy8gUmVzdGFydCB0aGUgcGxheWJhY2sgZm9yIEhUTUw1IEF1ZGlvIGxvb3AuXG4gICAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvICYmIGxvb3ApIHtcbiAgICAgICAgc2VsZi5zdG9wKHNvdW5kLl9pZCwgdHJ1ZSkucGxheShzb3VuZC5faWQpO1xuICAgICAgfVxuXG4gICAgICAvLyBSZXN0YXJ0IHRoaXMgdGltZXIgaWYgb24gYSBXZWIgQXVkaW8gbG9vcC5cbiAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBsb29wKSB7XG4gICAgICAgIHNlbGYuX2VtaXQoJ3BsYXknLCBzb3VuZC5faWQpO1xuICAgICAgICBzb3VuZC5fc2VlayA9IHNvdW5kLl9zdGFydCB8fCAwO1xuICAgICAgICBzb3VuZC5fcmF0ZVNlZWsgPSAwO1xuICAgICAgICBzb3VuZC5fcGxheVN0YXJ0ID0gSG93bGVyLmN0eC5jdXJyZW50VGltZTtcblxuICAgICAgICB2YXIgdGltZW91dCA9ICgoc291bmQuX3N0b3AgLSBzb3VuZC5fc3RhcnQpICogMTAwMCkgLyBNYXRoLmFicyhzb3VuZC5fcmF0ZSk7XG4gICAgICAgIHNlbGYuX2VuZFRpbWVyc1tzb3VuZC5faWRdID0gc2V0VGltZW91dChzZWxmLl9lbmRlZC5iaW5kKHNlbGYsIHNvdW5kKSwgdGltZW91dCk7XG4gICAgICB9XG5cbiAgICAgIC8vIE1hcmsgdGhlIG5vZGUgYXMgcGF1c2VkLlxuICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmICFsb29wKSB7XG4gICAgICAgIHNvdW5kLl9wYXVzZWQgPSB0cnVlO1xuICAgICAgICBzb3VuZC5fZW5kZWQgPSB0cnVlO1xuICAgICAgICBzb3VuZC5fc2VlayA9IHNvdW5kLl9zdGFydCB8fCAwO1xuICAgICAgICBzb3VuZC5fcmF0ZVNlZWsgPSAwO1xuICAgICAgICBzZWxmLl9jbGVhclRpbWVyKHNvdW5kLl9pZCk7XG5cbiAgICAgICAgLy8gQ2xlYW4gdXAgdGhlIGJ1ZmZlciBzb3VyY2UuXG4gICAgICAgIHNlbGYuX2NsZWFuQnVmZmVyKHNvdW5kLl9ub2RlKTtcblxuICAgICAgICAvLyBBdHRlbXB0IHRvIGF1dG8tc3VzcGVuZCBBdWRpb0NvbnRleHQgaWYgbm8gc291bmRzIGFyZSBzdGlsbCBwbGF5aW5nLlxuICAgICAgICBIb3dsZXIuX2F1dG9TdXNwZW5kKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFdoZW4gdXNpbmcgYSBzcHJpdGUsIGVuZCB0aGUgdHJhY2suXG4gICAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvICYmICFsb29wKSB7XG4gICAgICAgIHNlbGYuc3RvcChzb3VuZC5faWQsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgdGhlIGVuZCB0aW1lciBmb3IgYSBzb3VuZCBwbGF5YmFjay5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFRoZSBzb3VuZCBJRC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIF9jbGVhclRpbWVyOiBmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBpZiAoc2VsZi5fZW5kVGltZXJzW2lkXSkge1xuICAgICAgICAvLyBDbGVhciB0aGUgdGltZW91dCBvciByZW1vdmUgdGhlIGVuZGVkIGxpc3RlbmVyLlxuICAgICAgICBpZiAodHlwZW9mIHNlbGYuX2VuZFRpbWVyc1tpZF0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQoc2VsZi5fZW5kVGltZXJzW2lkXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcbiAgICAgICAgICBpZiAoc291bmQgJiYgc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgc2VsZi5fZW5kVGltZXJzW2lkXSwgZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSBzZWxmLl9lbmRUaW1lcnNbaWRdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBzb3VuZCBpZGVudGlmaWVkIGJ5IHRoaXMgSUQsIG9yIHJldHVybiBudWxsLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgU291bmQgSURcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9ICAgIFNvdW5kIG9iamVjdCBvciBudWxsLlxuICAgICAqL1xuICAgIF9zb3VuZEJ5SWQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgc291bmRzIGFuZCBmaW5kIHRoZSBvbmUgd2l0aCB0aGlzIElELlxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3NvdW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaWQgPT09IHNlbGYuX3NvdW5kc1tpXS5faWQpIHtcbiAgICAgICAgICByZXR1cm4gc2VsZi5fc291bmRzW2ldO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYW4gaW5hY3RpdmUgc291bmQgZnJvbSB0aGUgcG9vbCBvciBjcmVhdGUgYSBuZXcgb25lLlxuICAgICAqIEByZXR1cm4ge1NvdW5kfSBTb3VuZCBwbGF5YmFjayBvYmplY3QuXG4gICAgICovXG4gICAgX2luYWN0aXZlU291bmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBzZWxmLl9kcmFpbigpO1xuXG4gICAgICAvLyBGaW5kIHRoZSBmaXJzdCBpbmFjdGl2ZSBub2RlIHRvIHJlY3ljbGUuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChzZWxmLl9zb3VuZHNbaV0uX2VuZGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGYuX3NvdW5kc1tpXS5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG5vIGluYWN0aXZlIG5vZGUgd2FzIGZvdW5kLCBjcmVhdGUgYSBuZXcgb25lLlxuICAgICAgcmV0dXJuIG5ldyBTb3VuZChzZWxmKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRHJhaW4gZXhjZXNzIGluYWN0aXZlIHNvdW5kcyBmcm9tIHRoZSBwb29sLlxuICAgICAqL1xuICAgIF9kcmFpbjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgbGltaXQgPSBzZWxmLl9wb29sO1xuICAgICAgdmFyIGNudCA9IDA7XG4gICAgICB2YXIgaSA9IDA7XG5cbiAgICAgIC8vIElmIHRoZXJlIGFyZSBsZXNzIHNvdW5kcyB0aGFuIHRoZSBtYXggcG9vbCBzaXplLCB3ZSBhcmUgZG9uZS5cbiAgICAgIGlmIChzZWxmLl9zb3VuZHMubGVuZ3RoIDwgbGltaXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBDb3VudCB0aGUgbnVtYmVyIG9mIGluYWN0aXZlIHNvdW5kcy5cbiAgICAgIGZvciAoaT0wOyBpPHNlbGYuX3NvdW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc2VsZi5fc291bmRzW2ldLl9lbmRlZCkge1xuICAgICAgICAgIGNudCsrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFJlbW92ZSBleGNlc3MgaW5hY3RpdmUgc291bmRzLCBnb2luZyBpbiByZXZlcnNlIG9yZGVyLlxuICAgICAgZm9yIChpPXNlbGYuX3NvdW5kcy5sZW5ndGggLSAxOyBpPj0wOyBpLS0pIHtcbiAgICAgICAgaWYgKGNudCA8PSBsaW1pdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWxmLl9zb3VuZHNbaV0uX2VuZGVkKSB7XG4gICAgICAgICAgLy8gRGlzY29ubmVjdCB0aGUgYXVkaW8gc291cmNlIHdoZW4gdXNpbmcgV2ViIEF1ZGlvLlxuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBzZWxmLl9zb3VuZHNbaV0uX25vZGUpIHtcbiAgICAgICAgICAgIHNlbGYuX3NvdW5kc1tpXS5fbm9kZS5kaXNjb25uZWN0KDApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFJlbW92ZSBzb3VuZHMgdW50aWwgd2UgaGF2ZSB0aGUgcG9vbCBzaXplLlxuICAgICAgICAgIHNlbGYuX3NvdW5kcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgY250LS07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IGFsbCBJRCdzIGZyb20gdGhlIHNvdW5kcyBwb29sLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgT25seSByZXR1cm4gb25lIElEIGlmIG9uZSBpcyBwYXNzZWQuXG4gICAgICogQHJldHVybiB7QXJyYXl9ICAgIEFycmF5IG9mIElEcy5cbiAgICAgKi9cbiAgICBfZ2V0U291bmRJZHM6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBpZHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3NvdW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlkcy5wdXNoKHNlbGYuX3NvdW5kc1tpXS5faWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGlkcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBbaWRdO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMb2FkIHRoZSBzb3VuZCBiYWNrIGludG8gdGhlIGJ1ZmZlciBzb3VyY2UuXG4gICAgICogQHBhcmFtICB7U291bmR9IHNvdW5kIFRoZSBzb3VuZCBvYmplY3QgdG8gd29yayB3aXRoLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX3JlZnJlc2hCdWZmZXI6IGZ1bmN0aW9uKHNvdW5kKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIFNldHVwIHRoZSBidWZmZXIgc291cmNlIGZvciBwbGF5YmFjay5cbiAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZSA9IEhvd2xlci5jdHguY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UuYnVmZmVyID0gY2FjaGVbc2VsZi5fc3JjXTtcblxuICAgICAgLy8gQ29ubmVjdCB0byB0aGUgY29ycmVjdCBub2RlLlxuICAgICAgaWYgKHNvdW5kLl9wYW5uZXIpIHtcbiAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmNvbm5lY3Qoc291bmQuX3Bhbm5lcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UuY29ubmVjdChzb3VuZC5fbm9kZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNldHVwIGxvb3BpbmcgYW5kIHBsYXliYWNrIHJhdGUuXG4gICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UubG9vcCA9IHNvdW5kLl9sb29wO1xuICAgICAgaWYgKHNvdW5kLl9sb29wKSB7XG4gICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wU3RhcnQgPSBzb3VuZC5fc3RhcnQgfHwgMDtcbiAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmxvb3BFbmQgPSBzb3VuZC5fc3RvcCB8fCAwO1xuICAgICAgfVxuICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLnBsYXliYWNrUmF0ZS5zZXRWYWx1ZUF0VGltZShzb3VuZC5fcmF0ZSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQcmV2ZW50IG1lbW9yeSBsZWFrcyBieSBjbGVhbmluZyB1cCB0aGUgYnVmZmVyIHNvdXJjZSBhZnRlciBwbGF5YmFjay5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG5vZGUgU291bmQncyBhdWRpbyBub2RlIGNvbnRhaW5pbmcgdGhlIGJ1ZmZlciBzb3VyY2UuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBfY2xlYW5CdWZmZXI6IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBpc0lPUyA9IEhvd2xlci5fbmF2aWdhdG9yICYmIEhvd2xlci5fbmF2aWdhdG9yLnZlbmRvci5pbmRleE9mKCdBcHBsZScpID49IDA7XG5cbiAgICAgIGlmIChIb3dsZXIuX3NjcmF0Y2hCdWZmZXIgJiYgbm9kZS5idWZmZXJTb3VyY2UpIHtcbiAgICAgICAgbm9kZS5idWZmZXJTb3VyY2Uub25lbmRlZCA9IG51bGw7XG4gICAgICAgIG5vZGUuYnVmZmVyU291cmNlLmRpc2Nvbm5lY3QoMCk7XG4gICAgICAgIGlmIChpc0lPUykge1xuICAgICAgICAgIHRyeSB7IG5vZGUuYnVmZmVyU291cmNlLmJ1ZmZlciA9IEhvd2xlci5fc2NyYXRjaEJ1ZmZlcjsgfSBjYXRjaChlKSB7fVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBub2RlLmJ1ZmZlclNvdXJjZSA9IG51bGw7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHNvdXJjZSB0byBhIDAtc2Vjb25kIHNpbGVuY2UgdG8gc3RvcCBhbnkgZG93bmxvYWRpbmcgKGV4Y2VwdCBpbiBJRSkuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBub2RlIEF1ZGlvIG5vZGUgdG8gY2xlYXIuXG4gICAgICovXG4gICAgX2NsZWFyU291bmQ6IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIHZhciBjaGVja0lFID0gL01TSUUgfFRyaWRlbnRcXC8vLnRlc3QoSG93bGVyLl9uYXZpZ2F0b3IgJiYgSG93bGVyLl9uYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICAgIGlmICghY2hlY2tJRSkge1xuICAgICAgICBub2RlLnNyYyA9ICdkYXRhOmF1ZGlvL3dhdjtiYXNlNjQsVWtsR1JpZ0FBQUJYUVZaRlptMTBJQklBQUFBQkFBRUFSS3dBQUloWUFRQUNBQkFBQUFCa1lYUmhBZ0FBQUFFQSc7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKiBTaW5nbGUgU291bmQgTWV0aG9kcyAqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvKipcbiAgICogU2V0dXAgdGhlIHNvdW5kIG9iamVjdCwgd2hpY2ggZWFjaCBub2RlIGF0dGFjaGVkIHRvIGEgSG93bCBncm91cCBpcyBjb250YWluZWQgaW4uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBob3dsIFRoZSBIb3dsIHBhcmVudCBncm91cC5cbiAgICovXG4gIHZhciBTb3VuZCA9IGZ1bmN0aW9uKGhvd2wpIHtcbiAgICB0aGlzLl9wYXJlbnQgPSBob3dsO1xuICAgIHRoaXMuaW5pdCgpO1xuICB9O1xuICBTb3VuZC5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBhIG5ldyBTb3VuZCBvYmplY3QuXG4gICAgICogQHJldHVybiB7U291bmR9XG4gICAgICovXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xuXG4gICAgICAvLyBTZXR1cCB0aGUgZGVmYXVsdCBwYXJhbWV0ZXJzLlxuICAgICAgc2VsZi5fbXV0ZWQgPSBwYXJlbnQuX211dGVkO1xuICAgICAgc2VsZi5fbG9vcCA9IHBhcmVudC5fbG9vcDtcbiAgICAgIHNlbGYuX3ZvbHVtZSA9IHBhcmVudC5fdm9sdW1lO1xuICAgICAgc2VsZi5fcmF0ZSA9IHBhcmVudC5fcmF0ZTtcbiAgICAgIHNlbGYuX3NlZWsgPSAwO1xuICAgICAgc2VsZi5fcGF1c2VkID0gdHJ1ZTtcbiAgICAgIHNlbGYuX2VuZGVkID0gdHJ1ZTtcbiAgICAgIHNlbGYuX3Nwcml0ZSA9ICdfX2RlZmF1bHQnO1xuXG4gICAgICAvLyBHZW5lcmF0ZSBhIHVuaXF1ZSBJRCBmb3IgdGhpcyBzb3VuZC5cbiAgICAgIHNlbGYuX2lkID0gKytIb3dsZXIuX2NvdW50ZXI7XG5cbiAgICAgIC8vIEFkZCBpdHNlbGYgdG8gdGhlIHBhcmVudCdzIHBvb2wuXG4gICAgICBwYXJlbnQuX3NvdW5kcy5wdXNoKHNlbGYpO1xuXG4gICAgICAvLyBDcmVhdGUgdGhlIG5ldyBub2RlLlxuICAgICAgc2VsZi5jcmVhdGUoKTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbmQgc2V0dXAgYSBuZXcgc291bmQgb2JqZWN0LCB3aGV0aGVyIEhUTUw1IEF1ZGlvIG9yIFdlYiBBdWRpby5cbiAgICAgKiBAcmV0dXJuIHtTb3VuZH1cbiAgICAgKi9cbiAgICBjcmVhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcbiAgICAgIHZhciB2b2x1bWUgPSAoSG93bGVyLl9tdXRlZCB8fCBzZWxmLl9tdXRlZCB8fCBzZWxmLl9wYXJlbnQuX211dGVkKSA/IDAgOiBzZWxmLl92b2x1bWU7XG5cbiAgICAgIGlmIChwYXJlbnQuX3dlYkF1ZGlvKSB7XG4gICAgICAgIC8vIENyZWF0ZSB0aGUgZ2FpbiBub2RlIGZvciBjb250cm9sbGluZyB2b2x1bWUgKHRoZSBzb3VyY2Ugd2lsbCBjb25uZWN0IHRvIHRoaXMpLlxuICAgICAgICBzZWxmLl9ub2RlID0gKHR5cGVvZiBIb3dsZXIuY3R4LmNyZWF0ZUdhaW4gPT09ICd1bmRlZmluZWQnKSA/IEhvd2xlci5jdHguY3JlYXRlR2Fpbk5vZGUoKSA6IEhvd2xlci5jdHguY3JlYXRlR2FpbigpO1xuICAgICAgICBzZWxmLl9ub2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUodm9sdW1lLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgc2VsZi5fbm9kZS5wYXVzZWQgPSB0cnVlO1xuICAgICAgICBzZWxmLl9ub2RlLmNvbm5lY3QoSG93bGVyLm1hc3RlckdhaW4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gR2V0IGFuIHVubG9ja2VkIEF1ZGlvIG9iamVjdCBmcm9tIHRoZSBwb29sLlxuICAgICAgICBzZWxmLl9ub2RlID0gSG93bGVyLl9vYnRhaW5IdG1sNUF1ZGlvKCk7XG5cbiAgICAgICAgLy8gTGlzdGVuIGZvciBlcnJvcnMgKGh0dHA6Ly9kZXYudzMub3JnL2h0bWw1L3NwZWMtYXV0aG9yLXZpZXcvc3BlYy5odG1sI21lZGlhZXJyb3IpLlxuICAgICAgICBzZWxmLl9lcnJvckZuID0gc2VsZi5fZXJyb3JMaXN0ZW5lci5iaW5kKHNlbGYpO1xuICAgICAgICBzZWxmLl9ub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgc2VsZi5fZXJyb3JGbiwgZmFsc2UpO1xuXG4gICAgICAgIC8vIExpc3RlbiBmb3IgJ2NhbnBsYXl0aHJvdWdoJyBldmVudCB0byBsZXQgdXMga25vdyB0aGUgc291bmQgaXMgcmVhZHkuXG4gICAgICAgIHNlbGYuX2xvYWRGbiA9IHNlbGYuX2xvYWRMaXN0ZW5lci5iaW5kKHNlbGYpO1xuICAgICAgICBzZWxmLl9ub2RlLmFkZEV2ZW50TGlzdGVuZXIoSG93bGVyLl9jYW5QbGF5RXZlbnQsIHNlbGYuX2xvYWRGbiwgZmFsc2UpO1xuXG4gICAgICAgIC8vIFNldHVwIHRoZSBuZXcgYXVkaW8gbm9kZS5cbiAgICAgICAgc2VsZi5fbm9kZS5zcmMgPSBwYXJlbnQuX3NyYztcbiAgICAgICAgc2VsZi5fbm9kZS5wcmVsb2FkID0gJ2F1dG8nO1xuICAgICAgICBzZWxmLl9ub2RlLnZvbHVtZSA9IHZvbHVtZSAqIEhvd2xlci52b2x1bWUoKTtcblxuICAgICAgICAvLyBCZWdpbiBsb2FkaW5nIHRoZSBzb3VyY2UuXG4gICAgICAgIHNlbGYuX25vZGUubG9hZCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVzZXQgdGhlIHBhcmFtZXRlcnMgb2YgdGhpcyBzb3VuZCB0byB0aGUgb3JpZ2luYWwgc3RhdGUgKGZvciByZWN5Y2xlKS5cbiAgICAgKiBAcmV0dXJuIHtTb3VuZH1cbiAgICAgKi9cbiAgICByZXNldDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xuXG4gICAgICAvLyBSZXNldCBhbGwgb2YgdGhlIHBhcmFtZXRlcnMgb2YgdGhpcyBzb3VuZC5cbiAgICAgIHNlbGYuX211dGVkID0gcGFyZW50Ll9tdXRlZDtcbiAgICAgIHNlbGYuX2xvb3AgPSBwYXJlbnQuX2xvb3A7XG4gICAgICBzZWxmLl92b2x1bWUgPSBwYXJlbnQuX3ZvbHVtZTtcbiAgICAgIHNlbGYuX3JhdGUgPSBwYXJlbnQuX3JhdGU7XG4gICAgICBzZWxmLl9zZWVrID0gMDtcbiAgICAgIHNlbGYuX3JhdGVTZWVrID0gMDtcbiAgICAgIHNlbGYuX3BhdXNlZCA9IHRydWU7XG4gICAgICBzZWxmLl9lbmRlZCA9IHRydWU7XG4gICAgICBzZWxmLl9zcHJpdGUgPSAnX19kZWZhdWx0JztcblxuICAgICAgLy8gR2VuZXJhdGUgYSBuZXcgSUQgc28gdGhhdCBpdCBpc24ndCBjb25mdXNlZCB3aXRoIHRoZSBwcmV2aW91cyBzb3VuZC5cbiAgICAgIHNlbGYuX2lkID0gKytIb3dsZXIuX2NvdW50ZXI7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIVE1MNSBBdWRpbyBlcnJvciBsaXN0ZW5lciBjYWxsYmFjay5cbiAgICAgKi9cbiAgICBfZXJyb3JMaXN0ZW5lcjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIEZpcmUgYW4gZXJyb3IgZXZlbnQgYW5kIHBhc3MgYmFjayB0aGUgY29kZS5cbiAgICAgIHNlbGYuX3BhcmVudC5fZW1pdCgnbG9hZGVycm9yJywgc2VsZi5faWQsIHNlbGYuX25vZGUuZXJyb3IgPyBzZWxmLl9ub2RlLmVycm9yLmNvZGUgOiAwKTtcblxuICAgICAgLy8gQ2xlYXIgdGhlIGV2ZW50IGxpc3RlbmVyLlxuICAgICAgc2VsZi5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHNlbGYuX2Vycm9yRm4sIGZhbHNlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSFRNTDUgQXVkaW8gY2FucGxheXRocm91Z2ggbGlzdGVuZXIgY2FsbGJhY2suXG4gICAgICovXG4gICAgX2xvYWRMaXN0ZW5lcjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xuXG4gICAgICAvLyBSb3VuZCB1cCB0aGUgZHVyYXRpb24gdG8gYWNjb3VudCBmb3IgdGhlIGxvd2VyIHByZWNpc2lvbiBpbiBIVE1MNSBBdWRpby5cbiAgICAgIHBhcmVudC5fZHVyYXRpb24gPSBNYXRoLmNlaWwoc2VsZi5fbm9kZS5kdXJhdGlvbiAqIDEwKSAvIDEwO1xuXG4gICAgICAvLyBTZXR1cCBhIHNwcml0ZSBpZiBub25lIGlzIGRlZmluZWQuXG4gICAgICBpZiAoT2JqZWN0LmtleXMocGFyZW50Ll9zcHJpdGUpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBwYXJlbnQuX3Nwcml0ZSA9IHtfX2RlZmF1bHQ6IFswLCBwYXJlbnQuX2R1cmF0aW9uICogMTAwMF19O1xuICAgICAgfVxuXG4gICAgICBpZiAocGFyZW50Ll9zdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcbiAgICAgICAgcGFyZW50Ll9zdGF0ZSA9ICdsb2FkZWQnO1xuICAgICAgICBwYXJlbnQuX2VtaXQoJ2xvYWQnKTtcbiAgICAgICAgcGFyZW50Ll9sb2FkUXVldWUoKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2xlYXIgdGhlIGV2ZW50IGxpc3RlbmVyLlxuICAgICAgc2VsZi5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKEhvd2xlci5fY2FuUGxheUV2ZW50LCBzZWxmLl9sb2FkRm4sIGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqIEhlbHBlciBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIHZhciBjYWNoZSA9IHt9O1xuXG4gIC8qKlxuICAgKiBCdWZmZXIgYSBzb3VuZCBmcm9tIFVSTCwgRGF0YSBVUkkgb3IgY2FjaGUgYW5kIGRlY29kZSB0byBhdWRpbyBzb3VyY2UgKFdlYiBBdWRpbyBBUEkpLlxuICAgKiBAcGFyYW0gIHtIb3dsfSBzZWxmXG4gICAqL1xuICB2YXIgbG9hZEJ1ZmZlciA9IGZ1bmN0aW9uKHNlbGYpIHtcbiAgICB2YXIgdXJsID0gc2VsZi5fc3JjO1xuXG4gICAgLy8gQ2hlY2sgaWYgdGhlIGJ1ZmZlciBoYXMgYWxyZWFkeSBiZWVuIGNhY2hlZCBhbmQgdXNlIGl0IGluc3RlYWQuXG4gICAgaWYgKGNhY2hlW3VybF0pIHtcbiAgICAgIC8vIFNldCB0aGUgZHVyYXRpb24gZnJvbSB0aGUgY2FjaGUuXG4gICAgICBzZWxmLl9kdXJhdGlvbiA9IGNhY2hlW3VybF0uZHVyYXRpb247XG5cbiAgICAgIC8vIExvYWQgdGhlIHNvdW5kIGludG8gdGhpcyBIb3dsLlxuICAgICAgbG9hZFNvdW5kKHNlbGYpO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKC9eZGF0YTpbXjtdKztiYXNlNjQsLy50ZXN0KHVybCkpIHtcbiAgICAgIC8vIERlY29kZSB0aGUgYmFzZTY0IGRhdGEgVVJJIHdpdGhvdXQgWEhSLCBzaW5jZSBzb21lIGJyb3dzZXJzIGRvbid0IHN1cHBvcnQgaXQuXG4gICAgICB2YXIgZGF0YSA9IGF0b2IodXJsLnNwbGl0KCcsJylbMV0pO1xuICAgICAgdmFyIGRhdGFWaWV3ID0gbmV3IFVpbnQ4QXJyYXkoZGF0YS5sZW5ndGgpO1xuICAgICAgZm9yICh2YXIgaT0wOyBpPGRhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgZGF0YVZpZXdbaV0gPSBkYXRhLmNoYXJDb2RlQXQoaSk7XG4gICAgICB9XG5cbiAgICAgIGRlY29kZUF1ZGlvRGF0YShkYXRhVmlldy5idWZmZXIsIHNlbGYpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBMb2FkIHRoZSBidWZmZXIgZnJvbSB0aGUgVVJMLlxuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgeGhyLm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSk7XG4gICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gc2VsZi5feGhyV2l0aENyZWRlbnRpYWxzO1xuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG4gICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBnZXQgYSBzdWNjZXNzZnVsIHJlc3BvbnNlIGJhY2suXG4gICAgICAgIHZhciBjb2RlID0gKHhoci5zdGF0dXMgKyAnJylbMF07XG4gICAgICAgIGlmIChjb2RlICE9PSAnMCcgJiYgY29kZSAhPT0gJzInICYmIGNvZGUgIT09ICczJykge1xuICAgICAgICAgIHNlbGYuX2VtaXQoJ2xvYWRlcnJvcicsIG51bGwsICdGYWlsZWQgbG9hZGluZyBhdWRpbyBmaWxlIHdpdGggc3RhdHVzOiAnICsgeGhyLnN0YXR1cyArICcuJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVjb2RlQXVkaW9EYXRhKHhoci5yZXNwb25zZSwgc2VsZik7XG4gICAgICB9O1xuICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYW4gZXJyb3IsIHN3aXRjaCB0byBIVE1MNSBBdWRpby5cbiAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgc2VsZi5faHRtbDUgPSB0cnVlO1xuICAgICAgICAgIHNlbGYuX3dlYkF1ZGlvID0gZmFsc2U7XG4gICAgICAgICAgc2VsZi5fc291bmRzID0gW107XG4gICAgICAgICAgZGVsZXRlIGNhY2hlW3VybF07XG4gICAgICAgICAgc2VsZi5sb2FkKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBzYWZlWGhyU2VuZCh4aHIpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogU2VuZCB0aGUgWEhSIHJlcXVlc3Qgd3JhcHBlZCBpbiBhIHRyeS9jYXRjaC5cbiAgICogQHBhcmFtICB7T2JqZWN0fSB4aHIgWEhSIHRvIHNlbmQuXG4gICAqL1xuICB2YXIgc2FmZVhoclNlbmQgPSBmdW5jdGlvbih4aHIpIHtcbiAgICB0cnkge1xuICAgICAgeGhyLnNlbmQoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB4aHIub25lcnJvcigpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogRGVjb2RlIGF1ZGlvIGRhdGEgZnJvbSBhbiBhcnJheSBidWZmZXIuXG4gICAqIEBwYXJhbSAge0FycmF5QnVmZmVyfSBhcnJheWJ1ZmZlciBUaGUgYXVkaW8gZGF0YS5cbiAgICogQHBhcmFtICB7SG93bH0gICAgICAgIHNlbGZcbiAgICovXG4gIHZhciBkZWNvZGVBdWRpb0RhdGEgPSBmdW5jdGlvbihhcnJheWJ1ZmZlciwgc2VsZikge1xuICAgIC8vIEZpcmUgYSBsb2FkIGVycm9yIGlmIHNvbWV0aGluZyBicm9rZS5cbiAgICB2YXIgZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuX2VtaXQoJ2xvYWRlcnJvcicsIG51bGwsICdEZWNvZGluZyBhdWRpbyBkYXRhIGZhaWxlZC4nKTtcbiAgICB9O1xuXG4gICAgLy8gTG9hZCB0aGUgc291bmQgb24gc3VjY2Vzcy5cbiAgICB2YXIgc3VjY2VzcyA9IGZ1bmN0aW9uKGJ1ZmZlcikge1xuICAgICAgaWYgKGJ1ZmZlciAmJiBzZWxmLl9zb3VuZHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjYWNoZVtzZWxmLl9zcmNdID0gYnVmZmVyO1xuICAgICAgICBsb2FkU291bmQoc2VsZiwgYnVmZmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVycm9yKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIERlY29kZSB0aGUgYnVmZmVyIGludG8gYW4gYXVkaW8gc291cmNlLlxuICAgIGlmICh0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcgJiYgSG93bGVyLmN0eC5kZWNvZGVBdWRpb0RhdGEubGVuZ3RoID09PSAxKSB7XG4gICAgICBIb3dsZXIuY3R4LmRlY29kZUF1ZGlvRGF0YShhcnJheWJ1ZmZlcikudGhlbihzdWNjZXNzKS5jYXRjaChlcnJvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIEhvd2xlci5jdHguZGVjb2RlQXVkaW9EYXRhKGFycmF5YnVmZmVyLCBzdWNjZXNzLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNvdW5kIGlzIG5vdyBsb2FkZWQsIHNvIGZpbmlzaCBzZXR0aW5nIGV2ZXJ5dGhpbmcgdXAgYW5kIGZpcmUgdGhlIGxvYWRlZCBldmVudC5cbiAgICogQHBhcmFtICB7SG93bH0gc2VsZlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGJ1ZmZlciBUaGUgZGVjb2RlZCBidWZmZXIgc291bmQgc291cmNlLlxuICAgKi9cbiAgdmFyIGxvYWRTb3VuZCA9IGZ1bmN0aW9uKHNlbGYsIGJ1ZmZlcikge1xuICAgIC8vIFNldCB0aGUgZHVyYXRpb24uXG4gICAgaWYgKGJ1ZmZlciAmJiAhc2VsZi5fZHVyYXRpb24pIHtcbiAgICAgIHNlbGYuX2R1cmF0aW9uID0gYnVmZmVyLmR1cmF0aW9uO1xuICAgIH1cblxuICAgIC8vIFNldHVwIGEgc3ByaXRlIGlmIG5vbmUgaXMgZGVmaW5lZC5cbiAgICBpZiAoT2JqZWN0LmtleXMoc2VsZi5fc3ByaXRlKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHNlbGYuX3Nwcml0ZSA9IHtfX2RlZmF1bHQ6IFswLCBzZWxmLl9kdXJhdGlvbiAqIDEwMDBdfTtcbiAgICB9XG5cbiAgICAvLyBGaXJlIHRoZSBsb2FkZWQgZXZlbnQuXG4gICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgc2VsZi5fc3RhdGUgPSAnbG9hZGVkJztcbiAgICAgIHNlbGYuX2VtaXQoJ2xvYWQnKTtcbiAgICAgIHNlbGYuX2xvYWRRdWV1ZSgpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogU2V0dXAgdGhlIGF1ZGlvIGNvbnRleHQgd2hlbiBhdmFpbGFibGUsIG9yIHN3aXRjaCB0byBIVE1MNSBBdWRpbyBtb2RlLlxuICAgKi9cbiAgdmFyIHNldHVwQXVkaW9Db250ZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gSWYgd2UgaGF2ZSBhbHJlYWR5IGRldGVjdGVkIHRoYXQgV2ViIEF1ZGlvIGlzbid0IHN1cHBvcnRlZCwgZG9uJ3QgcnVuIHRoaXMgc3RlcCBhZ2Fpbi5cbiAgICBpZiAoIUhvd2xlci51c2luZ1dlYkF1ZGlvKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgd2UgYXJlIHVzaW5nIFdlYiBBdWRpbyBhbmQgc2V0dXAgdGhlIEF1ZGlvQ29udGV4dCBpZiB3ZSBhcmUuXG4gICAgdHJ5IHtcbiAgICAgIGlmICh0eXBlb2YgQXVkaW9Db250ZXh0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBIb3dsZXIuY3R4ID0gbmV3IEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygd2Via2l0QXVkaW9Db250ZXh0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBIb3dsZXIuY3R4ID0gbmV3IHdlYmtpdEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgSG93bGVyLnVzaW5nV2ViQXVkaW8gPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIEhvd2xlci51c2luZ1dlYkF1ZGlvID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIGF1ZGlvIGNvbnRleHQgY3JlYXRpb24gc3RpbGwgZmFpbGVkLCBzZXQgdXNpbmcgd2ViIGF1ZGlvIHRvIGZhbHNlLlxuICAgIGlmICghSG93bGVyLmN0eCkge1xuICAgICAgSG93bGVyLnVzaW5nV2ViQXVkaW8gPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiBhIHdlYnZpZXcgaXMgYmVpbmcgdXNlZCBvbiBpT1M4IG9yIGVhcmxpZXIgKHJhdGhlciB0aGFuIHRoZSBicm93c2VyKS5cbiAgICAvLyBJZiBpdCBpcywgZGlzYWJsZSBXZWIgQXVkaW8gYXMgaXQgY2F1c2VzIGNyYXNoaW5nLlxuICAgIHZhciBpT1MgPSAoL2lQKGhvbmV8b2R8YWQpLy50ZXN0KEhvd2xlci5fbmF2aWdhdG9yICYmIEhvd2xlci5fbmF2aWdhdG9yLnBsYXRmb3JtKSk7XG4gICAgdmFyIGFwcFZlcnNpb24gPSBIb3dsZXIuX25hdmlnYXRvciAmJiBIb3dsZXIuX25hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC9PUyAoXFxkKylfKFxcZCspXz8oXFxkKyk/Lyk7XG4gICAgdmFyIHZlcnNpb24gPSBhcHBWZXJzaW9uID8gcGFyc2VJbnQoYXBwVmVyc2lvblsxXSwgMTApIDogbnVsbDtcbiAgICBpZiAoaU9TICYmIHZlcnNpb24gJiYgdmVyc2lvbiA8IDkpIHtcbiAgICAgIHZhciBzYWZhcmkgPSAvc2FmYXJpLy50ZXN0KEhvd2xlci5fbmF2aWdhdG9yICYmIEhvd2xlci5fbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKTtcbiAgICAgIGlmIChIb3dsZXIuX25hdmlnYXRvciAmJiBIb3dsZXIuX25hdmlnYXRvci5zdGFuZGFsb25lICYmICFzYWZhcmkgfHwgSG93bGVyLl9uYXZpZ2F0b3IgJiYgIUhvd2xlci5fbmF2aWdhdG9yLnN0YW5kYWxvbmUgJiYgIXNhZmFyaSkge1xuICAgICAgICBIb3dsZXIudXNpbmdXZWJBdWRpbyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENyZWF0ZSBhbmQgZXhwb3NlIHRoZSBtYXN0ZXIgR2Fpbk5vZGUgd2hlbiB1c2luZyBXZWIgQXVkaW8gKHVzZWZ1bCBmb3IgcGx1Z2lucyBvciBhZHZhbmNlZCB1c2FnZSkuXG4gICAgaWYgKEhvd2xlci51c2luZ1dlYkF1ZGlvKSB7XG4gICAgICBIb3dsZXIubWFzdGVyR2FpbiA9ICh0eXBlb2YgSG93bGVyLmN0eC5jcmVhdGVHYWluID09PSAndW5kZWZpbmVkJykgPyBIb3dsZXIuY3R4LmNyZWF0ZUdhaW5Ob2RlKCkgOiBIb3dsZXIuY3R4LmNyZWF0ZUdhaW4oKTtcbiAgICAgIEhvd2xlci5tYXN0ZXJHYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUoSG93bGVyLl9tdXRlZCA/IDAgOiAxLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgIEhvd2xlci5tYXN0ZXJHYWluLmNvbm5lY3QoSG93bGVyLmN0eC5kZXN0aW5hdGlvbik7XG4gICAgfVxuXG4gICAgLy8gUmUtcnVuIHRoZSBzZXR1cCBvbiBIb3dsZXIuXG4gICAgSG93bGVyLl9zZXR1cCgpO1xuICB9O1xuXG4gIC8vIEFkZCBzdXBwb3J0IGZvciBBTUQgKEFzeW5jaHJvbm91cyBNb2R1bGUgRGVmaW5pdGlvbikgbGlicmFyaWVzIHN1Y2ggYXMgcmVxdWlyZS5qcy5cbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShbXSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBIb3dsZXI6IEhvd2xlcixcbiAgICAgICAgSG93bDogSG93bFxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIEFkZCBzdXBwb3J0IGZvciBDb21tb25KUyBsaWJyYXJpZXMgc3VjaCBhcyBicm93c2VyaWZ5LlxuICBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgZXhwb3J0cy5Ib3dsZXIgPSBIb3dsZXI7XG4gICAgZXhwb3J0cy5Ib3dsID0gSG93bDtcbiAgfVxuXG4gIC8vIERlZmluZSBnbG9iYWxseSBpbiBjYXNlIEFNRCBpcyBub3QgYXZhaWxhYmxlIG9yIHVudXNlZC5cbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgd2luZG93Lkhvd2xlckdsb2JhbCA9IEhvd2xlckdsb2JhbDtcbiAgICB3aW5kb3cuSG93bGVyID0gSG93bGVyO1xuICAgIHdpbmRvdy5Ib3dsID0gSG93bDtcbiAgICB3aW5kb3cuU291bmQgPSBTb3VuZDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykgeyAvLyBBZGQgdG8gZ2xvYmFsIGluIE5vZGUuanMgKGZvciB0ZXN0aW5nLCBldGMpLlxuICAgIGdsb2JhbC5Ib3dsZXJHbG9iYWwgPSBIb3dsZXJHbG9iYWw7XG4gICAgZ2xvYmFsLkhvd2xlciA9IEhvd2xlcjtcbiAgICBnbG9iYWwuSG93bCA9IEhvd2w7XG4gICAgZ2xvYmFsLlNvdW5kID0gU291bmQ7XG4gIH1cbn0pKCk7XG5cblxuLyohXG4gKiAgU3BhdGlhbCBQbHVnaW4gLSBBZGRzIHN1cHBvcnQgZm9yIHN0ZXJlbyBhbmQgM0QgYXVkaW8gd2hlcmUgV2ViIEF1ZGlvIGlzIHN1cHBvcnRlZC5cbiAqICBcbiAqICBob3dsZXIuanMgdjIuMS4yXG4gKiAgaG93bGVyanMuY29tXG4gKlxuICogIChjKSAyMDEzLTIwMTksIEphbWVzIFNpbXBzb24gb2YgR29sZEZpcmUgU3R1ZGlvc1xuICogIGdvbGRmaXJlc3R1ZGlvcy5jb21cbiAqXG4gKiAgTUlUIExpY2Vuc2VcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIFNldHVwIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgSG93bGVyR2xvYmFsLnByb3RvdHlwZS5fcG9zID0gWzAsIDAsIDBdO1xuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlLl9vcmllbnRhdGlvbiA9IFswLCAwLCAtMSwgMCwgMSwgMF07XG5cbiAgLyoqIEdsb2JhbCBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBIZWxwZXIgbWV0aG9kIHRvIHVwZGF0ZSB0aGUgc3RlcmVvIHBhbm5pbmcgcG9zaXRpb24gb2YgYWxsIGN1cnJlbnQgSG93bHMuXG4gICAqIEZ1dHVyZSBIb3dscyB3aWxsIG5vdCB1c2UgdGhpcyB2YWx1ZSB1bmxlc3MgZXhwbGljaXRseSBzZXQuXG4gICAqIEBwYXJhbSAge051bWJlcn0gcGFuIEEgdmFsdWUgb2YgLTEuMCBpcyBhbGwgdGhlIHdheSBsZWZ0IGFuZCAxLjAgaXMgYWxsIHRoZSB3YXkgcmlnaHQuXG4gICAqIEByZXR1cm4ge0hvd2xlci9OdW1iZXJ9ICAgICBTZWxmIG9yIGN1cnJlbnQgc3RlcmVvIHBhbm5pbmcgdmFsdWUuXG4gICAqL1xuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlLnN0ZXJlbyA9IGZ1bmN0aW9uKHBhbikge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxuICAgIGlmICghc2VsZi5jdHggfHwgIXNlbGYuY3R4Lmxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIEhvd2xzIGFuZCB1cGRhdGUgdGhlaXIgc3RlcmVvIHBhbm5pbmcuXG4gICAgZm9yICh2YXIgaT1zZWxmLl9ob3dscy5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XG4gICAgICBzZWxmLl9ob3dsc1tpXS5zdGVyZW8ocGFuKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvKipcbiAgICogR2V0L3NldCB0aGUgcG9zaXRpb24gb2YgdGhlIGxpc3RlbmVyIGluIDNEIGNhcnRlc2lhbiBzcGFjZS4gU291bmRzIHVzaW5nXG4gICAqIDNEIHBvc2l0aW9uIHdpbGwgYmUgcmVsYXRpdmUgdG8gdGhlIGxpc3RlbmVyJ3MgcG9zaXRpb24uXG4gICAqIEBwYXJhbSAge051bWJlcn0geCBUaGUgeC1wb3NpdGlvbiBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0geSBUaGUgeS1wb3NpdGlvbiBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0geiBUaGUgei1wb3NpdGlvbiBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEByZXR1cm4ge0hvd2xlci9BcnJheX0gICBTZWxmIG9yIGN1cnJlbnQgbGlzdGVuZXIgcG9zaXRpb24uXG4gICAqL1xuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlLnBvcyA9IGZ1bmN0aW9uKHgsIHksIHopIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBTdG9wIHJpZ2h0IGhlcmUgaWYgbm90IHVzaW5nIFdlYiBBdWRpby5cbiAgICBpZiAoIXNlbGYuY3R4IHx8ICFzZWxmLmN0eC5saXN0ZW5lcikge1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gU2V0IHRoZSBkZWZhdWx0cyBmb3Igb3B0aW9uYWwgJ3knICYgJ3onLlxuICAgIHkgPSAodHlwZW9mIHkgIT09ICdudW1iZXInKSA/IHNlbGYuX3Bvc1sxXSA6IHk7XG4gICAgeiA9ICh0eXBlb2YgeiAhPT0gJ251bWJlcicpID8gc2VsZi5fcG9zWzJdIDogejtcblxuICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcbiAgICAgIHNlbGYuX3BvcyA9IFt4LCB5LCB6XTtcblxuICAgICAgaWYgKHR5cGVvZiBzZWxmLmN0eC5saXN0ZW5lci5wb3NpdGlvblggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnBvc2l0aW9uWC5zZXRUYXJnZXRBdFRpbWUoc2VsZi5fcG9zWzBdLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5wb3NpdGlvblkuc2V0VGFyZ2V0QXRUaW1lKHNlbGYuX3Bvc1sxXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIucG9zaXRpb25aLnNldFRhcmdldEF0VGltZShzZWxmLl9wb3NbMl0sIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5zZXRQb3NpdGlvbihzZWxmLl9wb3NbMF0sIHNlbGYuX3Bvc1sxXSwgc2VsZi5fcG9zWzJdKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHNlbGYuX3BvcztcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvKipcbiAgICogR2V0L3NldCB0aGUgZGlyZWN0aW9uIHRoZSBsaXN0ZW5lciBpcyBwb2ludGluZyBpbiB0aGUgM0QgY2FydGVzaWFuIHNwYWNlLlxuICAgKiBBIGZyb250IGFuZCB1cCB2ZWN0b3IgbXVzdCBiZSBwcm92aWRlZC4gVGhlIGZyb250IGlzIHRoZSBkaXJlY3Rpb24gdGhlXG4gICAqIGZhY2Ugb2YgdGhlIGxpc3RlbmVyIGlzIHBvaW50aW5nLCBhbmQgdXAgaXMgdGhlIGRpcmVjdGlvbiB0aGUgdG9wIG9mIHRoZVxuICAgKiBsaXN0ZW5lciBpcyBwb2ludGluZy4gVGh1cywgdGhlc2UgdmFsdWVzIGFyZSBleHBlY3RlZCB0byBiZSBhdCByaWdodCBhbmdsZXNcbiAgICogZnJvbSBlYWNoIG90aGVyLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHggICBUaGUgeC1vcmllbnRhdGlvbiBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0geSAgIFRoZSB5LW9yaWVudGF0aW9uIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB6ICAgVGhlIHotb3JpZW50YXRpb24gb2YgdGhlIGxpc3RlbmVyLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHhVcCBUaGUgeC1vcmllbnRhdGlvbiBvZiB0aGUgdG9wIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB5VXAgVGhlIHktb3JpZW50YXRpb24gb2YgdGhlIHRvcCBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0gelVwIFRoZSB6LW9yaWVudGF0aW9uIG9mIHRoZSB0b3Agb2YgdGhlIGxpc3RlbmVyLlxuICAgKiBAcmV0dXJuIHtIb3dsZXIvQXJyYXl9ICAgICBSZXR1cm5zIHNlbGYgb3IgdGhlIGN1cnJlbnQgb3JpZW50YXRpb24gdmVjdG9ycy5cbiAgICovXG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUub3JpZW50YXRpb24gPSBmdW5jdGlvbih4LCB5LCB6LCB4VXAsIHlVcCwgelVwKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXG4gICAgaWYgKCFzZWxmLmN0eCB8fCAhc2VsZi5jdHgubGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIFNldCB0aGUgZGVmYXVsdHMgZm9yIG9wdGlvbmFsICd5JyAmICd6Jy5cbiAgICB2YXIgb3IgPSBzZWxmLl9vcmllbnRhdGlvbjtcbiAgICB5ID0gKHR5cGVvZiB5ICE9PSAnbnVtYmVyJykgPyBvclsxXSA6IHk7XG4gICAgeiA9ICh0eXBlb2YgeiAhPT0gJ251bWJlcicpID8gb3JbMl0gOiB6O1xuICAgIHhVcCA9ICh0eXBlb2YgeFVwICE9PSAnbnVtYmVyJykgPyBvclszXSA6IHhVcDtcbiAgICB5VXAgPSAodHlwZW9mIHlVcCAhPT0gJ251bWJlcicpID8gb3JbNF0gOiB5VXA7XG4gICAgelVwID0gKHR5cGVvZiB6VXAgIT09ICdudW1iZXInKSA/IG9yWzVdIDogelVwO1xuXG4gICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xuICAgICAgc2VsZi5fb3JpZW50YXRpb24gPSBbeCwgeSwgeiwgeFVwLCB5VXAsIHpVcF07XG5cbiAgICAgIGlmICh0eXBlb2Ygc2VsZi5jdHgubGlzdGVuZXIuZm9yd2FyZFggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLmZvcndhcmRYLnNldFRhcmdldEF0VGltZSh4LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5mb3J3YXJkWS5zZXRUYXJnZXRBdFRpbWUoeSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIuZm9yd2FyZFouc2V0VGFyZ2V0QXRUaW1lKHosIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnVwWC5zZXRUYXJnZXRBdFRpbWUoeCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIudXBZLnNldFRhcmdldEF0VGltZSh5LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci51cFouc2V0VGFyZ2V0QXRUaW1lKHosIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5zZXRPcmllbnRhdGlvbih4LCB5LCB6LCB4VXAsIHlVcCwgelVwKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG9yO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKiBHcm91cCBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBBZGQgbmV3IHByb3BlcnRpZXMgdG8gdGhlIGNvcmUgaW5pdC5cbiAgICogQHBhcmFtICB7RnVuY3Rpb259IF9zdXBlciBDb3JlIGluaXQgbWV0aG9kLlxuICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgKi9cbiAgSG93bC5wcm90b3R5cGUuaW5pdCA9IChmdW5jdGlvbihfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24obykge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBTZXR1cCB1c2VyLWRlZmluZWQgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAgc2VsZi5fb3JpZW50YXRpb24gPSBvLm9yaWVudGF0aW9uIHx8IFsxLCAwLCAwXTtcbiAgICAgIHNlbGYuX3N0ZXJlbyA9IG8uc3RlcmVvIHx8IG51bGw7XG4gICAgICBzZWxmLl9wb3MgPSBvLnBvcyB8fCBudWxsO1xuICAgICAgc2VsZi5fcGFubmVyQXR0ciA9IHtcbiAgICAgICAgY29uZUlubmVyQW5nbGU6IHR5cGVvZiBvLmNvbmVJbm5lckFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZUlubmVyQW5nbGUgOiAzNjAsXG4gICAgICAgIGNvbmVPdXRlckFuZ2xlOiB0eXBlb2Ygby5jb25lT3V0ZXJBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLmNvbmVPdXRlckFuZ2xlIDogMzYwLFxuICAgICAgICBjb25lT3V0ZXJHYWluOiB0eXBlb2Ygby5jb25lT3V0ZXJHYWluICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZU91dGVyR2FpbiA6IDAsXG4gICAgICAgIGRpc3RhbmNlTW9kZWw6IHR5cGVvZiBvLmRpc3RhbmNlTW9kZWwgIT09ICd1bmRlZmluZWQnID8gby5kaXN0YW5jZU1vZGVsIDogJ2ludmVyc2UnLFxuICAgICAgICBtYXhEaXN0YW5jZTogdHlwZW9mIG8ubWF4RGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5tYXhEaXN0YW5jZSA6IDEwMDAwLFxuICAgICAgICBwYW5uaW5nTW9kZWw6IHR5cGVvZiBvLnBhbm5pbmdNb2RlbCAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5pbmdNb2RlbCA6ICdIUlRGJyxcbiAgICAgICAgcmVmRGlzdGFuY2U6IHR5cGVvZiBvLnJlZkRpc3RhbmNlICE9PSAndW5kZWZpbmVkJyA/IG8ucmVmRGlzdGFuY2UgOiAxLFxuICAgICAgICByb2xsb2ZmRmFjdG9yOiB0eXBlb2Ygby5yb2xsb2ZmRmFjdG9yICE9PSAndW5kZWZpbmVkJyA/IG8ucm9sbG9mZkZhY3RvciA6IDFcbiAgICAgIH07XG5cbiAgICAgIC8vIFNldHVwIGV2ZW50IGxpc3RlbmVycy5cbiAgICAgIHNlbGYuX29uc3RlcmVvID0gby5vbnN0ZXJlbyA/IFt7Zm46IG8ub25zdGVyZW99XSA6IFtdO1xuICAgICAgc2VsZi5fb25wb3MgPSBvLm9ucG9zID8gW3tmbjogby5vbnBvc31dIDogW107XG4gICAgICBzZWxmLl9vbm9yaWVudGF0aW9uID0gby5vbm9yaWVudGF0aW9uID8gW3tmbjogby5vbm9yaWVudGF0aW9ufV0gOiBbXTtcblxuICAgICAgLy8gQ29tcGxldGUgaW5pdGlsaXphdGlvbiB3aXRoIGhvd2xlci5qcyBjb3JlJ3MgaW5pdCBmdW5jdGlvbi5cbiAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBvKTtcbiAgICB9O1xuICB9KShIb3dsLnByb3RvdHlwZS5pbml0KTtcblxuICAvKipcbiAgICogR2V0L3NldCB0aGUgc3RlcmVvIHBhbm5pbmcgb2YgdGhlIGF1ZGlvIHNvdXJjZSBmb3IgdGhpcyBzb3VuZCBvciBhbGwgaW4gdGhlIGdyb3VwLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHBhbiAgQSB2YWx1ZSBvZiAtMS4wIGlzIGFsbCB0aGUgd2F5IGxlZnQgYW5kIDEuMCBpcyBhbGwgdGhlIHdheSByaWdodC5cbiAgICogQHBhcmFtICB7TnVtYmVyfSBpZCAob3B0aW9uYWwpIFRoZSBzb3VuZCBJRC4gSWYgbm9uZSBpcyBwYXNzZWQsIGFsbCBpbiBncm91cCB3aWxsIGJlIHVwZGF0ZWQuXG4gICAqIEByZXR1cm4ge0hvd2wvTnVtYmVyfSAgICBSZXR1cm5zIHNlbGYgb3IgdGhlIGN1cnJlbnQgc3RlcmVvIHBhbm5pbmcgdmFsdWUuXG4gICAqL1xuICBIb3dsLnByb3RvdHlwZS5zdGVyZW8gPSBmdW5jdGlvbihwYW4sIGlkKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXG4gICAgaWYgKCFzZWxmLl93ZWJBdWRpbykge1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBjaGFuZ2Ugc3RlcmVvIHBhbiB3aGVuIGNhcGFibGUuXG4gICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgIGV2ZW50OiAnc3RlcmVvJyxcbiAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLnN0ZXJlbyhwYW4sIGlkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBQYW5uZXJTdGVyZW9Ob2RlIHN1cHBvcnQgYW5kIGZhbGxiYWNrIHRvIFBhbm5lck5vZGUgaWYgaXQgZG9lc24ndCBleGlzdC5cbiAgICB2YXIgcGFubmVyVHlwZSA9ICh0eXBlb2YgSG93bGVyLmN0eC5jcmVhdGVTdGVyZW9QYW5uZXIgPT09ICd1bmRlZmluZWQnKSA/ICdzcGF0aWFsJyA6ICdzdGVyZW8nO1xuXG4gICAgLy8gU2V0dXAgdGhlIGdyb3VwJ3Mgc3RlcmVvIHBhbm5pbmcgaWYgbm8gSUQgaXMgcGFzc2VkLlxuICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBSZXR1cm4gdGhlIGdyb3VwJ3Mgc3RlcmVvIHBhbm5pbmcgaWYgbm8gcGFyYW1ldGVycyBhcmUgcGFzc2VkLlxuICAgICAgaWYgKHR5cGVvZiBwYW4gPT09ICdudW1iZXInKSB7XG4gICAgICAgIHNlbGYuX3N0ZXJlbyA9IHBhbjtcbiAgICAgICAgc2VsZi5fcG9zID0gW3BhbiwgMCwgMF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc2VsZi5fc3RlcmVvO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoYW5nZSB0aGUgc3RyZW8gcGFubmluZyBvZiBvbmUgb3IgYWxsIHNvdW5kcyBpbiBncm91cC5cbiAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIEdldCB0aGUgc291bmQuXG4gICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcGFuID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHNvdW5kLl9zdGVyZW8gPSBwYW47XG4gICAgICAgICAgc291bmQuX3BvcyA9IFtwYW4sIDAsIDBdO1xuXG4gICAgICAgICAgaWYgKHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBhcmUgZmFsbGluZyBiYWNrLCBtYWtlIHN1cmUgdGhlIHBhbm5pbmdNb2RlbCBpcyBlcXVhbHBvd2VyLlxuICAgICAgICAgICAgc291bmQuX3Bhbm5lckF0dHIucGFubmluZ01vZGVsID0gJ2VxdWFscG93ZXInO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBhIHBhbm5lciBzZXR1cCBhbmQgY3JlYXRlIGEgbmV3IG9uZSBpZiBub3QuXG4gICAgICAgICAgICBpZiAoIXNvdW5kLl9wYW5uZXIgfHwgIXNvdW5kLl9wYW5uZXIucGFuKSB7XG4gICAgICAgICAgICAgIHNldHVwUGFubmVyKHNvdW5kLCBwYW5uZXJUeXBlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBhbm5lclR5cGUgPT09ICdzcGF0aWFsJykge1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIHNvdW5kLl9wYW5uZXIucG9zaXRpb25YICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25YLnNldFZhbHVlQXRUaW1lKHBhbiwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblkuc2V0VmFsdWVBdFRpbWUoMCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblouc2V0VmFsdWVBdFRpbWUoMCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5zZXRQb3NpdGlvbihwYW4sIDAsIDApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnBhbi5zZXRWYWx1ZUF0VGltZShwYW4sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuX2VtaXQoJ3N0ZXJlbycsIHNvdW5kLl9pZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHNvdW5kLl9zdGVyZW87XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvKipcbiAgICogR2V0L3NldCB0aGUgM0Qgc3BhdGlhbCBwb3NpdGlvbiBvZiB0aGUgYXVkaW8gc291cmNlIGZvciB0aGlzIHNvdW5kIG9yIGdyb3VwIHJlbGF0aXZlIHRvIHRoZSBnbG9iYWwgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0geCAgVGhlIHgtcG9zaXRpb24gb2YgdGhlIGF1ZGlvIHNvdXJjZS5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB5ICBUaGUgeS1wb3NpdGlvbiBvZiB0aGUgYXVkaW8gc291cmNlLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHogIFRoZSB6LXBvc2l0aW9uIG9mIHRoZSBhdWRpbyBzb3VyY2UuXG4gICAqIEBwYXJhbSAge051bWJlcn0gaWQgKG9wdGlvbmFsKSBUaGUgc291bmQgSUQuIElmIG5vbmUgaXMgcGFzc2VkLCBhbGwgaW4gZ3JvdXAgd2lsbCBiZSB1cGRhdGVkLlxuICAgKiBAcmV0dXJuIHtIb3dsL0FycmF5fSAgICBSZXR1cm5zIHNlbGYgb3IgdGhlIGN1cnJlbnQgM0Qgc3BhdGlhbCBwb3NpdGlvbjogW3gsIHksIHpdLlxuICAgKi9cbiAgSG93bC5wcm90b3R5cGUucG9zID0gZnVuY3Rpb24oeCwgeSwgeiwgaWQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBTdG9wIHJpZ2h0IGhlcmUgaWYgbm90IHVzaW5nIFdlYiBBdWRpby5cbiAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIGNoYW5nZSBwb3NpdGlvbiB3aGVuIGNhcGFibGUuXG4gICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgIGV2ZW50OiAncG9zJyxcbiAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLnBvcyh4LCB5LCB6LCBpZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBTZXQgdGhlIGRlZmF1bHRzIGZvciBvcHRpb25hbCAneScgJiAneicuXG4gICAgeSA9ICh0eXBlb2YgeSAhPT0gJ251bWJlcicpID8gMCA6IHk7XG4gICAgeiA9ICh0eXBlb2YgeiAhPT0gJ251bWJlcicpID8gLTAuNSA6IHo7XG5cbiAgICAvLyBTZXR1cCB0aGUgZ3JvdXAncyBzcGF0aWFsIHBvc2l0aW9uIGlmIG5vIElEIGlzIHBhc3NlZC5cbiAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gUmV0dXJuIHRoZSBncm91cCdzIHNwYXRpYWwgcG9zaXRpb24gaWYgbm8gcGFyYW1ldGVycyBhcmUgcGFzc2VkLlxuICAgICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xuICAgICAgICBzZWxmLl9wb3MgPSBbeCwgeSwgel07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc2VsZi5fcG9zO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoYW5nZSB0aGUgc3BhdGlhbCBwb3NpdGlvbiBvZiBvbmUgb3IgYWxsIHNvdW5kcyBpbiBncm91cC5cbiAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIEdldCB0aGUgc291bmQuXG4gICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBzb3VuZC5fcG9zID0gW3gsIHksIHpdO1xuXG4gICAgICAgICAgaWYgKHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBhIHBhbm5lciBzZXR1cCBhbmQgY3JlYXRlIGEgbmV3IG9uZSBpZiBub3QuXG4gICAgICAgICAgICBpZiAoIXNvdW5kLl9wYW5uZXIgfHwgc291bmQuX3Bhbm5lci5wYW4pIHtcbiAgICAgICAgICAgICAgc2V0dXBQYW5uZXIoc291bmQsICdzcGF0aWFsJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc291bmQuX3Bhbm5lci5wb3NpdGlvblggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25YLnNldFZhbHVlQXRUaW1lKHgsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWS5zZXRWYWx1ZUF0VGltZSh5LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblouc2V0VmFsdWVBdFRpbWUoeiwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnNldFBvc2l0aW9uKHgsIHksIHopO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuX2VtaXQoJ3BvcycsIHNvdW5kLl9pZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHNvdW5kLl9wb3M7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvKipcbiAgICogR2V0L3NldCB0aGUgZGlyZWN0aW9uIHRoZSBhdWRpbyBzb3VyY2UgaXMgcG9pbnRpbmcgaW4gdGhlIDNEIGNhcnRlc2lhbiBjb29yZGluYXRlXG4gICAqIHNwYWNlLiBEZXBlbmRpbmcgb24gaG93IGRpcmVjdGlvbiB0aGUgc291bmQgaXMsIGJhc2VkIG9uIHRoZSBgY29uZWAgYXR0cmlidXRlcyxcbiAgICogYSBzb3VuZCBwb2ludGluZyBhd2F5IGZyb20gdGhlIGxpc3RlbmVyIGNhbiBiZSBxdWlldCBvciBzaWxlbnQuXG4gICAqIEBwYXJhbSAge051bWJlcn0geCAgVGhlIHgtb3JpZW50YXRpb24gb2YgdGhlIHNvdXJjZS5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB5ICBUaGUgeS1vcmllbnRhdGlvbiBvZiB0aGUgc291cmNlLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHogIFRoZSB6LW9yaWVudGF0aW9uIG9mIHRoZSBzb3VyY2UuXG4gICAqIEBwYXJhbSAge051bWJlcn0gaWQgKG9wdGlvbmFsKSBUaGUgc291bmQgSUQuIElmIG5vbmUgaXMgcGFzc2VkLCBhbGwgaW4gZ3JvdXAgd2lsbCBiZSB1cGRhdGVkLlxuICAgKiBAcmV0dXJuIHtIb3dsL0FycmF5fSAgICBSZXR1cm5zIHNlbGYgb3IgdGhlIGN1cnJlbnQgM0Qgc3BhdGlhbCBvcmllbnRhdGlvbjogW3gsIHksIHpdLlxuICAgKi9cbiAgSG93bC5wcm90b3R5cGUub3JpZW50YXRpb24gPSBmdW5jdGlvbih4LCB5LCB6LCBpZCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxuICAgIGlmICghc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gY2hhbmdlIG9yaWVudGF0aW9uIHdoZW4gY2FwYWJsZS5cbiAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XG4gICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgZXZlbnQ6ICdvcmllbnRhdGlvbicsXG4gICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2VsZi5vcmllbnRhdGlvbih4LCB5LCB6LCBpZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBTZXQgdGhlIGRlZmF1bHRzIGZvciBvcHRpb25hbCAneScgJiAneicuXG4gICAgeSA9ICh0eXBlb2YgeSAhPT0gJ251bWJlcicpID8gc2VsZi5fb3JpZW50YXRpb25bMV0gOiB5O1xuICAgIHogPSAodHlwZW9mIHogIT09ICdudW1iZXInKSA/IHNlbGYuX29yaWVudGF0aW9uWzJdIDogejtcblxuICAgIC8vIFNldHVwIHRoZSBncm91cCdzIHNwYXRpYWwgb3JpZW50YXRpb24gaWYgbm8gSUQgaXMgcGFzc2VkLlxuICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBSZXR1cm4gdGhlIGdyb3VwJ3Mgc3BhdGlhbCBvcmllbnRhdGlvbiBpZiBubyBwYXJhbWV0ZXJzIGFyZSBwYXNzZWQuXG4gICAgICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSB7XG4gICAgICAgIHNlbGYuX29yaWVudGF0aW9uID0gW3gsIHksIHpdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuX29yaWVudGF0aW9uO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoYW5nZSB0aGUgc3BhdGlhbCBvcmllbnRhdGlvbiBvZiBvbmUgb3IgYWxsIHNvdW5kcyBpbiBncm91cC5cbiAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIEdldCB0aGUgc291bmQuXG4gICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBzb3VuZC5fb3JpZW50YXRpb24gPSBbeCwgeSwgel07XG5cbiAgICAgICAgICBpZiAoc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGlzIGEgcGFubmVyIHNldHVwIGFuZCBjcmVhdGUgYSBuZXcgb25lIGlmIG5vdC5cbiAgICAgICAgICAgIGlmICghc291bmQuX3Bhbm5lcikge1xuICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgd2UgaGF2ZSBhIHBvc2l0aW9uIHRvIHNldHVwIHRoZSBub2RlIHdpdGguXG4gICAgICAgICAgICAgIGlmICghc291bmQuX3Bvcykge1xuICAgICAgICAgICAgICAgIHNvdW5kLl9wb3MgPSBzZWxmLl9wb3MgfHwgWzAsIDAsIC0wLjVdO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgc2V0dXBQYW5uZXIoc291bmQsICdzcGF0aWFsJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25YLnNldFZhbHVlQXRUaW1lKHgsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWS5zZXRWYWx1ZUF0VGltZSh5LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblouc2V0VmFsdWVBdFRpbWUoeiwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnNldE9yaWVudGF0aW9uKHgsIHksIHopO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuX2VtaXQoJ29yaWVudGF0aW9uJywgc291bmQuX2lkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gc291bmQuX29yaWVudGF0aW9uO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGY7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldC9zZXQgdGhlIHBhbm5lciBub2RlJ3MgYXR0cmlidXRlcyBmb3IgYSBzb3VuZCBvciBncm91cCBvZiBzb3VuZHMuXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGwgdGFrZSAwLCAxIG9yIDIgYXJndW1lbnRzLlxuICAgKiAgIHBhbm5lckF0dHIoKSAtPiBSZXR1cm5zIHRoZSBncm91cCdzIHZhbHVlcy5cbiAgICogICBwYW5uZXJBdHRyKGlkKSAtPiBSZXR1cm5zIHRoZSBzb3VuZCBpZCdzIHZhbHVlcy5cbiAgICogICBwYW5uZXJBdHRyKG8pIC0+IFNldCdzIHRoZSB2YWx1ZXMgb2YgYWxsIHNvdW5kcyBpbiB0aGlzIEhvd2wgZ3JvdXAuXG4gICAqICAgcGFubmVyQXR0cihvLCBpZCkgLT4gU2V0J3MgdGhlIHZhbHVlcyBvZiBwYXNzZWQgc291bmQgaWQuXG4gICAqXG4gICAqICAgQXR0cmlidXRlczpcbiAgICogICAgIGNvbmVJbm5lckFuZ2xlIC0gKDM2MCBieSBkZWZhdWx0KSBBIHBhcmFtZXRlciBmb3IgZGlyZWN0aW9uYWwgYXVkaW8gc291cmNlcywgdGhpcyBpcyBhbiBhbmdsZSwgaW4gZGVncmVlcyxcbiAgICogICAgICAgICAgICAgICAgICAgICAgaW5zaWRlIG9mIHdoaWNoIHRoZXJlIHdpbGwgYmUgbm8gdm9sdW1lIHJlZHVjdGlvbi5cbiAgICogICAgIGNvbmVPdXRlckFuZ2xlIC0gKDM2MCBieSBkZWZhdWx0KSBBIHBhcmFtZXRlciBmb3IgZGlyZWN0aW9uYWwgYXVkaW8gc291cmNlcywgdGhpcyBpcyBhbiBhbmdsZSwgaW4gZGVncmVlcyxcbiAgICogICAgICAgICAgICAgICAgICAgICAgb3V0c2lkZSBvZiB3aGljaCB0aGUgdm9sdW1lIHdpbGwgYmUgcmVkdWNlZCB0byBhIGNvbnN0YW50IHZhbHVlIG9mIGBjb25lT3V0ZXJHYWluYC5cbiAgICogICAgIGNvbmVPdXRlckdhaW4gLSAoMCBieSBkZWZhdWx0KSBBIHBhcmFtZXRlciBmb3IgZGlyZWN0aW9uYWwgYXVkaW8gc291cmNlcywgdGhpcyBpcyB0aGUgZ2FpbiBvdXRzaWRlIG9mIHRoZVxuICAgKiAgICAgICAgICAgICAgICAgICAgIGBjb25lT3V0ZXJBbmdsZWAuIEl0IGlzIGEgbGluZWFyIHZhbHVlIGluIHRoZSByYW5nZSBgWzAsIDFdYC5cbiAgICogICAgIGRpc3RhbmNlTW9kZWwgLSAoJ2ludmVyc2UnIGJ5IGRlZmF1bHQpIERldGVybWluZXMgYWxnb3JpdGhtIHVzZWQgdG8gcmVkdWNlIHZvbHVtZSBhcyBhdWRpbyBtb3ZlcyBhd2F5IGZyb21cbiAgICogICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lci4gQ2FuIGJlIGBsaW5lYXJgLCBgaW52ZXJzZWAgb3IgYGV4cG9uZW50aWFsLlxuICAgKiAgICAgbWF4RGlzdGFuY2UgLSAoMTAwMDAgYnkgZGVmYXVsdCkgVGhlIG1heGltdW0gZGlzdGFuY2UgYmV0d2VlbiBzb3VyY2UgYW5kIGxpc3RlbmVyLCBhZnRlciB3aGljaCB0aGUgdm9sdW1lXG4gICAqICAgICAgICAgICAgICAgICAgIHdpbGwgbm90IGJlIHJlZHVjZWQgYW55IGZ1cnRoZXIuXG4gICAqICAgICByZWZEaXN0YW5jZSAtICgxIGJ5IGRlZmF1bHQpIEEgcmVmZXJlbmNlIGRpc3RhbmNlIGZvciByZWR1Y2luZyB2b2x1bWUgYXMgc291cmNlIG1vdmVzIGZ1cnRoZXIgZnJvbSB0aGUgbGlzdGVuZXIuXG4gICAqICAgICAgICAgICAgICAgICAgIFRoaXMgaXMgc2ltcGx5IGEgdmFyaWFibGUgb2YgdGhlIGRpc3RhbmNlIG1vZGVsIGFuZCBoYXMgYSBkaWZmZXJlbnQgZWZmZWN0IGRlcGVuZGluZyBvbiB3aGljaCBtb2RlbFxuICAgKiAgICAgICAgICAgICAgICAgICBpcyB1c2VkIGFuZCB0aGUgc2NhbGUgb2YgeW91ciBjb29yZGluYXRlcy4gR2VuZXJhbGx5LCB2b2x1bWUgd2lsbCBiZSBlcXVhbCB0byAxIGF0IHRoaXMgZGlzdGFuY2UuXG4gICAqICAgICByb2xsb2ZmRmFjdG9yIC0gKDEgYnkgZGVmYXVsdCkgSG93IHF1aWNrbHkgdGhlIHZvbHVtZSByZWR1Y2VzIGFzIHNvdXJjZSBtb3ZlcyBmcm9tIGxpc3RlbmVyLiBUaGlzIGlzIHNpbXBseSBhXG4gICAqICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGUgb2YgdGhlIGRpc3RhbmNlIG1vZGVsIGFuZCBjYW4gYmUgaW4gdGhlIHJhbmdlIG9mIGBbMCwgMV1gIHdpdGggYGxpbmVhcmAgYW5kIGBbMCwg4oieXWBcbiAgICogICAgICAgICAgICAgICAgICAgICB3aXRoIGBpbnZlcnNlYCBhbmQgYGV4cG9uZW50aWFsYC5cbiAgICogICAgIHBhbm5pbmdNb2RlbCAtICgnSFJURicgYnkgZGVmYXVsdCkgRGV0ZXJtaW5lcyB3aGljaCBzcGF0aWFsaXphdGlvbiBhbGdvcml0aG0gaXMgdXNlZCB0byBwb3NpdGlvbiBhdWRpby5cbiAgICogICAgICAgICAgICAgICAgICAgICBDYW4gYmUgYEhSVEZgIG9yIGBlcXVhbHBvd2VyYC5cbiAgICpcbiAgICogQHJldHVybiB7SG93bC9PYmplY3R9IFJldHVybnMgc2VsZiBvciBjdXJyZW50IHBhbm5lciBhdHRyaWJ1dGVzLlxuICAgKi9cbiAgSG93bC5wcm90b3R5cGUucGFubmVyQXR0ciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICB2YXIgbywgaWQsIHNvdW5kO1xuXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXG4gICAgaWYgKCFzZWxmLl93ZWJBdWRpbykge1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gRGV0ZXJtaW5lIHRoZSB2YWx1ZXMgYmFzZWQgb24gYXJndW1lbnRzLlxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgLy8gUmV0dXJuIHRoZSBncm91cCdzIHBhbm5lciBhdHRyaWJ1dGUgdmFsdWVzLlxuICAgICAgcmV0dXJuIHNlbGYuX3Bhbm5lckF0dHI7XG4gICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSAnb2JqZWN0Jykge1xuICAgICAgICBvID0gYXJnc1swXTtcblxuICAgICAgICAvLyBTZXQgdGhlIGdyb3UncyBwYW5uZXIgYXR0cmlidXRlIHZhbHVlcy5cbiAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBpZiAoIW8ucGFubmVyQXR0cikge1xuICAgICAgICAgICAgby5wYW5uZXJBdHRyID0ge1xuICAgICAgICAgICAgICBjb25lSW5uZXJBbmdsZTogby5jb25lSW5uZXJBbmdsZSxcbiAgICAgICAgICAgICAgY29uZU91dGVyQW5nbGU6IG8uY29uZU91dGVyQW5nbGUsXG4gICAgICAgICAgICAgIGNvbmVPdXRlckdhaW46IG8uY29uZU91dGVyR2FpbixcbiAgICAgICAgICAgICAgZGlzdGFuY2VNb2RlbDogby5kaXN0YW5jZU1vZGVsLFxuICAgICAgICAgICAgICBtYXhEaXN0YW5jZTogby5tYXhEaXN0YW5jZSxcbiAgICAgICAgICAgICAgcmVmRGlzdGFuY2U6IG8ucmVmRGlzdGFuY2UsXG4gICAgICAgICAgICAgIHJvbGxvZmZGYWN0b3I6IG8ucm9sbG9mZkZhY3RvcixcbiAgICAgICAgICAgICAgcGFubmluZ01vZGVsOiBvLnBhbm5pbmdNb2RlbFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxmLl9wYW5uZXJBdHRyID0ge1xuICAgICAgICAgICAgY29uZUlubmVyQW5nbGU6IHR5cGVvZiBvLnBhbm5lckF0dHIuY29uZUlubmVyQW5nbGUgIT09ICd1bmRlZmluZWQnID8gby5wYW5uZXJBdHRyLmNvbmVJbm5lckFuZ2xlIDogc2VsZi5fY29uZUlubmVyQW5nbGUsXG4gICAgICAgICAgICBjb25lT3V0ZXJBbmdsZTogdHlwZW9mIG8ucGFubmVyQXR0ci5jb25lT3V0ZXJBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIuY29uZU91dGVyQW5nbGUgOiBzZWxmLl9jb25lT3V0ZXJBbmdsZSxcbiAgICAgICAgICAgIGNvbmVPdXRlckdhaW46IHR5cGVvZiBvLnBhbm5lckF0dHIuY29uZU91dGVyR2FpbiAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIuY29uZU91dGVyR2FpbiA6IHNlbGYuX2NvbmVPdXRlckdhaW4sXG4gICAgICAgICAgICBkaXN0YW5jZU1vZGVsOiB0eXBlb2Ygby5wYW5uZXJBdHRyLmRpc3RhbmNlTW9kZWwgIT09ICd1bmRlZmluZWQnID8gby5wYW5uZXJBdHRyLmRpc3RhbmNlTW9kZWwgOiBzZWxmLl9kaXN0YW5jZU1vZGVsLFxuICAgICAgICAgICAgbWF4RGlzdGFuY2U6IHR5cGVvZiBvLnBhbm5lckF0dHIubWF4RGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5wYW5uZXJBdHRyLm1heERpc3RhbmNlIDogc2VsZi5fbWF4RGlzdGFuY2UsXG4gICAgICAgICAgICByZWZEaXN0YW5jZTogdHlwZW9mIG8ucGFubmVyQXR0ci5yZWZEaXN0YW5jZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIucmVmRGlzdGFuY2UgOiBzZWxmLl9yZWZEaXN0YW5jZSxcbiAgICAgICAgICAgIHJvbGxvZmZGYWN0b3I6IHR5cGVvZiBvLnBhbm5lckF0dHIucm9sbG9mZkZhY3RvciAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIucm9sbG9mZkZhY3RvciA6IHNlbGYuX3JvbGxvZmZGYWN0b3IsXG4gICAgICAgICAgICBwYW5uaW5nTW9kZWw6IHR5cGVvZiBvLnBhbm5lckF0dHIucGFubmluZ01vZGVsICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5wYW5uaW5nTW9kZWwgOiBzZWxmLl9wYW5uaW5nTW9kZWxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZXR1cm4gdGhpcyBzb3VuZCdzIHBhbm5lciBhdHRyaWJ1dGUgdmFsdWVzLlxuICAgICAgICBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChwYXJzZUludChhcmdzWzBdLCAxMCkpO1xuICAgICAgICByZXR1cm4gc291bmQgPyBzb3VuZC5fcGFubmVyQXR0ciA6IHNlbGYuX3Bhbm5lckF0dHI7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgbyA9IGFyZ3NbMF07XG4gICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMV0sIDEwKTtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgdGhlIHZhbHVlcyBvZiB0aGUgc3BlY2lmaWVkIHNvdW5kcy5cbiAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XG5cbiAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICAvLyBNZXJnZSB0aGUgbmV3IHZhbHVlcyBpbnRvIHRoZSBzb3VuZC5cbiAgICAgICAgdmFyIHBhID0gc291bmQuX3Bhbm5lckF0dHI7XG4gICAgICAgIHBhID0ge1xuICAgICAgICAgIGNvbmVJbm5lckFuZ2xlOiB0eXBlb2Ygby5jb25lSW5uZXJBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLmNvbmVJbm5lckFuZ2xlIDogcGEuY29uZUlubmVyQW5nbGUsXG4gICAgICAgICAgY29uZU91dGVyQW5nbGU6IHR5cGVvZiBvLmNvbmVPdXRlckFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZU91dGVyQW5nbGUgOiBwYS5jb25lT3V0ZXJBbmdsZSxcbiAgICAgICAgICBjb25lT3V0ZXJHYWluOiB0eXBlb2Ygby5jb25lT3V0ZXJHYWluICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZU91dGVyR2FpbiA6IHBhLmNvbmVPdXRlckdhaW4sXG4gICAgICAgICAgZGlzdGFuY2VNb2RlbDogdHlwZW9mIG8uZGlzdGFuY2VNb2RlbCAhPT0gJ3VuZGVmaW5lZCcgPyBvLmRpc3RhbmNlTW9kZWwgOiBwYS5kaXN0YW5jZU1vZGVsLFxuICAgICAgICAgIG1heERpc3RhbmNlOiB0eXBlb2Ygby5tYXhEaXN0YW5jZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLm1heERpc3RhbmNlIDogcGEubWF4RGlzdGFuY2UsXG4gICAgICAgICAgcmVmRGlzdGFuY2U6IHR5cGVvZiBvLnJlZkRpc3RhbmNlICE9PSAndW5kZWZpbmVkJyA/IG8ucmVmRGlzdGFuY2UgOiBwYS5yZWZEaXN0YW5jZSxcbiAgICAgICAgICByb2xsb2ZmRmFjdG9yOiB0eXBlb2Ygby5yb2xsb2ZmRmFjdG9yICE9PSAndW5kZWZpbmVkJyA/IG8ucm9sbG9mZkZhY3RvciA6IHBhLnJvbGxvZmZGYWN0b3IsXG4gICAgICAgICAgcGFubmluZ01vZGVsOiB0eXBlb2Ygby5wYW5uaW5nTW9kZWwgIT09ICd1bmRlZmluZWQnID8gby5wYW5uaW5nTW9kZWwgOiBwYS5wYW5uaW5nTW9kZWxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBVcGRhdGUgdGhlIHBhbm5lciB2YWx1ZXMgb3IgY3JlYXRlIGEgbmV3IHBhbm5lciBpZiBub25lIGV4aXN0cy5cbiAgICAgICAgdmFyIHBhbm5lciA9IHNvdW5kLl9wYW5uZXI7XG4gICAgICAgIGlmIChwYW5uZXIpIHtcbiAgICAgICAgICBwYW5uZXIuY29uZUlubmVyQW5nbGUgPSBwYS5jb25lSW5uZXJBbmdsZTtcbiAgICAgICAgICBwYW5uZXIuY29uZU91dGVyQW5nbGUgPSBwYS5jb25lT3V0ZXJBbmdsZTtcbiAgICAgICAgICBwYW5uZXIuY29uZU91dGVyR2FpbiA9IHBhLmNvbmVPdXRlckdhaW47XG4gICAgICAgICAgcGFubmVyLmRpc3RhbmNlTW9kZWwgPSBwYS5kaXN0YW5jZU1vZGVsO1xuICAgICAgICAgIHBhbm5lci5tYXhEaXN0YW5jZSA9IHBhLm1heERpc3RhbmNlO1xuICAgICAgICAgIHBhbm5lci5yZWZEaXN0YW5jZSA9IHBhLnJlZkRpc3RhbmNlO1xuICAgICAgICAgIHBhbm5lci5yb2xsb2ZmRmFjdG9yID0gcGEucm9sbG9mZkZhY3RvcjtcbiAgICAgICAgICBwYW5uZXIucGFubmluZ01vZGVsID0gcGEucGFubmluZ01vZGVsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBoYXZlIGEgcG9zaXRpb24gdG8gc2V0dXAgdGhlIG5vZGUgd2l0aC5cbiAgICAgICAgICBpZiAoIXNvdW5kLl9wb3MpIHtcbiAgICAgICAgICAgIHNvdW5kLl9wb3MgPSBzZWxmLl9wb3MgfHwgWzAsIDAsIC0wLjVdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIENyZWF0ZSBhIG5ldyBwYW5uZXIgbm9kZS5cbiAgICAgICAgICBzZXR1cFBhbm5lcihzb3VuZCwgJ3NwYXRpYWwnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKiBTaW5nbGUgU291bmQgTWV0aG9kcyAqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvKipcbiAgICogQWRkIG5ldyBwcm9wZXJ0aWVzIHRvIHRoZSBjb3JlIFNvdW5kIGluaXQuXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBfc3VwZXIgQ29yZSBTb3VuZCBpbml0IG1ldGhvZC5cbiAgICogQHJldHVybiB7U291bmR9XG4gICAqL1xuICBTb3VuZC5wcm90b3R5cGUuaW5pdCA9IChmdW5jdGlvbihfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xuXG4gICAgICAvLyBTZXR1cCB1c2VyLWRlZmluZWQgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAgc2VsZi5fb3JpZW50YXRpb24gPSBwYXJlbnQuX29yaWVudGF0aW9uO1xuICAgICAgc2VsZi5fc3RlcmVvID0gcGFyZW50Ll9zdGVyZW87XG4gICAgICBzZWxmLl9wb3MgPSBwYXJlbnQuX3BvcztcbiAgICAgIHNlbGYuX3Bhbm5lckF0dHIgPSBwYXJlbnQuX3Bhbm5lckF0dHI7XG5cbiAgICAgIC8vIENvbXBsZXRlIGluaXRpbGl6YXRpb24gd2l0aCBob3dsZXIuanMgY29yZSBTb3VuZCdzIGluaXQgZnVuY3Rpb24uXG4gICAgICBfc3VwZXIuY2FsbCh0aGlzKTtcblxuICAgICAgLy8gSWYgYSBzdGVyZW8gb3IgcG9zaXRpb24gd2FzIHNwZWNpZmllZCwgc2V0IGl0IHVwLlxuICAgICAgaWYgKHNlbGYuX3N0ZXJlbykge1xuICAgICAgICBwYXJlbnQuc3RlcmVvKHNlbGYuX3N0ZXJlbyk7XG4gICAgICB9IGVsc2UgaWYgKHNlbGYuX3Bvcykge1xuICAgICAgICBwYXJlbnQucG9zKHNlbGYuX3Bvc1swXSwgc2VsZi5fcG9zWzFdLCBzZWxmLl9wb3NbMl0sIHNlbGYuX2lkKTtcbiAgICAgIH1cbiAgICB9O1xuICB9KShTb3VuZC5wcm90b3R5cGUuaW5pdCk7XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBTb3VuZC5yZXNldCBtZXRob2QgdG8gY2xlYW4gdXAgcHJvcGVydGllcyBmcm9tIHRoZSBzcGF0aWFsIHBsdWdpbi5cbiAgICogQHBhcmFtICB7RnVuY3Rpb259IF9zdXBlciBTb3VuZCByZXNldCBtZXRob2QuXG4gICAqIEByZXR1cm4ge1NvdW5kfVxuICAgKi9cbiAgU291bmQucHJvdG90eXBlLnJlc2V0ID0gKGZ1bmN0aW9uKF9zdXBlcikge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBwYXJlbnQgPSBzZWxmLl9wYXJlbnQ7XG5cbiAgICAgIC8vIFJlc2V0IGFsbCBzcGF0aWFsIHBsdWdpbiBwcm9wZXJ0aWVzIG9uIHRoaXMgc291bmQuXG4gICAgICBzZWxmLl9vcmllbnRhdGlvbiA9IHBhcmVudC5fb3JpZW50YXRpb247XG4gICAgICBzZWxmLl9zdGVyZW8gPSBwYXJlbnQuX3N0ZXJlbztcbiAgICAgIHNlbGYuX3BvcyA9IHBhcmVudC5fcG9zO1xuICAgICAgc2VsZi5fcGFubmVyQXR0ciA9IHBhcmVudC5fcGFubmVyQXR0cjtcblxuICAgICAgLy8gSWYgYSBzdGVyZW8gb3IgcG9zaXRpb24gd2FzIHNwZWNpZmllZCwgc2V0IGl0IHVwLlxuICAgICAgaWYgKHNlbGYuX3N0ZXJlbykge1xuICAgICAgICBwYXJlbnQuc3RlcmVvKHNlbGYuX3N0ZXJlbyk7XG4gICAgICB9IGVsc2UgaWYgKHNlbGYuX3Bvcykge1xuICAgICAgICBwYXJlbnQucG9zKHNlbGYuX3Bvc1swXSwgc2VsZi5fcG9zWzFdLCBzZWxmLl9wb3NbMl0sIHNlbGYuX2lkKTtcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5fcGFubmVyKSB7XG4gICAgICAgIC8vIERpc2Nvbm5lY3QgdGhlIHBhbm5lci5cbiAgICAgICAgc2VsZi5fcGFubmVyLmRpc2Nvbm5lY3QoMCk7XG4gICAgICAgIHNlbGYuX3Bhbm5lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgcGFyZW50Ll9yZWZyZXNoQnVmZmVyKHNlbGYpO1xuICAgICAgfVxuXG4gICAgICAvLyBDb21wbGV0ZSByZXNldHRpbmcgb2YgdGhlIHNvdW5kLlxuICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgIH07XG4gIH0pKFNvdW5kLnByb3RvdHlwZS5yZXNldCk7XG5cbiAgLyoqIEhlbHBlciBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgcGFubmVyIG5vZGUgYW5kIHNhdmUgaXQgb24gdGhlIHNvdW5kLlxuICAgKiBAcGFyYW0gIHtTb3VuZH0gc291bmQgU3BlY2lmaWMgc291bmQgdG8gc2V0dXAgcGFubmluZyBvbi5cbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVHlwZSBvZiBwYW5uZXIgdG8gY3JlYXRlOiAnc3RlcmVvJyBvciAnc3BhdGlhbCcuXG4gICAqL1xuICB2YXIgc2V0dXBQYW5uZXIgPSBmdW5jdGlvbihzb3VuZCwgdHlwZSkge1xuICAgIHR5cGUgPSB0eXBlIHx8ICdzcGF0aWFsJztcblxuICAgIC8vIENyZWF0ZSB0aGUgbmV3IHBhbm5lciBub2RlLlxuICAgIGlmICh0eXBlID09PSAnc3BhdGlhbCcpIHtcbiAgICAgIHNvdW5kLl9wYW5uZXIgPSBIb3dsZXIuY3R4LmNyZWF0ZVBhbm5lcigpO1xuICAgICAgc291bmQuX3Bhbm5lci5jb25lSW5uZXJBbmdsZSA9IHNvdW5kLl9wYW5uZXJBdHRyLmNvbmVJbm5lckFuZ2xlO1xuICAgICAgc291bmQuX3Bhbm5lci5jb25lT3V0ZXJBbmdsZSA9IHNvdW5kLl9wYW5uZXJBdHRyLmNvbmVPdXRlckFuZ2xlO1xuICAgICAgc291bmQuX3Bhbm5lci5jb25lT3V0ZXJHYWluID0gc291bmQuX3Bhbm5lckF0dHIuY29uZU91dGVyR2FpbjtcbiAgICAgIHNvdW5kLl9wYW5uZXIuZGlzdGFuY2VNb2RlbCA9IHNvdW5kLl9wYW5uZXJBdHRyLmRpc3RhbmNlTW9kZWw7XG4gICAgICBzb3VuZC5fcGFubmVyLm1heERpc3RhbmNlID0gc291bmQuX3Bhbm5lckF0dHIubWF4RGlzdGFuY2U7XG4gICAgICBzb3VuZC5fcGFubmVyLnJlZkRpc3RhbmNlID0gc291bmQuX3Bhbm5lckF0dHIucmVmRGlzdGFuY2U7XG4gICAgICBzb3VuZC5fcGFubmVyLnJvbGxvZmZGYWN0b3IgPSBzb3VuZC5fcGFubmVyQXR0ci5yb2xsb2ZmRmFjdG9yO1xuICAgICAgc291bmQuX3Bhbm5lci5wYW5uaW5nTW9kZWwgPSBzb3VuZC5fcGFubmVyQXR0ci5wYW5uaW5nTW9kZWw7XG5cbiAgICAgIGlmICh0eXBlb2Ygc291bmQuX3Bhbm5lci5wb3NpdGlvblggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25YLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9wb3NbMF0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWS5zZXRWYWx1ZUF0VGltZShzb3VuZC5fcG9zWzFdLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblouc2V0VmFsdWVBdFRpbWUoc291bmQuX3Bvc1syXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb3VuZC5fcGFubmVyLnNldFBvc2l0aW9uKHNvdW5kLl9wb3NbMF0sIHNvdW5kLl9wb3NbMV0sIHNvdW5kLl9wb3NbMl0pO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25YICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWC5zZXRWYWx1ZUF0VGltZShzb3VuZC5fb3JpZW50YXRpb25bMF0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWS5zZXRWYWx1ZUF0VGltZShzb3VuZC5fb3JpZW50YXRpb25bMV0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWi5zZXRWYWx1ZUF0VGltZShzb3VuZC5fb3JpZW50YXRpb25bMl0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc291bmQuX3Bhbm5lci5zZXRPcmllbnRhdGlvbihzb3VuZC5fb3JpZW50YXRpb25bMF0sIHNvdW5kLl9vcmllbnRhdGlvblsxXSwgc291bmQuX29yaWVudGF0aW9uWzJdKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc291bmQuX3Bhbm5lciA9IEhvd2xlci5jdHguY3JlYXRlU3RlcmVvUGFubmVyKCk7XG4gICAgICBzb3VuZC5fcGFubmVyLnBhbi5zZXRWYWx1ZUF0VGltZShzb3VuZC5fc3RlcmVvLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICB9XG5cbiAgICBzb3VuZC5fcGFubmVyLmNvbm5lY3Qoc291bmQuX25vZGUpO1xuXG4gICAgLy8gVXBkYXRlIHRoZSBjb25uZWN0aW9ucy5cbiAgICBpZiAoIXNvdW5kLl9wYXVzZWQpIHtcbiAgICAgIHNvdW5kLl9wYXJlbnQucGF1c2Uoc291bmQuX2lkLCB0cnVlKS5wbGF5KHNvdW5kLl9pZCwgdHJ1ZSk7XG4gICAgfVxuICB9O1xufSkoKTtcbiIsInZhciB0c1BvbHlmaWxsID0gKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdGZ1bmN0aW9uIHVud3JhcEV4cG9ydHMgKHgpIHtcblx0XHRyZXR1cm4geCAmJiB4Ll9fZXNNb2R1bGUgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHgsICdkZWZhdWx0JykgPyB4LmRlZmF1bHQgOiB4O1xuXHR9XG5cblx0ZnVuY3Rpb24gY3JlYXRlQ29tbW9uanNNb2R1bGUoZm4sIG1vZHVsZSkge1xuXHRcdHJldHVybiBtb2R1bGUgPSB7IGV4cG9ydHM6IHt9IH0sIGZuKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMpLCBtb2R1bGUuZXhwb3J0cztcblx0fVxuXG5cdHZhciBfZ2xvYmFsID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSkge1xuXHQvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxuXHR2YXIgZ2xvYmFsID0gbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09IE1hdGhcblx0ICA/IHdpbmRvdyA6IHR5cGVvZiBzZWxmICE9ICd1bmRlZmluZWQnICYmIHNlbGYuTWF0aCA9PSBNYXRoID8gc2VsZlxuXHQgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuY1xuXHQgIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0aWYgKHR5cGVvZiBfX2cgPT0gJ251bWJlcicpIF9fZyA9IGdsb2JhbDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXHR9KTtcblxuXHR2YXIgX2NvcmUgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7XG5cdHZhciBjb3JlID0gbW9kdWxlLmV4cG9ydHMgPSB7IHZlcnNpb246ICcyLjYuNScgfTtcblx0aWYgKHR5cGVvZiBfX2UgPT0gJ251bWJlcicpIF9fZSA9IGNvcmU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblx0fSk7XG5cdHZhciBfY29yZV8xID0gX2NvcmUudmVyc2lvbjtcblxuXHR2YXIgX2lzT2JqZWN0ID0gZnVuY3Rpb24gKGl0KSB7XG5cdCAgcmV0dXJuIHR5cGVvZiBpdCA9PT0gJ29iamVjdCcgPyBpdCAhPT0gbnVsbCA6IHR5cGVvZiBpdCA9PT0gJ2Z1bmN0aW9uJztcblx0fTtcblxuXHR2YXIgX2FuT2JqZWN0ID0gZnVuY3Rpb24gKGl0KSB7XG5cdCAgaWYgKCFfaXNPYmplY3QoaXQpKSB0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhbiBvYmplY3QhJyk7XG5cdCAgcmV0dXJuIGl0O1xuXHR9O1xuXG5cdHZhciBfZmFpbHMgPSBmdW5jdGlvbiAoZXhlYykge1xuXHQgIHRyeSB7XG5cdCAgICByZXR1cm4gISFleGVjKCk7XG5cdCAgfSBjYXRjaCAoZSkge1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXHR9O1xuXG5cdC8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHlcblx0dmFyIF9kZXNjcmlwdG9ycyA9ICFfZmFpbHMoZnVuY3Rpb24gKCkge1xuXHQgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdhJywgeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDc7IH0gfSkuYSAhPSA3O1xuXHR9KTtcblxuXHR2YXIgZG9jdW1lbnQkMSA9IF9nbG9iYWwuZG9jdW1lbnQ7XG5cdC8vIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50IGlzICdvYmplY3QnIGluIG9sZCBJRVxuXHR2YXIgaXMgPSBfaXNPYmplY3QoZG9jdW1lbnQkMSkgJiYgX2lzT2JqZWN0KGRvY3VtZW50JDEuY3JlYXRlRWxlbWVudCk7XG5cdHZhciBfZG9tQ3JlYXRlID0gZnVuY3Rpb24gKGl0KSB7XG5cdCAgcmV0dXJuIGlzID8gZG9jdW1lbnQkMS5jcmVhdGVFbGVtZW50KGl0KSA6IHt9O1xuXHR9O1xuXG5cdHZhciBfaWU4RG9tRGVmaW5lID0gIV9kZXNjcmlwdG9ycyAmJiAhX2ZhaWxzKGZ1bmN0aW9uICgpIHtcblx0ICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KF9kb21DcmVhdGUoJ2RpdicpLCAnYScsIHsgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiA3OyB9IH0pLmEgIT0gNztcblx0fSk7XG5cblx0Ly8gNy4xLjEgVG9QcmltaXRpdmUoaW5wdXQgWywgUHJlZmVycmVkVHlwZV0pXG5cblx0Ly8gaW5zdGVhZCBvZiB0aGUgRVM2IHNwZWMgdmVyc2lvbiwgd2UgZGlkbid0IGltcGxlbWVudCBAQHRvUHJpbWl0aXZlIGNhc2Vcblx0Ly8gYW5kIHRoZSBzZWNvbmQgYXJndW1lbnQgLSBmbGFnIC0gcHJlZmVycmVkIHR5cGUgaXMgYSBzdHJpbmdcblx0dmFyIF90b1ByaW1pdGl2ZSA9IGZ1bmN0aW9uIChpdCwgUykge1xuXHQgIGlmICghX2lzT2JqZWN0KGl0KSkgcmV0dXJuIGl0O1xuXHQgIHZhciBmbiwgdmFsO1xuXHQgIGlmIChTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhX2lzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSkgcmV0dXJuIHZhbDtcblx0ICBpZiAodHlwZW9mIChmbiA9IGl0LnZhbHVlT2YpID09ICdmdW5jdGlvbicgJiYgIV9pc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpIHJldHVybiB2YWw7XG5cdCAgaWYgKCFTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhX2lzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSkgcmV0dXJuIHZhbDtcblx0ICB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIik7XG5cdH07XG5cblx0dmFyIGRQID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuXG5cdHZhciBmID0gX2Rlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnR5IDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcykge1xuXHQgIF9hbk9iamVjdChPKTtcblx0ICBQID0gX3RvUHJpbWl0aXZlKFAsIHRydWUpO1xuXHQgIF9hbk9iamVjdChBdHRyaWJ1dGVzKTtcblx0ICBpZiAoX2llOERvbURlZmluZSkgdHJ5IHtcblx0ICAgIHJldHVybiBkUChPLCBQLCBBdHRyaWJ1dGVzKTtcblx0ICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cblx0ICBpZiAoJ2dldCcgaW4gQXR0cmlidXRlcyB8fCAnc2V0JyBpbiBBdHRyaWJ1dGVzKSB0aHJvdyBUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIScpO1xuXHQgIGlmICgndmFsdWUnIGluIEF0dHJpYnV0ZXMpIE9bUF0gPSBBdHRyaWJ1dGVzLnZhbHVlO1xuXHQgIHJldHVybiBPO1xuXHR9O1xuXG5cdHZhciBfb2JqZWN0RHAgPSB7XG5cdFx0ZjogZlxuXHR9O1xuXG5cdHZhciBfcHJvcGVydHlEZXNjID0gZnVuY3Rpb24gKGJpdG1hcCwgdmFsdWUpIHtcblx0ICByZXR1cm4ge1xuXHQgICAgZW51bWVyYWJsZTogIShiaXRtYXAgJiAxKSxcblx0ICAgIGNvbmZpZ3VyYWJsZTogIShiaXRtYXAgJiAyKSxcblx0ICAgIHdyaXRhYmxlOiAhKGJpdG1hcCAmIDQpLFxuXHQgICAgdmFsdWU6IHZhbHVlXG5cdCAgfTtcblx0fTtcblxuXHR2YXIgX2hpZGUgPSBfZGVzY3JpcHRvcnMgPyBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG5cdCAgcmV0dXJuIF9vYmplY3REcC5mKG9iamVjdCwga2V5LCBfcHJvcGVydHlEZXNjKDEsIHZhbHVlKSk7XG5cdH0gOiBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG5cdCAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcblx0ICByZXR1cm4gb2JqZWN0O1xuXHR9O1xuXG5cdHZhciBoYXNPd25Qcm9wZXJ0eSA9IHt9Lmhhc093blByb3BlcnR5O1xuXHR2YXIgX2hhcyA9IGZ1bmN0aW9uIChpdCwga2V5KSB7XG5cdCAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoaXQsIGtleSk7XG5cdH07XG5cblx0dmFyIGlkID0gMDtcblx0dmFyIHB4ID0gTWF0aC5yYW5kb20oKTtcblx0dmFyIF91aWQgPSBmdW5jdGlvbiAoa2V5KSB7XG5cdCAgcmV0dXJuICdTeW1ib2woJy5jb25jYXQoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSwgJylfJywgKCsraWQgKyBweCkudG9TdHJpbmcoMzYpKTtcblx0fTtcblxuXHR2YXIgX2xpYnJhcnkgPSBmYWxzZTtcblxuXHR2YXIgX3NoYXJlZCA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUpIHtcblx0dmFyIFNIQVJFRCA9ICdfX2NvcmUtanNfc2hhcmVkX18nO1xuXHR2YXIgc3RvcmUgPSBfZ2xvYmFsW1NIQVJFRF0gfHwgKF9nbG9iYWxbU0hBUkVEXSA9IHt9KTtcblxuXHQobW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuXHQgIHJldHVybiBzdG9yZVtrZXldIHx8IChzdG9yZVtrZXldID0gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDoge30pO1xuXHR9KSgndmVyc2lvbnMnLCBbXSkucHVzaCh7XG5cdCAgdmVyc2lvbjogX2NvcmUudmVyc2lvbixcblx0ICBtb2RlOiAnZ2xvYmFsJyxcblx0ICBjb3B5cmlnaHQ6ICfCqSAyMDE5IERlbmlzIFB1c2hrYXJldiAoemxvaXJvY2sucnUpJ1xuXHR9KTtcblx0fSk7XG5cblx0dmFyIF9mdW5jdGlvblRvU3RyaW5nID0gX3NoYXJlZCgnbmF0aXZlLWZ1bmN0aW9uLXRvLXN0cmluZycsIEZ1bmN0aW9uLnRvU3RyaW5nKTtcblxuXHR2YXIgX3JlZGVmaW5lID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSkge1xuXHR2YXIgU1JDID0gX3VpZCgnc3JjJyk7XG5cblx0dmFyIFRPX1NUUklORyA9ICd0b1N0cmluZyc7XG5cdHZhciBUUEwgPSAoJycgKyBfZnVuY3Rpb25Ub1N0cmluZykuc3BsaXQoVE9fU1RSSU5HKTtcblxuXHRfY29yZS5pbnNwZWN0U291cmNlID0gZnVuY3Rpb24gKGl0KSB7XG5cdCAgcmV0dXJuIF9mdW5jdGlvblRvU3RyaW5nLmNhbGwoaXQpO1xuXHR9O1xuXG5cdChtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChPLCBrZXksIHZhbCwgc2FmZSkge1xuXHQgIHZhciBpc0Z1bmN0aW9uID0gdHlwZW9mIHZhbCA9PSAnZnVuY3Rpb24nO1xuXHQgIGlmIChpc0Z1bmN0aW9uKSBfaGFzKHZhbCwgJ25hbWUnKSB8fCBfaGlkZSh2YWwsICduYW1lJywga2V5KTtcblx0ICBpZiAoT1trZXldID09PSB2YWwpIHJldHVybjtcblx0ICBpZiAoaXNGdW5jdGlvbikgX2hhcyh2YWwsIFNSQykgfHwgX2hpZGUodmFsLCBTUkMsIE9ba2V5XSA/ICcnICsgT1trZXldIDogVFBMLmpvaW4oU3RyaW5nKGtleSkpKTtcblx0ICBpZiAoTyA9PT0gX2dsb2JhbCkge1xuXHQgICAgT1trZXldID0gdmFsO1xuXHQgIH0gZWxzZSBpZiAoIXNhZmUpIHtcblx0ICAgIGRlbGV0ZSBPW2tleV07XG5cdCAgICBfaGlkZShPLCBrZXksIHZhbCk7XG5cdCAgfSBlbHNlIGlmIChPW2tleV0pIHtcblx0ICAgIE9ba2V5XSA9IHZhbDtcblx0ICB9IGVsc2Uge1xuXHQgICAgX2hpZGUoTywga2V5LCB2YWwpO1xuXHQgIH1cblx0Ly8gYWRkIGZha2UgRnVuY3Rpb24jdG9TdHJpbmcgZm9yIGNvcnJlY3Qgd29yayB3cmFwcGVkIG1ldGhvZHMgLyBjb25zdHJ1Y3RvcnMgd2l0aCBtZXRob2RzIGxpa2UgTG9EYXNoIGlzTmF0aXZlXG5cdH0pKEZ1bmN0aW9uLnByb3RvdHlwZSwgVE9fU1RSSU5HLCBmdW5jdGlvbiB0b1N0cmluZygpIHtcblx0ICByZXR1cm4gdHlwZW9mIHRoaXMgPT0gJ2Z1bmN0aW9uJyAmJiB0aGlzW1NSQ10gfHwgX2Z1bmN0aW9uVG9TdHJpbmcuY2FsbCh0aGlzKTtcblx0fSk7XG5cdH0pO1xuXG5cdHZhciBfYUZ1bmN0aW9uID0gZnVuY3Rpb24gKGl0KSB7XG5cdCAgaWYgKHR5cGVvZiBpdCAhPSAnZnVuY3Rpb24nKSB0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xuXHQgIHJldHVybiBpdDtcblx0fTtcblxuXHQvLyBvcHRpb25hbCAvIHNpbXBsZSBjb250ZXh0IGJpbmRpbmdcblxuXHR2YXIgX2N0eCA9IGZ1bmN0aW9uIChmbiwgdGhhdCwgbGVuZ3RoKSB7XG5cdCAgX2FGdW5jdGlvbihmbik7XG5cdCAgaWYgKHRoYXQgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZuO1xuXHQgIHN3aXRjaCAobGVuZ3RoKSB7XG5cdCAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbiAoYSkge1xuXHQgICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhKTtcblx0ICAgIH07XG5cdCAgICBjYXNlIDI6IHJldHVybiBmdW5jdGlvbiAoYSwgYikge1xuXHQgICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTtcblx0ICAgIH07XG5cdCAgICBjYXNlIDM6IHJldHVybiBmdW5jdGlvbiAoYSwgYiwgYykge1xuXHQgICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiLCBjKTtcblx0ICAgIH07XG5cdCAgfVxuXHQgIHJldHVybiBmdW5jdGlvbiAoLyogLi4uYXJncyAqLykge1xuXHQgICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG5cdCAgfTtcblx0fTtcblxuXHR2YXIgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7XG5cblx0dmFyICRleHBvcnQgPSBmdW5jdGlvbiAodHlwZSwgbmFtZSwgc291cmNlKSB7XG5cdCAgdmFyIElTX0ZPUkNFRCA9IHR5cGUgJiAkZXhwb3J0LkY7XG5cdCAgdmFyIElTX0dMT0JBTCA9IHR5cGUgJiAkZXhwb3J0Lkc7XG5cdCAgdmFyIElTX1NUQVRJQyA9IHR5cGUgJiAkZXhwb3J0LlM7XG5cdCAgdmFyIElTX1BST1RPID0gdHlwZSAmICRleHBvcnQuUDtcblx0ICB2YXIgSVNfQklORCA9IHR5cGUgJiAkZXhwb3J0LkI7XG5cdCAgdmFyIHRhcmdldCA9IElTX0dMT0JBTCA/IF9nbG9iYWwgOiBJU19TVEFUSUMgPyBfZ2xvYmFsW25hbWVdIHx8IChfZ2xvYmFsW25hbWVdID0ge30pIDogKF9nbG9iYWxbbmFtZV0gfHwge30pW1BST1RPVFlQRV07XG5cdCAgdmFyIGV4cG9ydHMgPSBJU19HTE9CQUwgPyBfY29yZSA6IF9jb3JlW25hbWVdIHx8IChfY29yZVtuYW1lXSA9IHt9KTtcblx0ICB2YXIgZXhwUHJvdG8gPSBleHBvcnRzW1BST1RPVFlQRV0gfHwgKGV4cG9ydHNbUFJPVE9UWVBFXSA9IHt9KTtcblx0ICB2YXIga2V5LCBvd24sIG91dCwgZXhwO1xuXHQgIGlmIChJU19HTE9CQUwpIHNvdXJjZSA9IG5hbWU7XG5cdCAgZm9yIChrZXkgaW4gc291cmNlKSB7XG5cdCAgICAvLyBjb250YWlucyBpbiBuYXRpdmVcblx0ICAgIG93biA9ICFJU19GT1JDRUQgJiYgdGFyZ2V0ICYmIHRhcmdldFtrZXldICE9PSB1bmRlZmluZWQ7XG5cdCAgICAvLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZFxuXHQgICAgb3V0ID0gKG93biA/IHRhcmdldCA6IHNvdXJjZSlba2V5XTtcblx0ICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG5cdCAgICBleHAgPSBJU19CSU5EICYmIG93biA/IF9jdHgob3V0LCBfZ2xvYmFsKSA6IElTX1BST1RPICYmIHR5cGVvZiBvdXQgPT0gJ2Z1bmN0aW9uJyA/IF9jdHgoRnVuY3Rpb24uY2FsbCwgb3V0KSA6IG91dDtcblx0ICAgIC8vIGV4dGVuZCBnbG9iYWxcblx0ICAgIGlmICh0YXJnZXQpIF9yZWRlZmluZSh0YXJnZXQsIGtleSwgb3V0LCB0eXBlICYgJGV4cG9ydC5VKTtcblx0ICAgIC8vIGV4cG9ydFxuXHQgICAgaWYgKGV4cG9ydHNba2V5XSAhPSBvdXQpIF9oaWRlKGV4cG9ydHMsIGtleSwgZXhwKTtcblx0ICAgIGlmIChJU19QUk9UTyAmJiBleHBQcm90b1trZXldICE9IG91dCkgZXhwUHJvdG9ba2V5XSA9IG91dDtcblx0ICB9XG5cdH07XG5cdF9nbG9iYWwuY29yZSA9IF9jb3JlO1xuXHQvLyB0eXBlIGJpdG1hcFxuXHQkZXhwb3J0LkYgPSAxOyAgIC8vIGZvcmNlZFxuXHQkZXhwb3J0LkcgPSAyOyAgIC8vIGdsb2JhbFxuXHQkZXhwb3J0LlMgPSA0OyAgIC8vIHN0YXRpY1xuXHQkZXhwb3J0LlAgPSA4OyAgIC8vIHByb3RvXG5cdCRleHBvcnQuQiA9IDE2OyAgLy8gYmluZFxuXHQkZXhwb3J0LlcgPSAzMjsgIC8vIHdyYXBcblx0JGV4cG9ydC5VID0gNjQ7ICAvLyBzYWZlXG5cdCRleHBvcnQuUiA9IDEyODsgLy8gcmVhbCBwcm90byBtZXRob2QgZm9yIGBsaWJyYXJ5YFxuXHR2YXIgX2V4cG9ydCA9ICRleHBvcnQ7XG5cblx0dmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cblx0dmFyIF9jb2YgPSBmdW5jdGlvbiAoaXQpIHtcblx0ICByZXR1cm4gdG9TdHJpbmcuY2FsbChpdCkuc2xpY2UoOCwgLTEpO1xuXHR9O1xuXG5cdC8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzXG5cblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xuXHR2YXIgX2lvYmplY3QgPSBPYmplY3QoJ3onKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKSA/IE9iamVjdCA6IGZ1bmN0aW9uIChpdCkge1xuXHQgIHJldHVybiBfY29mKGl0KSA9PSAnU3RyaW5nJyA/IGl0LnNwbGl0KCcnKSA6IE9iamVjdChpdCk7XG5cdH07XG5cblx0Ly8gNy4yLjEgUmVxdWlyZU9iamVjdENvZXJjaWJsZShhcmd1bWVudClcblx0dmFyIF9kZWZpbmVkID0gZnVuY3Rpb24gKGl0KSB7XG5cdCAgaWYgKGl0ID09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiICsgaXQpO1xuXHQgIHJldHVybiBpdDtcblx0fTtcblxuXHQvLyA3LjEuMTMgVG9PYmplY3QoYXJndW1lbnQpXG5cblx0dmFyIF90b09iamVjdCA9IGZ1bmN0aW9uIChpdCkge1xuXHQgIHJldHVybiBPYmplY3QoX2RlZmluZWQoaXQpKTtcblx0fTtcblxuXHQvLyA3LjEuNCBUb0ludGVnZXJcblx0dmFyIGNlaWwgPSBNYXRoLmNlaWw7XG5cdHZhciBmbG9vciA9IE1hdGguZmxvb3I7XG5cdHZhciBfdG9JbnRlZ2VyID0gZnVuY3Rpb24gKGl0KSB7XG5cdCAgcmV0dXJuIGlzTmFOKGl0ID0gK2l0KSA/IDAgOiAoaXQgPiAwID8gZmxvb3IgOiBjZWlsKShpdCk7XG5cdH07XG5cblx0Ly8gNy4xLjE1IFRvTGVuZ3RoXG5cblx0dmFyIG1pbiA9IE1hdGgubWluO1xuXHR2YXIgX3RvTGVuZ3RoID0gZnVuY3Rpb24gKGl0KSB7XG5cdCAgcmV0dXJuIGl0ID4gMCA/IG1pbihfdG9JbnRlZ2VyKGl0KSwgMHgxZmZmZmZmZmZmZmZmZikgOiAwOyAvLyBwb3coMiwgNTMpIC0gMSA9PSA5MDA3MTk5MjU0NzQwOTkxXG5cdH07XG5cblx0Ly8gNy4yLjIgSXNBcnJheShhcmd1bWVudClcblxuXHR2YXIgX2lzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIGlzQXJyYXkoYXJnKSB7XG5cdCAgcmV0dXJuIF9jb2YoYXJnKSA9PSAnQXJyYXknO1xuXHR9O1xuXG5cdHZhciBfd2tzID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSkge1xuXHR2YXIgc3RvcmUgPSBfc2hhcmVkKCd3a3MnKTtcblxuXHR2YXIgU3ltYm9sID0gX2dsb2JhbC5TeW1ib2w7XG5cdHZhciBVU0VfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PSAnZnVuY3Rpb24nO1xuXG5cdHZhciAkZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0ICByZXR1cm4gc3RvcmVbbmFtZV0gfHwgKHN0b3JlW25hbWVdID1cblx0ICAgIFVTRV9TWU1CT0wgJiYgU3ltYm9sW25hbWVdIHx8IChVU0VfU1lNQk9MID8gU3ltYm9sIDogX3VpZCkoJ1N5bWJvbC4nICsgbmFtZSkpO1xuXHR9O1xuXG5cdCRleHBvcnRzLnN0b3JlID0gc3RvcmU7XG5cdH0pO1xuXG5cdHZhciBTUEVDSUVTID0gX3drcygnc3BlY2llcycpO1xuXG5cdHZhciBfYXJyYXlTcGVjaWVzQ29uc3RydWN0b3IgPSBmdW5jdGlvbiAob3JpZ2luYWwpIHtcblx0ICB2YXIgQztcblx0ICBpZiAoX2lzQXJyYXkob3JpZ2luYWwpKSB7XG5cdCAgICBDID0gb3JpZ2luYWwuY29uc3RydWN0b3I7XG5cdCAgICAvLyBjcm9zcy1yZWFsbSBmYWxsYmFja1xuXHQgICAgaWYgKHR5cGVvZiBDID09ICdmdW5jdGlvbicgJiYgKEMgPT09IEFycmF5IHx8IF9pc0FycmF5KEMucHJvdG90eXBlKSkpIEMgPSB1bmRlZmluZWQ7XG5cdCAgICBpZiAoX2lzT2JqZWN0KEMpKSB7XG5cdCAgICAgIEMgPSBDW1NQRUNJRVNdO1xuXHQgICAgICBpZiAoQyA9PT0gbnVsbCkgQyA9IHVuZGVmaW5lZDtcblx0ICAgIH1cblx0ICB9IHJldHVybiBDID09PSB1bmRlZmluZWQgPyBBcnJheSA6IEM7XG5cdH07XG5cblx0Ly8gOS40LjIuMyBBcnJheVNwZWNpZXNDcmVhdGUob3JpZ2luYWxBcnJheSwgbGVuZ3RoKVxuXG5cblx0dmFyIF9hcnJheVNwZWNpZXNDcmVhdGUgPSBmdW5jdGlvbiAob3JpZ2luYWwsIGxlbmd0aCkge1xuXHQgIHJldHVybiBuZXcgKF9hcnJheVNwZWNpZXNDb25zdHJ1Y3RvcihvcmlnaW5hbCkpKGxlbmd0aCk7XG5cdH07XG5cblx0Ly8gMCAtPiBBcnJheSNmb3JFYWNoXG5cdC8vIDEgLT4gQXJyYXkjbWFwXG5cdC8vIDIgLT4gQXJyYXkjZmlsdGVyXG5cdC8vIDMgLT4gQXJyYXkjc29tZVxuXHQvLyA0IC0+IEFycmF5I2V2ZXJ5XG5cdC8vIDUgLT4gQXJyYXkjZmluZFxuXHQvLyA2IC0+IEFycmF5I2ZpbmRJbmRleFxuXG5cblxuXG5cblx0dmFyIF9hcnJheU1ldGhvZHMgPSBmdW5jdGlvbiAoVFlQRSwgJGNyZWF0ZSkge1xuXHQgIHZhciBJU19NQVAgPSBUWVBFID09IDE7XG5cdCAgdmFyIElTX0ZJTFRFUiA9IFRZUEUgPT0gMjtcblx0ICB2YXIgSVNfU09NRSA9IFRZUEUgPT0gMztcblx0ICB2YXIgSVNfRVZFUlkgPSBUWVBFID09IDQ7XG5cdCAgdmFyIElTX0ZJTkRfSU5ERVggPSBUWVBFID09IDY7XG5cdCAgdmFyIE5PX0hPTEVTID0gVFlQRSA9PSA1IHx8IElTX0ZJTkRfSU5ERVg7XG5cdCAgdmFyIGNyZWF0ZSA9ICRjcmVhdGUgfHwgX2FycmF5U3BlY2llc0NyZWF0ZTtcblx0ICByZXR1cm4gZnVuY3Rpb24gKCR0aGlzLCBjYWxsYmFja2ZuLCB0aGF0KSB7XG5cdCAgICB2YXIgTyA9IF90b09iamVjdCgkdGhpcyk7XG5cdCAgICB2YXIgc2VsZiA9IF9pb2JqZWN0KE8pO1xuXHQgICAgdmFyIGYgPSBfY3R4KGNhbGxiYWNrZm4sIHRoYXQsIDMpO1xuXHQgICAgdmFyIGxlbmd0aCA9IF90b0xlbmd0aChzZWxmLmxlbmd0aCk7XG5cdCAgICB2YXIgaW5kZXggPSAwO1xuXHQgICAgdmFyIHJlc3VsdCA9IElTX01BUCA/IGNyZWF0ZSgkdGhpcywgbGVuZ3RoKSA6IElTX0ZJTFRFUiA/IGNyZWF0ZSgkdGhpcywgMCkgOiB1bmRlZmluZWQ7XG5cdCAgICB2YXIgdmFsLCByZXM7XG5cdCAgICBmb3IgKDtsZW5ndGggPiBpbmRleDsgaW5kZXgrKykgaWYgKE5PX0hPTEVTIHx8IGluZGV4IGluIHNlbGYpIHtcblx0ICAgICAgdmFsID0gc2VsZltpbmRleF07XG5cdCAgICAgIHJlcyA9IGYodmFsLCBpbmRleCwgTyk7XG5cdCAgICAgIGlmIChUWVBFKSB7XG5cdCAgICAgICAgaWYgKElTX01BUCkgcmVzdWx0W2luZGV4XSA9IHJlczsgICAvLyBtYXBcblx0ICAgICAgICBlbHNlIGlmIChyZXMpIHN3aXRjaCAoVFlQRSkge1xuXHQgICAgICAgICAgY2FzZSAzOiByZXR1cm4gdHJ1ZTsgICAgICAgICAgICAgLy8gc29tZVxuXHQgICAgICAgICAgY2FzZSA1OiByZXR1cm4gdmFsOyAgICAgICAgICAgICAgLy8gZmluZFxuXHQgICAgICAgICAgY2FzZSA2OiByZXR1cm4gaW5kZXg7ICAgICAgICAgICAgLy8gZmluZEluZGV4XG5cdCAgICAgICAgICBjYXNlIDI6IHJlc3VsdC5wdXNoKHZhbCk7ICAgICAgICAvLyBmaWx0ZXJcblx0ICAgICAgICB9IGVsc2UgaWYgKElTX0VWRVJZKSByZXR1cm4gZmFsc2U7IC8vIGV2ZXJ5XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiBJU19GSU5EX0lOREVYID8gLTEgOiBJU19TT01FIHx8IElTX0VWRVJZID8gSVNfRVZFUlkgOiByZXN1bHQ7XG5cdCAgfTtcblx0fTtcblxuXHQvLyAyMi4xLjMuMzEgQXJyYXkucHJvdG90eXBlW0BAdW5zY29wYWJsZXNdXG5cdHZhciBVTlNDT1BBQkxFUyA9IF93a3MoJ3Vuc2NvcGFibGVzJyk7XG5cdHZhciBBcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlO1xuXHRpZiAoQXJyYXlQcm90b1tVTlNDT1BBQkxFU10gPT0gdW5kZWZpbmVkKSBfaGlkZShBcnJheVByb3RvLCBVTlNDT1BBQkxFUywge30pO1xuXHR2YXIgX2FkZFRvVW5zY29wYWJsZXMgPSBmdW5jdGlvbiAoa2V5KSB7XG5cdCAgQXJyYXlQcm90b1tVTlNDT1BBQkxFU11ba2V5XSA9IHRydWU7XG5cdH07XG5cblx0Ly8gMjIuMS4zLjggQXJyYXkucHJvdG90eXBlLmZpbmQocHJlZGljYXRlLCB0aGlzQXJnID0gdW5kZWZpbmVkKVxuXG5cdHZhciAkZmluZCA9IF9hcnJheU1ldGhvZHMoNSk7XG5cdHZhciBLRVkgPSAnZmluZCc7XG5cdHZhciBmb3JjZWQgPSB0cnVlO1xuXHQvLyBTaG91bGRuJ3Qgc2tpcCBob2xlc1xuXHRpZiAoS0VZIGluIFtdKSBBcnJheSgxKVtLRVldKGZ1bmN0aW9uICgpIHsgZm9yY2VkID0gZmFsc2U7IH0pO1xuXHRfZXhwb3J0KF9leHBvcnQuUCArIF9leHBvcnQuRiAqIGZvcmNlZCwgJ0FycmF5Jywge1xuXHQgIGZpbmQ6IGZ1bmN0aW9uIGZpbmQoY2FsbGJhY2tmbiAvKiAsIHRoYXQgPSB1bmRlZmluZWQgKi8pIHtcblx0ICAgIHJldHVybiAkZmluZCh0aGlzLCBjYWxsYmFja2ZuLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG5cdCAgfVxuXHR9KTtcblx0X2FkZFRvVW5zY29wYWJsZXMoS0VZKTtcblxuXHR2YXIgZmluZCA9IF9jb3JlLkFycmF5LmZpbmQ7XG5cblx0Ly8gMjIuMS4zLjkgQXJyYXkucHJvdG90eXBlLmZpbmRJbmRleChwcmVkaWNhdGUsIHRoaXNBcmcgPSB1bmRlZmluZWQpXG5cblx0dmFyICRmaW5kJDEgPSBfYXJyYXlNZXRob2RzKDYpO1xuXHR2YXIgS0VZJDEgPSAnZmluZEluZGV4Jztcblx0dmFyIGZvcmNlZCQxID0gdHJ1ZTtcblx0Ly8gU2hvdWxkbid0IHNraXAgaG9sZXNcblx0aWYgKEtFWSQxIGluIFtdKSBBcnJheSgxKVtLRVkkMV0oZnVuY3Rpb24gKCkgeyBmb3JjZWQkMSA9IGZhbHNlOyB9KTtcblx0X2V4cG9ydChfZXhwb3J0LlAgKyBfZXhwb3J0LkYgKiBmb3JjZWQkMSwgJ0FycmF5Jywge1xuXHQgIGZpbmRJbmRleDogZnVuY3Rpb24gZmluZEluZGV4KGNhbGxiYWNrZm4gLyogLCB0aGF0ID0gdW5kZWZpbmVkICovKSB7XG5cdCAgICByZXR1cm4gJGZpbmQkMSh0aGlzLCBjYWxsYmFja2ZuLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG5cdCAgfVxuXHR9KTtcblx0X2FkZFRvVW5zY29wYWJsZXMoS0VZJDEpO1xuXG5cdHZhciBmaW5kSW5kZXggPSBfY29yZS5BcnJheS5maW5kSW5kZXg7XG5cblx0dmFyIG1heCA9IE1hdGgubWF4O1xuXHR2YXIgbWluJDEgPSBNYXRoLm1pbjtcblx0dmFyIF90b0Fic29sdXRlSW5kZXggPSBmdW5jdGlvbiAoaW5kZXgsIGxlbmd0aCkge1xuXHQgIGluZGV4ID0gX3RvSW50ZWdlcihpbmRleCk7XG5cdCAgcmV0dXJuIGluZGV4IDwgMCA/IG1heChpbmRleCArIGxlbmd0aCwgMCkgOiBtaW4kMShpbmRleCwgbGVuZ3RoKTtcblx0fTtcblxuXHR2YXIgX2FycmF5RmlsbCA9IGZ1bmN0aW9uIGZpbGwodmFsdWUgLyogLCBzdGFydCA9IDAsIGVuZCA9IEBsZW5ndGggKi8pIHtcblx0ICB2YXIgTyA9IF90b09iamVjdCh0aGlzKTtcblx0ICB2YXIgbGVuZ3RoID0gX3RvTGVuZ3RoKE8ubGVuZ3RoKTtcblx0ICB2YXIgYUxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cdCAgdmFyIGluZGV4ID0gX3RvQWJzb2x1dGVJbmRleChhTGVuID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCwgbGVuZ3RoKTtcblx0ICB2YXIgZW5kID0gYUxlbiA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7XG5cdCAgdmFyIGVuZFBvcyA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogX3RvQWJzb2x1dGVJbmRleChlbmQsIGxlbmd0aCk7XG5cdCAgd2hpbGUgKGVuZFBvcyA+IGluZGV4KSBPW2luZGV4KytdID0gdmFsdWU7XG5cdCAgcmV0dXJuIE87XG5cdH07XG5cblx0Ly8gMjIuMS4zLjYgQXJyYXkucHJvdG90eXBlLmZpbGwodmFsdWUsIHN0YXJ0ID0gMCwgZW5kID0gdGhpcy5sZW5ndGgpXG5cblxuXHRfZXhwb3J0KF9leHBvcnQuUCwgJ0FycmF5JywgeyBmaWxsOiBfYXJyYXlGaWxsIH0pO1xuXG5cdF9hZGRUb1Vuc2NvcGFibGVzKCdmaWxsJyk7XG5cblx0dmFyIGZpbGwgPSBfY29yZS5BcnJheS5maWxsO1xuXG5cdHZhciBfYXJyYXlDb3B5V2l0aGluID0gW10uY29weVdpdGhpbiB8fCBmdW5jdGlvbiBjb3B5V2l0aGluKHRhcmdldCAvKiA9IDAgKi8sIHN0YXJ0IC8qID0gMCwgZW5kID0gQGxlbmd0aCAqLykge1xuXHQgIHZhciBPID0gX3RvT2JqZWN0KHRoaXMpO1xuXHQgIHZhciBsZW4gPSBfdG9MZW5ndGgoTy5sZW5ndGgpO1xuXHQgIHZhciB0byA9IF90b0Fic29sdXRlSW5kZXgodGFyZ2V0LCBsZW4pO1xuXHQgIHZhciBmcm9tID0gX3RvQWJzb2x1dGVJbmRleChzdGFydCwgbGVuKTtcblx0ICB2YXIgZW5kID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7XG5cdCAgdmFyIGNvdW50ID0gTWF0aC5taW4oKGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuIDogX3RvQWJzb2x1dGVJbmRleChlbmQsIGxlbikpIC0gZnJvbSwgbGVuIC0gdG8pO1xuXHQgIHZhciBpbmMgPSAxO1xuXHQgIGlmIChmcm9tIDwgdG8gJiYgdG8gPCBmcm9tICsgY291bnQpIHtcblx0ICAgIGluYyA9IC0xO1xuXHQgICAgZnJvbSArPSBjb3VudCAtIDE7XG5cdCAgICB0byArPSBjb3VudCAtIDE7XG5cdCAgfVxuXHQgIHdoaWxlIChjb3VudC0tID4gMCkge1xuXHQgICAgaWYgKGZyb20gaW4gTykgT1t0b10gPSBPW2Zyb21dO1xuXHQgICAgZWxzZSBkZWxldGUgT1t0b107XG5cdCAgICB0byArPSBpbmM7XG5cdCAgICBmcm9tICs9IGluYztcblx0ICB9IHJldHVybiBPO1xuXHR9O1xuXG5cdC8vIDIyLjEuMy4zIEFycmF5LnByb3RvdHlwZS5jb3B5V2l0aGluKHRhcmdldCwgc3RhcnQsIGVuZCA9IHRoaXMubGVuZ3RoKVxuXG5cblx0X2V4cG9ydChfZXhwb3J0LlAsICdBcnJheScsIHsgY29weVdpdGhpbjogX2FycmF5Q29weVdpdGhpbiB9KTtcblxuXHRfYWRkVG9VbnNjb3BhYmxlcygnY29weVdpdGhpbicpO1xuXG5cdHZhciBjb3B5V2l0aGluID0gX2NvcmUuQXJyYXkuY29weVdpdGhpbjtcblxuXHQvLyB0cnVlICAtPiBTdHJpbmcjYXRcblx0Ly8gZmFsc2UgLT4gU3RyaW5nI2NvZGVQb2ludEF0XG5cdHZhciBfc3RyaW5nQXQgPSBmdW5jdGlvbiAoVE9fU1RSSU5HKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uICh0aGF0LCBwb3MpIHtcblx0ICAgIHZhciBzID0gU3RyaW5nKF9kZWZpbmVkKHRoYXQpKTtcblx0ICAgIHZhciBpID0gX3RvSW50ZWdlcihwb3MpO1xuXHQgICAgdmFyIGwgPSBzLmxlbmd0aDtcblx0ICAgIHZhciBhLCBiO1xuXHQgICAgaWYgKGkgPCAwIHx8IGkgPj0gbCkgcmV0dXJuIFRPX1NUUklORyA/ICcnIDogdW5kZWZpbmVkO1xuXHQgICAgYSA9IHMuY2hhckNvZGVBdChpKTtcblx0ICAgIHJldHVybiBhIDwgMHhkODAwIHx8IGEgPiAweGRiZmYgfHwgaSArIDEgPT09IGwgfHwgKGIgPSBzLmNoYXJDb2RlQXQoaSArIDEpKSA8IDB4ZGMwMCB8fCBiID4gMHhkZmZmXG5cdCAgICAgID8gVE9fU1RSSU5HID8gcy5jaGFyQXQoaSkgOiBhXG5cdCAgICAgIDogVE9fU1RSSU5HID8gcy5zbGljZShpLCBpICsgMikgOiAoYSAtIDB4ZDgwMCA8PCAxMCkgKyAoYiAtIDB4ZGMwMCkgKyAweDEwMDAwO1xuXHQgIH07XG5cdH07XG5cblx0dmFyIF9pdGVyYXRvcnMgPSB7fTtcblxuXHQvLyB0byBpbmRleGVkIG9iamVjdCwgdG9PYmplY3Qgd2l0aCBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIHN0cmluZ3NcblxuXG5cdHZhciBfdG9Jb2JqZWN0ID0gZnVuY3Rpb24gKGl0KSB7XG5cdCAgcmV0dXJuIF9pb2JqZWN0KF9kZWZpbmVkKGl0KSk7XG5cdH07XG5cblx0Ly8gZmFsc2UgLT4gQXJyYXkjaW5kZXhPZlxuXHQvLyB0cnVlICAtPiBBcnJheSNpbmNsdWRlc1xuXG5cblxuXHR2YXIgX2FycmF5SW5jbHVkZXMgPSBmdW5jdGlvbiAoSVNfSU5DTFVERVMpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gKCR0aGlzLCBlbCwgZnJvbUluZGV4KSB7XG5cdCAgICB2YXIgTyA9IF90b0lvYmplY3QoJHRoaXMpO1xuXHQgICAgdmFyIGxlbmd0aCA9IF90b0xlbmd0aChPLmxlbmd0aCk7XG5cdCAgICB2YXIgaW5kZXggPSBfdG9BYnNvbHV0ZUluZGV4KGZyb21JbmRleCwgbGVuZ3RoKTtcblx0ICAgIHZhciB2YWx1ZTtcblx0ICAgIC8vIEFycmF5I2luY2x1ZGVzIHVzZXMgU2FtZVZhbHVlWmVybyBlcXVhbGl0eSBhbGdvcml0aG1cblx0ICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcblx0ICAgIGlmIChJU19JTkNMVURFUyAmJiBlbCAhPSBlbCkgd2hpbGUgKGxlbmd0aCA+IGluZGV4KSB7XG5cdCAgICAgIHZhbHVlID0gT1tpbmRleCsrXTtcblx0ICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuXHQgICAgICBpZiAodmFsdWUgIT0gdmFsdWUpIHJldHVybiB0cnVlO1xuXHQgICAgLy8gQXJyYXkjaW5kZXhPZiBpZ25vcmVzIGhvbGVzLCBBcnJheSNpbmNsdWRlcyAtIG5vdFxuXHQgICAgfSBlbHNlIGZvciAoO2xlbmd0aCA+IGluZGV4OyBpbmRleCsrKSBpZiAoSVNfSU5DTFVERVMgfHwgaW5kZXggaW4gTykge1xuXHQgICAgICBpZiAoT1tpbmRleF0gPT09IGVsKSByZXR1cm4gSVNfSU5DTFVERVMgfHwgaW5kZXggfHwgMDtcblx0ICAgIH0gcmV0dXJuICFJU19JTkNMVURFUyAmJiAtMTtcblx0ICB9O1xuXHR9O1xuXG5cdHZhciBzaGFyZWQgPSBfc2hhcmVkKCdrZXlzJyk7XG5cblx0dmFyIF9zaGFyZWRLZXkgPSBmdW5jdGlvbiAoa2V5KSB7XG5cdCAgcmV0dXJuIHNoYXJlZFtrZXldIHx8IChzaGFyZWRba2V5XSA9IF91aWQoa2V5KSk7XG5cdH07XG5cblx0dmFyIGFycmF5SW5kZXhPZiA9IF9hcnJheUluY2x1ZGVzKGZhbHNlKTtcblx0dmFyIElFX1BST1RPID0gX3NoYXJlZEtleSgnSUVfUFJPVE8nKTtcblxuXHR2YXIgX29iamVjdEtleXNJbnRlcm5hbCA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWVzKSB7XG5cdCAgdmFyIE8gPSBfdG9Jb2JqZWN0KG9iamVjdCk7XG5cdCAgdmFyIGkgPSAwO1xuXHQgIHZhciByZXN1bHQgPSBbXTtcblx0ICB2YXIga2V5O1xuXHQgIGZvciAoa2V5IGluIE8pIGlmIChrZXkgIT0gSUVfUFJPVE8pIF9oYXMoTywga2V5KSAmJiByZXN1bHQucHVzaChrZXkpO1xuXHQgIC8vIERvbid0IGVudW0gYnVnICYgaGlkZGVuIGtleXNcblx0ICB3aGlsZSAobmFtZXMubGVuZ3RoID4gaSkgaWYgKF9oYXMoTywga2V5ID0gbmFtZXNbaSsrXSkpIHtcblx0ICAgIH5hcnJheUluZGV4T2YocmVzdWx0LCBrZXkpIHx8IHJlc3VsdC5wdXNoKGtleSk7XG5cdCAgfVxuXHQgIHJldHVybiByZXN1bHQ7XG5cdH07XG5cblx0Ly8gSUUgOC0gZG9uJ3QgZW51bSBidWcga2V5c1xuXHR2YXIgX2VudW1CdWdLZXlzID0gKFxuXHQgICdjb25zdHJ1Y3RvcixoYXNPd25Qcm9wZXJ0eSxpc1Byb3RvdHlwZU9mLHByb3BlcnR5SXNFbnVtZXJhYmxlLHRvTG9jYWxlU3RyaW5nLHRvU3RyaW5nLHZhbHVlT2YnXG5cdCkuc3BsaXQoJywnKTtcblxuXHQvLyAxOS4xLjIuMTQgLyAxNS4yLjMuMTQgT2JqZWN0LmtleXMoTylcblxuXG5cblx0dmFyIF9vYmplY3RLZXlzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24ga2V5cyhPKSB7XG5cdCAgcmV0dXJuIF9vYmplY3RLZXlzSW50ZXJuYWwoTywgX2VudW1CdWdLZXlzKTtcblx0fTtcblxuXHR2YXIgX29iamVjdERwcyA9IF9kZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzIDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKSB7XG5cdCAgX2FuT2JqZWN0KE8pO1xuXHQgIHZhciBrZXlzID0gX29iamVjdEtleXMoUHJvcGVydGllcyk7XG5cdCAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuXHQgIHZhciBpID0gMDtcblx0ICB2YXIgUDtcblx0ICB3aGlsZSAobGVuZ3RoID4gaSkgX29iamVjdERwLmYoTywgUCA9IGtleXNbaSsrXSwgUHJvcGVydGllc1tQXSk7XG5cdCAgcmV0dXJuIE87XG5cdH07XG5cblx0dmFyIGRvY3VtZW50JDIgPSBfZ2xvYmFsLmRvY3VtZW50O1xuXHR2YXIgX2h0bWwgPSBkb2N1bWVudCQyICYmIGRvY3VtZW50JDIuZG9jdW1lbnRFbGVtZW50O1xuXG5cdC8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxuXG5cblxuXHR2YXIgSUVfUFJPVE8kMSA9IF9zaGFyZWRLZXkoJ0lFX1BST1RPJyk7XG5cdHZhciBFbXB0eSA9IGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfTtcblx0dmFyIFBST1RPVFlQRSQxID0gJ3Byb3RvdHlwZSc7XG5cblx0Ly8gQ3JlYXRlIG9iamVjdCB3aXRoIGZha2UgYG51bGxgIHByb3RvdHlwZTogdXNlIGlmcmFtZSBPYmplY3Qgd2l0aCBjbGVhcmVkIHByb3RvdHlwZVxuXHR2YXIgY3JlYXRlRGljdCA9IGZ1bmN0aW9uICgpIHtcblx0ICAvLyBUaHJhc2gsIHdhc3RlIGFuZCBzb2RvbXk6IElFIEdDIGJ1Z1xuXHQgIHZhciBpZnJhbWUgPSBfZG9tQ3JlYXRlKCdpZnJhbWUnKTtcblx0ICB2YXIgaSA9IF9lbnVtQnVnS2V5cy5sZW5ndGg7XG5cdCAgdmFyIGx0ID0gJzwnO1xuXHQgIHZhciBndCA9ICc+Jztcblx0ICB2YXIgaWZyYW1lRG9jdW1lbnQ7XG5cdCAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdCAgX2h0bWwuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcblx0ICBpZnJhbWUuc3JjID0gJ2phdmFzY3JpcHQ6JzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zY3JpcHQtdXJsXG5cdCAgLy8gY3JlYXRlRGljdCA9IGlmcmFtZS5jb250ZW50V2luZG93Lk9iamVjdDtcblx0ICAvLyBodG1sLnJlbW92ZUNoaWxkKGlmcmFtZSk7XG5cdCAgaWZyYW1lRG9jdW1lbnQgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcblx0ICBpZnJhbWVEb2N1bWVudC5vcGVuKCk7XG5cdCAgaWZyYW1lRG9jdW1lbnQud3JpdGUobHQgKyAnc2NyaXB0JyArIGd0ICsgJ2RvY3VtZW50LkY9T2JqZWN0JyArIGx0ICsgJy9zY3JpcHQnICsgZ3QpO1xuXHQgIGlmcmFtZURvY3VtZW50LmNsb3NlKCk7XG5cdCAgY3JlYXRlRGljdCA9IGlmcmFtZURvY3VtZW50LkY7XG5cdCAgd2hpbGUgKGktLSkgZGVsZXRlIGNyZWF0ZURpY3RbUFJPVE9UWVBFJDFdW19lbnVtQnVnS2V5c1tpXV07XG5cdCAgcmV0dXJuIGNyZWF0ZURpY3QoKTtcblx0fTtcblxuXHR2YXIgX29iamVjdENyZWF0ZSA9IE9iamVjdC5jcmVhdGUgfHwgZnVuY3Rpb24gY3JlYXRlKE8sIFByb3BlcnRpZXMpIHtcblx0ICB2YXIgcmVzdWx0O1xuXHQgIGlmIChPICE9PSBudWxsKSB7XG5cdCAgICBFbXB0eVtQUk9UT1RZUEUkMV0gPSBfYW5PYmplY3QoTyk7XG5cdCAgICByZXN1bHQgPSBuZXcgRW1wdHkoKTtcblx0ICAgIEVtcHR5W1BST1RPVFlQRSQxXSA9IG51bGw7XG5cdCAgICAvLyBhZGQgXCJfX3Byb3RvX19cIiBmb3IgT2JqZWN0LmdldFByb3RvdHlwZU9mIHBvbHlmaWxsXG5cdCAgICByZXN1bHRbSUVfUFJPVE8kMV0gPSBPO1xuXHQgIH0gZWxzZSByZXN1bHQgPSBjcmVhdGVEaWN0KCk7XG5cdCAgcmV0dXJuIFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IF9vYmplY3REcHMocmVzdWx0LCBQcm9wZXJ0aWVzKTtcblx0fTtcblxuXHR2YXIgZGVmID0gX29iamVjdERwLmY7XG5cblx0dmFyIFRBRyA9IF93a3MoJ3RvU3RyaW5nVGFnJyk7XG5cblx0dmFyIF9zZXRUb1N0cmluZ1RhZyA9IGZ1bmN0aW9uIChpdCwgdGFnLCBzdGF0KSB7XG5cdCAgaWYgKGl0ICYmICFfaGFzKGl0ID0gc3RhdCA/IGl0IDogaXQucHJvdG90eXBlLCBUQUcpKSBkZWYoaXQsIFRBRywgeyBjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiB0YWcgfSk7XG5cdH07XG5cblx0dmFyIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG5cblx0Ly8gMjUuMS4yLjEuMSAlSXRlcmF0b3JQcm90b3R5cGUlW0BAaXRlcmF0b3JdKClcblx0X2hpZGUoSXRlcmF0b3JQcm90b3R5cGUsIF93a3MoJ2l0ZXJhdG9yJyksIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pO1xuXG5cdHZhciBfaXRlckNyZWF0ZSA9IGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCkge1xuXHQgIENvbnN0cnVjdG9yLnByb3RvdHlwZSA9IF9vYmplY3RDcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUsIHsgbmV4dDogX3Byb3BlcnR5RGVzYygxLCBuZXh0KSB9KTtcblx0ICBfc2V0VG9TdHJpbmdUYWcoQ29uc3RydWN0b3IsIE5BTUUgKyAnIEl0ZXJhdG9yJyk7XG5cdH07XG5cblx0Ly8gMTkuMS4yLjkgLyAxNS4yLjMuMiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTylcblxuXG5cdHZhciBJRV9QUk9UTyQyID0gX3NoYXJlZEtleSgnSUVfUFJPVE8nKTtcblx0dmFyIE9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuXHR2YXIgX29iamVjdEdwbyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiAoTykge1xuXHQgIE8gPSBfdG9PYmplY3QoTyk7XG5cdCAgaWYgKF9oYXMoTywgSUVfUFJPVE8kMikpIHJldHVybiBPW0lFX1BST1RPJDJdO1xuXHQgIGlmICh0eXBlb2YgTy5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmIE8gaW5zdGFuY2VvZiBPLmNvbnN0cnVjdG9yKSB7XG5cdCAgICByZXR1cm4gTy5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG5cdCAgfSByZXR1cm4gTyBpbnN0YW5jZW9mIE9iamVjdCA/IE9iamVjdFByb3RvIDogbnVsbDtcblx0fTtcblxuXHR2YXIgSVRFUkFUT1IgPSBfd2tzKCdpdGVyYXRvcicpO1xuXHR2YXIgQlVHR1kgPSAhKFtdLmtleXMgJiYgJ25leHQnIGluIFtdLmtleXMoKSk7IC8vIFNhZmFyaSBoYXMgYnVnZ3kgaXRlcmF0b3JzIHcvbyBgbmV4dGBcblx0dmFyIEZGX0lURVJBVE9SID0gJ0BAaXRlcmF0b3InO1xuXHR2YXIgS0VZUyA9ICdrZXlzJztcblx0dmFyIFZBTFVFUyA9ICd2YWx1ZXMnO1xuXG5cdHZhciByZXR1cm5UaGlzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfTtcblxuXHR2YXIgX2l0ZXJEZWZpbmUgPSBmdW5jdGlvbiAoQmFzZSwgTkFNRSwgQ29uc3RydWN0b3IsIG5leHQsIERFRkFVTFQsIElTX1NFVCwgRk9SQ0VEKSB7XG5cdCAgX2l0ZXJDcmVhdGUoQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpO1xuXHQgIHZhciBnZXRNZXRob2QgPSBmdW5jdGlvbiAoa2luZCkge1xuXHQgICAgaWYgKCFCVUdHWSAmJiBraW5kIGluIHByb3RvKSByZXR1cm4gcHJvdG9ba2luZF07XG5cdCAgICBzd2l0Y2ggKGtpbmQpIHtcblx0ICAgICAgY2FzZSBLRVlTOiByZXR1cm4gZnVuY3Rpb24ga2V5cygpIHsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcblx0ICAgICAgY2FzZSBWQUxVRVM6IHJldHVybiBmdW5jdGlvbiB2YWx1ZXMoKSB7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG5cdCAgICB9IHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCkgeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuXHQgIH07XG5cdCAgdmFyIFRBRyA9IE5BTUUgKyAnIEl0ZXJhdG9yJztcblx0ICB2YXIgREVGX1ZBTFVFUyA9IERFRkFVTFQgPT0gVkFMVUVTO1xuXHQgIHZhciBWQUxVRVNfQlVHID0gZmFsc2U7XG5cdCAgdmFyIHByb3RvID0gQmFzZS5wcm90b3R5cGU7XG5cdCAgdmFyICRuYXRpdmUgPSBwcm90b1tJVEVSQVRPUl0gfHwgcHJvdG9bRkZfSVRFUkFUT1JdIHx8IERFRkFVTFQgJiYgcHJvdG9bREVGQVVMVF07XG5cdCAgdmFyICRkZWZhdWx0ID0gJG5hdGl2ZSB8fCBnZXRNZXRob2QoREVGQVVMVCk7XG5cdCAgdmFyICRlbnRyaWVzID0gREVGQVVMVCA/ICFERUZfVkFMVUVTID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoJ2VudHJpZXMnKSA6IHVuZGVmaW5lZDtcblx0ICB2YXIgJGFueU5hdGl2ZSA9IE5BTUUgPT0gJ0FycmF5JyA/IHByb3RvLmVudHJpZXMgfHwgJG5hdGl2ZSA6ICRuYXRpdmU7XG5cdCAgdmFyIG1ldGhvZHMsIGtleSwgSXRlcmF0b3JQcm90b3R5cGU7XG5cdCAgLy8gRml4IG5hdGl2ZVxuXHQgIGlmICgkYW55TmF0aXZlKSB7XG5cdCAgICBJdGVyYXRvclByb3RvdHlwZSA9IF9vYmplY3RHcG8oJGFueU5hdGl2ZS5jYWxsKG5ldyBCYXNlKCkpKTtcblx0ICAgIGlmIChJdGVyYXRvclByb3RvdHlwZSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBJdGVyYXRvclByb3RvdHlwZS5uZXh0KSB7XG5cdCAgICAgIC8vIFNldCBAQHRvU3RyaW5nVGFnIHRvIG5hdGl2ZSBpdGVyYXRvcnNcblx0ICAgICAgX3NldFRvU3RyaW5nVGFnKEl0ZXJhdG9yUHJvdG90eXBlLCBUQUcsIHRydWUpO1xuXHQgICAgICAvLyBmaXggZm9yIHNvbWUgb2xkIGVuZ2luZXNcblx0ICAgICAgaWYgKCFfbGlicmFyeSAmJiB0eXBlb2YgSXRlcmF0b3JQcm90b3R5cGVbSVRFUkFUT1JdICE9ICdmdW5jdGlvbicpIF9oaWRlKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUiwgcmV0dXJuVGhpcyk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIC8vIGZpeCBBcnJheSN7dmFsdWVzLCBAQGl0ZXJhdG9yfS5uYW1lIGluIFY4IC8gRkZcblx0ICBpZiAoREVGX1ZBTFVFUyAmJiAkbmF0aXZlICYmICRuYXRpdmUubmFtZSAhPT0gVkFMVUVTKSB7XG5cdCAgICBWQUxVRVNfQlVHID0gdHJ1ZTtcblx0ICAgICRkZWZhdWx0ID0gZnVuY3Rpb24gdmFsdWVzKCkgeyByZXR1cm4gJG5hdGl2ZS5jYWxsKHRoaXMpOyB9O1xuXHQgIH1cblx0ICAvLyBEZWZpbmUgaXRlcmF0b3Jcblx0ICBpZiAoKCFfbGlicmFyeSB8fCBGT1JDRUQpICYmIChCVUdHWSB8fCBWQUxVRVNfQlVHIHx8ICFwcm90b1tJVEVSQVRPUl0pKSB7XG5cdCAgICBfaGlkZShwcm90bywgSVRFUkFUT1IsICRkZWZhdWx0KTtcblx0ICB9XG5cdCAgLy8gUGx1ZyBmb3IgbGlicmFyeVxuXHQgIF9pdGVyYXRvcnNbTkFNRV0gPSAkZGVmYXVsdDtcblx0ICBfaXRlcmF0b3JzW1RBR10gPSByZXR1cm5UaGlzO1xuXHQgIGlmIChERUZBVUxUKSB7XG5cdCAgICBtZXRob2RzID0ge1xuXHQgICAgICB2YWx1ZXM6IERFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChWQUxVRVMpLFxuXHQgICAgICBrZXlzOiBJU19TRVQgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChLRVlTKSxcblx0ICAgICAgZW50cmllczogJGVudHJpZXNcblx0ICAgIH07XG5cdCAgICBpZiAoRk9SQ0VEKSBmb3IgKGtleSBpbiBtZXRob2RzKSB7XG5cdCAgICAgIGlmICghKGtleSBpbiBwcm90bykpIF9yZWRlZmluZShwcm90bywga2V5LCBtZXRob2RzW2tleV0pO1xuXHQgICAgfSBlbHNlIF9leHBvcnQoX2V4cG9ydC5QICsgX2V4cG9ydC5GICogKEJVR0dZIHx8IFZBTFVFU19CVUcpLCBOQU1FLCBtZXRob2RzKTtcblx0ICB9XG5cdCAgcmV0dXJuIG1ldGhvZHM7XG5cdH07XG5cblx0dmFyICRhdCA9IF9zdHJpbmdBdCh0cnVlKTtcblxuXHQvLyAyMS4xLjMuMjcgU3RyaW5nLnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5cdF9pdGVyRGVmaW5lKFN0cmluZywgJ1N0cmluZycsIGZ1bmN0aW9uIChpdGVyYXRlZCkge1xuXHQgIHRoaXMuX3QgPSBTdHJpbmcoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcblx0ICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuXHQvLyAyMS4xLjUuMi4xICVTdHJpbmdJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG5cdH0sIGZ1bmN0aW9uICgpIHtcblx0ICB2YXIgTyA9IHRoaXMuX3Q7XG5cdCAgdmFyIGluZGV4ID0gdGhpcy5faTtcblx0ICB2YXIgcG9pbnQ7XG5cdCAgaWYgKGluZGV4ID49IE8ubGVuZ3RoKSByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG5cdCAgcG9pbnQgPSAkYXQoTywgaW5kZXgpO1xuXHQgIHRoaXMuX2kgKz0gcG9pbnQubGVuZ3RoO1xuXHQgIHJldHVybiB7IHZhbHVlOiBwb2ludCwgZG9uZTogZmFsc2UgfTtcblx0fSk7XG5cblx0Ly8gY2FsbCBzb21ldGhpbmcgb24gaXRlcmF0b3Igc3RlcCB3aXRoIHNhZmUgY2xvc2luZyBvbiBlcnJvclxuXG5cdHZhciBfaXRlckNhbGwgPSBmdW5jdGlvbiAoaXRlcmF0b3IsIGZuLCB2YWx1ZSwgZW50cmllcykge1xuXHQgIHRyeSB7XG5cdCAgICByZXR1cm4gZW50cmllcyA/IGZuKF9hbk9iamVjdCh2YWx1ZSlbMF0sIHZhbHVlWzFdKSA6IGZuKHZhbHVlKTtcblx0ICAvLyA3LjQuNiBJdGVyYXRvckNsb3NlKGl0ZXJhdG9yLCBjb21wbGV0aW9uKVxuXHQgIH0gY2F0Y2ggKGUpIHtcblx0ICAgIHZhciByZXQgPSBpdGVyYXRvclsncmV0dXJuJ107XG5cdCAgICBpZiAocmV0ICE9PSB1bmRlZmluZWQpIF9hbk9iamVjdChyZXQuY2FsbChpdGVyYXRvcikpO1xuXHQgICAgdGhyb3cgZTtcblx0ICB9XG5cdH07XG5cblx0Ly8gY2hlY2sgb24gZGVmYXVsdCBBcnJheSBpdGVyYXRvclxuXG5cdHZhciBJVEVSQVRPUiQxID0gX3drcygnaXRlcmF0b3InKTtcblx0dmFyIEFycmF5UHJvdG8kMSA9IEFycmF5LnByb3RvdHlwZTtcblxuXHR2YXIgX2lzQXJyYXlJdGVyID0gZnVuY3Rpb24gKGl0KSB7XG5cdCAgcmV0dXJuIGl0ICE9PSB1bmRlZmluZWQgJiYgKF9pdGVyYXRvcnMuQXJyYXkgPT09IGl0IHx8IEFycmF5UHJvdG8kMVtJVEVSQVRPUiQxXSA9PT0gaXQpO1xuXHR9O1xuXG5cdHZhciBfY3JlYXRlUHJvcGVydHkgPSBmdW5jdGlvbiAob2JqZWN0LCBpbmRleCwgdmFsdWUpIHtcblx0ICBpZiAoaW5kZXggaW4gb2JqZWN0KSBfb2JqZWN0RHAuZihvYmplY3QsIGluZGV4LCBfcHJvcGVydHlEZXNjKDAsIHZhbHVlKSk7XG5cdCAgZWxzZSBvYmplY3RbaW5kZXhdID0gdmFsdWU7XG5cdH07XG5cblx0Ly8gZ2V0dGluZyB0YWcgZnJvbSAxOS4xLjMuNiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKClcblxuXHR2YXIgVEFHJDEgPSBfd2tzKCd0b1N0cmluZ1RhZycpO1xuXHQvLyBFUzMgd3JvbmcgaGVyZVxuXHR2YXIgQVJHID0gX2NvZihmdW5jdGlvbiAoKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPT0gJ0FyZ3VtZW50cyc7XG5cblx0Ly8gZmFsbGJhY2sgZm9yIElFMTEgU2NyaXB0IEFjY2VzcyBEZW5pZWQgZXJyb3Jcblx0dmFyIHRyeUdldCA9IGZ1bmN0aW9uIChpdCwga2V5KSB7XG5cdCAgdHJ5IHtcblx0ICAgIHJldHVybiBpdFtrZXldO1xuXHQgIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxuXHR9O1xuXG5cdHZhciBfY2xhc3NvZiA9IGZ1bmN0aW9uIChpdCkge1xuXHQgIHZhciBPLCBULCBCO1xuXHQgIHJldHVybiBpdCA9PT0gdW5kZWZpbmVkID8gJ1VuZGVmaW5lZCcgOiBpdCA9PT0gbnVsbCA/ICdOdWxsJ1xuXHQgICAgLy8gQEB0b1N0cmluZ1RhZyBjYXNlXG5cdCAgICA6IHR5cGVvZiAoVCA9IHRyeUdldChPID0gT2JqZWN0KGl0KSwgVEFHJDEpKSA9PSAnc3RyaW5nJyA/IFRcblx0ICAgIC8vIGJ1aWx0aW5UYWcgY2FzZVxuXHQgICAgOiBBUkcgPyBfY29mKE8pXG5cdCAgICAvLyBFUzMgYXJndW1lbnRzIGZhbGxiYWNrXG5cdCAgICA6IChCID0gX2NvZihPKSkgPT0gJ09iamVjdCcgJiYgdHlwZW9mIE8uY2FsbGVlID09ICdmdW5jdGlvbicgPyAnQXJndW1lbnRzJyA6IEI7XG5cdH07XG5cblx0dmFyIElURVJBVE9SJDIgPSBfd2tzKCdpdGVyYXRvcicpO1xuXG5cdHZhciBjb3JlX2dldEl0ZXJhdG9yTWV0aG9kID0gX2NvcmUuZ2V0SXRlcmF0b3JNZXRob2QgPSBmdW5jdGlvbiAoaXQpIHtcblx0ICBpZiAoaXQgIT0gdW5kZWZpbmVkKSByZXR1cm4gaXRbSVRFUkFUT1IkMl1cblx0ICAgIHx8IGl0WydAQGl0ZXJhdG9yJ11cblx0ICAgIHx8IF9pdGVyYXRvcnNbX2NsYXNzb2YoaXQpXTtcblx0fTtcblxuXHR2YXIgSVRFUkFUT1IkMyA9IF93a3MoJ2l0ZXJhdG9yJyk7XG5cdHZhciBTQUZFX0NMT1NJTkcgPSBmYWxzZTtcblxuXHR0cnkge1xuXHQgIHZhciByaXRlciA9IFs3XVtJVEVSQVRPUiQzXSgpO1xuXHQgIHJpdGVyWydyZXR1cm4nXSA9IGZ1bmN0aW9uICgpIHsgU0FGRV9DTE9TSU5HID0gdHJ1ZTsgfTtcblx0fSBjYXRjaCAoZSkgeyAvKiBlbXB0eSAqLyB9XG5cblx0dmFyIF9pdGVyRGV0ZWN0ID0gZnVuY3Rpb24gKGV4ZWMsIHNraXBDbG9zaW5nKSB7XG5cdCAgaWYgKCFza2lwQ2xvc2luZyAmJiAhU0FGRV9DTE9TSU5HKSByZXR1cm4gZmFsc2U7XG5cdCAgdmFyIHNhZmUgPSBmYWxzZTtcblx0ICB0cnkge1xuXHQgICAgdmFyIGFyciA9IFs3XTtcblx0ICAgIHZhciBpdGVyID0gYXJyW0lURVJBVE9SJDNdKCk7XG5cdCAgICBpdGVyLm5leHQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB7IGRvbmU6IHNhZmUgPSB0cnVlIH07IH07XG5cdCAgICBhcnJbSVRFUkFUT1IkM10gPSBmdW5jdGlvbiAoKSB7IHJldHVybiBpdGVyOyB9O1xuXHQgICAgZXhlYyhhcnIpO1xuXHQgIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxuXHQgIHJldHVybiBzYWZlO1xuXHR9O1xuXG5cdF9leHBvcnQoX2V4cG9ydC5TICsgX2V4cG9ydC5GICogIV9pdGVyRGV0ZWN0KGZ1bmN0aW9uIChpdGVyKSB7IH0pLCAnQXJyYXknLCB7XG5cdCAgLy8gMjIuMS4yLjEgQXJyYXkuZnJvbShhcnJheUxpa2UsIG1hcGZuID0gdW5kZWZpbmVkLCB0aGlzQXJnID0gdW5kZWZpbmVkKVxuXHQgIGZyb206IGZ1bmN0aW9uIGZyb20oYXJyYXlMaWtlIC8qICwgbWFwZm4gPSB1bmRlZmluZWQsIHRoaXNBcmcgPSB1bmRlZmluZWQgKi8pIHtcblx0ICAgIHZhciBPID0gX3RvT2JqZWN0KGFycmF5TGlrZSk7XG5cdCAgICB2YXIgQyA9IHR5cGVvZiB0aGlzID09ICdmdW5jdGlvbicgPyB0aGlzIDogQXJyYXk7XG5cdCAgICB2YXIgYUxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cdCAgICB2YXIgbWFwZm4gPSBhTGVuID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcblx0ICAgIHZhciBtYXBwaW5nID0gbWFwZm4gIT09IHVuZGVmaW5lZDtcblx0ICAgIHZhciBpbmRleCA9IDA7XG5cdCAgICB2YXIgaXRlckZuID0gY29yZV9nZXRJdGVyYXRvck1ldGhvZChPKTtcblx0ICAgIHZhciBsZW5ndGgsIHJlc3VsdCwgc3RlcCwgaXRlcmF0b3I7XG5cdCAgICBpZiAobWFwcGluZykgbWFwZm4gPSBfY3R4KG1hcGZuLCBhTGVuID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZCwgMik7XG5cdCAgICAvLyBpZiBvYmplY3QgaXNuJ3QgaXRlcmFibGUgb3IgaXQncyBhcnJheSB3aXRoIGRlZmF1bHQgaXRlcmF0b3IgLSB1c2Ugc2ltcGxlIGNhc2Vcblx0ICAgIGlmIChpdGVyRm4gIT0gdW5kZWZpbmVkICYmICEoQyA9PSBBcnJheSAmJiBfaXNBcnJheUl0ZXIoaXRlckZuKSkpIHtcblx0ICAgICAgZm9yIChpdGVyYXRvciA9IGl0ZXJGbi5jYWxsKE8pLCByZXN1bHQgPSBuZXcgQygpOyAhKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmU7IGluZGV4KyspIHtcblx0ICAgICAgICBfY3JlYXRlUHJvcGVydHkocmVzdWx0LCBpbmRleCwgbWFwcGluZyA/IF9pdGVyQ2FsbChpdGVyYXRvciwgbWFwZm4sIFtzdGVwLnZhbHVlLCBpbmRleF0sIHRydWUpIDogc3RlcC52YWx1ZSk7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGxlbmd0aCA9IF90b0xlbmd0aChPLmxlbmd0aCk7XG5cdCAgICAgIGZvciAocmVzdWx0ID0gbmV3IEMobGVuZ3RoKTsgbGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIHtcblx0ICAgICAgICBfY3JlYXRlUHJvcGVydHkocmVzdWx0LCBpbmRleCwgbWFwcGluZyA/IG1hcGZuKE9baW5kZXhdLCBpbmRleCkgOiBPW2luZGV4XSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJlc3VsdC5sZW5ndGggPSBpbmRleDtcblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdCAgfVxuXHR9KTtcblxuXHR2YXIgZnJvbV8xID0gX2NvcmUuQXJyYXkuZnJvbTtcblxuXHQvLyBXZWJLaXQgQXJyYXkub2YgaXNuJ3QgZ2VuZXJpY1xuXHRfZXhwb3J0KF9leHBvcnQuUyArIF9leHBvcnQuRiAqIF9mYWlscyhmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gRigpIHsgLyogZW1wdHkgKi8gfVxuXHQgIHJldHVybiAhKEFycmF5Lm9mLmNhbGwoRikgaW5zdGFuY2VvZiBGKTtcblx0fSksICdBcnJheScsIHtcblx0ICAvLyAyMi4xLjIuMyBBcnJheS5vZiggLi4uaXRlbXMpXG5cdCAgb2Y6IGZ1bmN0aW9uIG9mKC8qIC4uLmFyZ3MgKi8pIHtcblx0ICAgIHZhciBpbmRleCA9IDA7XG5cdCAgICB2YXIgYUxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cdCAgICB2YXIgcmVzdWx0ID0gbmV3ICh0eXBlb2YgdGhpcyA9PSAnZnVuY3Rpb24nID8gdGhpcyA6IEFycmF5KShhTGVuKTtcblx0ICAgIHdoaWxlIChhTGVuID4gaW5kZXgpIF9jcmVhdGVQcm9wZXJ0eShyZXN1bHQsIGluZGV4LCBhcmd1bWVudHNbaW5kZXgrK10pO1xuXHQgICAgcmVzdWx0Lmxlbmd0aCA9IGFMZW47XG5cdCAgICByZXR1cm4gcmVzdWx0O1xuXHQgIH1cblx0fSk7XG5cblx0dmFyIG9mID0gX2NvcmUuQXJyYXkub2Y7XG5cblx0dmFyIGRQJDEgPSBfb2JqZWN0RHAuZjtcblx0dmFyIEZQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcblx0dmFyIG5hbWVSRSA9IC9eXFxzKmZ1bmN0aW9uIChbXiAoXSopLztcblx0dmFyIE5BTUUgPSAnbmFtZSc7XG5cblx0Ly8gMTkuMi40LjIgbmFtZVxuXHROQU1FIGluIEZQcm90byB8fCBfZGVzY3JpcHRvcnMgJiYgZFAkMShGUHJvdG8sIE5BTUUsIHtcblx0ICBjb25maWd1cmFibGU6IHRydWUsXG5cdCAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cdCAgICB0cnkge1xuXHQgICAgICByZXR1cm4gKCcnICsgdGhpcykubWF0Y2gobmFtZVJFKVsxXTtcblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgcmV0dXJuICcnO1xuXHQgICAgfVxuXHQgIH1cblx0fSk7XG5cblx0Ly8gMjAuMi4yLjExIE1hdGguY2x6MzIoeClcblxuXG5cdF9leHBvcnQoX2V4cG9ydC5TLCAnTWF0aCcsIHtcblx0ICBjbHozMjogZnVuY3Rpb24gY2x6MzIoeCkge1xuXHQgICAgcmV0dXJuICh4ID4+Pj0gMCkgPyAzMSAtIE1hdGguZmxvb3IoTWF0aC5sb2coeCArIDAuNSkgKiBNYXRoLkxPRzJFKSA6IDMyO1xuXHQgIH1cblx0fSk7XG5cblx0dmFyIGNsejMyID0gX2NvcmUuTWF0aC5jbHozMjtcblxuXHQvLyAyMC4yLjIuMTggTWF0aC5pbXVsKHgsIHkpXG5cblx0dmFyICRpbXVsID0gTWF0aC5pbXVsO1xuXG5cdC8vIHNvbWUgV2ViS2l0IHZlcnNpb25zIGZhaWxzIHdpdGggYmlnIG51bWJlcnMsIHNvbWUgaGFzIHdyb25nIGFyaXR5XG5cdF9leHBvcnQoX2V4cG9ydC5TICsgX2V4cG9ydC5GICogX2ZhaWxzKGZ1bmN0aW9uICgpIHtcblx0ICByZXR1cm4gJGltdWwoMHhmZmZmZmZmZiwgNSkgIT0gLTUgfHwgJGltdWwubGVuZ3RoICE9IDI7XG5cdH0pLCAnTWF0aCcsIHtcblx0ICBpbXVsOiBmdW5jdGlvbiBpbXVsKHgsIHkpIHtcblx0ICAgIHZhciBVSU5UMTYgPSAweGZmZmY7XG5cdCAgICB2YXIgeG4gPSAreDtcblx0ICAgIHZhciB5biA9ICt5O1xuXHQgICAgdmFyIHhsID0gVUlOVDE2ICYgeG47XG5cdCAgICB2YXIgeWwgPSBVSU5UMTYgJiB5bjtcblx0ICAgIHJldHVybiAwIHwgeGwgKiB5bCArICgoVUlOVDE2ICYgeG4gPj4+IDE2KSAqIHlsICsgeGwgKiAoVUlOVDE2ICYgeW4gPj4+IDE2KSA8PCAxNiA+Pj4gMCk7XG5cdCAgfVxuXHR9KTtcblxuXHR2YXIgaW11bCA9IF9jb3JlLk1hdGguaW11bDtcblxuXHQvLyAyMC4yLjIuMjggTWF0aC5zaWduKHgpXG5cdHZhciBfbWF0aFNpZ24gPSBNYXRoLnNpZ24gfHwgZnVuY3Rpb24gc2lnbih4KSB7XG5cdCAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuXHQgIHJldHVybiAoeCA9ICt4KSA9PSAwIHx8IHggIT0geCA/IHggOiB4IDwgMCA/IC0xIDogMTtcblx0fTtcblxuXHQvLyAyMC4yLjIuMjggTWF0aC5zaWduKHgpXG5cblxuXHRfZXhwb3J0KF9leHBvcnQuUywgJ01hdGgnLCB7IHNpZ246IF9tYXRoU2lnbiB9KTtcblxuXHR2YXIgc2lnbiA9IF9jb3JlLk1hdGguc2lnbjtcblxuXHQvLyAyMC4yLjIuMjEgTWF0aC5sb2cxMCh4KVxuXG5cblx0X2V4cG9ydChfZXhwb3J0LlMsICdNYXRoJywge1xuXHQgIGxvZzEwOiBmdW5jdGlvbiBsb2cxMCh4KSB7XG5cdCAgICByZXR1cm4gTWF0aC5sb2coeCkgKiBNYXRoLkxPRzEwRTtcblx0ICB9XG5cdH0pO1xuXG5cdHZhciBsb2cxMCA9IF9jb3JlLk1hdGgubG9nMTA7XG5cblx0Ly8gMjAuMi4yLjIyIE1hdGgubG9nMih4KVxuXG5cblx0X2V4cG9ydChfZXhwb3J0LlMsICdNYXRoJywge1xuXHQgIGxvZzI6IGZ1bmN0aW9uIGxvZzIoeCkge1xuXHQgICAgcmV0dXJuIE1hdGgubG9nKHgpIC8gTWF0aC5MTjI7XG5cdCAgfVxuXHR9KTtcblxuXHR2YXIgbG9nMiA9IF9jb3JlLk1hdGgubG9nMjtcblxuXHQvLyAyMC4yLjIuMjAgTWF0aC5sb2cxcCh4KVxuXHR2YXIgX21hdGhMb2cxcCA9IE1hdGgubG9nMXAgfHwgZnVuY3Rpb24gbG9nMXAoeCkge1xuXHQgIHJldHVybiAoeCA9ICt4KSA+IC0xZS04ICYmIHggPCAxZS04ID8geCAtIHggKiB4IC8gMiA6IE1hdGgubG9nKDEgKyB4KTtcblx0fTtcblxuXHQvLyAyMC4yLjIuMjAgTWF0aC5sb2cxcCh4KVxuXG5cblx0X2V4cG9ydChfZXhwb3J0LlMsICdNYXRoJywgeyBsb2cxcDogX21hdGhMb2cxcCB9KTtcblxuXHR2YXIgbG9nMXAgPSBfY29yZS5NYXRoLmxvZzFwO1xuXG5cdC8vIDIwLjIuMi4xNCBNYXRoLmV4cG0xKHgpXG5cdHZhciAkZXhwbTEgPSBNYXRoLmV4cG0xO1xuXHR2YXIgX21hdGhFeHBtMSA9ICghJGV4cG0xXG5cdCAgLy8gT2xkIEZGIGJ1Z1xuXHQgIHx8ICRleHBtMSgxMCkgPiAyMjAyNS40NjU3OTQ4MDY3MTkgfHwgJGV4cG0xKDEwKSA8IDIyMDI1LjQ2NTc5NDgwNjcxNjUxNjhcblx0ICAvLyBUb3IgQnJvd3NlciBidWdcblx0ICB8fCAkZXhwbTEoLTJlLTE3KSAhPSAtMmUtMTdcblx0KSA/IGZ1bmN0aW9uIGV4cG0xKHgpIHtcblx0ICByZXR1cm4gKHggPSAreCkgPT0gMCA/IHggOiB4ID4gLTFlLTYgJiYgeCA8IDFlLTYgPyB4ICsgeCAqIHggLyAyIDogTWF0aC5leHAoeCkgLSAxO1xuXHR9IDogJGV4cG0xO1xuXG5cdC8vIDIwLjIuMi4xNCBNYXRoLmV4cG0xKHgpXG5cblxuXG5cdF9leHBvcnQoX2V4cG9ydC5TICsgX2V4cG9ydC5GICogKF9tYXRoRXhwbTEgIT0gTWF0aC5leHBtMSksICdNYXRoJywgeyBleHBtMTogX21hdGhFeHBtMSB9KTtcblxuXHR2YXIgZXhwbTEgPSBfY29yZS5NYXRoLmV4cG0xO1xuXG5cdC8vIDIwLjIuMi4xMiBNYXRoLmNvc2goeClcblxuXHR2YXIgZXhwID0gTWF0aC5leHA7XG5cblx0X2V4cG9ydChfZXhwb3J0LlMsICdNYXRoJywge1xuXHQgIGNvc2g6IGZ1bmN0aW9uIGNvc2goeCkge1xuXHQgICAgcmV0dXJuIChleHAoeCA9ICt4KSArIGV4cCgteCkpIC8gMjtcblx0ICB9XG5cdH0pO1xuXG5cdHZhciBjb3NoID0gX2NvcmUuTWF0aC5jb3NoO1xuXG5cdC8vIDIwLjIuMi4zMCBNYXRoLnNpbmgoeClcblxuXG5cdHZhciBleHAkMSA9IE1hdGguZXhwO1xuXG5cdC8vIFY4IG5lYXIgQ2hyb21pdW0gMzggaGFzIGEgcHJvYmxlbSB3aXRoIHZlcnkgc21hbGwgbnVtYmVyc1xuXHRfZXhwb3J0KF9leHBvcnQuUyArIF9leHBvcnQuRiAqIF9mYWlscyhmdW5jdGlvbiAoKSB7XG5cdCAgcmV0dXJuICFNYXRoLnNpbmgoLTJlLTE3KSAhPSAtMmUtMTc7XG5cdH0pLCAnTWF0aCcsIHtcblx0ICBzaW5oOiBmdW5jdGlvbiBzaW5oKHgpIHtcblx0ICAgIHJldHVybiBNYXRoLmFicyh4ID0gK3gpIDwgMVxuXHQgICAgICA/IChfbWF0aEV4cG0xKHgpIC0gX21hdGhFeHBtMSgteCkpIC8gMlxuXHQgICAgICA6IChleHAkMSh4IC0gMSkgLSBleHAkMSgteCAtIDEpKSAqIChNYXRoLkUgLyAyKTtcblx0ICB9XG5cdH0pO1xuXG5cdHZhciBzaW5oID0gX2NvcmUuTWF0aC5zaW5oO1xuXG5cdC8vIDIwLjIuMi4zMyBNYXRoLnRhbmgoeClcblxuXG5cdHZhciBleHAkMiA9IE1hdGguZXhwO1xuXG5cdF9leHBvcnQoX2V4cG9ydC5TLCAnTWF0aCcsIHtcblx0ICB0YW5oOiBmdW5jdGlvbiB0YW5oKHgpIHtcblx0ICAgIHZhciBhID0gX21hdGhFeHBtMSh4ID0gK3gpO1xuXHQgICAgdmFyIGIgPSBfbWF0aEV4cG0xKC14KTtcblx0ICAgIHJldHVybiBhID09IEluZmluaXR5ID8gMSA6IGIgPT0gSW5maW5pdHkgPyAtMSA6IChhIC0gYikgLyAoZXhwJDIoeCkgKyBleHAkMigteCkpO1xuXHQgIH1cblx0fSk7XG5cblx0dmFyIHRhbmggPSBfY29yZS5NYXRoLnRhbmg7XG5cblx0Ly8gMjAuMi4yLjMgTWF0aC5hY29zaCh4KVxuXG5cblx0dmFyIHNxcnQgPSBNYXRoLnNxcnQ7XG5cdHZhciAkYWNvc2ggPSBNYXRoLmFjb3NoO1xuXG5cdF9leHBvcnQoX2V4cG9ydC5TICsgX2V4cG9ydC5GICogISgkYWNvc2hcblx0ICAvLyBWOCBidWc6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zNTA5XG5cdCAgJiYgTWF0aC5mbG9vcigkYWNvc2goTnVtYmVyLk1BWF9WQUxVRSkpID09IDcxMFxuXHQgIC8vIFRvciBCcm93c2VyIGJ1ZzogTWF0aC5hY29zaChJbmZpbml0eSkgLT4gTmFOXG5cdCAgJiYgJGFjb3NoKEluZmluaXR5KSA9PSBJbmZpbml0eVxuXHQpLCAnTWF0aCcsIHtcblx0ICBhY29zaDogZnVuY3Rpb24gYWNvc2goeCkge1xuXHQgICAgcmV0dXJuICh4ID0gK3gpIDwgMSA/IE5hTiA6IHggPiA5NDkwNjI2NS42MjQyNTE1NlxuXHQgICAgICA/IE1hdGgubG9nKHgpICsgTWF0aC5MTjJcblx0ICAgICAgOiBfbWF0aExvZzFwKHggLSAxICsgc3FydCh4IC0gMSkgKiBzcXJ0KHggKyAxKSk7XG5cdCAgfVxuXHR9KTtcblxuXHR2YXIgYWNvc2ggPSBfY29yZS5NYXRoLmFjb3NoO1xuXG5cdC8vIDIwLjIuMi41IE1hdGguYXNpbmgoeClcblxuXHR2YXIgJGFzaW5oID0gTWF0aC5hc2luaDtcblxuXHRmdW5jdGlvbiBhc2luaCh4KSB7XG5cdCAgcmV0dXJuICFpc0Zpbml0ZSh4ID0gK3gpIHx8IHggPT0gMCA/IHggOiB4IDwgMCA/IC1hc2luaCgteCkgOiBNYXRoLmxvZyh4ICsgTWF0aC5zcXJ0KHggKiB4ICsgMSkpO1xuXHR9XG5cblx0Ly8gVG9yIEJyb3dzZXIgYnVnOiBNYXRoLmFzaW5oKDApIC0+IC0wXG5cdF9leHBvcnQoX2V4cG9ydC5TICsgX2V4cG9ydC5GICogISgkYXNpbmggJiYgMSAvICRhc2luaCgwKSA+IDApLCAnTWF0aCcsIHsgYXNpbmg6IGFzaW5oIH0pO1xuXG5cdHZhciBhc2luaCQxID0gX2NvcmUuTWF0aC5hc2luaDtcblxuXHQvLyAyMC4yLjIuNyBNYXRoLmF0YW5oKHgpXG5cblx0dmFyICRhdGFuaCA9IE1hdGguYXRhbmg7XG5cblx0Ly8gVG9yIEJyb3dzZXIgYnVnOiBNYXRoLmF0YW5oKC0wKSAtPiAwXG5cdF9leHBvcnQoX2V4cG9ydC5TICsgX2V4cG9ydC5GICogISgkYXRhbmggJiYgMSAvICRhdGFuaCgtMCkgPCAwKSwgJ01hdGgnLCB7XG5cdCAgYXRhbmg6IGZ1bmN0aW9uIGF0YW5oKHgpIHtcblx0ICAgIHJldHVybiAoeCA9ICt4KSA9PSAwID8geCA6IE1hdGgubG9nKCgxICsgeCkgLyAoMSAtIHgpKSAvIDI7XG5cdCAgfVxuXHR9KTtcblxuXHR2YXIgYXRhbmggPSBfY29yZS5NYXRoLmF0YW5oO1xuXG5cdC8vIDIwLjIuMi4xNyBNYXRoLmh5cG90KFt2YWx1ZTFbLCB2YWx1ZTJbLCDigKYgXV1dKVxuXG5cdHZhciBhYnMgPSBNYXRoLmFicztcblxuXHRfZXhwb3J0KF9leHBvcnQuUywgJ01hdGgnLCB7XG5cdCAgaHlwb3Q6IGZ1bmN0aW9uIGh5cG90KHZhbHVlMSwgdmFsdWUyKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0ICAgIHZhciBzdW0gPSAwO1xuXHQgICAgdmFyIGkgPSAwO1xuXHQgICAgdmFyIGFMZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuXHQgICAgdmFyIGxhcmcgPSAwO1xuXHQgICAgdmFyIGFyZywgZGl2O1xuXHQgICAgd2hpbGUgKGkgPCBhTGVuKSB7XG5cdCAgICAgIGFyZyA9IGFicyhhcmd1bWVudHNbaSsrXSk7XG5cdCAgICAgIGlmIChsYXJnIDwgYXJnKSB7XG5cdCAgICAgICAgZGl2ID0gbGFyZyAvIGFyZztcblx0ICAgICAgICBzdW0gPSBzdW0gKiBkaXYgKiBkaXYgKyAxO1xuXHQgICAgICAgIGxhcmcgPSBhcmc7XG5cdCAgICAgIH0gZWxzZSBpZiAoYXJnID4gMCkge1xuXHQgICAgICAgIGRpdiA9IGFyZyAvIGxhcmc7XG5cdCAgICAgICAgc3VtICs9IGRpdiAqIGRpdjtcblx0ICAgICAgfSBlbHNlIHN1bSArPSBhcmc7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gbGFyZyA9PT0gSW5maW5pdHkgPyBJbmZpbml0eSA6IGxhcmcgKiBNYXRoLnNxcnQoc3VtKTtcblx0ICB9XG5cdH0pO1xuXG5cdHZhciBoeXBvdCA9IF9jb3JlLk1hdGguaHlwb3Q7XG5cblx0Ly8gMjAuMi4yLjM0IE1hdGgudHJ1bmMoeClcblxuXG5cdF9leHBvcnQoX2V4cG9ydC5TLCAnTWF0aCcsIHtcblx0ICB0cnVuYzogZnVuY3Rpb24gdHJ1bmMoaXQpIHtcblx0ICAgIHJldHVybiAoaXQgPiAwID8gTWF0aC5mbG9vciA6IE1hdGguY2VpbCkoaXQpO1xuXHQgIH1cblx0fSk7XG5cblx0dmFyIHRydW5jID0gX2NvcmUuTWF0aC50cnVuYztcblxuXHQvLyAyMC4yLjIuMTYgTWF0aC5mcm91bmQoeClcblxuXHR2YXIgcG93ID0gTWF0aC5wb3c7XG5cdHZhciBFUFNJTE9OID0gcG93KDIsIC01Mik7XG5cdHZhciBFUFNJTE9OMzIgPSBwb3coMiwgLTIzKTtcblx0dmFyIE1BWDMyID0gcG93KDIsIDEyNykgKiAoMiAtIEVQU0lMT04zMik7XG5cdHZhciBNSU4zMiA9IHBvdygyLCAtMTI2KTtcblxuXHR2YXIgcm91bmRUaWVzVG9FdmVuID0gZnVuY3Rpb24gKG4pIHtcblx0ICByZXR1cm4gbiArIDEgLyBFUFNJTE9OIC0gMSAvIEVQU0lMT047XG5cdH07XG5cblx0dmFyIF9tYXRoRnJvdW5kID0gTWF0aC5mcm91bmQgfHwgZnVuY3Rpb24gZnJvdW5kKHgpIHtcblx0ICB2YXIgJGFicyA9IE1hdGguYWJzKHgpO1xuXHQgIHZhciAkc2lnbiA9IF9tYXRoU2lnbih4KTtcblx0ICB2YXIgYSwgcmVzdWx0O1xuXHQgIGlmICgkYWJzIDwgTUlOMzIpIHJldHVybiAkc2lnbiAqIHJvdW5kVGllc1RvRXZlbigkYWJzIC8gTUlOMzIgLyBFUFNJTE9OMzIpICogTUlOMzIgKiBFUFNJTE9OMzI7XG5cdCAgYSA9ICgxICsgRVBTSUxPTjMyIC8gRVBTSUxPTikgKiAkYWJzO1xuXHQgIHJlc3VsdCA9IGEgLSAoYSAtICRhYnMpO1xuXHQgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcblx0ICBpZiAocmVzdWx0ID4gTUFYMzIgfHwgcmVzdWx0ICE9IHJlc3VsdCkgcmV0dXJuICRzaWduICogSW5maW5pdHk7XG5cdCAgcmV0dXJuICRzaWduICogcmVzdWx0O1xuXHR9O1xuXG5cdC8vIDIwLjIuMi4xNiBNYXRoLmZyb3VuZCh4KVxuXG5cblx0X2V4cG9ydChfZXhwb3J0LlMsICdNYXRoJywgeyBmcm91bmQ6IF9tYXRoRnJvdW5kIH0pO1xuXG5cdHZhciBmcm91bmQgPSBfY29yZS5NYXRoLmZyb3VuZDtcblxuXHQvLyAyMC4yLjIuOSBNYXRoLmNicnQoeClcblxuXG5cblx0X2V4cG9ydChfZXhwb3J0LlMsICdNYXRoJywge1xuXHQgIGNicnQ6IGZ1bmN0aW9uIGNicnQoeCkge1xuXHQgICAgcmV0dXJuIF9tYXRoU2lnbih4ID0gK3gpICogTWF0aC5wb3coTWF0aC5hYnMoeCksIDEgLyAzKTtcblx0ICB9XG5cdH0pO1xuXG5cdHZhciBjYnJ0ID0gX2NvcmUuTWF0aC5jYnJ0O1xuXG5cdC8vIDIwLjEuMi4xIE51bWJlci5FUFNJTE9OXG5cblxuXHRfZXhwb3J0KF9leHBvcnQuUywgJ051bWJlcicsIHsgRVBTSUxPTjogTWF0aC5wb3coMiwgLTUyKSB9KTtcblxuXHQvLyAyMC4xLjIuMiBOdW1iZXIuaXNGaW5pdGUobnVtYmVyKVxuXG5cdHZhciBfaXNGaW5pdGUgPSBfZ2xvYmFsLmlzRmluaXRlO1xuXG5cdF9leHBvcnQoX2V4cG9ydC5TLCAnTnVtYmVyJywge1xuXHQgIGlzRmluaXRlOiBmdW5jdGlvbiBpc0Zpbml0ZShpdCkge1xuXHQgICAgcmV0dXJuIHR5cGVvZiBpdCA9PSAnbnVtYmVyJyAmJiBfaXNGaW5pdGUoaXQpO1xuXHQgIH1cblx0fSk7XG5cblx0dmFyIF9pc0Zpbml0ZSQxID0gX2NvcmUuTnVtYmVyLmlzRmluaXRlO1xuXG5cdC8vIDIwLjEuMi4zIE51bWJlci5pc0ludGVnZXIobnVtYmVyKVxuXG5cdHZhciBmbG9vciQxID0gTWF0aC5mbG9vcjtcblx0dmFyIF9pc0ludGVnZXIgPSBmdW5jdGlvbiBpc0ludGVnZXIoaXQpIHtcblx0ICByZXR1cm4gIV9pc09iamVjdChpdCkgJiYgaXNGaW5pdGUoaXQpICYmIGZsb29yJDEoaXQpID09PSBpdDtcblx0fTtcblxuXHQvLyAyMC4xLjIuMyBOdW1iZXIuaXNJbnRlZ2VyKG51bWJlcilcblxuXG5cdF9leHBvcnQoX2V4cG9ydC5TLCAnTnVtYmVyJywgeyBpc0ludGVnZXI6IF9pc0ludGVnZXIgfSk7XG5cblx0dmFyIGlzSW50ZWdlciA9IF9jb3JlLk51bWJlci5pc0ludGVnZXI7XG5cblx0Ly8gMjAuMS4yLjQgTnVtYmVyLmlzTmFOKG51bWJlcilcblxuXG5cdF9leHBvcnQoX2V4cG9ydC5TLCAnTnVtYmVyJywge1xuXHQgIGlzTmFOOiBmdW5jdGlvbiBpc05hTihudW1iZXIpIHtcblx0ICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcblx0ICAgIHJldHVybiBudW1iZXIgIT0gbnVtYmVyO1xuXHQgIH1cblx0fSk7XG5cblx0dmFyIGlzTmFuID0gX2NvcmUuTnVtYmVyLmlzTmFOO1xuXG5cdC8vIDIwLjEuMi41IE51bWJlci5pc1NhZmVJbnRlZ2VyKG51bWJlcilcblxuXG5cdHZhciBhYnMkMSA9IE1hdGguYWJzO1xuXG5cdF9leHBvcnQoX2V4cG9ydC5TLCAnTnVtYmVyJywge1xuXHQgIGlzU2FmZUludGVnZXI6IGZ1bmN0aW9uIGlzU2FmZUludGVnZXIobnVtYmVyKSB7XG5cdCAgICByZXR1cm4gX2lzSW50ZWdlcihudW1iZXIpICYmIGFicyQxKG51bWJlcikgPD0gMHgxZmZmZmZmZmZmZmZmZjtcblx0ICB9XG5cdH0pO1xuXG5cdHZhciBpc1NhZmVJbnRlZ2VyID0gX2NvcmUuTnVtYmVyLmlzU2FmZUludGVnZXI7XG5cblx0Ly8gMjAuMS4yLjYgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJcblxuXG5cdF9leHBvcnQoX2V4cG9ydC5TLCAnTnVtYmVyJywgeyBNQVhfU0FGRV9JTlRFR0VSOiAweDFmZmZmZmZmZmZmZmZmIH0pO1xuXG5cdC8vIDIwLjEuMi4xMCBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUlxuXG5cblx0X2V4cG9ydChfZXhwb3J0LlMsICdOdW1iZXInLCB7IE1JTl9TQUZFX0lOVEVHRVI6IC0weDFmZmZmZmZmZmZmZmZmIH0pO1xuXG5cdHZhciBfc3RyaW5nV3MgPSAnXFx4MDlcXHgwQVxceDBCXFx4MENcXHgwRFxceDIwXFx4QTBcXHUxNjgwXFx1MTgwRVxcdTIwMDBcXHUyMDAxXFx1MjAwMlxcdTIwMDMnICtcblx0ICAnXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwQVxcdTIwMkZcXHUyMDVGXFx1MzAwMFxcdTIwMjhcXHUyMDI5XFx1RkVGRic7XG5cblx0dmFyIHNwYWNlID0gJ1snICsgX3N0cmluZ1dzICsgJ10nO1xuXHR2YXIgbm9uID0gJ1xcdTIwMGJcXHUwMDg1Jztcblx0dmFyIGx0cmltID0gUmVnRXhwKCdeJyArIHNwYWNlICsgc3BhY2UgKyAnKicpO1xuXHR2YXIgcnRyaW0gPSBSZWdFeHAoc3BhY2UgKyBzcGFjZSArICcqJCcpO1xuXG5cdHZhciBleHBvcnRlciA9IGZ1bmN0aW9uIChLRVksIGV4ZWMsIEFMSUFTKSB7XG5cdCAgdmFyIGV4cCA9IHt9O1xuXHQgIHZhciBGT1JDRSA9IF9mYWlscyhmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gISFfc3RyaW5nV3NbS0VZXSgpIHx8IG5vbltLRVldKCkgIT0gbm9uO1xuXHQgIH0pO1xuXHQgIHZhciBmbiA9IGV4cFtLRVldID0gRk9SQ0UgPyBleGVjKHRyaW0pIDogX3N0cmluZ1dzW0tFWV07XG5cdCAgaWYgKEFMSUFTKSBleHBbQUxJQVNdID0gZm47XG5cdCAgX2V4cG9ydChfZXhwb3J0LlAgKyBfZXhwb3J0LkYgKiBGT1JDRSwgJ1N0cmluZycsIGV4cCk7XG5cdH07XG5cblx0Ly8gMSAtPiBTdHJpbmcjdHJpbUxlZnRcblx0Ly8gMiAtPiBTdHJpbmcjdHJpbVJpZ2h0XG5cdC8vIDMgLT4gU3RyaW5nI3RyaW1cblx0dmFyIHRyaW0gPSBleHBvcnRlci50cmltID0gZnVuY3Rpb24gKHN0cmluZywgVFlQRSkge1xuXHQgIHN0cmluZyA9IFN0cmluZyhfZGVmaW5lZChzdHJpbmcpKTtcblx0ICBpZiAoVFlQRSAmIDEpIHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKGx0cmltLCAnJyk7XG5cdCAgaWYgKFRZUEUgJiAyKSBzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShydHJpbSwgJycpO1xuXHQgIHJldHVybiBzdHJpbmc7XG5cdH07XG5cblx0dmFyIF9zdHJpbmdUcmltID0gZXhwb3J0ZXI7XG5cblx0dmFyICRwYXJzZUZsb2F0ID0gX2dsb2JhbC5wYXJzZUZsb2F0O1xuXHR2YXIgJHRyaW0gPSBfc3RyaW5nVHJpbS50cmltO1xuXG5cdHZhciBfcGFyc2VGbG9hdCA9IDEgLyAkcGFyc2VGbG9hdChfc3RyaW5nV3MgKyAnLTAnKSAhPT0gLUluZmluaXR5ID8gZnVuY3Rpb24gcGFyc2VGbG9hdChzdHIpIHtcblx0ICB2YXIgc3RyaW5nID0gJHRyaW0oU3RyaW5nKHN0ciksIDMpO1xuXHQgIHZhciByZXN1bHQgPSAkcGFyc2VGbG9hdChzdHJpbmcpO1xuXHQgIHJldHVybiByZXN1bHQgPT09IDAgJiYgc3RyaW5nLmNoYXJBdCgwKSA9PSAnLScgPyAtMCA6IHJlc3VsdDtcblx0fSA6ICRwYXJzZUZsb2F0O1xuXG5cdC8vIDE4LjIuNCBwYXJzZUZsb2F0KHN0cmluZylcblx0X2V4cG9ydChfZXhwb3J0LkcgKyBfZXhwb3J0LkYgKiAocGFyc2VGbG9hdCAhPSBfcGFyc2VGbG9hdCksIHsgcGFyc2VGbG9hdDogX3BhcnNlRmxvYXQgfSk7XG5cblx0dmFyIF9wYXJzZUZsb2F0JDEgPSBfY29yZS5wYXJzZUZsb2F0O1xuXG5cdHZhciAkcGFyc2VJbnQgPSBfZ2xvYmFsLnBhcnNlSW50O1xuXHR2YXIgJHRyaW0kMSA9IF9zdHJpbmdUcmltLnRyaW07XG5cblx0dmFyIGhleCA9IC9eWy0rXT8wW3hYXS87XG5cblx0dmFyIF9wYXJzZUludCA9ICRwYXJzZUludChfc3RyaW5nV3MgKyAnMDgnKSAhPT0gOCB8fCAkcGFyc2VJbnQoX3N0cmluZ1dzICsgJzB4MTYnKSAhPT0gMjIgPyBmdW5jdGlvbiBwYXJzZUludChzdHIsIHJhZGl4KSB7XG5cdCAgdmFyIHN0cmluZyA9ICR0cmltJDEoU3RyaW5nKHN0ciksIDMpO1xuXHQgIHJldHVybiAkcGFyc2VJbnQoc3RyaW5nLCAocmFkaXggPj4+IDApIHx8IChoZXgudGVzdChzdHJpbmcpID8gMTYgOiAxMCkpO1xuXHR9IDogJHBhcnNlSW50O1xuXG5cdC8vIDE4LjIuNSBwYXJzZUludChzdHJpbmcsIHJhZGl4KVxuXHRfZXhwb3J0KF9leHBvcnQuRyArIF9leHBvcnQuRiAqIChwYXJzZUludCAhPSBfcGFyc2VJbnQpLCB7IHBhcnNlSW50OiBfcGFyc2VJbnQgfSk7XG5cblx0dmFyIF9wYXJzZUludCQxID0gX2NvcmUucGFyc2VJbnQ7XG5cblx0dmFyIGYkMSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cblx0dmFyIF9vYmplY3RHb3BzID0ge1xuXHRcdGY6IGYkMVxuXHR9O1xuXG5cdHZhciBmJDIgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuXHR2YXIgX29iamVjdFBpZSA9IHtcblx0XHRmOiBmJDJcblx0fTtcblxuXHQvLyAxOS4xLjIuMSBPYmplY3QuYXNzaWduKHRhcmdldCwgc291cmNlLCAuLi4pXG5cblxuXG5cblxuXHR2YXIgJGFzc2lnbiA9IE9iamVjdC5hc3NpZ247XG5cblx0Ly8gc2hvdWxkIHdvcmsgd2l0aCBzeW1ib2xzIGFuZCBzaG91bGQgaGF2ZSBkZXRlcm1pbmlzdGljIHByb3BlcnR5IG9yZGVyIChWOCBidWcpXG5cdHZhciBfb2JqZWN0QXNzaWduID0gISRhc3NpZ24gfHwgX2ZhaWxzKGZ1bmN0aW9uICgpIHtcblx0ICB2YXIgQSA9IHt9O1xuXHQgIHZhciBCID0ge307XG5cdCAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG5cdCAgdmFyIFMgPSBTeW1ib2woKTtcblx0ICB2YXIgSyA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdCc7XG5cdCAgQVtTXSA9IDc7XG5cdCAgSy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAoaykgeyBCW2tdID0gazsgfSk7XG5cdCAgcmV0dXJuICRhc3NpZ24oe30sIEEpW1NdICE9IDcgfHwgT2JqZWN0LmtleXMoJGFzc2lnbih7fSwgQikpLmpvaW4oJycpICE9IEs7XG5cdH0pID8gZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgc291cmNlKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0ICB2YXIgVCA9IF90b09iamVjdCh0YXJnZXQpO1xuXHQgIHZhciBhTGVuID0gYXJndW1lbnRzLmxlbmd0aDtcblx0ICB2YXIgaW5kZXggPSAxO1xuXHQgIHZhciBnZXRTeW1ib2xzID0gX29iamVjdEdvcHMuZjtcblx0ICB2YXIgaXNFbnVtID0gX29iamVjdFBpZS5mO1xuXHQgIHdoaWxlIChhTGVuID4gaW5kZXgpIHtcblx0ICAgIHZhciBTID0gX2lvYmplY3QoYXJndW1lbnRzW2luZGV4KytdKTtcblx0ICAgIHZhciBrZXlzID0gZ2V0U3ltYm9scyA/IF9vYmplY3RLZXlzKFMpLmNvbmNhdChnZXRTeW1ib2xzKFMpKSA6IF9vYmplY3RLZXlzKFMpO1xuXHQgICAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuXHQgICAgdmFyIGogPSAwO1xuXHQgICAgdmFyIGtleTtcblx0ICAgIHdoaWxlIChsZW5ndGggPiBqKSBpZiAoaXNFbnVtLmNhbGwoUywga2V5ID0ga2V5c1tqKytdKSkgVFtrZXldID0gU1trZXldO1xuXHQgIH0gcmV0dXJuIFQ7XG5cdH0gOiAkYXNzaWduO1xuXG5cdC8vIDE5LjEuMy4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UpXG5cblxuXHRfZXhwb3J0KF9leHBvcnQuUyArIF9leHBvcnQuRiwgJ09iamVjdCcsIHsgYXNzaWduOiBfb2JqZWN0QXNzaWduIH0pO1xuXG5cdHZhciBhc3NpZ24gPSBfY29yZS5PYmplY3QuYXNzaWduO1xuXG5cdC8vIDcuMi45IFNhbWVWYWx1ZSh4LCB5KVxuXHR2YXIgX3NhbWVWYWx1ZSA9IE9iamVjdC5pcyB8fCBmdW5jdGlvbiBpcyh4LCB5KSB7XG5cdCAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuXHQgIHJldHVybiB4ID09PSB5ID8geCAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHkgOiB4ICE9IHggJiYgeSAhPSB5O1xuXHR9O1xuXG5cdC8vIDE5LjEuMy4xMCBPYmplY3QuaXModmFsdWUxLCB2YWx1ZTIpXG5cblx0X2V4cG9ydChfZXhwb3J0LlMsICdPYmplY3QnLCB7IGlzOiBfc2FtZVZhbHVlIH0pO1xuXG5cdHZhciBpcyQxID0gX2NvcmUuT2JqZWN0LmlzO1xuXG5cdHZhciBnT1BEID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblxuXHR2YXIgZiQzID0gX2Rlc2NyaXB0b3JzID8gZ09QRCA6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKSB7XG5cdCAgTyA9IF90b0lvYmplY3QoTyk7XG5cdCAgUCA9IF90b1ByaW1pdGl2ZShQLCB0cnVlKTtcblx0ICBpZiAoX2llOERvbURlZmluZSkgdHJ5IHtcblx0ICAgIHJldHVybiBnT1BEKE8sIFApO1xuXHQgIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxuXHQgIGlmIChfaGFzKE8sIFApKSByZXR1cm4gX3Byb3BlcnR5RGVzYyghX29iamVjdFBpZS5mLmNhbGwoTywgUCksIE9bUF0pO1xuXHR9O1xuXG5cdHZhciBfb2JqZWN0R29wZCA9IHtcblx0XHRmOiBmJDNcblx0fTtcblxuXHQvLyBXb3JrcyB3aXRoIF9fcHJvdG9fXyBvbmx5LiBPbGQgdjggY2FuJ3Qgd29yayB3aXRoIG51bGwgcHJvdG8gb2JqZWN0cy5cblx0LyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cblxuXG5cdHZhciBjaGVjayA9IGZ1bmN0aW9uIChPLCBwcm90bykge1xuXHQgIF9hbk9iamVjdChPKTtcblx0ICBpZiAoIV9pc09iamVjdChwcm90bykgJiYgcHJvdG8gIT09IG51bGwpIHRocm93IFR5cGVFcnJvcihwcm90byArIFwiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlIVwiKTtcblx0fTtcblx0dmFyIF9zZXRQcm90byA9IHtcblx0ICBzZXQ6IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCAoJ19fcHJvdG9fXycgaW4ge30gPyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cdCAgICBmdW5jdGlvbiAodGVzdCwgYnVnZ3ksIHNldCkge1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIHNldCA9IF9jdHgoRnVuY3Rpb24uY2FsbCwgX29iamVjdEdvcGQuZihPYmplY3QucHJvdG90eXBlLCAnX19wcm90b19fJykuc2V0LCAyKTtcblx0ICAgICAgICBzZXQodGVzdCwgW10pO1xuXHQgICAgICAgIGJ1Z2d5ID0gISh0ZXN0IGluc3RhbmNlb2YgQXJyYXkpO1xuXHQgICAgICB9IGNhdGNoIChlKSB7IGJ1Z2d5ID0gdHJ1ZTsgfVxuXHQgICAgICByZXR1cm4gZnVuY3Rpb24gc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pIHtcblx0ICAgICAgICBjaGVjayhPLCBwcm90byk7XG5cdCAgICAgICAgaWYgKGJ1Z2d5KSBPLl9fcHJvdG9fXyA9IHByb3RvO1xuXHQgICAgICAgIGVsc2Ugc2V0KE8sIHByb3RvKTtcblx0ICAgICAgICByZXR1cm4gTztcblx0ICAgICAgfTtcblx0ICAgIH0oe30sIGZhbHNlKSA6IHVuZGVmaW5lZCksXG5cdCAgY2hlY2s6IGNoZWNrXG5cdH07XG5cblx0Ly8gMTkuMS4zLjE5IE9iamVjdC5zZXRQcm90b3R5cGVPZihPLCBwcm90bylcblxuXHRfZXhwb3J0KF9leHBvcnQuUywgJ09iamVjdCcsIHsgc2V0UHJvdG90eXBlT2Y6IF9zZXRQcm90by5zZXQgfSk7XG5cblx0dmFyIHNldFByb3RvdHlwZU9mID0gX2NvcmUuT2JqZWN0LnNldFByb3RvdHlwZU9mO1xuXG5cdC8vIDIxLjIuNS4zIGdldCBSZWdFeHAucHJvdG90eXBlLmZsYWdzXG5cblx0dmFyIF9mbGFncyA9IGZ1bmN0aW9uICgpIHtcblx0ICB2YXIgdGhhdCA9IF9hbk9iamVjdCh0aGlzKTtcblx0ICB2YXIgcmVzdWx0ID0gJyc7XG5cdCAgaWYgKHRoYXQuZ2xvYmFsKSByZXN1bHQgKz0gJ2cnO1xuXHQgIGlmICh0aGF0Lmlnbm9yZUNhc2UpIHJlc3VsdCArPSAnaSc7XG5cdCAgaWYgKHRoYXQubXVsdGlsaW5lKSByZXN1bHQgKz0gJ20nO1xuXHQgIGlmICh0aGF0LnVuaWNvZGUpIHJlc3VsdCArPSAndSc7XG5cdCAgaWYgKHRoYXQuc3RpY2t5KSByZXN1bHQgKz0gJ3knO1xuXHQgIHJldHVybiByZXN1bHQ7XG5cdH07XG5cblx0Ly8gMjEuMi41LjMgZ2V0IFJlZ0V4cC5wcm90b3R5cGUuZmxhZ3MoKVxuXHRpZiAoX2Rlc2NyaXB0b3JzICYmIC8uL2cuZmxhZ3MgIT0gJ2cnKSBfb2JqZWN0RHAuZihSZWdFeHAucHJvdG90eXBlLCAnZmxhZ3MnLCB7XG5cdCAgY29uZmlndXJhYmxlOiB0cnVlLFxuXHQgIGdldDogX2ZsYWdzXG5cdH0pO1xuXG5cdHZhciBzZXRQcm90b3R5cGVPZiQxID0gX3NldFByb3RvLnNldDtcblx0dmFyIF9pbmhlcml0SWZSZXF1aXJlZCA9IGZ1bmN0aW9uICh0aGF0LCB0YXJnZXQsIEMpIHtcblx0ICB2YXIgUyA9IHRhcmdldC5jb25zdHJ1Y3Rvcjtcblx0ICB2YXIgUDtcblx0ICBpZiAoUyAhPT0gQyAmJiB0eXBlb2YgUyA9PSAnZnVuY3Rpb24nICYmIChQID0gUy5wcm90b3R5cGUpICE9PSBDLnByb3RvdHlwZSAmJiBfaXNPYmplY3QoUCkgJiYgc2V0UHJvdG90eXBlT2YkMSkge1xuXHQgICAgc2V0UHJvdG90eXBlT2YkMSh0aGF0LCBQKTtcblx0ICB9IHJldHVybiB0aGF0O1xuXHR9O1xuXG5cdC8vIDE5LjEuMi43IC8gMTUuMi4zLjQgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcblxuXHR2YXIgaGlkZGVuS2V5cyA9IF9lbnVtQnVnS2V5cy5jb25jYXQoJ2xlbmd0aCcsICdwcm90b3R5cGUnKTtcblxuXHR2YXIgZiQ0ID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhPKSB7XG5cdCAgcmV0dXJuIF9vYmplY3RLZXlzSW50ZXJuYWwoTywgaGlkZGVuS2V5cyk7XG5cdH07XG5cblx0dmFyIF9vYmplY3RHb3BuID0ge1xuXHRcdGY6IGYkNFxuXHR9O1xuXG5cdC8vIDcuMi44IElzUmVnRXhwKGFyZ3VtZW50KVxuXG5cblx0dmFyIE1BVENIID0gX3drcygnbWF0Y2gnKTtcblx0dmFyIF9pc1JlZ2V4cCA9IGZ1bmN0aW9uIChpdCkge1xuXHQgIHZhciBpc1JlZ0V4cDtcblx0ICByZXR1cm4gX2lzT2JqZWN0KGl0KSAmJiAoKGlzUmVnRXhwID0gaXRbTUFUQ0hdKSAhPT0gdW5kZWZpbmVkID8gISFpc1JlZ0V4cCA6IF9jb2YoaXQpID09ICdSZWdFeHAnKTtcblx0fTtcblxuXHR2YXIgU1BFQ0lFUyQxID0gX3drcygnc3BlY2llcycpO1xuXG5cdHZhciBfc2V0U3BlY2llcyA9IGZ1bmN0aW9uIChLRVkpIHtcblx0ICB2YXIgQyA9IF9nbG9iYWxbS0VZXTtcblx0ICBpZiAoX2Rlc2NyaXB0b3JzICYmIEMgJiYgIUNbU1BFQ0lFUyQxXSkgX29iamVjdERwLmYoQywgU1BFQ0lFUyQxLCB7XG5cdCAgICBjb25maWd1cmFibGU6IHRydWUsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH1cblx0ICB9KTtcblx0fTtcblxuXHR2YXIgZFAkMiA9IF9vYmplY3REcC5mO1xuXHR2YXIgZ09QTiA9IF9vYmplY3RHb3BuLmY7XG5cblxuXHR2YXIgJFJlZ0V4cCA9IF9nbG9iYWwuUmVnRXhwO1xuXHR2YXIgQmFzZSA9ICRSZWdFeHA7XG5cdHZhciBwcm90byA9ICRSZWdFeHAucHJvdG90eXBlO1xuXHR2YXIgcmUxID0gL2EvZztcblx0dmFyIHJlMiA9IC9hL2c7XG5cdC8vIFwibmV3XCIgY3JlYXRlcyBhIG5ldyBvYmplY3QsIG9sZCB3ZWJraXQgYnVnZ3kgaGVyZVxuXHR2YXIgQ09SUkVDVF9ORVcgPSBuZXcgJFJlZ0V4cChyZTEpICE9PSByZTE7XG5cblx0aWYgKF9kZXNjcmlwdG9ycyAmJiAoIUNPUlJFQ1RfTkVXIHx8IF9mYWlscyhmdW5jdGlvbiAoKSB7XG5cdCAgcmUyW193a3MoJ21hdGNoJyldID0gZmFsc2U7XG5cdCAgLy8gUmVnRXhwIGNvbnN0cnVjdG9yIGNhbiBhbHRlciBmbGFncyBhbmQgSXNSZWdFeHAgd29ya3MgY29ycmVjdCB3aXRoIEBAbWF0Y2hcblx0ICByZXR1cm4gJFJlZ0V4cChyZTEpICE9IHJlMSB8fCAkUmVnRXhwKHJlMikgPT0gcmUyIHx8ICRSZWdFeHAocmUxLCAnaScpICE9ICcvYS9pJztcblx0fSkpKSB7XG5cdCAgJFJlZ0V4cCA9IGZ1bmN0aW9uIFJlZ0V4cChwLCBmKSB7XG5cdCAgICB2YXIgdGlSRSA9IHRoaXMgaW5zdGFuY2VvZiAkUmVnRXhwO1xuXHQgICAgdmFyIHBpUkUgPSBfaXNSZWdleHAocCk7XG5cdCAgICB2YXIgZmlVID0gZiA9PT0gdW5kZWZpbmVkO1xuXHQgICAgcmV0dXJuICF0aVJFICYmIHBpUkUgJiYgcC5jb25zdHJ1Y3RvciA9PT0gJFJlZ0V4cCAmJiBmaVUgPyBwXG5cdCAgICAgIDogX2luaGVyaXRJZlJlcXVpcmVkKENPUlJFQ1RfTkVXXG5cdCAgICAgICAgPyBuZXcgQmFzZShwaVJFICYmICFmaVUgPyBwLnNvdXJjZSA6IHAsIGYpXG5cdCAgICAgICAgOiBCYXNlKChwaVJFID0gcCBpbnN0YW5jZW9mICRSZWdFeHApID8gcC5zb3VyY2UgOiBwLCBwaVJFICYmIGZpVSA/IF9mbGFncy5jYWxsKHApIDogZilcblx0ICAgICAgLCB0aVJFID8gdGhpcyA6IHByb3RvLCAkUmVnRXhwKTtcblx0ICB9O1xuXHQgIHZhciBwcm94eSA9IGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgIGtleSBpbiAkUmVnRXhwIHx8IGRQJDIoJFJlZ0V4cCwga2V5LCB7XG5cdCAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0ICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBCYXNlW2tleV07IH0sXG5cdCAgICAgIHNldDogZnVuY3Rpb24gKGl0KSB7IEJhc2Vba2V5XSA9IGl0OyB9XG5cdCAgICB9KTtcblx0ICB9O1xuXHQgIGZvciAodmFyIGtleXMgPSBnT1BOKEJhc2UpLCBpID0gMDsga2V5cy5sZW5ndGggPiBpOykgcHJveHkoa2V5c1tpKytdKTtcblx0ICBwcm90by5jb25zdHJ1Y3RvciA9ICRSZWdFeHA7XG5cdCAgJFJlZ0V4cC5wcm90b3R5cGUgPSBwcm90bztcblx0ICBfcmVkZWZpbmUoX2dsb2JhbCwgJ1JlZ0V4cCcsICRSZWdFeHApO1xuXHR9XG5cblx0X3NldFNwZWNpZXMoJ1JlZ0V4cCcpO1xuXG5cdHZhciAkYXQkMSA9IF9zdHJpbmdBdChmYWxzZSk7XG5cdF9leHBvcnQoX2V4cG9ydC5QLCAnU3RyaW5nJywge1xuXHQgIC8vIDIxLjEuMy4zIFN0cmluZy5wcm90b3R5cGUuY29kZVBvaW50QXQocG9zKVxuXHQgIGNvZGVQb2ludEF0OiBmdW5jdGlvbiBjb2RlUG9pbnRBdChwb3MpIHtcblx0ICAgIHJldHVybiAkYXQkMSh0aGlzLCBwb3MpO1xuXHQgIH1cblx0fSk7XG5cblx0dmFyIGNvZGVQb2ludEF0ID0gX2NvcmUuU3RyaW5nLmNvZGVQb2ludEF0O1xuXG5cdC8vIGhlbHBlciBmb3IgU3RyaW5nI3tzdGFydHNXaXRoLCBlbmRzV2l0aCwgaW5jbHVkZXN9XG5cblxuXG5cdHZhciBfc3RyaW5nQ29udGV4dCA9IGZ1bmN0aW9uICh0aGF0LCBzZWFyY2hTdHJpbmcsIE5BTUUpIHtcblx0ICBpZiAoX2lzUmVnZXhwKHNlYXJjaFN0cmluZykpIHRocm93IFR5cGVFcnJvcignU3RyaW5nIycgKyBOQU1FICsgXCIgZG9lc24ndCBhY2NlcHQgcmVnZXghXCIpO1xuXHQgIHJldHVybiBTdHJpbmcoX2RlZmluZWQodGhhdCkpO1xuXHR9O1xuXG5cdHZhciBNQVRDSCQxID0gX3drcygnbWF0Y2gnKTtcblx0dmFyIF9mYWlsc0lzUmVnZXhwID0gZnVuY3Rpb24gKEtFWSkge1xuXHQgIHZhciByZSA9IC8uLztcblx0ICB0cnkge1xuXHQgICAgJy8uLydbS0VZXShyZSk7XG5cdCAgfSBjYXRjaCAoZSkge1xuXHQgICAgdHJ5IHtcblx0ICAgICAgcmVbTUFUQ0gkMV0gPSBmYWxzZTtcblx0ICAgICAgcmV0dXJuICEnLy4vJ1tLRVldKHJlKTtcblx0ICAgIH0gY2F0Y2ggKGYpIHsgLyogZW1wdHkgKi8gfVxuXHQgIH0gcmV0dXJuIHRydWU7XG5cdH07XG5cblx0dmFyIElOQ0xVREVTID0gJ2luY2x1ZGVzJztcblxuXHRfZXhwb3J0KF9leHBvcnQuUCArIF9leHBvcnQuRiAqIF9mYWlsc0lzUmVnZXhwKElOQ0xVREVTKSwgJ1N0cmluZycsIHtcblx0ICBpbmNsdWRlczogZnVuY3Rpb24gaW5jbHVkZXMoc2VhcmNoU3RyaW5nIC8qICwgcG9zaXRpb24gPSAwICovKSB7XG5cdCAgICByZXR1cm4gISF+X3N0cmluZ0NvbnRleHQodGhpcywgc2VhcmNoU3RyaW5nLCBJTkNMVURFUylcblx0ICAgICAgLmluZGV4T2Yoc2VhcmNoU3RyaW5nLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG5cdCAgfVxuXHR9KTtcblxuXHR2YXIgaW5jbHVkZXMgPSBfY29yZS5TdHJpbmcuaW5jbHVkZXM7XG5cblx0dmFyIEVORFNfV0lUSCA9ICdlbmRzV2l0aCc7XG5cdHZhciAkZW5kc1dpdGggPSAnJ1tFTkRTX1dJVEhdO1xuXG5cdF9leHBvcnQoX2V4cG9ydC5QICsgX2V4cG9ydC5GICogX2ZhaWxzSXNSZWdleHAoRU5EU19XSVRIKSwgJ1N0cmluZycsIHtcblx0ICBlbmRzV2l0aDogZnVuY3Rpb24gZW5kc1dpdGgoc2VhcmNoU3RyaW5nIC8qICwgZW5kUG9zaXRpb24gPSBAbGVuZ3RoICovKSB7XG5cdCAgICB2YXIgdGhhdCA9IF9zdHJpbmdDb250ZXh0KHRoaXMsIHNlYXJjaFN0cmluZywgRU5EU19XSVRIKTtcblx0ICAgIHZhciBlbmRQb3NpdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuXHQgICAgdmFyIGxlbiA9IF90b0xlbmd0aCh0aGF0Lmxlbmd0aCk7XG5cdCAgICB2YXIgZW5kID0gZW5kUG9zaXRpb24gPT09IHVuZGVmaW5lZCA/IGxlbiA6IE1hdGgubWluKF90b0xlbmd0aChlbmRQb3NpdGlvbiksIGxlbik7XG5cdCAgICB2YXIgc2VhcmNoID0gU3RyaW5nKHNlYXJjaFN0cmluZyk7XG5cdCAgICByZXR1cm4gJGVuZHNXaXRoXG5cdCAgICAgID8gJGVuZHNXaXRoLmNhbGwodGhhdCwgc2VhcmNoLCBlbmQpXG5cdCAgICAgIDogdGhhdC5zbGljZShlbmQgLSBzZWFyY2gubGVuZ3RoLCBlbmQpID09PSBzZWFyY2g7XG5cdCAgfVxuXHR9KTtcblxuXHR2YXIgZW5kc1dpdGggPSBfY29yZS5TdHJpbmcuZW5kc1dpdGg7XG5cblx0dmFyIF9zdHJpbmdSZXBlYXQgPSBmdW5jdGlvbiByZXBlYXQoY291bnQpIHtcblx0ICB2YXIgc3RyID0gU3RyaW5nKF9kZWZpbmVkKHRoaXMpKTtcblx0ICB2YXIgcmVzID0gJyc7XG5cdCAgdmFyIG4gPSBfdG9JbnRlZ2VyKGNvdW50KTtcblx0ICBpZiAobiA8IDAgfHwgbiA9PSBJbmZpbml0eSkgdGhyb3cgUmFuZ2VFcnJvcihcIkNvdW50IGNhbid0IGJlIG5lZ2F0aXZlXCIpO1xuXHQgIGZvciAoO24gPiAwOyAobiA+Pj49IDEpICYmIChzdHIgKz0gc3RyKSkgaWYgKG4gJiAxKSByZXMgKz0gc3RyO1xuXHQgIHJldHVybiByZXM7XG5cdH07XG5cblx0X2V4cG9ydChfZXhwb3J0LlAsICdTdHJpbmcnLCB7XG5cdCAgLy8gMjEuMS4zLjEzIFN0cmluZy5wcm90b3R5cGUucmVwZWF0KGNvdW50KVxuXHQgIHJlcGVhdDogX3N0cmluZ1JlcGVhdFxuXHR9KTtcblxuXHR2YXIgcmVwZWF0ID0gX2NvcmUuU3RyaW5nLnJlcGVhdDtcblxuXHR2YXIgU1RBUlRTX1dJVEggPSAnc3RhcnRzV2l0aCc7XG5cdHZhciAkc3RhcnRzV2l0aCA9ICcnW1NUQVJUU19XSVRIXTtcblxuXHRfZXhwb3J0KF9leHBvcnQuUCArIF9leHBvcnQuRiAqIF9mYWlsc0lzUmVnZXhwKFNUQVJUU19XSVRIKSwgJ1N0cmluZycsIHtcblx0ICBzdGFydHNXaXRoOiBmdW5jdGlvbiBzdGFydHNXaXRoKHNlYXJjaFN0cmluZyAvKiAsIHBvc2l0aW9uID0gMCAqLykge1xuXHQgICAgdmFyIHRoYXQgPSBfc3RyaW5nQ29udGV4dCh0aGlzLCBzZWFyY2hTdHJpbmcsIFNUQVJUU19XSVRIKTtcblx0ICAgIHZhciBpbmRleCA9IF90b0xlbmd0aChNYXRoLm1pbihhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCwgdGhhdC5sZW5ndGgpKTtcblx0ICAgIHZhciBzZWFyY2ggPSBTdHJpbmcoc2VhcmNoU3RyaW5nKTtcblx0ICAgIHJldHVybiAkc3RhcnRzV2l0aFxuXHQgICAgICA/ICRzdGFydHNXaXRoLmNhbGwodGhhdCwgc2VhcmNoLCBpbmRleClcblx0ICAgICAgOiB0aGF0LnNsaWNlKGluZGV4LCBpbmRleCArIHNlYXJjaC5sZW5ndGgpID09PSBzZWFyY2g7XG5cdCAgfVxuXHR9KTtcblxuXHR2YXIgc3RhcnRzV2l0aCA9IF9jb3JlLlN0cmluZy5zdGFydHNXaXRoO1xuXG5cdHZhciBxdW90ID0gL1wiL2c7XG5cdC8vIEIuMi4zLjIuMSBDcmVhdGVIVE1MKHN0cmluZywgdGFnLCBhdHRyaWJ1dGUsIHZhbHVlKVxuXHR2YXIgY3JlYXRlSFRNTCA9IGZ1bmN0aW9uIChzdHJpbmcsIHRhZywgYXR0cmlidXRlLCB2YWx1ZSkge1xuXHQgIHZhciBTID0gU3RyaW5nKF9kZWZpbmVkKHN0cmluZykpO1xuXHQgIHZhciBwMSA9ICc8JyArIHRhZztcblx0ICBpZiAoYXR0cmlidXRlICE9PSAnJykgcDEgKz0gJyAnICsgYXR0cmlidXRlICsgJz1cIicgKyBTdHJpbmcodmFsdWUpLnJlcGxhY2UocXVvdCwgJyZxdW90OycpICsgJ1wiJztcblx0ICByZXR1cm4gcDEgKyAnPicgKyBTICsgJzwvJyArIHRhZyArICc+Jztcblx0fTtcblx0dmFyIF9zdHJpbmdIdG1sID0gZnVuY3Rpb24gKE5BTUUsIGV4ZWMpIHtcblx0ICB2YXIgTyA9IHt9O1xuXHQgIE9bTkFNRV0gPSBleGVjKGNyZWF0ZUhUTUwpO1xuXHQgIF9leHBvcnQoX2V4cG9ydC5QICsgX2V4cG9ydC5GICogX2ZhaWxzKGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciB0ZXN0ID0gJydbTkFNRV0oJ1wiJyk7XG5cdCAgICByZXR1cm4gdGVzdCAhPT0gdGVzdC50b0xvd2VyQ2FzZSgpIHx8IHRlc3Quc3BsaXQoJ1wiJykubGVuZ3RoID4gMztcblx0ICB9KSwgJ1N0cmluZycsIE8pO1xuXHR9O1xuXG5cdC8vIEIuMi4zLjIgU3RyaW5nLnByb3RvdHlwZS5hbmNob3IobmFtZSlcblx0X3N0cmluZ0h0bWwoJ2FuY2hvcicsIGZ1bmN0aW9uIChjcmVhdGVIVE1MKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIGFuY2hvcihuYW1lKSB7XG5cdCAgICByZXR1cm4gY3JlYXRlSFRNTCh0aGlzLCAnYScsICduYW1lJywgbmFtZSk7XG5cdCAgfTtcblx0fSk7XG5cblx0dmFyIGFuY2hvciA9IF9jb3JlLlN0cmluZy5hbmNob3I7XG5cblx0Ly8gQi4yLjMuMyBTdHJpbmcucHJvdG90eXBlLmJpZygpXG5cdF9zdHJpbmdIdG1sKCdiaWcnLCBmdW5jdGlvbiAoY3JlYXRlSFRNTCkge1xuXHQgIHJldHVybiBmdW5jdGlvbiBiaWcoKSB7XG5cdCAgICByZXR1cm4gY3JlYXRlSFRNTCh0aGlzLCAnYmlnJywgJycsICcnKTtcblx0ICB9O1xuXHR9KTtcblxuXHR2YXIgYmlnID0gX2NvcmUuU3RyaW5nLmJpZztcblxuXHQvLyBCLjIuMy40IFN0cmluZy5wcm90b3R5cGUuYmxpbmsoKVxuXHRfc3RyaW5nSHRtbCgnYmxpbmsnLCBmdW5jdGlvbiAoY3JlYXRlSFRNTCkge1xuXHQgIHJldHVybiBmdW5jdGlvbiBibGluaygpIHtcblx0ICAgIHJldHVybiBjcmVhdGVIVE1MKHRoaXMsICdibGluaycsICcnLCAnJyk7XG5cdCAgfTtcblx0fSk7XG5cblx0dmFyIGJsaW5rID0gX2NvcmUuU3RyaW5nLmJsaW5rO1xuXG5cdC8vIEIuMi4zLjUgU3RyaW5nLnByb3RvdHlwZS5ib2xkKClcblx0X3N0cmluZ0h0bWwoJ2JvbGQnLCBmdW5jdGlvbiAoY3JlYXRlSFRNTCkge1xuXHQgIHJldHVybiBmdW5jdGlvbiBib2xkKCkge1xuXHQgICAgcmV0dXJuIGNyZWF0ZUhUTUwodGhpcywgJ2InLCAnJywgJycpO1xuXHQgIH07XG5cdH0pO1xuXG5cdHZhciBib2xkID0gX2NvcmUuU3RyaW5nLmJvbGQ7XG5cblx0Ly8gQi4yLjMuNiBTdHJpbmcucHJvdG90eXBlLmZpeGVkKClcblx0X3N0cmluZ0h0bWwoJ2ZpeGVkJywgZnVuY3Rpb24gKGNyZWF0ZUhUTUwpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gZml4ZWQoKSB7XG5cdCAgICByZXR1cm4gY3JlYXRlSFRNTCh0aGlzLCAndHQnLCAnJywgJycpO1xuXHQgIH07XG5cdH0pO1xuXG5cdHZhciBmaXhlZCA9IF9jb3JlLlN0cmluZy5maXhlZDtcblxuXHQvLyBCLjIuMy43IFN0cmluZy5wcm90b3R5cGUuZm9udGNvbG9yKGNvbG9yKVxuXHRfc3RyaW5nSHRtbCgnZm9udGNvbG9yJywgZnVuY3Rpb24gKGNyZWF0ZUhUTUwpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gZm9udGNvbG9yKGNvbG9yKSB7XG5cdCAgICByZXR1cm4gY3JlYXRlSFRNTCh0aGlzLCAnZm9udCcsICdjb2xvcicsIGNvbG9yKTtcblx0ICB9O1xuXHR9KTtcblxuXHR2YXIgZm9udGNvbG9yID0gX2NvcmUuU3RyaW5nLmZvbnRjb2xvcjtcblxuXHQvLyBCLjIuMy44IFN0cmluZy5wcm90b3R5cGUuZm9udHNpemUoc2l6ZSlcblx0X3N0cmluZ0h0bWwoJ2ZvbnRzaXplJywgZnVuY3Rpb24gKGNyZWF0ZUhUTUwpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gZm9udHNpemUoc2l6ZSkge1xuXHQgICAgcmV0dXJuIGNyZWF0ZUhUTUwodGhpcywgJ2ZvbnQnLCAnc2l6ZScsIHNpemUpO1xuXHQgIH07XG5cdH0pO1xuXG5cdHZhciBmb250c2l6ZSA9IF9jb3JlLlN0cmluZy5mb250c2l6ZTtcblxuXHQvLyBCLjIuMy45IFN0cmluZy5wcm90b3R5cGUuaXRhbGljcygpXG5cdF9zdHJpbmdIdG1sKCdpdGFsaWNzJywgZnVuY3Rpb24gKGNyZWF0ZUhUTUwpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gaXRhbGljcygpIHtcblx0ICAgIHJldHVybiBjcmVhdGVIVE1MKHRoaXMsICdpJywgJycsICcnKTtcblx0ICB9O1xuXHR9KTtcblxuXHR2YXIgaXRhbGljcyA9IF9jb3JlLlN0cmluZy5pdGFsaWNzO1xuXG5cdC8vIEIuMi4zLjEwIFN0cmluZy5wcm90b3R5cGUubGluayh1cmwpXG5cdF9zdHJpbmdIdG1sKCdsaW5rJywgZnVuY3Rpb24gKGNyZWF0ZUhUTUwpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gbGluayh1cmwpIHtcblx0ICAgIHJldHVybiBjcmVhdGVIVE1MKHRoaXMsICdhJywgJ2hyZWYnLCB1cmwpO1xuXHQgIH07XG5cdH0pO1xuXG5cdHZhciBsaW5rID0gX2NvcmUuU3RyaW5nLmxpbms7XG5cblx0Ly8gQi4yLjMuMTEgU3RyaW5nLnByb3RvdHlwZS5zbWFsbCgpXG5cdF9zdHJpbmdIdG1sKCdzbWFsbCcsIGZ1bmN0aW9uIChjcmVhdGVIVE1MKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIHNtYWxsKCkge1xuXHQgICAgcmV0dXJuIGNyZWF0ZUhUTUwodGhpcywgJ3NtYWxsJywgJycsICcnKTtcblx0ICB9O1xuXHR9KTtcblxuXHR2YXIgc21hbGwgPSBfY29yZS5TdHJpbmcuc21hbGw7XG5cblx0Ly8gQi4yLjMuMTIgU3RyaW5nLnByb3RvdHlwZS5zdHJpa2UoKVxuXHRfc3RyaW5nSHRtbCgnc3RyaWtlJywgZnVuY3Rpb24gKGNyZWF0ZUhUTUwpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gc3RyaWtlKCkge1xuXHQgICAgcmV0dXJuIGNyZWF0ZUhUTUwodGhpcywgJ3N0cmlrZScsICcnLCAnJyk7XG5cdCAgfTtcblx0fSk7XG5cblx0dmFyIHN0cmlrZSA9IF9jb3JlLlN0cmluZy5zdHJpa2U7XG5cblx0Ly8gQi4yLjMuMTMgU3RyaW5nLnByb3RvdHlwZS5zdWIoKVxuXHRfc3RyaW5nSHRtbCgnc3ViJywgZnVuY3Rpb24gKGNyZWF0ZUhUTUwpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gc3ViKCkge1xuXHQgICAgcmV0dXJuIGNyZWF0ZUhUTUwodGhpcywgJ3N1YicsICcnLCAnJyk7XG5cdCAgfTtcblx0fSk7XG5cblx0dmFyIHN1YiA9IF9jb3JlLlN0cmluZy5zdWI7XG5cblx0Ly8gQi4yLjMuMTQgU3RyaW5nLnByb3RvdHlwZS5zdXAoKVxuXHRfc3RyaW5nSHRtbCgnc3VwJywgZnVuY3Rpb24gKGNyZWF0ZUhUTUwpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gc3VwKCkge1xuXHQgICAgcmV0dXJuIGNyZWF0ZUhUTUwodGhpcywgJ3N1cCcsICcnLCAnJyk7XG5cdCAgfTtcblx0fSk7XG5cblx0dmFyIHN1cCA9IF9jb3JlLlN0cmluZy5zdXA7XG5cblx0dmFyIGZyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGU7XG5cdHZhciAkZnJvbUNvZGVQb2ludCA9IFN0cmluZy5mcm9tQ29kZVBvaW50O1xuXG5cdC8vIGxlbmd0aCBzaG91bGQgYmUgMSwgb2xkIEZGIHByb2JsZW1cblx0X2V4cG9ydChfZXhwb3J0LlMgKyBfZXhwb3J0LkYgKiAoISEkZnJvbUNvZGVQb2ludCAmJiAkZnJvbUNvZGVQb2ludC5sZW5ndGggIT0gMSksICdTdHJpbmcnLCB7XG5cdCAgLy8gMjEuMS4yLjIgU3RyaW5nLmZyb21Db2RlUG9pbnQoLi4uY29kZVBvaW50cylcblx0ICBmcm9tQ29kZVBvaW50OiBmdW5jdGlvbiBmcm9tQ29kZVBvaW50KHgpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXHQgICAgdmFyIHJlcyA9IFtdO1xuXHQgICAgdmFyIGFMZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuXHQgICAgdmFyIGkgPSAwO1xuXHQgICAgdmFyIGNvZGU7XG5cdCAgICB3aGlsZSAoYUxlbiA+IGkpIHtcblx0ICAgICAgY29kZSA9ICthcmd1bWVudHNbaSsrXTtcblx0ICAgICAgaWYgKF90b0Fic29sdXRlSW5kZXgoY29kZSwgMHgxMGZmZmYpICE9PSBjb2RlKSB0aHJvdyBSYW5nZUVycm9yKGNvZGUgKyAnIGlzIG5vdCBhIHZhbGlkIGNvZGUgcG9pbnQnKTtcblx0ICAgICAgcmVzLnB1c2goY29kZSA8IDB4MTAwMDBcblx0ICAgICAgICA/IGZyb21DaGFyQ29kZShjb2RlKVxuXHQgICAgICAgIDogZnJvbUNoYXJDb2RlKCgoY29kZSAtPSAweDEwMDAwKSA+PiAxMCkgKyAweGQ4MDAsIGNvZGUgJSAweDQwMCArIDB4ZGMwMClcblx0ICAgICAgKTtcblx0ICAgIH0gcmV0dXJuIHJlcy5qb2luKCcnKTtcblx0ICB9XG5cdH0pO1xuXG5cdHZhciBmcm9tQ29kZVBvaW50ID0gX2NvcmUuU3RyaW5nLmZyb21Db2RlUG9pbnQ7XG5cblx0X2V4cG9ydChfZXhwb3J0LlMsICdTdHJpbmcnLCB7XG5cdCAgLy8gMjEuMS4yLjQgU3RyaW5nLnJhdyhjYWxsU2l0ZSwgLi4uc3Vic3RpdHV0aW9ucylcblx0ICByYXc6IGZ1bmN0aW9uIHJhdyhjYWxsU2l0ZSkge1xuXHQgICAgdmFyIHRwbCA9IF90b0lvYmplY3QoY2FsbFNpdGUucmF3KTtcblx0ICAgIHZhciBsZW4gPSBfdG9MZW5ndGgodHBsLmxlbmd0aCk7XG5cdCAgICB2YXIgYUxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cdCAgICB2YXIgcmVzID0gW107XG5cdCAgICB2YXIgaSA9IDA7XG5cdCAgICB3aGlsZSAobGVuID4gaSkge1xuXHQgICAgICByZXMucHVzaChTdHJpbmcodHBsW2krK10pKTtcblx0ICAgICAgaWYgKGkgPCBhTGVuKSByZXMucHVzaChTdHJpbmcoYXJndW1lbnRzW2ldKSk7XG5cdCAgICB9IHJldHVybiByZXMuam9pbignJyk7XG5cdCAgfVxuXHR9KTtcblxuXHR2YXIgcmF3ID0gX2NvcmUuU3RyaW5nLnJhdztcblxuXHR2YXIgZXMyMDE1Q29yZSA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuXHR9KTtcblxuXHR1bndyYXBFeHBvcnRzKGVzMjAxNUNvcmUpO1xuXG5cdC8vIDE5LjEuMy42IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcoKVxuXG5cdHZhciB0ZXN0ID0ge307XG5cdHRlc3RbX3drcygndG9TdHJpbmdUYWcnKV0gPSAneic7XG5cdGlmICh0ZXN0ICsgJycgIT0gJ1tvYmplY3Qgel0nKSB7XG5cdCAgX3JlZGVmaW5lKE9iamVjdC5wcm90b3R5cGUsICd0b1N0cmluZycsIGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuXHQgICAgcmV0dXJuICdbb2JqZWN0ICcgKyBfY2xhc3NvZih0aGlzKSArICddJztcblx0ICB9LCB0cnVlKTtcblx0fVxuXG5cdHZhciBfaXRlclN0ZXAgPSBmdW5jdGlvbiAoZG9uZSwgdmFsdWUpIHtcblx0ICByZXR1cm4geyB2YWx1ZTogdmFsdWUsIGRvbmU6ICEhZG9uZSB9O1xuXHR9O1xuXG5cdC8vIDIyLjEuMy40IEFycmF5LnByb3RvdHlwZS5lbnRyaWVzKClcblx0Ly8gMjIuMS4zLjEzIEFycmF5LnByb3RvdHlwZS5rZXlzKClcblx0Ly8gMjIuMS4zLjI5IEFycmF5LnByb3RvdHlwZS52YWx1ZXMoKVxuXHQvLyAyMi4xLjMuMzAgQXJyYXkucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcblx0dmFyIGVzNl9hcnJheV9pdGVyYXRvciA9IF9pdGVyRGVmaW5lKEFycmF5LCAnQXJyYXknLCBmdW5jdGlvbiAoaXRlcmF0ZWQsIGtpbmQpIHtcblx0ICB0aGlzLl90ID0gX3RvSW9iamVjdChpdGVyYXRlZCk7IC8vIHRhcmdldFxuXHQgIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG5cdCAgdGhpcy5fayA9IGtpbmQ7ICAgICAgICAgICAgICAgIC8vIGtpbmRcblx0Ly8gMjIuMS41LjIuMSAlQXJyYXlJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG5cdH0sIGZ1bmN0aW9uICgpIHtcblx0ICB2YXIgTyA9IHRoaXMuX3Q7XG5cdCAgdmFyIGtpbmQgPSB0aGlzLl9rO1xuXHQgIHZhciBpbmRleCA9IHRoaXMuX2krKztcblx0ICBpZiAoIU8gfHwgaW5kZXggPj0gTy5sZW5ndGgpIHtcblx0ICAgIHRoaXMuX3QgPSB1bmRlZmluZWQ7XG5cdCAgICByZXR1cm4gX2l0ZXJTdGVwKDEpO1xuXHQgIH1cblx0ICBpZiAoa2luZCA9PSAna2V5cycpIHJldHVybiBfaXRlclN0ZXAoMCwgaW5kZXgpO1xuXHQgIGlmIChraW5kID09ICd2YWx1ZXMnKSByZXR1cm4gX2l0ZXJTdGVwKDAsIE9baW5kZXhdKTtcblx0ICByZXR1cm4gX2l0ZXJTdGVwKDAsIFtpbmRleCwgT1tpbmRleF1dKTtcblx0fSwgJ3ZhbHVlcycpO1xuXG5cdC8vIGFyZ3VtZW50c0xpc3RbQEBpdGVyYXRvcl0gaXMgJUFycmF5UHJvdG9fdmFsdWVzJSAoOS40LjQuNiwgOS40LjQuNylcblx0X2l0ZXJhdG9ycy5Bcmd1bWVudHMgPSBfaXRlcmF0b3JzLkFycmF5O1xuXG5cdF9hZGRUb1Vuc2NvcGFibGVzKCdrZXlzJyk7XG5cdF9hZGRUb1Vuc2NvcGFibGVzKCd2YWx1ZXMnKTtcblx0X2FkZFRvVW5zY29wYWJsZXMoJ2VudHJpZXMnKTtcblxuXHR2YXIgSVRFUkFUT1IkNCA9IF93a3MoJ2l0ZXJhdG9yJyk7XG5cdHZhciBUT19TVFJJTkdfVEFHID0gX3drcygndG9TdHJpbmdUYWcnKTtcblx0dmFyIEFycmF5VmFsdWVzID0gX2l0ZXJhdG9ycy5BcnJheTtcblxuXHR2YXIgRE9NSXRlcmFibGVzID0ge1xuXHQgIENTU1J1bGVMaXN0OiB0cnVlLCAvLyBUT0RPOiBOb3Qgc3BlYyBjb21wbGlhbnQsIHNob3VsZCBiZSBmYWxzZS5cblx0ICBDU1NTdHlsZURlY2xhcmF0aW9uOiBmYWxzZSxcblx0ICBDU1NWYWx1ZUxpc3Q6IGZhbHNlLFxuXHQgIENsaWVudFJlY3RMaXN0OiBmYWxzZSxcblx0ICBET01SZWN0TGlzdDogZmFsc2UsXG5cdCAgRE9NU3RyaW5nTGlzdDogZmFsc2UsXG5cdCAgRE9NVG9rZW5MaXN0OiB0cnVlLFxuXHQgIERhdGFUcmFuc2Zlckl0ZW1MaXN0OiBmYWxzZSxcblx0ICBGaWxlTGlzdDogZmFsc2UsXG5cdCAgSFRNTEFsbENvbGxlY3Rpb246IGZhbHNlLFxuXHQgIEhUTUxDb2xsZWN0aW9uOiBmYWxzZSxcblx0ICBIVE1MRm9ybUVsZW1lbnQ6IGZhbHNlLFxuXHQgIEhUTUxTZWxlY3RFbGVtZW50OiBmYWxzZSxcblx0ICBNZWRpYUxpc3Q6IHRydWUsIC8vIFRPRE86IE5vdCBzcGVjIGNvbXBsaWFudCwgc2hvdWxkIGJlIGZhbHNlLlxuXHQgIE1pbWVUeXBlQXJyYXk6IGZhbHNlLFxuXHQgIE5hbWVkTm9kZU1hcDogZmFsc2UsXG5cdCAgTm9kZUxpc3Q6IHRydWUsXG5cdCAgUGFpbnRSZXF1ZXN0TGlzdDogZmFsc2UsXG5cdCAgUGx1Z2luOiBmYWxzZSxcblx0ICBQbHVnaW5BcnJheTogZmFsc2UsXG5cdCAgU1ZHTGVuZ3RoTGlzdDogZmFsc2UsXG5cdCAgU1ZHTnVtYmVyTGlzdDogZmFsc2UsXG5cdCAgU1ZHUGF0aFNlZ0xpc3Q6IGZhbHNlLFxuXHQgIFNWR1BvaW50TGlzdDogZmFsc2UsXG5cdCAgU1ZHU3RyaW5nTGlzdDogZmFsc2UsXG5cdCAgU1ZHVHJhbnNmb3JtTGlzdDogZmFsc2UsXG5cdCAgU291cmNlQnVmZmVyTGlzdDogZmFsc2UsXG5cdCAgU3R5bGVTaGVldExpc3Q6IHRydWUsIC8vIFRPRE86IE5vdCBzcGVjIGNvbXBsaWFudCwgc2hvdWxkIGJlIGZhbHNlLlxuXHQgIFRleHRUcmFja0N1ZUxpc3Q6IGZhbHNlLFxuXHQgIFRleHRUcmFja0xpc3Q6IGZhbHNlLFxuXHQgIFRvdWNoTGlzdDogZmFsc2Vcblx0fTtcblxuXHRmb3IgKHZhciBjb2xsZWN0aW9ucyA9IF9vYmplY3RLZXlzKERPTUl0ZXJhYmxlcyksIGkkMSA9IDA7IGkkMSA8IGNvbGxlY3Rpb25zLmxlbmd0aDsgaSQxKyspIHtcblx0ICB2YXIgTkFNRSQxID0gY29sbGVjdGlvbnNbaSQxXTtcblx0ICB2YXIgZXhwbGljaXQgPSBET01JdGVyYWJsZXNbTkFNRSQxXTtcblx0ICB2YXIgQ29sbGVjdGlvbiA9IF9nbG9iYWxbTkFNRSQxXTtcblx0ICB2YXIgcHJvdG8kMSA9IENvbGxlY3Rpb24gJiYgQ29sbGVjdGlvbi5wcm90b3R5cGU7XG5cdCAgdmFyIGtleTtcblx0ICBpZiAocHJvdG8kMSkge1xuXHQgICAgaWYgKCFwcm90byQxW0lURVJBVE9SJDRdKSBfaGlkZShwcm90byQxLCBJVEVSQVRPUiQ0LCBBcnJheVZhbHVlcyk7XG5cdCAgICBpZiAoIXByb3RvJDFbVE9fU1RSSU5HX1RBR10pIF9oaWRlKHByb3RvJDEsIFRPX1NUUklOR19UQUcsIE5BTUUkMSk7XG5cdCAgICBfaXRlcmF0b3JzW05BTUUkMV0gPSBBcnJheVZhbHVlcztcblx0ICAgIGlmIChleHBsaWNpdCkgZm9yIChrZXkgaW4gZXM2X2FycmF5X2l0ZXJhdG9yKSBpZiAoIXByb3RvJDFba2V5XSkgX3JlZGVmaW5lKHByb3RvJDEsIGtleSwgZXM2X2FycmF5X2l0ZXJhdG9yW2tleV0sIHRydWUpO1xuXHQgIH1cblx0fVxuXG5cdHZhciBfYW5JbnN0YW5jZSA9IGZ1bmN0aW9uIChpdCwgQ29uc3RydWN0b3IsIG5hbWUsIGZvcmJpZGRlbkZpZWxkKSB7XG5cdCAgaWYgKCEoaXQgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikgfHwgKGZvcmJpZGRlbkZpZWxkICE9PSB1bmRlZmluZWQgJiYgZm9yYmlkZGVuRmllbGQgaW4gaXQpKSB7XG5cdCAgICB0aHJvdyBUeXBlRXJyb3IobmFtZSArICc6IGluY29ycmVjdCBpbnZvY2F0aW9uIScpO1xuXHQgIH0gcmV0dXJuIGl0O1xuXHR9O1xuXG5cdHZhciBfZm9yT2YgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7XG5cdHZhciBCUkVBSyA9IHt9O1xuXHR2YXIgUkVUVVJOID0ge307XG5cdHZhciBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlcmFibGUsIGVudHJpZXMsIGZuLCB0aGF0LCBJVEVSQVRPUikge1xuXHQgIHZhciBpdGVyRm4gPSBJVEVSQVRPUiA/IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGl0ZXJhYmxlOyB9IDogY29yZV9nZXRJdGVyYXRvck1ldGhvZChpdGVyYWJsZSk7XG5cdCAgdmFyIGYgPSBfY3R4KGZuLCB0aGF0LCBlbnRyaWVzID8gMiA6IDEpO1xuXHQgIHZhciBpbmRleCA9IDA7XG5cdCAgdmFyIGxlbmd0aCwgc3RlcCwgaXRlcmF0b3IsIHJlc3VsdDtcblx0ICBpZiAodHlwZW9mIGl0ZXJGbiAhPSAnZnVuY3Rpb24nKSB0aHJvdyBUeXBlRXJyb3IoaXRlcmFibGUgKyAnIGlzIG5vdCBpdGVyYWJsZSEnKTtcblx0ICAvLyBmYXN0IGNhc2UgZm9yIGFycmF5cyB3aXRoIGRlZmF1bHQgaXRlcmF0b3Jcblx0ICBpZiAoX2lzQXJyYXlJdGVyKGl0ZXJGbikpIGZvciAobGVuZ3RoID0gX3RvTGVuZ3RoKGl0ZXJhYmxlLmxlbmd0aCk7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKSB7XG5cdCAgICByZXN1bHQgPSBlbnRyaWVzID8gZihfYW5PYmplY3Qoc3RlcCA9IGl0ZXJhYmxlW2luZGV4XSlbMF0sIHN0ZXBbMV0pIDogZihpdGVyYWJsZVtpbmRleF0pO1xuXHQgICAgaWYgKHJlc3VsdCA9PT0gQlJFQUsgfHwgcmVzdWx0ID09PSBSRVRVUk4pIHJldHVybiByZXN1bHQ7XG5cdCAgfSBlbHNlIGZvciAoaXRlcmF0b3IgPSBpdGVyRm4uY2FsbChpdGVyYWJsZSk7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTspIHtcblx0ICAgIHJlc3VsdCA9IF9pdGVyQ2FsbChpdGVyYXRvciwgZiwgc3RlcC52YWx1ZSwgZW50cmllcyk7XG5cdCAgICBpZiAocmVzdWx0ID09PSBCUkVBSyB8fCByZXN1bHQgPT09IFJFVFVSTikgcmV0dXJuIHJlc3VsdDtcblx0ICB9XG5cdH07XG5cdGV4cG9ydHMuQlJFQUsgPSBCUkVBSztcblx0ZXhwb3J0cy5SRVRVUk4gPSBSRVRVUk47XG5cdH0pO1xuXG5cdC8vIDcuMy4yMCBTcGVjaWVzQ29uc3RydWN0b3IoTywgZGVmYXVsdENvbnN0cnVjdG9yKVxuXG5cblx0dmFyIFNQRUNJRVMkMiA9IF93a3MoJ3NwZWNpZXMnKTtcblx0dmFyIF9zcGVjaWVzQ29uc3RydWN0b3IgPSBmdW5jdGlvbiAoTywgRCkge1xuXHQgIHZhciBDID0gX2FuT2JqZWN0KE8pLmNvbnN0cnVjdG9yO1xuXHQgIHZhciBTO1xuXHQgIHJldHVybiBDID09PSB1bmRlZmluZWQgfHwgKFMgPSBfYW5PYmplY3QoQylbU1BFQ0lFUyQyXSkgPT0gdW5kZWZpbmVkID8gRCA6IF9hRnVuY3Rpb24oUyk7XG5cdH07XG5cblx0Ly8gZmFzdCBhcHBseSwgaHR0cDovL2pzcGVyZi5sbmtpdC5jb20vZmFzdC1hcHBseS81XG5cdHZhciBfaW52b2tlID0gZnVuY3Rpb24gKGZuLCBhcmdzLCB0aGF0KSB7XG5cdCAgdmFyIHVuID0gdGhhdCA9PT0gdW5kZWZpbmVkO1xuXHQgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcblx0ICAgIGNhc2UgMDogcmV0dXJuIHVuID8gZm4oKVxuXHQgICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQpO1xuXHQgICAgY2FzZSAxOiByZXR1cm4gdW4gPyBmbihhcmdzWzBdKVxuXHQgICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0pO1xuXHQgICAgY2FzZSAyOiByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdKVxuXHQgICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuXHQgICAgY2FzZSAzOiByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKVxuXHQgICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuXHQgICAgY2FzZSA0OiByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKVxuXHQgICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pO1xuXHQgIH0gcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3MpO1xuXHR9O1xuXG5cdHZhciBwcm9jZXNzID0gX2dsb2JhbC5wcm9jZXNzO1xuXHR2YXIgc2V0VGFzayA9IF9nbG9iYWwuc2V0SW1tZWRpYXRlO1xuXHR2YXIgY2xlYXJUYXNrID0gX2dsb2JhbC5jbGVhckltbWVkaWF0ZTtcblx0dmFyIE1lc3NhZ2VDaGFubmVsID0gX2dsb2JhbC5NZXNzYWdlQ2hhbm5lbDtcblx0dmFyIERpc3BhdGNoID0gX2dsb2JhbC5EaXNwYXRjaDtcblx0dmFyIGNvdW50ZXIgPSAwO1xuXHR2YXIgcXVldWUgPSB7fTtcblx0dmFyIE9OUkVBRFlTVEFURUNIQU5HRSA9ICdvbnJlYWR5c3RhdGVjaGFuZ2UnO1xuXHR2YXIgZGVmZXIsIGNoYW5uZWwsIHBvcnQ7XG5cdHZhciBydW4gPSBmdW5jdGlvbiAoKSB7XG5cdCAgdmFyIGlkID0gK3RoaXM7XG5cdCAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xuXHQgIGlmIChxdWV1ZS5oYXNPd25Qcm9wZXJ0eShpZCkpIHtcblx0ICAgIHZhciBmbiA9IHF1ZXVlW2lkXTtcblx0ICAgIGRlbGV0ZSBxdWV1ZVtpZF07XG5cdCAgICBmbigpO1xuXHQgIH1cblx0fTtcblx0dmFyIGxpc3RlbmVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgcnVuLmNhbGwoZXZlbnQuZGF0YSk7XG5cdH07XG5cdC8vIE5vZGUuanMgMC45KyAmIElFMTArIGhhcyBzZXRJbW1lZGlhdGUsIG90aGVyd2lzZTpcblx0aWYgKCFzZXRUYXNrIHx8ICFjbGVhclRhc2spIHtcblx0ICBzZXRUYXNrID0gZnVuY3Rpb24gc2V0SW1tZWRpYXRlKGZuKSB7XG5cdCAgICB2YXIgYXJncyA9IFtdO1xuXHQgICAgdmFyIGkgPSAxO1xuXHQgICAgd2hpbGUgKGFyZ3VtZW50cy5sZW5ndGggPiBpKSBhcmdzLnB1c2goYXJndW1lbnRzW2krK10pO1xuXHQgICAgcXVldWVbKytjb3VudGVyXSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jXG5cdCAgICAgIF9pbnZva2UodHlwZW9mIGZuID09ICdmdW5jdGlvbicgPyBmbiA6IEZ1bmN0aW9uKGZuKSwgYXJncyk7XG5cdCAgICB9O1xuXHQgICAgZGVmZXIoY291bnRlcik7XG5cdCAgICByZXR1cm4gY291bnRlcjtcblx0ICB9O1xuXHQgIGNsZWFyVGFzayA9IGZ1bmN0aW9uIGNsZWFySW1tZWRpYXRlKGlkKSB7XG5cdCAgICBkZWxldGUgcXVldWVbaWRdO1xuXHQgIH07XG5cdCAgLy8gTm9kZS5qcyAwLjgtXG5cdCAgaWYgKF9jb2YocHJvY2VzcykgPT0gJ3Byb2Nlc3MnKSB7XG5cdCAgICBkZWZlciA9IGZ1bmN0aW9uIChpZCkge1xuXHQgICAgICBwcm9jZXNzLm5leHRUaWNrKF9jdHgocnVuLCBpZCwgMSkpO1xuXHQgICAgfTtcblx0ICAvLyBTcGhlcmUgKEpTIGdhbWUgZW5naW5lKSBEaXNwYXRjaCBBUElcblx0ICB9IGVsc2UgaWYgKERpc3BhdGNoICYmIERpc3BhdGNoLm5vdykge1xuXHQgICAgZGVmZXIgPSBmdW5jdGlvbiAoaWQpIHtcblx0ICAgICAgRGlzcGF0Y2gubm93KF9jdHgocnVuLCBpZCwgMSkpO1xuXHQgICAgfTtcblx0ICAvLyBCcm93c2VycyB3aXRoIE1lc3NhZ2VDaGFubmVsLCBpbmNsdWRlcyBXZWJXb3JrZXJzXG5cdCAgfSBlbHNlIGlmIChNZXNzYWdlQ2hhbm5lbCkge1xuXHQgICAgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuXHQgICAgcG9ydCA9IGNoYW5uZWwucG9ydDI7XG5cdCAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGxpc3RlbmVyO1xuXHQgICAgZGVmZXIgPSBfY3R4KHBvcnQucG9zdE1lc3NhZ2UsIHBvcnQsIDEpO1xuXHQgIC8vIEJyb3dzZXJzIHdpdGggcG9zdE1lc3NhZ2UsIHNraXAgV2ViV29ya2Vyc1xuXHQgIC8vIElFOCBoYXMgcG9zdE1lc3NhZ2UsIGJ1dCBpdCdzIHN5bmMgJiB0eXBlb2YgaXRzIHBvc3RNZXNzYWdlIGlzICdvYmplY3QnXG5cdCAgfSBlbHNlIGlmIChfZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIgJiYgdHlwZW9mIHBvc3RNZXNzYWdlID09ICdmdW5jdGlvbicgJiYgIV9nbG9iYWwuaW1wb3J0U2NyaXB0cykge1xuXHQgICAgZGVmZXIgPSBmdW5jdGlvbiAoaWQpIHtcblx0ICAgICAgX2dsb2JhbC5wb3N0TWVzc2FnZShpZCArICcnLCAnKicpO1xuXHQgICAgfTtcblx0ICAgIF9nbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGxpc3RlbmVyLCBmYWxzZSk7XG5cdCAgLy8gSUU4LVxuXHQgIH0gZWxzZSBpZiAoT05SRUFEWVNUQVRFQ0hBTkdFIGluIF9kb21DcmVhdGUoJ3NjcmlwdCcpKSB7XG5cdCAgICBkZWZlciA9IGZ1bmN0aW9uIChpZCkge1xuXHQgICAgICBfaHRtbC5hcHBlbmRDaGlsZChfZG9tQ3JlYXRlKCdzY3JpcHQnKSlbT05SRUFEWVNUQVRFQ0hBTkdFXSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBfaHRtbC5yZW1vdmVDaGlsZCh0aGlzKTtcblx0ICAgICAgICBydW4uY2FsbChpZCk7XG5cdCAgICAgIH07XG5cdCAgICB9O1xuXHQgIC8vIFJlc3Qgb2xkIGJyb3dzZXJzXG5cdCAgfSBlbHNlIHtcblx0ICAgIGRlZmVyID0gZnVuY3Rpb24gKGlkKSB7XG5cdCAgICAgIHNldFRpbWVvdXQoX2N0eChydW4sIGlkLCAxKSwgMCk7XG5cdCAgICB9O1xuXHQgIH1cblx0fVxuXHR2YXIgX3Rhc2sgPSB7XG5cdCAgc2V0OiBzZXRUYXNrLFxuXHQgIGNsZWFyOiBjbGVhclRhc2tcblx0fTtcblxuXHR2YXIgbWFjcm90YXNrID0gX3Rhc2suc2V0O1xuXHR2YXIgT2JzZXJ2ZXIgPSBfZ2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXIgfHwgX2dsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO1xuXHR2YXIgcHJvY2VzcyQxID0gX2dsb2JhbC5wcm9jZXNzO1xuXHR2YXIgUHJvbWlzZSA9IF9nbG9iYWwuUHJvbWlzZTtcblx0dmFyIGlzTm9kZSA9IF9jb2YocHJvY2VzcyQxKSA9PSAncHJvY2Vzcyc7XG5cblx0dmFyIF9taWNyb3Rhc2sgPSBmdW5jdGlvbiAoKSB7XG5cdCAgdmFyIGhlYWQsIGxhc3QsIG5vdGlmeTtcblxuXHQgIHZhciBmbHVzaCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBwYXJlbnQsIGZuO1xuXHQgICAgaWYgKGlzTm9kZSAmJiAocGFyZW50ID0gcHJvY2VzcyQxLmRvbWFpbikpIHBhcmVudC5leGl0KCk7XG5cdCAgICB3aGlsZSAoaGVhZCkge1xuXHQgICAgICBmbiA9IGhlYWQuZm47XG5cdCAgICAgIGhlYWQgPSBoZWFkLm5leHQ7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgZm4oKTtcblx0ICAgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIGlmIChoZWFkKSBub3RpZnkoKTtcblx0ICAgICAgICBlbHNlIGxhc3QgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgdGhyb3cgZTtcblx0ICAgICAgfVxuXHQgICAgfSBsYXN0ID0gdW5kZWZpbmVkO1xuXHQgICAgaWYgKHBhcmVudCkgcGFyZW50LmVudGVyKCk7XG5cdCAgfTtcblxuXHQgIC8vIE5vZGUuanNcblx0ICBpZiAoaXNOb2RlKSB7XG5cdCAgICBub3RpZnkgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHByb2Nlc3MkMS5uZXh0VGljayhmbHVzaCk7XG5cdCAgICB9O1xuXHQgIC8vIGJyb3dzZXJzIHdpdGggTXV0YXRpb25PYnNlcnZlciwgZXhjZXB0IGlPUyBTYWZhcmkgLSBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMzM5XG5cdCAgfSBlbHNlIGlmIChPYnNlcnZlciAmJiAhKF9nbG9iYWwubmF2aWdhdG9yICYmIF9nbG9iYWwubmF2aWdhdG9yLnN0YW5kYWxvbmUpKSB7XG5cdCAgICB2YXIgdG9nZ2xlID0gdHJ1ZTtcblx0ICAgIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuXHQgICAgbmV3IE9ic2VydmVyKGZsdXNoKS5vYnNlcnZlKG5vZGUsIHsgY2hhcmFjdGVyRGF0YTogdHJ1ZSB9KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXdcblx0ICAgIG5vdGlmeSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgbm9kZS5kYXRhID0gdG9nZ2xlID0gIXRvZ2dsZTtcblx0ICAgIH07XG5cdCAgLy8gZW52aXJvbm1lbnRzIHdpdGggbWF5YmUgbm9uLWNvbXBsZXRlbHkgY29ycmVjdCwgYnV0IGV4aXN0ZW50IFByb21pc2Vcblx0ICB9IGVsc2UgaWYgKFByb21pc2UgJiYgUHJvbWlzZS5yZXNvbHZlKSB7XG5cdCAgICAvLyBQcm9taXNlLnJlc29sdmUgd2l0aG91dCBhbiBhcmd1bWVudCB0aHJvd3MgYW4gZXJyb3IgaW4gTEcgV2ViT1MgMlxuXHQgICAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUodW5kZWZpbmVkKTtcblx0ICAgIG5vdGlmeSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcHJvbWlzZS50aGVuKGZsdXNoKTtcblx0ICAgIH07XG5cdCAgLy8gZm9yIG90aGVyIGVudmlyb25tZW50cyAtIG1hY3JvdGFzayBiYXNlZCBvbjpcblx0ICAvLyAtIHNldEltbWVkaWF0ZVxuXHQgIC8vIC0gTWVzc2FnZUNoYW5uZWxcblx0ICAvLyAtIHdpbmRvdy5wb3N0TWVzc2FnXG5cdCAgLy8gLSBvbnJlYWR5c3RhdGVjaGFuZ2Vcblx0ICAvLyAtIHNldFRpbWVvdXRcblx0ICB9IGVsc2Uge1xuXHQgICAgbm90aWZ5ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAvLyBzdHJhbmdlIElFICsgd2VicGFjayBkZXYgc2VydmVyIGJ1ZyAtIHVzZSAuY2FsbChnbG9iYWwpXG5cdCAgICAgIG1hY3JvdGFzay5jYWxsKF9nbG9iYWwsIGZsdXNoKTtcblx0ICAgIH07XG5cdCAgfVxuXG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChmbikge1xuXHQgICAgdmFyIHRhc2sgPSB7IGZuOiBmbiwgbmV4dDogdW5kZWZpbmVkIH07XG5cdCAgICBpZiAobGFzdCkgbGFzdC5uZXh0ID0gdGFzaztcblx0ICAgIGlmICghaGVhZCkge1xuXHQgICAgICBoZWFkID0gdGFzaztcblx0ICAgICAgbm90aWZ5KCk7XG5cdCAgICB9IGxhc3QgPSB0YXNrO1xuXHQgIH07XG5cdH07XG5cblx0Ly8gMjUuNC4xLjUgTmV3UHJvbWlzZUNhcGFiaWxpdHkoQylcblxuXG5cdGZ1bmN0aW9uIFByb21pc2VDYXBhYmlsaXR5KEMpIHtcblx0ICB2YXIgcmVzb2x2ZSwgcmVqZWN0O1xuXHQgIHRoaXMucHJvbWlzZSA9IG5ldyBDKGZ1bmN0aW9uICgkJHJlc29sdmUsICQkcmVqZWN0KSB7XG5cdCAgICBpZiAocmVzb2x2ZSAhPT0gdW5kZWZpbmVkIHx8IHJlamVjdCAhPT0gdW5kZWZpbmVkKSB0aHJvdyBUeXBlRXJyb3IoJ0JhZCBQcm9taXNlIGNvbnN0cnVjdG9yJyk7XG5cdCAgICByZXNvbHZlID0gJCRyZXNvbHZlO1xuXHQgICAgcmVqZWN0ID0gJCRyZWplY3Q7XG5cdCAgfSk7XG5cdCAgdGhpcy5yZXNvbHZlID0gX2FGdW5jdGlvbihyZXNvbHZlKTtcblx0ICB0aGlzLnJlamVjdCA9IF9hRnVuY3Rpb24ocmVqZWN0KTtcblx0fVxuXG5cdHZhciBmJDUgPSBmdW5jdGlvbiAoQykge1xuXHQgIHJldHVybiBuZXcgUHJvbWlzZUNhcGFiaWxpdHkoQyk7XG5cdH07XG5cblx0dmFyIF9uZXdQcm9taXNlQ2FwYWJpbGl0eSA9IHtcblx0XHRmOiBmJDVcblx0fTtcblxuXHR2YXIgX3BlcmZvcm0gPSBmdW5jdGlvbiAoZXhlYykge1xuXHQgIHRyeSB7XG5cdCAgICByZXR1cm4geyBlOiBmYWxzZSwgdjogZXhlYygpIH07XG5cdCAgfSBjYXRjaCAoZSkge1xuXHQgICAgcmV0dXJuIHsgZTogdHJ1ZSwgdjogZSB9O1xuXHQgIH1cblx0fTtcblxuXHR2YXIgbmF2aWdhdG9yID0gX2dsb2JhbC5uYXZpZ2F0b3I7XG5cblx0dmFyIF91c2VyQWdlbnQgPSBuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCB8fCAnJztcblxuXHR2YXIgX3Byb21pc2VSZXNvbHZlID0gZnVuY3Rpb24gKEMsIHgpIHtcblx0ICBfYW5PYmplY3QoQyk7XG5cdCAgaWYgKF9pc09iamVjdCh4KSAmJiB4LmNvbnN0cnVjdG9yID09PSBDKSByZXR1cm4geDtcblx0ICB2YXIgcHJvbWlzZUNhcGFiaWxpdHkgPSBfbmV3UHJvbWlzZUNhcGFiaWxpdHkuZihDKTtcblx0ICB2YXIgcmVzb2x2ZSA9IHByb21pc2VDYXBhYmlsaXR5LnJlc29sdmU7XG5cdCAgcmVzb2x2ZSh4KTtcblx0ICByZXR1cm4gcHJvbWlzZUNhcGFiaWxpdHkucHJvbWlzZTtcblx0fTtcblxuXHR2YXIgX3JlZGVmaW5lQWxsID0gZnVuY3Rpb24gKHRhcmdldCwgc3JjLCBzYWZlKSB7XG5cdCAgZm9yICh2YXIga2V5IGluIHNyYykgX3JlZGVmaW5lKHRhcmdldCwga2V5LCBzcmNba2V5XSwgc2FmZSk7XG5cdCAgcmV0dXJuIHRhcmdldDtcblx0fTtcblxuXHR2YXIgdGFzayA9IF90YXNrLnNldDtcblx0dmFyIG1pY3JvdGFzayA9IF9taWNyb3Rhc2soKTtcblxuXG5cblxuXHR2YXIgUFJPTUlTRSA9ICdQcm9taXNlJztcblx0dmFyIFR5cGVFcnJvciQxID0gX2dsb2JhbC5UeXBlRXJyb3I7XG5cdHZhciBwcm9jZXNzJDIgPSBfZ2xvYmFsLnByb2Nlc3M7XG5cdHZhciB2ZXJzaW9ucyA9IHByb2Nlc3MkMiAmJiBwcm9jZXNzJDIudmVyc2lvbnM7XG5cdHZhciB2OCA9IHZlcnNpb25zICYmIHZlcnNpb25zLnY4IHx8ICcnO1xuXHR2YXIgJFByb21pc2UgPSBfZ2xvYmFsW1BST01JU0VdO1xuXHR2YXIgaXNOb2RlJDEgPSBfY2xhc3NvZihwcm9jZXNzJDIpID09ICdwcm9jZXNzJztcblx0dmFyIGVtcHR5ID0gZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9O1xuXHR2YXIgSW50ZXJuYWwsIG5ld0dlbmVyaWNQcm9taXNlQ2FwYWJpbGl0eSwgT3duUHJvbWlzZUNhcGFiaWxpdHksIFdyYXBwZXI7XG5cdHZhciBuZXdQcm9taXNlQ2FwYWJpbGl0eSA9IG5ld0dlbmVyaWNQcm9taXNlQ2FwYWJpbGl0eSA9IF9uZXdQcm9taXNlQ2FwYWJpbGl0eS5mO1xuXG5cdHZhciBVU0VfTkFUSVZFID0gISFmdW5jdGlvbiAoKSB7XG5cdCAgdHJ5IHtcblx0ICAgIC8vIGNvcnJlY3Qgc3ViY2xhc3Npbmcgd2l0aCBAQHNwZWNpZXMgc3VwcG9ydFxuXHQgICAgdmFyIHByb21pc2UgPSAkUHJvbWlzZS5yZXNvbHZlKDEpO1xuXHQgICAgdmFyIEZha2VQcm9taXNlID0gKHByb21pc2UuY29uc3RydWN0b3IgPSB7fSlbX3drcygnc3BlY2llcycpXSA9IGZ1bmN0aW9uIChleGVjKSB7XG5cdCAgICAgIGV4ZWMoZW1wdHksIGVtcHR5KTtcblx0ICAgIH07XG5cdCAgICAvLyB1bmhhbmRsZWQgcmVqZWN0aW9ucyB0cmFja2luZyBzdXBwb3J0LCBOb2RlSlMgUHJvbWlzZSB3aXRob3V0IGl0IGZhaWxzIEBAc3BlY2llcyB0ZXN0XG5cdCAgICByZXR1cm4gKGlzTm9kZSQxIHx8IHR5cGVvZiBQcm9taXNlUmVqZWN0aW9uRXZlbnQgPT0gJ2Z1bmN0aW9uJylcblx0ICAgICAgJiYgcHJvbWlzZS50aGVuKGVtcHR5KSBpbnN0YW5jZW9mIEZha2VQcm9taXNlXG5cdCAgICAgIC8vIHY4IDYuNiAoTm9kZSAxMCBhbmQgQ2hyb21lIDY2KSBoYXZlIGEgYnVnIHdpdGggcmVzb2x2aW5nIGN1c3RvbSB0aGVuYWJsZXNcblx0ICAgICAgLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9ODMwNTY1XG5cdCAgICAgIC8vIHdlIGNhbid0IGRldGVjdCBpdCBzeW5jaHJvbm91c2x5LCBzbyBqdXN0IGNoZWNrIHZlcnNpb25zXG5cdCAgICAgICYmIHY4LmluZGV4T2YoJzYuNicpICE9PSAwXG5cdCAgICAgICYmIF91c2VyQWdlbnQuaW5kZXhPZignQ2hyb21lLzY2JykgPT09IC0xO1xuXHQgIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxuXHR9KCk7XG5cblx0Ly8gaGVscGVyc1xuXHR2YXIgaXNUaGVuYWJsZSA9IGZ1bmN0aW9uIChpdCkge1xuXHQgIHZhciB0aGVuO1xuXHQgIHJldHVybiBfaXNPYmplY3QoaXQpICYmIHR5cGVvZiAodGhlbiA9IGl0LnRoZW4pID09ICdmdW5jdGlvbicgPyB0aGVuIDogZmFsc2U7XG5cdH07XG5cdHZhciBub3RpZnkgPSBmdW5jdGlvbiAocHJvbWlzZSwgaXNSZWplY3QpIHtcblx0ICBpZiAocHJvbWlzZS5fbikgcmV0dXJuO1xuXHQgIHByb21pc2UuX24gPSB0cnVlO1xuXHQgIHZhciBjaGFpbiA9IHByb21pc2UuX2M7XG5cdCAgbWljcm90YXNrKGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciB2YWx1ZSA9IHByb21pc2UuX3Y7XG5cdCAgICB2YXIgb2sgPSBwcm9taXNlLl9zID09IDE7XG5cdCAgICB2YXIgaSA9IDA7XG5cdCAgICB2YXIgcnVuID0gZnVuY3Rpb24gKHJlYWN0aW9uKSB7XG5cdCAgICAgIHZhciBoYW5kbGVyID0gb2sgPyByZWFjdGlvbi5vayA6IHJlYWN0aW9uLmZhaWw7XG5cdCAgICAgIHZhciByZXNvbHZlID0gcmVhY3Rpb24ucmVzb2x2ZTtcblx0ICAgICAgdmFyIHJlamVjdCA9IHJlYWN0aW9uLnJlamVjdDtcblx0ICAgICAgdmFyIGRvbWFpbiA9IHJlYWN0aW9uLmRvbWFpbjtcblx0ICAgICAgdmFyIHJlc3VsdCwgdGhlbiwgZXhpdGVkO1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIGlmIChoYW5kbGVyKSB7XG5cdCAgICAgICAgICBpZiAoIW9rKSB7XG5cdCAgICAgICAgICAgIGlmIChwcm9taXNlLl9oID09IDIpIG9uSGFuZGxlVW5oYW5kbGVkKHByb21pc2UpO1xuXHQgICAgICAgICAgICBwcm9taXNlLl9oID0gMTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGlmIChoYW5kbGVyID09PSB0cnVlKSByZXN1bHQgPSB2YWx1ZTtcblx0ICAgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICBpZiAoZG9tYWluKSBkb21haW4uZW50ZXIoKTtcblx0ICAgICAgICAgICAgcmVzdWx0ID0gaGFuZGxlcih2YWx1ZSk7IC8vIG1heSB0aHJvd1xuXHQgICAgICAgICAgICBpZiAoZG9tYWluKSB7XG5cdCAgICAgICAgICAgICAgZG9tYWluLmV4aXQoKTtcblx0ICAgICAgICAgICAgICBleGl0ZWQgPSB0cnVlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBpZiAocmVzdWx0ID09PSByZWFjdGlvbi5wcm9taXNlKSB7XG5cdCAgICAgICAgICAgIHJlamVjdChUeXBlRXJyb3IkMSgnUHJvbWlzZS1jaGFpbiBjeWNsZScpKTtcblx0ICAgICAgICAgIH0gZWxzZSBpZiAodGhlbiA9IGlzVGhlbmFibGUocmVzdWx0KSkge1xuXHQgICAgICAgICAgICB0aGVuLmNhbGwocmVzdWx0LCByZXNvbHZlLCByZWplY3QpO1xuXHQgICAgICAgICAgfSBlbHNlIHJlc29sdmUocmVzdWx0KTtcblx0ICAgICAgICB9IGVsc2UgcmVqZWN0KHZhbHVlKTtcblx0ICAgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIGlmIChkb21haW4gJiYgIWV4aXRlZCkgZG9tYWluLmV4aXQoKTtcblx0ICAgICAgICByZWplY3QoZSk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdCAgICB3aGlsZSAoY2hhaW4ubGVuZ3RoID4gaSkgcnVuKGNoYWluW2krK10pOyAvLyB2YXJpYWJsZSBsZW5ndGggLSBjYW4ndCB1c2UgZm9yRWFjaFxuXHQgICAgcHJvbWlzZS5fYyA9IFtdO1xuXHQgICAgcHJvbWlzZS5fbiA9IGZhbHNlO1xuXHQgICAgaWYgKGlzUmVqZWN0ICYmICFwcm9taXNlLl9oKSBvblVuaGFuZGxlZChwcm9taXNlKTtcblx0ICB9KTtcblx0fTtcblx0dmFyIG9uVW5oYW5kbGVkID0gZnVuY3Rpb24gKHByb21pc2UpIHtcblx0ICB0YXNrLmNhbGwoX2dsb2JhbCwgZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIHZhbHVlID0gcHJvbWlzZS5fdjtcblx0ICAgIHZhciB1bmhhbmRsZWQgPSBpc1VuaGFuZGxlZChwcm9taXNlKTtcblx0ICAgIHZhciByZXN1bHQsIGhhbmRsZXIsIGNvbnNvbGU7XG5cdCAgICBpZiAodW5oYW5kbGVkKSB7XG5cdCAgICAgIHJlc3VsdCA9IF9wZXJmb3JtKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBpZiAoaXNOb2RlJDEpIHtcblx0ICAgICAgICAgIHByb2Nlc3MkMi5lbWl0KCd1bmhhbmRsZWRSZWplY3Rpb24nLCB2YWx1ZSwgcHJvbWlzZSk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChoYW5kbGVyID0gX2dsb2JhbC5vbnVuaGFuZGxlZHJlamVjdGlvbikge1xuXHQgICAgICAgICAgaGFuZGxlcih7IHByb21pc2U6IHByb21pc2UsIHJlYXNvbjogdmFsdWUgfSk7XG5cdCAgICAgICAgfSBlbHNlIGlmICgoY29uc29sZSA9IF9nbG9iYWwuY29uc29sZSkgJiYgY29uc29sZS5lcnJvcikge1xuXHQgICAgICAgICAgY29uc29sZS5lcnJvcignVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uJywgdmFsdWUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICAgIC8vIEJyb3dzZXJzIHNob3VsZCBub3QgdHJpZ2dlciBgcmVqZWN0aW9uSGFuZGxlZGAgZXZlbnQgaWYgaXQgd2FzIGhhbmRsZWQgaGVyZSwgTm9kZUpTIC0gc2hvdWxkXG5cdCAgICAgIHByb21pc2UuX2ggPSBpc05vZGUkMSB8fCBpc1VuaGFuZGxlZChwcm9taXNlKSA/IDIgOiAxO1xuXHQgICAgfSBwcm9taXNlLl9hID0gdW5kZWZpbmVkO1xuXHQgICAgaWYgKHVuaGFuZGxlZCAmJiByZXN1bHQuZSkgdGhyb3cgcmVzdWx0LnY7XG5cdCAgfSk7XG5cdH07XG5cdHZhciBpc1VuaGFuZGxlZCA9IGZ1bmN0aW9uIChwcm9taXNlKSB7XG5cdCAgcmV0dXJuIHByb21pc2UuX2ggIT09IDEgJiYgKHByb21pc2UuX2EgfHwgcHJvbWlzZS5fYykubGVuZ3RoID09PSAwO1xuXHR9O1xuXHR2YXIgb25IYW5kbGVVbmhhbmRsZWQgPSBmdW5jdGlvbiAocHJvbWlzZSkge1xuXHQgIHRhc2suY2FsbChfZ2xvYmFsLCBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgaGFuZGxlcjtcblx0ICAgIGlmIChpc05vZGUkMSkge1xuXHQgICAgICBwcm9jZXNzJDIuZW1pdCgncmVqZWN0aW9uSGFuZGxlZCcsIHByb21pc2UpO1xuXHQgICAgfSBlbHNlIGlmIChoYW5kbGVyID0gX2dsb2JhbC5vbnJlamVjdGlvbmhhbmRsZWQpIHtcblx0ICAgICAgaGFuZGxlcih7IHByb21pc2U6IHByb21pc2UsIHJlYXNvbjogcHJvbWlzZS5fdiB9KTtcblx0ICAgIH1cblx0ICB9KTtcblx0fTtcblx0dmFyICRyZWplY3QgPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0ICB2YXIgcHJvbWlzZSA9IHRoaXM7XG5cdCAgaWYgKHByb21pc2UuX2QpIHJldHVybjtcblx0ICBwcm9taXNlLl9kID0gdHJ1ZTtcblx0ICBwcm9taXNlID0gcHJvbWlzZS5fdyB8fCBwcm9taXNlOyAvLyB1bndyYXBcblx0ICBwcm9taXNlLl92ID0gdmFsdWU7XG5cdCAgcHJvbWlzZS5fcyA9IDI7XG5cdCAgaWYgKCFwcm9taXNlLl9hKSBwcm9taXNlLl9hID0gcHJvbWlzZS5fYy5zbGljZSgpO1xuXHQgIG5vdGlmeShwcm9taXNlLCB0cnVlKTtcblx0fTtcblx0dmFyICRyZXNvbHZlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdCAgdmFyIHByb21pc2UgPSB0aGlzO1xuXHQgIHZhciB0aGVuO1xuXHQgIGlmIChwcm9taXNlLl9kKSByZXR1cm47XG5cdCAgcHJvbWlzZS5fZCA9IHRydWU7XG5cdCAgcHJvbWlzZSA9IHByb21pc2UuX3cgfHwgcHJvbWlzZTsgLy8gdW53cmFwXG5cdCAgdHJ5IHtcblx0ICAgIGlmIChwcm9taXNlID09PSB2YWx1ZSkgdGhyb3cgVHlwZUVycm9yJDEoXCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZlwiKTtcblx0ICAgIGlmICh0aGVuID0gaXNUaGVuYWJsZSh2YWx1ZSkpIHtcblx0ICAgICAgbWljcm90YXNrKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgd3JhcHBlciA9IHsgX3c6IHByb21pc2UsIF9kOiBmYWxzZSB9OyAvLyB3cmFwXG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgIHRoZW4uY2FsbCh2YWx1ZSwgX2N0eCgkcmVzb2x2ZSwgd3JhcHBlciwgMSksIF9jdHgoJHJlamVjdCwgd3JhcHBlciwgMSkpO1xuXHQgICAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICAgICRyZWplY3QuY2FsbCh3cmFwcGVyLCBlKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcHJvbWlzZS5fdiA9IHZhbHVlO1xuXHQgICAgICBwcm9taXNlLl9zID0gMTtcblx0ICAgICAgbm90aWZ5KHByb21pc2UsIGZhbHNlKTtcblx0ICAgIH1cblx0ICB9IGNhdGNoIChlKSB7XG5cdCAgICAkcmVqZWN0LmNhbGwoeyBfdzogcHJvbWlzZSwgX2Q6IGZhbHNlIH0sIGUpOyAvLyB3cmFwXG5cdCAgfVxuXHR9O1xuXG5cdC8vIGNvbnN0cnVjdG9yIHBvbHlmaWxsXG5cdGlmICghVVNFX05BVElWRSkge1xuXHQgIC8vIDI1LjQuMy4xIFByb21pc2UoZXhlY3V0b3IpXG5cdCAgJFByb21pc2UgPSBmdW5jdGlvbiBQcm9taXNlKGV4ZWN1dG9yKSB7XG5cdCAgICBfYW5JbnN0YW5jZSh0aGlzLCAkUHJvbWlzZSwgUFJPTUlTRSwgJ19oJyk7XG5cdCAgICBfYUZ1bmN0aW9uKGV4ZWN1dG9yKTtcblx0ICAgIEludGVybmFsLmNhbGwodGhpcyk7XG5cdCAgICB0cnkge1xuXHQgICAgICBleGVjdXRvcihfY3R4KCRyZXNvbHZlLCB0aGlzLCAxKSwgX2N0eCgkcmVqZWN0LCB0aGlzLCAxKSk7XG5cdCAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgJHJlamVjdC5jYWxsKHRoaXMsIGVycik7XG5cdCAgICB9XG5cdCAgfTtcblx0ICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcblx0ICBJbnRlcm5hbCA9IGZ1bmN0aW9uIFByb21pc2UoZXhlY3V0b3IpIHtcblx0ICAgIHRoaXMuX2MgPSBbXTsgICAgICAgICAgICAgLy8gPC0gYXdhaXRpbmcgcmVhY3Rpb25zXG5cdCAgICB0aGlzLl9hID0gdW5kZWZpbmVkOyAgICAgIC8vIDwtIGNoZWNrZWQgaW4gaXNVbmhhbmRsZWQgcmVhY3Rpb25zXG5cdCAgICB0aGlzLl9zID0gMDsgICAgICAgICAgICAgIC8vIDwtIHN0YXRlXG5cdCAgICB0aGlzLl9kID0gZmFsc2U7ICAgICAgICAgIC8vIDwtIGRvbmVcblx0ICAgIHRoaXMuX3YgPSB1bmRlZmluZWQ7ICAgICAgLy8gPC0gdmFsdWVcblx0ICAgIHRoaXMuX2ggPSAwOyAgICAgICAgICAgICAgLy8gPC0gcmVqZWN0aW9uIHN0YXRlLCAwIC0gZGVmYXVsdCwgMSAtIGhhbmRsZWQsIDIgLSB1bmhhbmRsZWRcblx0ICAgIHRoaXMuX24gPSBmYWxzZTsgICAgICAgICAgLy8gPC0gbm90aWZ5XG5cdCAgfTtcblx0ICBJbnRlcm5hbC5wcm90b3R5cGUgPSBfcmVkZWZpbmVBbGwoJFByb21pc2UucHJvdG90eXBlLCB7XG5cdCAgICAvLyAyNS40LjUuMyBQcm9taXNlLnByb3RvdHlwZS50aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKVxuXHQgICAgdGhlbjogZnVuY3Rpb24gdGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuXHQgICAgICB2YXIgcmVhY3Rpb24gPSBuZXdQcm9taXNlQ2FwYWJpbGl0eShfc3BlY2llc0NvbnN0cnVjdG9yKHRoaXMsICRQcm9taXNlKSk7XG5cdCAgICAgIHJlYWN0aW9uLm9rID0gdHlwZW9mIG9uRnVsZmlsbGVkID09ICdmdW5jdGlvbicgPyBvbkZ1bGZpbGxlZCA6IHRydWU7XG5cdCAgICAgIHJlYWN0aW9uLmZhaWwgPSB0eXBlb2Ygb25SZWplY3RlZCA9PSAnZnVuY3Rpb24nICYmIG9uUmVqZWN0ZWQ7XG5cdCAgICAgIHJlYWN0aW9uLmRvbWFpbiA9IGlzTm9kZSQxID8gcHJvY2VzcyQyLmRvbWFpbiA6IHVuZGVmaW5lZDtcblx0ICAgICAgdGhpcy5fYy5wdXNoKHJlYWN0aW9uKTtcblx0ICAgICAgaWYgKHRoaXMuX2EpIHRoaXMuX2EucHVzaChyZWFjdGlvbik7XG5cdCAgICAgIGlmICh0aGlzLl9zKSBub3RpZnkodGhpcywgZmFsc2UpO1xuXHQgICAgICByZXR1cm4gcmVhY3Rpb24ucHJvbWlzZTtcblx0ICAgIH0sXG5cdCAgICAvLyAyNS40LjUuMSBQcm9taXNlLnByb3RvdHlwZS5jYXRjaChvblJlamVjdGVkKVxuXHQgICAgJ2NhdGNoJzogZnVuY3Rpb24gKG9uUmVqZWN0ZWQpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMudGhlbih1bmRlZmluZWQsIG9uUmVqZWN0ZWQpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgIE93blByb21pc2VDYXBhYmlsaXR5ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIHByb21pc2UgPSBuZXcgSW50ZXJuYWwoKTtcblx0ICAgIHRoaXMucHJvbWlzZSA9IHByb21pc2U7XG5cdCAgICB0aGlzLnJlc29sdmUgPSBfY3R4KCRyZXNvbHZlLCBwcm9taXNlLCAxKTtcblx0ICAgIHRoaXMucmVqZWN0ID0gX2N0eCgkcmVqZWN0LCBwcm9taXNlLCAxKTtcblx0ICB9O1xuXHQgIF9uZXdQcm9taXNlQ2FwYWJpbGl0eS5mID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkgPSBmdW5jdGlvbiAoQykge1xuXHQgICAgcmV0dXJuIEMgPT09ICRQcm9taXNlIHx8IEMgPT09IFdyYXBwZXJcblx0ICAgICAgPyBuZXcgT3duUHJvbWlzZUNhcGFiaWxpdHkoQylcblx0ICAgICAgOiBuZXdHZW5lcmljUHJvbWlzZUNhcGFiaWxpdHkoQyk7XG5cdCAgfTtcblx0fVxuXG5cdF9leHBvcnQoX2V4cG9ydC5HICsgX2V4cG9ydC5XICsgX2V4cG9ydC5GICogIVVTRV9OQVRJVkUsIHsgUHJvbWlzZTogJFByb21pc2UgfSk7XG5cdF9zZXRUb1N0cmluZ1RhZygkUHJvbWlzZSwgUFJPTUlTRSk7XG5cdF9zZXRTcGVjaWVzKFBST01JU0UpO1xuXHRXcmFwcGVyID0gX2NvcmVbUFJPTUlTRV07XG5cblx0Ly8gc3RhdGljc1xuXHRfZXhwb3J0KF9leHBvcnQuUyArIF9leHBvcnQuRiAqICFVU0VfTkFUSVZFLCBQUk9NSVNFLCB7XG5cdCAgLy8gMjUuNC40LjUgUHJvbWlzZS5yZWplY3Qocilcblx0ICByZWplY3Q6IGZ1bmN0aW9uIHJlamVjdChyKSB7XG5cdCAgICB2YXIgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KHRoaXMpO1xuXHQgICAgdmFyICQkcmVqZWN0ID0gY2FwYWJpbGl0eS5yZWplY3Q7XG5cdCAgICAkJHJlamVjdChyKTtcblx0ICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG5cdCAgfVxuXHR9KTtcblx0X2V4cG9ydChfZXhwb3J0LlMgKyBfZXhwb3J0LkYgKiAoX2xpYnJhcnkgfHwgIVVTRV9OQVRJVkUpLCBQUk9NSVNFLCB7XG5cdCAgLy8gMjUuNC40LjYgUHJvbWlzZS5yZXNvbHZlKHgpXG5cdCAgcmVzb2x2ZTogZnVuY3Rpb24gcmVzb2x2ZSh4KSB7XG5cdCAgICByZXR1cm4gX3Byb21pc2VSZXNvbHZlKF9saWJyYXJ5ICYmIHRoaXMgPT09IFdyYXBwZXIgPyAkUHJvbWlzZSA6IHRoaXMsIHgpO1xuXHQgIH1cblx0fSk7XG5cdF9leHBvcnQoX2V4cG9ydC5TICsgX2V4cG9ydC5GICogIShVU0VfTkFUSVZFICYmIF9pdGVyRGV0ZWN0KGZ1bmN0aW9uIChpdGVyKSB7XG5cdCAgJFByb21pc2UuYWxsKGl0ZXIpWydjYXRjaCddKGVtcHR5KTtcblx0fSkpLCBQUk9NSVNFLCB7XG5cdCAgLy8gMjUuNC40LjEgUHJvbWlzZS5hbGwoaXRlcmFibGUpXG5cdCAgYWxsOiBmdW5jdGlvbiBhbGwoaXRlcmFibGUpIHtcblx0ICAgIHZhciBDID0gdGhpcztcblx0ICAgIHZhciBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkoQyk7XG5cdCAgICB2YXIgcmVzb2x2ZSA9IGNhcGFiaWxpdHkucmVzb2x2ZTtcblx0ICAgIHZhciByZWplY3QgPSBjYXBhYmlsaXR5LnJlamVjdDtcblx0ICAgIHZhciByZXN1bHQgPSBfcGVyZm9ybShmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciB2YWx1ZXMgPSBbXTtcblx0ICAgICAgdmFyIGluZGV4ID0gMDtcblx0ICAgICAgdmFyIHJlbWFpbmluZyA9IDE7XG5cdCAgICAgIF9mb3JPZihpdGVyYWJsZSwgZmFsc2UsIGZ1bmN0aW9uIChwcm9taXNlKSB7XG5cdCAgICAgICAgdmFyICRpbmRleCA9IGluZGV4Kys7XG5cdCAgICAgICAgdmFyIGFscmVhZHlDYWxsZWQgPSBmYWxzZTtcblx0ICAgICAgICB2YWx1ZXMucHVzaCh1bmRlZmluZWQpO1xuXHQgICAgICAgIHJlbWFpbmluZysrO1xuXHQgICAgICAgIEMucmVzb2x2ZShwcm9taXNlKS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgICAgICAgaWYgKGFscmVhZHlDYWxsZWQpIHJldHVybjtcblx0ICAgICAgICAgIGFscmVhZHlDYWxsZWQgPSB0cnVlO1xuXHQgICAgICAgICAgdmFsdWVzWyRpbmRleF0gPSB2YWx1ZTtcblx0ICAgICAgICAgIC0tcmVtYWluaW5nIHx8IHJlc29sdmUodmFsdWVzKTtcblx0ICAgICAgICB9LCByZWplY3QpO1xuXHQgICAgICB9KTtcblx0ICAgICAgLS1yZW1haW5pbmcgfHwgcmVzb2x2ZSh2YWx1ZXMpO1xuXHQgICAgfSk7XG5cdCAgICBpZiAocmVzdWx0LmUpIHJlamVjdChyZXN1bHQudik7XG5cdCAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuXHQgIH0sXG5cdCAgLy8gMjUuNC40LjQgUHJvbWlzZS5yYWNlKGl0ZXJhYmxlKVxuXHQgIHJhY2U6IGZ1bmN0aW9uIHJhY2UoaXRlcmFibGUpIHtcblx0ICAgIHZhciBDID0gdGhpcztcblx0ICAgIHZhciBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkoQyk7XG5cdCAgICB2YXIgcmVqZWN0ID0gY2FwYWJpbGl0eS5yZWplY3Q7XG5cdCAgICB2YXIgcmVzdWx0ID0gX3BlcmZvcm0oZnVuY3Rpb24gKCkge1xuXHQgICAgICBfZm9yT2YoaXRlcmFibGUsIGZhbHNlLCBmdW5jdGlvbiAocHJvbWlzZSkge1xuXHQgICAgICAgIEMucmVzb2x2ZShwcm9taXNlKS50aGVuKGNhcGFiaWxpdHkucmVzb2x2ZSwgcmVqZWN0KTtcblx0ICAgICAgfSk7XG5cdCAgICB9KTtcblx0ICAgIGlmIChyZXN1bHQuZSkgcmVqZWN0KHJlc3VsdC52KTtcblx0ICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG5cdCAgfVxuXHR9KTtcblxuXHR2YXIgcHJvbWlzZSA9IF9jb3JlLlByb21pc2U7XG5cblx0dmFyIGVzMjAxNVByb21pc2UgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcblx0fSk7XG5cblx0dW53cmFwRXhwb3J0cyhlczIwMTVQcm9taXNlKTtcblxuXHR2YXIgX21ldGEgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7XG5cdHZhciBNRVRBID0gX3VpZCgnbWV0YScpO1xuXG5cblx0dmFyIHNldERlc2MgPSBfb2JqZWN0RHAuZjtcblx0dmFyIGlkID0gMDtcblx0dmFyIGlzRXh0ZW5zaWJsZSA9IE9iamVjdC5pc0V4dGVuc2libGUgfHwgZnVuY3Rpb24gKCkge1xuXHQgIHJldHVybiB0cnVlO1xuXHR9O1xuXHR2YXIgRlJFRVpFID0gIV9mYWlscyhmdW5jdGlvbiAoKSB7XG5cdCAgcmV0dXJuIGlzRXh0ZW5zaWJsZShPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKTtcblx0fSk7XG5cdHZhciBzZXRNZXRhID0gZnVuY3Rpb24gKGl0KSB7XG5cdCAgc2V0RGVzYyhpdCwgTUVUQSwgeyB2YWx1ZToge1xuXHQgICAgaTogJ08nICsgKytpZCwgLy8gb2JqZWN0IElEXG5cdCAgICB3OiB7fSAgICAgICAgICAvLyB3ZWFrIGNvbGxlY3Rpb25zIElEc1xuXHQgIH0gfSk7XG5cdH07XG5cdHZhciBmYXN0S2V5ID0gZnVuY3Rpb24gKGl0LCBjcmVhdGUpIHtcblx0ICAvLyByZXR1cm4gcHJpbWl0aXZlIHdpdGggcHJlZml4XG5cdCAgaWYgKCFfaXNPYmplY3QoaXQpKSByZXR1cm4gdHlwZW9mIGl0ID09ICdzeW1ib2wnID8gaXQgOiAodHlwZW9mIGl0ID09ICdzdHJpbmcnID8gJ1MnIDogJ1AnKSArIGl0O1xuXHQgIGlmICghX2hhcyhpdCwgTUVUQSkpIHtcblx0ICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG5cdCAgICBpZiAoIWlzRXh0ZW5zaWJsZShpdCkpIHJldHVybiAnRic7XG5cdCAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuXHQgICAgaWYgKCFjcmVhdGUpIHJldHVybiAnRSc7XG5cdCAgICAvLyBhZGQgbWlzc2luZyBtZXRhZGF0YVxuXHQgICAgc2V0TWV0YShpdCk7XG5cdCAgLy8gcmV0dXJuIG9iamVjdCBJRFxuXHQgIH0gcmV0dXJuIGl0W01FVEFdLmk7XG5cdH07XG5cdHZhciBnZXRXZWFrID0gZnVuY3Rpb24gKGl0LCBjcmVhdGUpIHtcblx0ICBpZiAoIV9oYXMoaXQsIE1FVEEpKSB7XG5cdCAgICAvLyBjYW4ndCBzZXQgbWV0YWRhdGEgdG8gdW5jYXVnaHQgZnJvemVuIG9iamVjdFxuXHQgICAgaWYgKCFpc0V4dGVuc2libGUoaXQpKSByZXR1cm4gdHJ1ZTtcblx0ICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG5cdCAgICBpZiAoIWNyZWF0ZSkgcmV0dXJuIGZhbHNlO1xuXHQgICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcblx0ICAgIHNldE1ldGEoaXQpO1xuXHQgIC8vIHJldHVybiBoYXNoIHdlYWsgY29sbGVjdGlvbnMgSURzXG5cdCAgfSByZXR1cm4gaXRbTUVUQV0udztcblx0fTtcblx0Ly8gYWRkIG1ldGFkYXRhIG9uIGZyZWV6ZS1mYW1pbHkgbWV0aG9kcyBjYWxsaW5nXG5cdHZhciBvbkZyZWV6ZSA9IGZ1bmN0aW9uIChpdCkge1xuXHQgIGlmIChGUkVFWkUgJiYgbWV0YS5ORUVEICYmIGlzRXh0ZW5zaWJsZShpdCkgJiYgIV9oYXMoaXQsIE1FVEEpKSBzZXRNZXRhKGl0KTtcblx0ICByZXR1cm4gaXQ7XG5cdH07XG5cdHZhciBtZXRhID0gbW9kdWxlLmV4cG9ydHMgPSB7XG5cdCAgS0VZOiBNRVRBLFxuXHQgIE5FRUQ6IGZhbHNlLFxuXHQgIGZhc3RLZXk6IGZhc3RLZXksXG5cdCAgZ2V0V2VhazogZ2V0V2Vhayxcblx0ICBvbkZyZWV6ZTogb25GcmVlemVcblx0fTtcblx0fSk7XG5cdHZhciBfbWV0YV8xID0gX21ldGEuS0VZO1xuXHR2YXIgX21ldGFfMiA9IF9tZXRhLk5FRUQ7XG5cdHZhciBfbWV0YV8zID0gX21ldGEuZmFzdEtleTtcblx0dmFyIF9tZXRhXzQgPSBfbWV0YS5nZXRXZWFrO1xuXHR2YXIgX21ldGFfNSA9IF9tZXRhLm9uRnJlZXplO1xuXG5cdHZhciBfdmFsaWRhdGVDb2xsZWN0aW9uID0gZnVuY3Rpb24gKGl0LCBUWVBFKSB7XG5cdCAgaWYgKCFfaXNPYmplY3QoaXQpIHx8IGl0Ll90ICE9PSBUWVBFKSB0aHJvdyBUeXBlRXJyb3IoJ0luY29tcGF0aWJsZSByZWNlaXZlciwgJyArIFRZUEUgKyAnIHJlcXVpcmVkIScpO1xuXHQgIHJldHVybiBpdDtcblx0fTtcblxuXHR2YXIgZFAkMyA9IF9vYmplY3REcC5mO1xuXG5cblxuXG5cblxuXG5cblxuXHR2YXIgZmFzdEtleSA9IF9tZXRhLmZhc3RLZXk7XG5cblx0dmFyIFNJWkUgPSBfZGVzY3JpcHRvcnMgPyAnX3MnIDogJ3NpemUnO1xuXG5cdHZhciBnZXRFbnRyeSA9IGZ1bmN0aW9uICh0aGF0LCBrZXkpIHtcblx0ICAvLyBmYXN0IGNhc2Vcblx0ICB2YXIgaW5kZXggPSBmYXN0S2V5KGtleSk7XG5cdCAgdmFyIGVudHJ5O1xuXHQgIGlmIChpbmRleCAhPT0gJ0YnKSByZXR1cm4gdGhhdC5faVtpbmRleF07XG5cdCAgLy8gZnJvemVuIG9iamVjdCBjYXNlXG5cdCAgZm9yIChlbnRyeSA9IHRoYXQuX2Y7IGVudHJ5OyBlbnRyeSA9IGVudHJ5Lm4pIHtcblx0ICAgIGlmIChlbnRyeS5rID09IGtleSkgcmV0dXJuIGVudHJ5O1xuXHQgIH1cblx0fTtcblxuXHR2YXIgX2NvbGxlY3Rpb25TdHJvbmcgPSB7XG5cdCAgZ2V0Q29uc3RydWN0b3I6IGZ1bmN0aW9uICh3cmFwcGVyLCBOQU1FLCBJU19NQVAsIEFEREVSKSB7XG5cdCAgICB2YXIgQyA9IHdyYXBwZXIoZnVuY3Rpb24gKHRoYXQsIGl0ZXJhYmxlKSB7XG5cdCAgICAgIF9hbkluc3RhbmNlKHRoYXQsIEMsIE5BTUUsICdfaScpO1xuXHQgICAgICB0aGF0Ll90ID0gTkFNRTsgICAgICAgICAvLyBjb2xsZWN0aW9uIHR5cGVcblx0ICAgICAgdGhhdC5faSA9IF9vYmplY3RDcmVhdGUobnVsbCk7IC8vIGluZGV4XG5cdCAgICAgIHRoYXQuX2YgPSB1bmRlZmluZWQ7ICAgIC8vIGZpcnN0IGVudHJ5XG5cdCAgICAgIHRoYXQuX2wgPSB1bmRlZmluZWQ7ICAgIC8vIGxhc3QgZW50cnlcblx0ICAgICAgdGhhdFtTSVpFXSA9IDA7ICAgICAgICAgLy8gc2l6ZVxuXHQgICAgICBpZiAoaXRlcmFibGUgIT0gdW5kZWZpbmVkKSBfZm9yT2YoaXRlcmFibGUsIElTX01BUCwgdGhhdFtBRERFUl0sIHRoYXQpO1xuXHQgICAgfSk7XG5cdCAgICBfcmVkZWZpbmVBbGwoQy5wcm90b3R5cGUsIHtcblx0ICAgICAgLy8gMjMuMS4zLjEgTWFwLnByb3RvdHlwZS5jbGVhcigpXG5cdCAgICAgIC8vIDIzLjIuMy4yIFNldC5wcm90b3R5cGUuY2xlYXIoKVxuXHQgICAgICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoKSB7XG5cdCAgICAgICAgZm9yICh2YXIgdGhhdCA9IF92YWxpZGF0ZUNvbGxlY3Rpb24odGhpcywgTkFNRSksIGRhdGEgPSB0aGF0Ll9pLCBlbnRyeSA9IHRoYXQuX2Y7IGVudHJ5OyBlbnRyeSA9IGVudHJ5Lm4pIHtcblx0ICAgICAgICAgIGVudHJ5LnIgPSB0cnVlO1xuXHQgICAgICAgICAgaWYgKGVudHJ5LnApIGVudHJ5LnAgPSBlbnRyeS5wLm4gPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgICBkZWxldGUgZGF0YVtlbnRyeS5pXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdGhhdC5fZiA9IHRoYXQuX2wgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgdGhhdFtTSVpFXSA9IDA7XG5cdCAgICAgIH0sXG5cdCAgICAgIC8vIDIzLjEuMy4zIE1hcC5wcm90b3R5cGUuZGVsZXRlKGtleSlcblx0ICAgICAgLy8gMjMuMi4zLjQgU2V0LnByb3RvdHlwZS5kZWxldGUodmFsdWUpXG5cdCAgICAgICdkZWxldGUnOiBmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgICAgdmFyIHRoYXQgPSBfdmFsaWRhdGVDb2xsZWN0aW9uKHRoaXMsIE5BTUUpO1xuXHQgICAgICAgIHZhciBlbnRyeSA9IGdldEVudHJ5KHRoYXQsIGtleSk7XG5cdCAgICAgICAgaWYgKGVudHJ5KSB7XG5cdCAgICAgICAgICB2YXIgbmV4dCA9IGVudHJ5Lm47XG5cdCAgICAgICAgICB2YXIgcHJldiA9IGVudHJ5LnA7XG5cdCAgICAgICAgICBkZWxldGUgdGhhdC5faVtlbnRyeS5pXTtcblx0ICAgICAgICAgIGVudHJ5LnIgPSB0cnVlO1xuXHQgICAgICAgICAgaWYgKHByZXYpIHByZXYubiA9IG5leHQ7XG5cdCAgICAgICAgICBpZiAobmV4dCkgbmV4dC5wID0gcHJldjtcblx0ICAgICAgICAgIGlmICh0aGF0Ll9mID09IGVudHJ5KSB0aGF0Ll9mID0gbmV4dDtcblx0ICAgICAgICAgIGlmICh0aGF0Ll9sID09IGVudHJ5KSB0aGF0Ll9sID0gcHJldjtcblx0ICAgICAgICAgIHRoYXRbU0laRV0tLTtcblx0ICAgICAgICB9IHJldHVybiAhIWVudHJ5O1xuXHQgICAgICB9LFxuXHQgICAgICAvLyAyMy4yLjMuNiBTZXQucHJvdG90eXBlLmZvckVhY2goY2FsbGJhY2tmbiwgdGhpc0FyZyA9IHVuZGVmaW5lZClcblx0ICAgICAgLy8gMjMuMS4zLjUgTWFwLnByb3RvdHlwZS5mb3JFYWNoKGNhbGxiYWNrZm4sIHRoaXNBcmcgPSB1bmRlZmluZWQpXG5cdCAgICAgIGZvckVhY2g6IGZ1bmN0aW9uIGZvckVhY2goY2FsbGJhY2tmbiAvKiAsIHRoYXQgPSB1bmRlZmluZWQgKi8pIHtcblx0ICAgICAgICBfdmFsaWRhdGVDb2xsZWN0aW9uKHRoaXMsIE5BTUUpO1xuXHQgICAgICAgIHZhciBmID0gX2N0eChjYWxsYmFja2ZuLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCwgMyk7XG5cdCAgICAgICAgdmFyIGVudHJ5O1xuXHQgICAgICAgIHdoaWxlIChlbnRyeSA9IGVudHJ5ID8gZW50cnkubiA6IHRoaXMuX2YpIHtcblx0ICAgICAgICAgIGYoZW50cnkudiwgZW50cnkuaywgdGhpcyk7XG5cdCAgICAgICAgICAvLyByZXZlcnQgdG8gdGhlIGxhc3QgZXhpc3RpbmcgZW50cnlcblx0ICAgICAgICAgIHdoaWxlIChlbnRyeSAmJiBlbnRyeS5yKSBlbnRyeSA9IGVudHJ5LnA7XG5cdCAgICAgICAgfVxuXHQgICAgICB9LFxuXHQgICAgICAvLyAyMy4xLjMuNyBNYXAucHJvdG90eXBlLmhhcyhrZXkpXG5cdCAgICAgIC8vIDIzLjIuMy43IFNldC5wcm90b3R5cGUuaGFzKHZhbHVlKVxuXHQgICAgICBoYXM6IGZ1bmN0aW9uIGhhcyhrZXkpIHtcblx0ICAgICAgICByZXR1cm4gISFnZXRFbnRyeShfdmFsaWRhdGVDb2xsZWN0aW9uKHRoaXMsIE5BTUUpLCBrZXkpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICAgIGlmIChfZGVzY3JpcHRvcnMpIGRQJDMoQy5wcm90b3R5cGUsICdzaXplJywge1xuXHQgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gX3ZhbGlkYXRlQ29sbGVjdGlvbih0aGlzLCBOQU1FKVtTSVpFXTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gQztcblx0ICB9LFxuXHQgIGRlZjogZnVuY3Rpb24gKHRoYXQsIGtleSwgdmFsdWUpIHtcblx0ICAgIHZhciBlbnRyeSA9IGdldEVudHJ5KHRoYXQsIGtleSk7XG5cdCAgICB2YXIgcHJldiwgaW5kZXg7XG5cdCAgICAvLyBjaGFuZ2UgZXhpc3RpbmcgZW50cnlcblx0ICAgIGlmIChlbnRyeSkge1xuXHQgICAgICBlbnRyeS52ID0gdmFsdWU7XG5cdCAgICAvLyBjcmVhdGUgbmV3IGVudHJ5XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0aGF0Ll9sID0gZW50cnkgPSB7XG5cdCAgICAgICAgaTogaW5kZXggPSBmYXN0S2V5KGtleSwgdHJ1ZSksIC8vIDwtIGluZGV4XG5cdCAgICAgICAgazoga2V5LCAgICAgICAgICAgICAgICAgICAgICAgIC8vIDwtIGtleVxuXHQgICAgICAgIHY6IHZhbHVlLCAgICAgICAgICAgICAgICAgICAgICAvLyA8LSB2YWx1ZVxuXHQgICAgICAgIHA6IHByZXYgPSB0aGF0Ll9sLCAgICAgICAgICAgICAvLyA8LSBwcmV2aW91cyBlbnRyeVxuXHQgICAgICAgIG46IHVuZGVmaW5lZCwgICAgICAgICAgICAgICAgICAvLyA8LSBuZXh0IGVudHJ5XG5cdCAgICAgICAgcjogZmFsc2UgICAgICAgICAgICAgICAgICAgICAgIC8vIDwtIHJlbW92ZWRcblx0ICAgICAgfTtcblx0ICAgICAgaWYgKCF0aGF0Ll9mKSB0aGF0Ll9mID0gZW50cnk7XG5cdCAgICAgIGlmIChwcmV2KSBwcmV2Lm4gPSBlbnRyeTtcblx0ICAgICAgdGhhdFtTSVpFXSsrO1xuXHQgICAgICAvLyBhZGQgdG8gaW5kZXhcblx0ICAgICAgaWYgKGluZGV4ICE9PSAnRicpIHRoYXQuX2lbaW5kZXhdID0gZW50cnk7XG5cdCAgICB9IHJldHVybiB0aGF0O1xuXHQgIH0sXG5cdCAgZ2V0RW50cnk6IGdldEVudHJ5LFxuXHQgIHNldFN0cm9uZzogZnVuY3Rpb24gKEMsIE5BTUUsIElTX01BUCkge1xuXHQgICAgLy8gYWRkIC5rZXlzLCAudmFsdWVzLCAuZW50cmllcywgW0BAaXRlcmF0b3JdXG5cdCAgICAvLyAyMy4xLjMuNCwgMjMuMS4zLjgsIDIzLjEuMy4xMSwgMjMuMS4zLjEyLCAyMy4yLjMuNSwgMjMuMi4zLjgsIDIzLjIuMy4xMCwgMjMuMi4zLjExXG5cdCAgICBfaXRlckRlZmluZShDLCBOQU1FLCBmdW5jdGlvbiAoaXRlcmF0ZWQsIGtpbmQpIHtcblx0ICAgICAgdGhpcy5fdCA9IF92YWxpZGF0ZUNvbGxlY3Rpb24oaXRlcmF0ZWQsIE5BTUUpOyAvLyB0YXJnZXRcblx0ICAgICAgdGhpcy5fayA9IGtpbmQ7ICAgICAgICAgICAgICAgICAgICAgLy8ga2luZFxuXHQgICAgICB0aGlzLl9sID0gdW5kZWZpbmVkOyAgICAgICAgICAgICAgICAvLyBwcmV2aW91c1xuXHQgICAgfSwgZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cdCAgICAgIHZhciBraW5kID0gdGhhdC5faztcblx0ICAgICAgdmFyIGVudHJ5ID0gdGhhdC5fbDtcblx0ICAgICAgLy8gcmV2ZXJ0IHRvIHRoZSBsYXN0IGV4aXN0aW5nIGVudHJ5XG5cdCAgICAgIHdoaWxlIChlbnRyeSAmJiBlbnRyeS5yKSBlbnRyeSA9IGVudHJ5LnA7XG5cdCAgICAgIC8vIGdldCBuZXh0IGVudHJ5XG5cdCAgICAgIGlmICghdGhhdC5fdCB8fCAhKHRoYXQuX2wgPSBlbnRyeSA9IGVudHJ5ID8gZW50cnkubiA6IHRoYXQuX3QuX2YpKSB7XG5cdCAgICAgICAgLy8gb3IgZmluaXNoIHRoZSBpdGVyYXRpb25cblx0ICAgICAgICB0aGF0Ll90ID0gdW5kZWZpbmVkO1xuXHQgICAgICAgIHJldHVybiBfaXRlclN0ZXAoMSk7XG5cdCAgICAgIH1cblx0ICAgICAgLy8gcmV0dXJuIHN0ZXAgYnkga2luZFxuXHQgICAgICBpZiAoa2luZCA9PSAna2V5cycpIHJldHVybiBfaXRlclN0ZXAoMCwgZW50cnkuayk7XG5cdCAgICAgIGlmIChraW5kID09ICd2YWx1ZXMnKSByZXR1cm4gX2l0ZXJTdGVwKDAsIGVudHJ5LnYpO1xuXHQgICAgICByZXR1cm4gX2l0ZXJTdGVwKDAsIFtlbnRyeS5rLCBlbnRyeS52XSk7XG5cdCAgICB9LCBJU19NQVAgPyAnZW50cmllcycgOiAndmFsdWVzJywgIUlTX01BUCwgdHJ1ZSk7XG5cblx0ICAgIC8vIGFkZCBbQEBzcGVjaWVzXSwgMjMuMS4yLjIsIDIzLjIuMi4yXG5cdCAgICBfc2V0U3BlY2llcyhOQU1FKTtcblx0ICB9XG5cdH07XG5cblx0dmFyIF9jb2xsZWN0aW9uID0gZnVuY3Rpb24gKE5BTUUsIHdyYXBwZXIsIG1ldGhvZHMsIGNvbW1vbiwgSVNfTUFQLCBJU19XRUFLKSB7XG5cdCAgdmFyIEJhc2UgPSBfZ2xvYmFsW05BTUVdO1xuXHQgIHZhciBDID0gQmFzZTtcblx0ICB2YXIgQURERVIgPSBJU19NQVAgPyAnc2V0JyA6ICdhZGQnO1xuXHQgIHZhciBwcm90byA9IEMgJiYgQy5wcm90b3R5cGU7XG5cdCAgdmFyIE8gPSB7fTtcblx0ICB2YXIgZml4TWV0aG9kID0gZnVuY3Rpb24gKEtFWSkge1xuXHQgICAgdmFyIGZuID0gcHJvdG9bS0VZXTtcblx0ICAgIF9yZWRlZmluZShwcm90bywgS0VZLFxuXHQgICAgICBLRVkgPT0gJ2RlbGV0ZScgPyBmdW5jdGlvbiAoYSkge1xuXHQgICAgICAgIHJldHVybiBJU19XRUFLICYmICFfaXNPYmplY3QoYSkgPyBmYWxzZSA6IGZuLmNhbGwodGhpcywgYSA9PT0gMCA/IDAgOiBhKTtcblx0ICAgICAgfSA6IEtFWSA9PSAnaGFzJyA/IGZ1bmN0aW9uIGhhcyhhKSB7XG5cdCAgICAgICAgcmV0dXJuIElTX1dFQUsgJiYgIV9pc09iamVjdChhKSA/IGZhbHNlIDogZm4uY2FsbCh0aGlzLCBhID09PSAwID8gMCA6IGEpO1xuXHQgICAgICB9IDogS0VZID09ICdnZXQnID8gZnVuY3Rpb24gZ2V0KGEpIHtcblx0ICAgICAgICByZXR1cm4gSVNfV0VBSyAmJiAhX2lzT2JqZWN0KGEpID8gdW5kZWZpbmVkIDogZm4uY2FsbCh0aGlzLCBhID09PSAwID8gMCA6IGEpO1xuXHQgICAgICB9IDogS0VZID09ICdhZGQnID8gZnVuY3Rpb24gYWRkKGEpIHsgZm4uY2FsbCh0aGlzLCBhID09PSAwID8gMCA6IGEpOyByZXR1cm4gdGhpczsgfVxuXHQgICAgICAgIDogZnVuY3Rpb24gc2V0KGEsIGIpIHsgZm4uY2FsbCh0aGlzLCBhID09PSAwID8gMCA6IGEsIGIpOyByZXR1cm4gdGhpczsgfVxuXHQgICAgKTtcblx0ICB9O1xuXHQgIGlmICh0eXBlb2YgQyAhPSAnZnVuY3Rpb24nIHx8ICEoSVNfV0VBSyB8fCBwcm90by5mb3JFYWNoICYmICFfZmFpbHMoZnVuY3Rpb24gKCkge1xuXHQgICAgbmV3IEMoKS5lbnRyaWVzKCkubmV4dCgpO1xuXHQgIH0pKSkge1xuXHQgICAgLy8gY3JlYXRlIGNvbGxlY3Rpb24gY29uc3RydWN0b3Jcblx0ICAgIEMgPSBjb21tb24uZ2V0Q29uc3RydWN0b3Iod3JhcHBlciwgTkFNRSwgSVNfTUFQLCBBRERFUik7XG5cdCAgICBfcmVkZWZpbmVBbGwoQy5wcm90b3R5cGUsIG1ldGhvZHMpO1xuXHQgICAgX21ldGEuTkVFRCA9IHRydWU7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHZhciBpbnN0YW5jZSA9IG5ldyBDKCk7XG5cdCAgICAvLyBlYXJseSBpbXBsZW1lbnRhdGlvbnMgbm90IHN1cHBvcnRzIGNoYWluaW5nXG5cdCAgICB2YXIgSEFTTlRfQ0hBSU5JTkcgPSBpbnN0YW5jZVtBRERFUl0oSVNfV0VBSyA/IHt9IDogLTAsIDEpICE9IGluc3RhbmNlO1xuXHQgICAgLy8gVjggfiAgQ2hyb21pdW0gNDAtIHdlYWstY29sbGVjdGlvbnMgdGhyb3dzIG9uIHByaW1pdGl2ZXMsIGJ1dCBzaG91bGQgcmV0dXJuIGZhbHNlXG5cdCAgICB2YXIgVEhST1dTX09OX1BSSU1JVElWRVMgPSBfZmFpbHMoZnVuY3Rpb24gKCkgeyBpbnN0YW5jZS5oYXMoMSk7IH0pO1xuXHQgICAgLy8gbW9zdCBlYXJseSBpbXBsZW1lbnRhdGlvbnMgZG9lc24ndCBzdXBwb3J0cyBpdGVyYWJsZXMsIG1vc3QgbW9kZXJuIC0gbm90IGNsb3NlIGl0IGNvcnJlY3RseVxuXHQgICAgdmFyIEFDQ0VQVF9JVEVSQUJMRVMgPSBfaXRlckRldGVjdChmdW5jdGlvbiAoaXRlcikgeyBuZXcgQyhpdGVyKTsgfSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3XG5cdCAgICAvLyBmb3IgZWFybHkgaW1wbGVtZW50YXRpb25zIC0wIGFuZCArMCBub3QgdGhlIHNhbWVcblx0ICAgIHZhciBCVUdHWV9aRVJPID0gIUlTX1dFQUsgJiYgX2ZhaWxzKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgLy8gVjggfiBDaHJvbWl1bSA0Mi0gZmFpbHMgb25seSB3aXRoIDUrIGVsZW1lbnRzXG5cdCAgICAgIHZhciAkaW5zdGFuY2UgPSBuZXcgQygpO1xuXHQgICAgICB2YXIgaW5kZXggPSA1O1xuXHQgICAgICB3aGlsZSAoaW5kZXgtLSkgJGluc3RhbmNlW0FEREVSXShpbmRleCwgaW5kZXgpO1xuXHQgICAgICByZXR1cm4gISRpbnN0YW5jZS5oYXMoLTApO1xuXHQgICAgfSk7XG5cdCAgICBpZiAoIUFDQ0VQVF9JVEVSQUJMRVMpIHtcblx0ICAgICAgQyA9IHdyYXBwZXIoZnVuY3Rpb24gKHRhcmdldCwgaXRlcmFibGUpIHtcblx0ICAgICAgICBfYW5JbnN0YW5jZSh0YXJnZXQsIEMsIE5BTUUpO1xuXHQgICAgICAgIHZhciB0aGF0ID0gX2luaGVyaXRJZlJlcXVpcmVkKG5ldyBCYXNlKCksIHRhcmdldCwgQyk7XG5cdCAgICAgICAgaWYgKGl0ZXJhYmxlICE9IHVuZGVmaW5lZCkgX2Zvck9mKGl0ZXJhYmxlLCBJU19NQVAsIHRoYXRbQURERVJdLCB0aGF0KTtcblx0ICAgICAgICByZXR1cm4gdGhhdDtcblx0ICAgICAgfSk7XG5cdCAgICAgIEMucHJvdG90eXBlID0gcHJvdG87XG5cdCAgICAgIHByb3RvLmNvbnN0cnVjdG9yID0gQztcblx0ICAgIH1cblx0ICAgIGlmIChUSFJPV1NfT05fUFJJTUlUSVZFUyB8fCBCVUdHWV9aRVJPKSB7XG5cdCAgICAgIGZpeE1ldGhvZCgnZGVsZXRlJyk7XG5cdCAgICAgIGZpeE1ldGhvZCgnaGFzJyk7XG5cdCAgICAgIElTX01BUCAmJiBmaXhNZXRob2QoJ2dldCcpO1xuXHQgICAgfVxuXHQgICAgaWYgKEJVR0dZX1pFUk8gfHwgSEFTTlRfQ0hBSU5JTkcpIGZpeE1ldGhvZChBRERFUik7XG5cdCAgICAvLyB3ZWFrIGNvbGxlY3Rpb25zIHNob3VsZCBub3QgY29udGFpbnMgLmNsZWFyIG1ldGhvZFxuXHQgICAgaWYgKElTX1dFQUsgJiYgcHJvdG8uY2xlYXIpIGRlbGV0ZSBwcm90by5jbGVhcjtcblx0ICB9XG5cblx0ICBfc2V0VG9TdHJpbmdUYWcoQywgTkFNRSk7XG5cblx0ICBPW05BTUVdID0gQztcblx0ICBfZXhwb3J0KF9leHBvcnQuRyArIF9leHBvcnQuVyArIF9leHBvcnQuRiAqIChDICE9IEJhc2UpLCBPKTtcblxuXHQgIGlmICghSVNfV0VBSykgY29tbW9uLnNldFN0cm9uZyhDLCBOQU1FLCBJU19NQVApO1xuXG5cdCAgcmV0dXJuIEM7XG5cdH07XG5cblx0dmFyIE1BUCA9ICdNYXAnO1xuXG5cdC8vIDIzLjEgTWFwIE9iamVjdHNcblx0dmFyIGVzNl9tYXAgPSBfY29sbGVjdGlvbihNQVAsIGZ1bmN0aW9uIChnZXQpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gTWFwKCkgeyByZXR1cm4gZ2V0KHRoaXMsIGFyZ3VtZW50cy5sZW5ndGggPiAwID8gYXJndW1lbnRzWzBdIDogdW5kZWZpbmVkKTsgfTtcblx0fSwge1xuXHQgIC8vIDIzLjEuMy42IE1hcC5wcm90b3R5cGUuZ2V0KGtleSlcblx0ICBnZXQ6IGZ1bmN0aW9uIGdldChrZXkpIHtcblx0ICAgIHZhciBlbnRyeSA9IF9jb2xsZWN0aW9uU3Ryb25nLmdldEVudHJ5KF92YWxpZGF0ZUNvbGxlY3Rpb24odGhpcywgTUFQKSwga2V5KTtcblx0ICAgIHJldHVybiBlbnRyeSAmJiBlbnRyeS52O1xuXHQgIH0sXG5cdCAgLy8gMjMuMS4zLjkgTWFwLnByb3RvdHlwZS5zZXQoa2V5LCB2YWx1ZSlcblx0ICBzZXQ6IGZ1bmN0aW9uIHNldChrZXksIHZhbHVlKSB7XG5cdCAgICByZXR1cm4gX2NvbGxlY3Rpb25TdHJvbmcuZGVmKF92YWxpZGF0ZUNvbGxlY3Rpb24odGhpcywgTUFQKSwga2V5ID09PSAwID8gMCA6IGtleSwgdmFsdWUpO1xuXHQgIH1cblx0fSwgX2NvbGxlY3Rpb25TdHJvbmcsIHRydWUpO1xuXG5cdHZhciBtYXAgPSBfY29yZS5NYXA7XG5cblx0dmFyIGdldFdlYWsgPSBfbWV0YS5nZXRXZWFrO1xuXG5cblxuXG5cblxuXG5cdHZhciBhcnJheUZpbmQgPSBfYXJyYXlNZXRob2RzKDUpO1xuXHR2YXIgYXJyYXlGaW5kSW5kZXggPSBfYXJyYXlNZXRob2RzKDYpO1xuXHR2YXIgaWQkMSA9IDA7XG5cblx0Ly8gZmFsbGJhY2sgZm9yIHVuY2F1Z2h0IGZyb3plbiBrZXlzXG5cdHZhciB1bmNhdWdodEZyb3plblN0b3JlID0gZnVuY3Rpb24gKHRoYXQpIHtcblx0ICByZXR1cm4gdGhhdC5fbCB8fCAodGhhdC5fbCA9IG5ldyBVbmNhdWdodEZyb3plblN0b3JlKCkpO1xuXHR9O1xuXHR2YXIgVW5jYXVnaHRGcm96ZW5TdG9yZSA9IGZ1bmN0aW9uICgpIHtcblx0ICB0aGlzLmEgPSBbXTtcblx0fTtcblx0dmFyIGZpbmRVbmNhdWdodEZyb3plbiA9IGZ1bmN0aW9uIChzdG9yZSwga2V5KSB7XG5cdCAgcmV0dXJuIGFycmF5RmluZChzdG9yZS5hLCBmdW5jdGlvbiAoaXQpIHtcblx0ICAgIHJldHVybiBpdFswXSA9PT0ga2V5O1xuXHQgIH0pO1xuXHR9O1xuXHRVbmNhdWdodEZyb3plblN0b3JlLnByb3RvdHlwZSA9IHtcblx0ICBnZXQ6IGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgIHZhciBlbnRyeSA9IGZpbmRVbmNhdWdodEZyb3plbih0aGlzLCBrZXkpO1xuXHQgICAgaWYgKGVudHJ5KSByZXR1cm4gZW50cnlbMV07XG5cdCAgfSxcblx0ICBoYXM6IGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgIHJldHVybiAhIWZpbmRVbmNhdWdodEZyb3plbih0aGlzLCBrZXkpO1xuXHQgIH0sXG5cdCAgc2V0OiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuXHQgICAgdmFyIGVudHJ5ID0gZmluZFVuY2F1Z2h0RnJvemVuKHRoaXMsIGtleSk7XG5cdCAgICBpZiAoZW50cnkpIGVudHJ5WzFdID0gdmFsdWU7XG5cdCAgICBlbHNlIHRoaXMuYS5wdXNoKFtrZXksIHZhbHVlXSk7XG5cdCAgfSxcblx0ICAnZGVsZXRlJzogZnVuY3Rpb24gKGtleSkge1xuXHQgICAgdmFyIGluZGV4ID0gYXJyYXlGaW5kSW5kZXgodGhpcy5hLCBmdW5jdGlvbiAoaXQpIHtcblx0ICAgICAgcmV0dXJuIGl0WzBdID09PSBrZXk7XG5cdCAgICB9KTtcblx0ICAgIGlmICh+aW5kZXgpIHRoaXMuYS5zcGxpY2UoaW5kZXgsIDEpO1xuXHQgICAgcmV0dXJuICEhfmluZGV4O1xuXHQgIH1cblx0fTtcblxuXHR2YXIgX2NvbGxlY3Rpb25XZWFrID0ge1xuXHQgIGdldENvbnN0cnVjdG9yOiBmdW5jdGlvbiAod3JhcHBlciwgTkFNRSwgSVNfTUFQLCBBRERFUikge1xuXHQgICAgdmFyIEMgPSB3cmFwcGVyKGZ1bmN0aW9uICh0aGF0LCBpdGVyYWJsZSkge1xuXHQgICAgICBfYW5JbnN0YW5jZSh0aGF0LCBDLCBOQU1FLCAnX2knKTtcblx0ICAgICAgdGhhdC5fdCA9IE5BTUU7ICAgICAgLy8gY29sbGVjdGlvbiB0eXBlXG5cdCAgICAgIHRoYXQuX2kgPSBpZCQxKys7ICAgICAgLy8gY29sbGVjdGlvbiBpZFxuXHQgICAgICB0aGF0Ll9sID0gdW5kZWZpbmVkOyAvLyBsZWFrIHN0b3JlIGZvciB1bmNhdWdodCBmcm96ZW4gb2JqZWN0c1xuXHQgICAgICBpZiAoaXRlcmFibGUgIT0gdW5kZWZpbmVkKSBfZm9yT2YoaXRlcmFibGUsIElTX01BUCwgdGhhdFtBRERFUl0sIHRoYXQpO1xuXHQgICAgfSk7XG5cdCAgICBfcmVkZWZpbmVBbGwoQy5wcm90b3R5cGUsIHtcblx0ICAgICAgLy8gMjMuMy4zLjIgV2Vha01hcC5wcm90b3R5cGUuZGVsZXRlKGtleSlcblx0ICAgICAgLy8gMjMuNC4zLjMgV2Vha1NldC5wcm90b3R5cGUuZGVsZXRlKHZhbHVlKVxuXHQgICAgICAnZGVsZXRlJzogZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICAgIGlmICghX2lzT2JqZWN0KGtleSkpIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB2YXIgZGF0YSA9IGdldFdlYWsoa2V5KTtcblx0ICAgICAgICBpZiAoZGF0YSA9PT0gdHJ1ZSkgcmV0dXJuIHVuY2F1Z2h0RnJvemVuU3RvcmUoX3ZhbGlkYXRlQ29sbGVjdGlvbih0aGlzLCBOQU1FKSlbJ2RlbGV0ZSddKGtleSk7XG5cdCAgICAgICAgcmV0dXJuIGRhdGEgJiYgX2hhcyhkYXRhLCB0aGlzLl9pKSAmJiBkZWxldGUgZGF0YVt0aGlzLl9pXTtcblx0ICAgICAgfSxcblx0ICAgICAgLy8gMjMuMy4zLjQgV2Vha01hcC5wcm90b3R5cGUuaGFzKGtleSlcblx0ICAgICAgLy8gMjMuNC4zLjQgV2Vha1NldC5wcm90b3R5cGUuaGFzKHZhbHVlKVxuXHQgICAgICBoYXM6IGZ1bmN0aW9uIGhhcyhrZXkpIHtcblx0ICAgICAgICBpZiAoIV9pc09iamVjdChrZXkpKSByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgdmFyIGRhdGEgPSBnZXRXZWFrKGtleSk7XG5cdCAgICAgICAgaWYgKGRhdGEgPT09IHRydWUpIHJldHVybiB1bmNhdWdodEZyb3plblN0b3JlKF92YWxpZGF0ZUNvbGxlY3Rpb24odGhpcywgTkFNRSkpLmhhcyhrZXkpO1xuXHQgICAgICAgIHJldHVybiBkYXRhICYmIF9oYXMoZGF0YSwgdGhpcy5faSk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIEM7XG5cdCAgfSxcblx0ICBkZWY6IGZ1bmN0aW9uICh0aGF0LCBrZXksIHZhbHVlKSB7XG5cdCAgICB2YXIgZGF0YSA9IGdldFdlYWsoX2FuT2JqZWN0KGtleSksIHRydWUpO1xuXHQgICAgaWYgKGRhdGEgPT09IHRydWUpIHVuY2F1Z2h0RnJvemVuU3RvcmUodGhhdCkuc2V0KGtleSwgdmFsdWUpO1xuXHQgICAgZWxzZSBkYXRhW3RoYXQuX2ldID0gdmFsdWU7XG5cdCAgICByZXR1cm4gdGhhdDtcblx0ICB9LFxuXHQgIHVmc3RvcmU6IHVuY2F1Z2h0RnJvemVuU3RvcmVcblx0fTtcblxuXHR2YXIgZXM2X3dlYWtNYXAgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7XG5cblx0dmFyIGVhY2ggPSBfYXJyYXlNZXRob2RzKDApO1xuXG5cblxuXG5cblxuXHR2YXIgTkFUSVZFX1dFQUtfTUFQID0gX3ZhbGlkYXRlQ29sbGVjdGlvbjtcblx0dmFyIElTX0lFMTEgPSAhX2dsb2JhbC5BY3RpdmVYT2JqZWN0ICYmICdBY3RpdmVYT2JqZWN0JyBpbiBfZ2xvYmFsO1xuXHR2YXIgV0VBS19NQVAgPSAnV2Vha01hcCc7XG5cdHZhciBnZXRXZWFrID0gX21ldGEuZ2V0V2Vhaztcblx0dmFyIGlzRXh0ZW5zaWJsZSA9IE9iamVjdC5pc0V4dGVuc2libGU7XG5cdHZhciB1bmNhdWdodEZyb3plblN0b3JlID0gX2NvbGxlY3Rpb25XZWFrLnVmc3RvcmU7XG5cdHZhciBJbnRlcm5hbE1hcDtcblxuXHR2YXIgd3JhcHBlciA9IGZ1bmN0aW9uIChnZXQpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gV2Vha01hcCgpIHtcblx0ICAgIHJldHVybiBnZXQodGhpcywgYXJndW1lbnRzLmxlbmd0aCA+IDAgPyBhcmd1bWVudHNbMF0gOiB1bmRlZmluZWQpO1xuXHQgIH07XG5cdH07XG5cblx0dmFyIG1ldGhvZHMgPSB7XG5cdCAgLy8gMjMuMy4zLjMgV2Vha01hcC5wcm90b3R5cGUuZ2V0KGtleSlcblx0ICBnZXQ6IGZ1bmN0aW9uIGdldChrZXkpIHtcblx0ICAgIGlmIChfaXNPYmplY3Qoa2V5KSkge1xuXHQgICAgICB2YXIgZGF0YSA9IGdldFdlYWsoa2V5KTtcblx0ICAgICAgaWYgKGRhdGEgPT09IHRydWUpIHJldHVybiB1bmNhdWdodEZyb3plblN0b3JlKF92YWxpZGF0ZUNvbGxlY3Rpb24odGhpcywgV0VBS19NQVApKS5nZXQoa2V5KTtcblx0ICAgICAgcmV0dXJuIGRhdGEgPyBkYXRhW3RoaXMuX2ldIDogdW5kZWZpbmVkO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgLy8gMjMuMy4zLjUgV2Vha01hcC5wcm90b3R5cGUuc2V0KGtleSwgdmFsdWUpXG5cdCAgc2V0OiBmdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSkge1xuXHQgICAgcmV0dXJuIF9jb2xsZWN0aW9uV2Vhay5kZWYoX3ZhbGlkYXRlQ29sbGVjdGlvbih0aGlzLCBXRUFLX01BUCksIGtleSwgdmFsdWUpO1xuXHQgIH1cblx0fTtcblxuXHQvLyAyMy4zIFdlYWtNYXAgT2JqZWN0c1xuXHR2YXIgJFdlYWtNYXAgPSBtb2R1bGUuZXhwb3J0cyA9IF9jb2xsZWN0aW9uKFdFQUtfTUFQLCB3cmFwcGVyLCBtZXRob2RzLCBfY29sbGVjdGlvbldlYWssIHRydWUsIHRydWUpO1xuXG5cdC8vIElFMTEgV2Vha01hcCBmcm96ZW4ga2V5cyBmaXhcblx0aWYgKE5BVElWRV9XRUFLX01BUCAmJiBJU19JRTExKSB7XG5cdCAgSW50ZXJuYWxNYXAgPSBfY29sbGVjdGlvbldlYWsuZ2V0Q29uc3RydWN0b3Iod3JhcHBlciwgV0VBS19NQVApO1xuXHQgIF9vYmplY3RBc3NpZ24oSW50ZXJuYWxNYXAucHJvdG90eXBlLCBtZXRob2RzKTtcblx0ICBfbWV0YS5ORUVEID0gdHJ1ZTtcblx0ICBlYWNoKFsnZGVsZXRlJywgJ2hhcycsICdnZXQnLCAnc2V0J10sIGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgIHZhciBwcm90byA9ICRXZWFrTWFwLnByb3RvdHlwZTtcblx0ICAgIHZhciBtZXRob2QgPSBwcm90b1trZXldO1xuXHQgICAgX3JlZGVmaW5lKHByb3RvLCBrZXksIGZ1bmN0aW9uIChhLCBiKSB7XG5cdCAgICAgIC8vIHN0b3JlIGZyb3plbiBvYmplY3RzIG9uIGludGVybmFsIHdlYWttYXAgc2hpbVxuXHQgICAgICBpZiAoX2lzT2JqZWN0KGEpICYmICFpc0V4dGVuc2libGUoYSkpIHtcblx0ICAgICAgICBpZiAoIXRoaXMuX2YpIHRoaXMuX2YgPSBuZXcgSW50ZXJuYWxNYXAoKTtcblx0ICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5fZltrZXldKGEsIGIpO1xuXHQgICAgICAgIHJldHVybiBrZXkgPT0gJ3NldCcgPyB0aGlzIDogcmVzdWx0O1xuXHQgICAgICAvLyBzdG9yZSBhbGwgdGhlIHJlc3Qgb24gbmF0aXZlIHdlYWttYXBcblx0ICAgICAgfSByZXR1cm4gbWV0aG9kLmNhbGwodGhpcywgYSwgYik7XG5cdCAgICB9KTtcblx0ICB9KTtcblx0fVxuXHR9KTtcblxuXHR2YXIgd2Vha01hcCA9IF9jb3JlLldlYWtNYXA7XG5cblx0dmFyIFNFVCA9ICdTZXQnO1xuXG5cdC8vIDIzLjIgU2V0IE9iamVjdHNcblx0dmFyIGVzNl9zZXQgPSBfY29sbGVjdGlvbihTRVQsIGZ1bmN0aW9uIChnZXQpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gU2V0KCkgeyByZXR1cm4gZ2V0KHRoaXMsIGFyZ3VtZW50cy5sZW5ndGggPiAwID8gYXJndW1lbnRzWzBdIDogdW5kZWZpbmVkKTsgfTtcblx0fSwge1xuXHQgIC8vIDIzLjIuMy4xIFNldC5wcm90b3R5cGUuYWRkKHZhbHVlKVxuXHQgIGFkZDogZnVuY3Rpb24gYWRkKHZhbHVlKSB7XG5cdCAgICByZXR1cm4gX2NvbGxlY3Rpb25TdHJvbmcuZGVmKF92YWxpZGF0ZUNvbGxlY3Rpb24odGhpcywgU0VUKSwgdmFsdWUgPSB2YWx1ZSA9PT0gMCA/IDAgOiB2YWx1ZSwgdmFsdWUpO1xuXHQgIH1cblx0fSwgX2NvbGxlY3Rpb25TdHJvbmcpO1xuXG5cdHZhciBzZXQgPSBfY29yZS5TZXQ7XG5cblx0dmFyIFdFQUtfU0VUID0gJ1dlYWtTZXQnO1xuXG5cdC8vIDIzLjQgV2Vha1NldCBPYmplY3RzXG5cdF9jb2xsZWN0aW9uKFdFQUtfU0VULCBmdW5jdGlvbiAoZ2V0KSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIFdlYWtTZXQoKSB7IHJldHVybiBnZXQodGhpcywgYXJndW1lbnRzLmxlbmd0aCA+IDAgPyBhcmd1bWVudHNbMF0gOiB1bmRlZmluZWQpOyB9O1xuXHR9LCB7XG5cdCAgLy8gMjMuNC4zLjEgV2Vha1NldC5wcm90b3R5cGUuYWRkKHZhbHVlKVxuXHQgIGFkZDogZnVuY3Rpb24gYWRkKHZhbHVlKSB7XG5cdCAgICByZXR1cm4gX2NvbGxlY3Rpb25XZWFrLmRlZihfdmFsaWRhdGVDb2xsZWN0aW9uKHRoaXMsIFdFQUtfU0VUKSwgdmFsdWUsIHRydWUpO1xuXHQgIH1cblx0fSwgX2NvbGxlY3Rpb25XZWFrLCBmYWxzZSwgdHJ1ZSk7XG5cblx0dmFyIHdlYWtTZXQgPSBfY29yZS5XZWFrU2V0O1xuXG5cdHZhciBlczIwMTVDb2xsZWN0aW9uID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykge1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5cdH0pO1xuXG5cdHVud3JhcEV4cG9ydHMoZXMyMDE1Q29sbGVjdGlvbik7XG5cblx0Ly8gMjYuMS4xIFJlZmxlY3QuYXBwbHkodGFyZ2V0LCB0aGlzQXJndW1lbnQsIGFyZ3VtZW50c0xpc3QpXG5cblxuXG5cdHZhciByQXBwbHkgPSAoX2dsb2JhbC5SZWZsZWN0IHx8IHt9KS5hcHBseTtcblx0dmFyIGZBcHBseSA9IEZ1bmN0aW9uLmFwcGx5O1xuXHQvLyBNUyBFZGdlIGFyZ3VtZW50c0xpc3QgYXJndW1lbnQgaXMgb3B0aW9uYWxcblx0X2V4cG9ydChfZXhwb3J0LlMgKyBfZXhwb3J0LkYgKiAhX2ZhaWxzKGZ1bmN0aW9uICgpIHtcblx0ICByQXBwbHkoZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9KTtcblx0fSksICdSZWZsZWN0Jywge1xuXHQgIGFwcGx5OiBmdW5jdGlvbiBhcHBseSh0YXJnZXQsIHRoaXNBcmd1bWVudCwgYXJndW1lbnRzTGlzdCkge1xuXHQgICAgdmFyIFQgPSBfYUZ1bmN0aW9uKHRhcmdldCk7XG5cdCAgICB2YXIgTCA9IF9hbk9iamVjdChhcmd1bWVudHNMaXN0KTtcblx0ICAgIHJldHVybiByQXBwbHkgPyByQXBwbHkoVCwgdGhpc0FyZ3VtZW50LCBMKSA6IGZBcHBseS5jYWxsKFQsIHRoaXNBcmd1bWVudCwgTCk7XG5cdCAgfVxuXHR9KTtcblxuXHR2YXIgYXJyYXlTbGljZSA9IFtdLnNsaWNlO1xuXHR2YXIgZmFjdG9yaWVzID0ge307XG5cblx0dmFyIGNvbnN0cnVjdCA9IGZ1bmN0aW9uIChGLCBsZW4sIGFyZ3MpIHtcblx0ICBpZiAoIShsZW4gaW4gZmFjdG9yaWVzKSkge1xuXHQgICAgZm9yICh2YXIgbiA9IFtdLCBpID0gMDsgaSA8IGxlbjsgaSsrKSBuW2ldID0gJ2FbJyArIGkgKyAnXSc7XG5cdCAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmNcblx0ICAgIGZhY3Rvcmllc1tsZW5dID0gRnVuY3Rpb24oJ0YsYScsICdyZXR1cm4gbmV3IEYoJyArIG4uam9pbignLCcpICsgJyknKTtcblx0ICB9IHJldHVybiBmYWN0b3JpZXNbbGVuXShGLCBhcmdzKTtcblx0fTtcblxuXHR2YXIgX2JpbmQgPSBGdW5jdGlvbi5iaW5kIHx8IGZ1bmN0aW9uIGJpbmQodGhhdCAvKiAsIC4uLmFyZ3MgKi8pIHtcblx0ICB2YXIgZm4gPSBfYUZ1bmN0aW9uKHRoaXMpO1xuXHQgIHZhciBwYXJ0QXJncyA9IGFycmF5U2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuXHQgIHZhciBib3VuZCA9IGZ1bmN0aW9uICgvKiBhcmdzLi4uICovKSB7XG5cdCAgICB2YXIgYXJncyA9IHBhcnRBcmdzLmNvbmNhdChhcnJheVNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG5cdCAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGJvdW5kID8gY29uc3RydWN0KGZuLCBhcmdzLmxlbmd0aCwgYXJncykgOiBfaW52b2tlKGZuLCBhcmdzLCB0aGF0KTtcblx0ICB9O1xuXHQgIGlmIChfaXNPYmplY3QoZm4ucHJvdG90eXBlKSkgYm91bmQucHJvdG90eXBlID0gZm4ucHJvdG90eXBlO1xuXHQgIHJldHVybiBib3VuZDtcblx0fTtcblxuXHQvLyAyNi4xLjIgUmVmbGVjdC5jb25zdHJ1Y3QodGFyZ2V0LCBhcmd1bWVudHNMaXN0IFssIG5ld1RhcmdldF0pXG5cblxuXG5cblxuXG5cblx0dmFyIHJDb25zdHJ1Y3QgPSAoX2dsb2JhbC5SZWZsZWN0IHx8IHt9KS5jb25zdHJ1Y3Q7XG5cblx0Ly8gTVMgRWRnZSBzdXBwb3J0cyBvbmx5IDIgYXJndW1lbnRzIGFuZCBhcmd1bWVudHNMaXN0IGFyZ3VtZW50IGlzIG9wdGlvbmFsXG5cdC8vIEZGIE5pZ2h0bHkgc2V0cyB0aGlyZCBhcmd1bWVudCBhcyBgbmV3LnRhcmdldGAsIGJ1dCBkb2VzIG5vdCBjcmVhdGUgYHRoaXNgIGZyb20gaXRcblx0dmFyIE5FV19UQVJHRVRfQlVHID0gX2ZhaWxzKGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBGKCkgeyAvKiBlbXB0eSAqLyB9XG5cdCAgcmV0dXJuICEockNvbnN0cnVjdChmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH0sIFtdLCBGKSBpbnN0YW5jZW9mIEYpO1xuXHR9KTtcblx0dmFyIEFSR1NfQlVHID0gIV9mYWlscyhmdW5jdGlvbiAoKSB7XG5cdCAgckNvbnN0cnVjdChmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH0pO1xuXHR9KTtcblxuXHRfZXhwb3J0KF9leHBvcnQuUyArIF9leHBvcnQuRiAqIChORVdfVEFSR0VUX0JVRyB8fCBBUkdTX0JVRyksICdSZWZsZWN0Jywge1xuXHQgIGNvbnN0cnVjdDogZnVuY3Rpb24gY29uc3RydWN0KFRhcmdldCwgYXJncyAvKiAsIG5ld1RhcmdldCAqLykge1xuXHQgICAgX2FGdW5jdGlvbihUYXJnZXQpO1xuXHQgICAgX2FuT2JqZWN0KGFyZ3MpO1xuXHQgICAgdmFyIG5ld1RhcmdldCA9IGFyZ3VtZW50cy5sZW5ndGggPCAzID8gVGFyZ2V0IDogX2FGdW5jdGlvbihhcmd1bWVudHNbMl0pO1xuXHQgICAgaWYgKEFSR1NfQlVHICYmICFORVdfVEFSR0VUX0JVRykgcmV0dXJuIHJDb25zdHJ1Y3QoVGFyZ2V0LCBhcmdzLCBuZXdUYXJnZXQpO1xuXHQgICAgaWYgKFRhcmdldCA9PSBuZXdUYXJnZXQpIHtcblx0ICAgICAgLy8gdy9vIGFsdGVyZWQgbmV3VGFyZ2V0LCBvcHRpbWl6YXRpb24gZm9yIDAtNCBhcmd1bWVudHNcblx0ICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuXHQgICAgICAgIGNhc2UgMDogcmV0dXJuIG5ldyBUYXJnZXQoKTtcblx0ICAgICAgICBjYXNlIDE6IHJldHVybiBuZXcgVGFyZ2V0KGFyZ3NbMF0pO1xuXHQgICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBUYXJnZXQoYXJnc1swXSwgYXJnc1sxXSk7XG5cdCAgICAgICAgY2FzZSAzOiByZXR1cm4gbmV3IFRhcmdldChhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcblx0ICAgICAgICBjYXNlIDQ6IHJldHVybiBuZXcgVGFyZ2V0KGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pO1xuXHQgICAgICB9XG5cdCAgICAgIC8vIHcvbyBhbHRlcmVkIG5ld1RhcmdldCwgbG90IG9mIGFyZ3VtZW50cyBjYXNlXG5cdCAgICAgIHZhciAkYXJncyA9IFtudWxsXTtcblx0ICAgICAgJGFyZ3MucHVzaC5hcHBseSgkYXJncywgYXJncyk7XG5cdCAgICAgIHJldHVybiBuZXcgKF9iaW5kLmFwcGx5KFRhcmdldCwgJGFyZ3MpKSgpO1xuXHQgICAgfVxuXHQgICAgLy8gd2l0aCBhbHRlcmVkIG5ld1RhcmdldCwgbm90IHN1cHBvcnQgYnVpbHQtaW4gY29uc3RydWN0b3JzXG5cdCAgICB2YXIgcHJvdG8gPSBuZXdUYXJnZXQucHJvdG90eXBlO1xuXHQgICAgdmFyIGluc3RhbmNlID0gX29iamVjdENyZWF0ZShfaXNPYmplY3QocHJvdG8pID8gcHJvdG8gOiBPYmplY3QucHJvdG90eXBlKTtcblx0ICAgIHZhciByZXN1bHQgPSBGdW5jdGlvbi5hcHBseS5jYWxsKFRhcmdldCwgaW5zdGFuY2UsIGFyZ3MpO1xuXHQgICAgcmV0dXJuIF9pc09iamVjdChyZXN1bHQpID8gcmVzdWx0IDogaW5zdGFuY2U7XG5cdCAgfVxuXHR9KTtcblxuXHQvLyAyNi4xLjMgUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5S2V5LCBhdHRyaWJ1dGVzKVxuXG5cblxuXG5cblx0Ly8gTVMgRWRnZSBoYXMgYnJva2VuIFJlZmxlY3QuZGVmaW5lUHJvcGVydHkgLSB0aHJvd2luZyBpbnN0ZWFkIG9mIHJldHVybmluZyBmYWxzZVxuXHRfZXhwb3J0KF9leHBvcnQuUyArIF9leHBvcnQuRiAqIF9mYWlscyhmdW5jdGlvbiAoKSB7XG5cdCAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG5cdCAgUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eShfb2JqZWN0RHAuZih7fSwgMSwgeyB2YWx1ZTogMSB9KSwgMSwgeyB2YWx1ZTogMiB9KTtcblx0fSksICdSZWZsZWN0Jywge1xuXHQgIGRlZmluZVByb3BlcnR5OiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5S2V5LCBhdHRyaWJ1dGVzKSB7XG5cdCAgICBfYW5PYmplY3QodGFyZ2V0KTtcblx0ICAgIHByb3BlcnR5S2V5ID0gX3RvUHJpbWl0aXZlKHByb3BlcnR5S2V5LCB0cnVlKTtcblx0ICAgIF9hbk9iamVjdChhdHRyaWJ1dGVzKTtcblx0ICAgIHRyeSB7XG5cdCAgICAgIF9vYmplY3REcC5mKHRhcmdldCwgcHJvcGVydHlLZXksIGF0dHJpYnV0ZXMpO1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgIH1cblx0fSk7XG5cblx0Ly8gMjYuMS40IFJlZmxlY3QuZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eUtleSlcblxuXHR2YXIgZ09QRCQxID0gX29iamVjdEdvcGQuZjtcblxuXG5cdF9leHBvcnQoX2V4cG9ydC5TLCAnUmVmbGVjdCcsIHtcblx0ICBkZWxldGVQcm9wZXJ0eTogZnVuY3Rpb24gZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuXHQgICAgdmFyIGRlc2MgPSBnT1BEJDEoX2FuT2JqZWN0KHRhcmdldCksIHByb3BlcnR5S2V5KTtcblx0ICAgIHJldHVybiBkZXNjICYmICFkZXNjLmNvbmZpZ3VyYWJsZSA/IGZhbHNlIDogZGVsZXRlIHRhcmdldFtwcm9wZXJ0eUtleV07XG5cdCAgfVxuXHR9KTtcblxuXHQvLyAyNi4xLjUgUmVmbGVjdC5lbnVtZXJhdGUodGFyZ2V0KVxuXG5cblx0dmFyIEVudW1lcmF0ZSA9IGZ1bmN0aW9uIChpdGVyYXRlZCkge1xuXHQgIHRoaXMuX3QgPSBfYW5PYmplY3QoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcblx0ICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG5cdCAgdmFyIGtleXMgPSB0aGlzLl9rID0gW107ICAgICAgLy8ga2V5c1xuXHQgIHZhciBrZXk7XG5cdCAgZm9yIChrZXkgaW4gaXRlcmF0ZWQpIGtleXMucHVzaChrZXkpO1xuXHR9O1xuXHRfaXRlckNyZWF0ZShFbnVtZXJhdGUsICdPYmplY3QnLCBmdW5jdGlvbiAoKSB7XG5cdCAgdmFyIHRoYXQgPSB0aGlzO1xuXHQgIHZhciBrZXlzID0gdGhhdC5faztcblx0ICB2YXIga2V5O1xuXHQgIGRvIHtcblx0ICAgIGlmICh0aGF0Ll9pID49IGtleXMubGVuZ3RoKSByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG5cdCAgfSB3aGlsZSAoISgoa2V5ID0ga2V5c1t0aGF0Ll9pKytdKSBpbiB0aGF0Ll90KSk7XG5cdCAgcmV0dXJuIHsgdmFsdWU6IGtleSwgZG9uZTogZmFsc2UgfTtcblx0fSk7XG5cblx0X2V4cG9ydChfZXhwb3J0LlMsICdSZWZsZWN0Jywge1xuXHQgIGVudW1lcmF0ZTogZnVuY3Rpb24gZW51bWVyYXRlKHRhcmdldCkge1xuXHQgICAgcmV0dXJuIG5ldyBFbnVtZXJhdGUodGFyZ2V0KTtcblx0ICB9XG5cdH0pO1xuXG5cdC8vIDI2LjEuNiBSZWZsZWN0LmdldCh0YXJnZXQsIHByb3BlcnR5S2V5IFssIHJlY2VpdmVyXSlcblxuXG5cblxuXG5cblxuXHRmdW5jdGlvbiBnZXQodGFyZ2V0LCBwcm9wZXJ0eUtleSAvKiAsIHJlY2VpdmVyICovKSB7XG5cdCAgdmFyIHJlY2VpdmVyID0gYXJndW1lbnRzLmxlbmd0aCA8IDMgPyB0YXJnZXQgOiBhcmd1bWVudHNbMl07XG5cdCAgdmFyIGRlc2MsIHByb3RvO1xuXHQgIGlmIChfYW5PYmplY3QodGFyZ2V0KSA9PT0gcmVjZWl2ZXIpIHJldHVybiB0YXJnZXRbcHJvcGVydHlLZXldO1xuXHQgIGlmIChkZXNjID0gX29iamVjdEdvcGQuZih0YXJnZXQsIHByb3BlcnR5S2V5KSkgcmV0dXJuIF9oYXMoZGVzYywgJ3ZhbHVlJylcblx0ICAgID8gZGVzYy52YWx1ZVxuXHQgICAgOiBkZXNjLmdldCAhPT0gdW5kZWZpbmVkXG5cdCAgICAgID8gZGVzYy5nZXQuY2FsbChyZWNlaXZlcilcblx0ICAgICAgOiB1bmRlZmluZWQ7XG5cdCAgaWYgKF9pc09iamVjdChwcm90byA9IF9vYmplY3RHcG8odGFyZ2V0KSkpIHJldHVybiBnZXQocHJvdG8sIHByb3BlcnR5S2V5LCByZWNlaXZlcik7XG5cdH1cblxuXHRfZXhwb3J0KF9leHBvcnQuUywgJ1JlZmxlY3QnLCB7IGdldDogZ2V0IH0pO1xuXG5cdC8vIDI2LjEuNyBSZWZsZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIHByb3BlcnR5S2V5KVxuXG5cblxuXG5cdF9leHBvcnQoX2V4cG9ydC5TLCAnUmVmbGVjdCcsIHtcblx0ICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG5cdCAgICByZXR1cm4gX29iamVjdEdvcGQuZihfYW5PYmplY3QodGFyZ2V0KSwgcHJvcGVydHlLZXkpO1xuXHQgIH1cblx0fSk7XG5cblx0Ly8gMjYuMS44IFJlZmxlY3QuZ2V0UHJvdG90eXBlT2YodGFyZ2V0KVxuXG5cblxuXG5cdF9leHBvcnQoX2V4cG9ydC5TLCAnUmVmbGVjdCcsIHtcblx0ICBnZXRQcm90b3R5cGVPZjogZnVuY3Rpb24gZ2V0UHJvdG90eXBlT2YodGFyZ2V0KSB7XG5cdCAgICByZXR1cm4gX29iamVjdEdwbyhfYW5PYmplY3QodGFyZ2V0KSk7XG5cdCAgfVxuXHR9KTtcblxuXHQvLyAyNi4xLjkgUmVmbGVjdC5oYXModGFyZ2V0LCBwcm9wZXJ0eUtleSlcblxuXG5cdF9leHBvcnQoX2V4cG9ydC5TLCAnUmVmbGVjdCcsIHtcblx0ICBoYXM6IGZ1bmN0aW9uIGhhcyh0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG5cdCAgICByZXR1cm4gcHJvcGVydHlLZXkgaW4gdGFyZ2V0O1xuXHQgIH1cblx0fSk7XG5cblx0Ly8gMjYuMS4xMCBSZWZsZWN0LmlzRXh0ZW5zaWJsZSh0YXJnZXQpXG5cblxuXHR2YXIgJGlzRXh0ZW5zaWJsZSA9IE9iamVjdC5pc0V4dGVuc2libGU7XG5cblx0X2V4cG9ydChfZXhwb3J0LlMsICdSZWZsZWN0Jywge1xuXHQgIGlzRXh0ZW5zaWJsZTogZnVuY3Rpb24gaXNFeHRlbnNpYmxlKHRhcmdldCkge1xuXHQgICAgX2FuT2JqZWN0KHRhcmdldCk7XG5cdCAgICByZXR1cm4gJGlzRXh0ZW5zaWJsZSA/ICRpc0V4dGVuc2libGUodGFyZ2V0KSA6IHRydWU7XG5cdCAgfVxuXHR9KTtcblxuXHQvLyBhbGwgb2JqZWN0IGtleXMsIGluY2x1ZGVzIG5vbi1lbnVtZXJhYmxlIGFuZCBzeW1ib2xzXG5cblxuXG5cdHZhciBSZWZsZWN0JDEgPSBfZ2xvYmFsLlJlZmxlY3Q7XG5cdHZhciBfb3duS2V5cyA9IFJlZmxlY3QkMSAmJiBSZWZsZWN0JDEub3duS2V5cyB8fCBmdW5jdGlvbiBvd25LZXlzKGl0KSB7XG5cdCAgdmFyIGtleXMgPSBfb2JqZWN0R29wbi5mKF9hbk9iamVjdChpdCkpO1xuXHQgIHZhciBnZXRTeW1ib2xzID0gX29iamVjdEdvcHMuZjtcblx0ICByZXR1cm4gZ2V0U3ltYm9scyA/IGtleXMuY29uY2F0KGdldFN5bWJvbHMoaXQpKSA6IGtleXM7XG5cdH07XG5cblx0Ly8gMjYuMS4xMSBSZWZsZWN0Lm93bktleXModGFyZ2V0KVxuXG5cblx0X2V4cG9ydChfZXhwb3J0LlMsICdSZWZsZWN0JywgeyBvd25LZXlzOiBfb3duS2V5cyB9KTtcblxuXHQvLyAyNi4xLjEyIFJlZmxlY3QucHJldmVudEV4dGVuc2lvbnModGFyZ2V0KVxuXG5cblx0dmFyICRwcmV2ZW50RXh0ZW5zaW9ucyA9IE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucztcblxuXHRfZXhwb3J0KF9leHBvcnQuUywgJ1JlZmxlY3QnLCB7XG5cdCAgcHJldmVudEV4dGVuc2lvbnM6IGZ1bmN0aW9uIHByZXZlbnRFeHRlbnNpb25zKHRhcmdldCkge1xuXHQgICAgX2FuT2JqZWN0KHRhcmdldCk7XG5cdCAgICB0cnkge1xuXHQgICAgICBpZiAoJHByZXZlbnRFeHRlbnNpb25zKSAkcHJldmVudEV4dGVuc2lvbnModGFyZ2V0KTtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICB9XG5cdH0pO1xuXG5cdC8vIDI2LjEuMTMgUmVmbGVjdC5zZXQodGFyZ2V0LCBwcm9wZXJ0eUtleSwgViBbLCByZWNlaXZlcl0pXG5cblxuXG5cblxuXG5cblxuXG5cdGZ1bmN0aW9uIHNldCQxKHRhcmdldCwgcHJvcGVydHlLZXksIFYgLyogLCByZWNlaXZlciAqLykge1xuXHQgIHZhciByZWNlaXZlciA9IGFyZ3VtZW50cy5sZW5ndGggPCA0ID8gdGFyZ2V0IDogYXJndW1lbnRzWzNdO1xuXHQgIHZhciBvd25EZXNjID0gX29iamVjdEdvcGQuZihfYW5PYmplY3QodGFyZ2V0KSwgcHJvcGVydHlLZXkpO1xuXHQgIHZhciBleGlzdGluZ0Rlc2NyaXB0b3IsIHByb3RvO1xuXHQgIGlmICghb3duRGVzYykge1xuXHQgICAgaWYgKF9pc09iamVjdChwcm90byA9IF9vYmplY3RHcG8odGFyZ2V0KSkpIHtcblx0ICAgICAgcmV0dXJuIHNldCQxKHByb3RvLCBwcm9wZXJ0eUtleSwgViwgcmVjZWl2ZXIpO1xuXHQgICAgfVxuXHQgICAgb3duRGVzYyA9IF9wcm9wZXJ0eURlc2MoMCk7XG5cdCAgfVxuXHQgIGlmIChfaGFzKG93bkRlc2MsICd2YWx1ZScpKSB7XG5cdCAgICBpZiAob3duRGVzYy53cml0YWJsZSA9PT0gZmFsc2UgfHwgIV9pc09iamVjdChyZWNlaXZlcikpIHJldHVybiBmYWxzZTtcblx0ICAgIGlmIChleGlzdGluZ0Rlc2NyaXB0b3IgPSBfb2JqZWN0R29wZC5mKHJlY2VpdmVyLCBwcm9wZXJ0eUtleSkpIHtcblx0ICAgICAgaWYgKGV4aXN0aW5nRGVzY3JpcHRvci5nZXQgfHwgZXhpc3RpbmdEZXNjcmlwdG9yLnNldCB8fCBleGlzdGluZ0Rlc2NyaXB0b3Iud3JpdGFibGUgPT09IGZhbHNlKSByZXR1cm4gZmFsc2U7XG5cdCAgICAgIGV4aXN0aW5nRGVzY3JpcHRvci52YWx1ZSA9IFY7XG5cdCAgICAgIF9vYmplY3REcC5mKHJlY2VpdmVyLCBwcm9wZXJ0eUtleSwgZXhpc3RpbmdEZXNjcmlwdG9yKTtcblx0ICAgIH0gZWxzZSBfb2JqZWN0RHAuZihyZWNlaXZlciwgcHJvcGVydHlLZXksIF9wcm9wZXJ0eURlc2MoMCwgVikpO1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXHQgIHJldHVybiBvd25EZXNjLnNldCA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiAob3duRGVzYy5zZXQuY2FsbChyZWNlaXZlciwgViksIHRydWUpO1xuXHR9XG5cblx0X2V4cG9ydChfZXhwb3J0LlMsICdSZWZsZWN0JywgeyBzZXQ6IHNldCQxIH0pO1xuXG5cdC8vIDI2LjEuMTQgUmVmbGVjdC5zZXRQcm90b3R5cGVPZih0YXJnZXQsIHByb3RvKVxuXG5cblxuXHRpZiAoX3NldFByb3RvKSBfZXhwb3J0KF9leHBvcnQuUywgJ1JlZmxlY3QnLCB7XG5cdCAgc2V0UHJvdG90eXBlT2Y6IGZ1bmN0aW9uIHNldFByb3RvdHlwZU9mKHRhcmdldCwgcHJvdG8pIHtcblx0ICAgIF9zZXRQcm90by5jaGVjayh0YXJnZXQsIHByb3RvKTtcblx0ICAgIHRyeSB7XG5cdCAgICAgIF9zZXRQcm90by5zZXQodGFyZ2V0LCBwcm90byk7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgfVxuXHR9KTtcblxuXHR2YXIgcmVmbGVjdCA9IF9jb3JlLlJlZmxlY3Q7XG5cblx0dmFyIGVzMjAxNVJlZmxlY3QgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcblx0fSk7XG5cblx0dW53cmFwRXhwb3J0cyhlczIwMTVSZWZsZWN0KTtcblxuXHQvLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9BcnJheS5wcm90b3R5cGUuaW5jbHVkZXNcblxuXHR2YXIgJGluY2x1ZGVzID0gX2FycmF5SW5jbHVkZXModHJ1ZSk7XG5cblx0X2V4cG9ydChfZXhwb3J0LlAsICdBcnJheScsIHtcblx0ICBpbmNsdWRlczogZnVuY3Rpb24gaW5jbHVkZXMoZWwgLyogLCBmcm9tSW5kZXggPSAwICovKSB7XG5cdCAgICByZXR1cm4gJGluY2x1ZGVzKHRoaXMsIGVsLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG5cdCAgfVxuXHR9KTtcblxuXHRfYWRkVG9VbnNjb3BhYmxlcygnaW5jbHVkZXMnKTtcblxuXHR2YXIgaW5jbHVkZXMkMSA9IF9jb3JlLkFycmF5LmluY2x1ZGVzO1xuXG5cdHZhciBlczIwMTZBcnJheUluY2x1ZGUgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcblx0fSk7XG5cblx0dW53cmFwRXhwb3J0cyhlczIwMTZBcnJheUluY2x1ZGUpO1xuXG5cdHZhciBpc0VudW0gPSBfb2JqZWN0UGllLmY7XG5cdHZhciBfb2JqZWN0VG9BcnJheSA9IGZ1bmN0aW9uIChpc0VudHJpZXMpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gKGl0KSB7XG5cdCAgICB2YXIgTyA9IF90b0lvYmplY3QoaXQpO1xuXHQgICAgdmFyIGtleXMgPSBfb2JqZWN0S2V5cyhPKTtcblx0ICAgIHZhciBsZW5ndGggPSBrZXlzLmxlbmd0aDtcblx0ICAgIHZhciBpID0gMDtcblx0ICAgIHZhciByZXN1bHQgPSBbXTtcblx0ICAgIHZhciBrZXk7XG5cdCAgICB3aGlsZSAobGVuZ3RoID4gaSkgaWYgKGlzRW51bS5jYWxsKE8sIGtleSA9IGtleXNbaSsrXSkpIHtcblx0ICAgICAgcmVzdWx0LnB1c2goaXNFbnRyaWVzID8gW2tleSwgT1trZXldXSA6IE9ba2V5XSk7XG5cdCAgICB9IHJldHVybiByZXN1bHQ7XG5cdCAgfTtcblx0fTtcblxuXHQvLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1vYmplY3QtdmFsdWVzLWVudHJpZXNcblxuXHR2YXIgJHZhbHVlcyA9IF9vYmplY3RUb0FycmF5KGZhbHNlKTtcblxuXHRfZXhwb3J0KF9leHBvcnQuUywgJ09iamVjdCcsIHtcblx0ICB2YWx1ZXM6IGZ1bmN0aW9uIHZhbHVlcyhpdCkge1xuXHQgICAgcmV0dXJuICR2YWx1ZXMoaXQpO1xuXHQgIH1cblx0fSk7XG5cblx0dmFyIHZhbHVlcyA9IF9jb3JlLk9iamVjdC52YWx1ZXM7XG5cblx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtb2JqZWN0LXZhbHVlcy1lbnRyaWVzXG5cblx0dmFyICRlbnRyaWVzID0gX29iamVjdFRvQXJyYXkodHJ1ZSk7XG5cblx0X2V4cG9ydChfZXhwb3J0LlMsICdPYmplY3QnLCB7XG5cdCAgZW50cmllczogZnVuY3Rpb24gZW50cmllcyhpdCkge1xuXHQgICAgcmV0dXJuICRlbnRyaWVzKGl0KTtcblx0ICB9XG5cdH0pO1xuXG5cdHZhciBlbnRyaWVzID0gX2NvcmUuT2JqZWN0LmVudHJpZXM7XG5cblx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtb2JqZWN0LWdldG93bnByb3BlcnR5ZGVzY3JpcHRvcnNcblxuXG5cblxuXG5cblx0X2V4cG9ydChfZXhwb3J0LlMsICdPYmplY3QnLCB7XG5cdCAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yczogZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvYmplY3QpIHtcblx0ICAgIHZhciBPID0gX3RvSW9iamVjdChvYmplY3QpO1xuXHQgICAgdmFyIGdldERlc2MgPSBfb2JqZWN0R29wZC5mO1xuXHQgICAgdmFyIGtleXMgPSBfb3duS2V5cyhPKTtcblx0ICAgIHZhciByZXN1bHQgPSB7fTtcblx0ICAgIHZhciBpID0gMDtcblx0ICAgIHZhciBrZXksIGRlc2M7XG5cdCAgICB3aGlsZSAoa2V5cy5sZW5ndGggPiBpKSB7XG5cdCAgICAgIGRlc2MgPSBnZXREZXNjKE8sIGtleSA9IGtleXNbaSsrXSk7XG5cdCAgICAgIGlmIChkZXNjICE9PSB1bmRlZmluZWQpIF9jcmVhdGVQcm9wZXJ0eShyZXN1bHQsIGtleSwgZGVzYyk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmVzdWx0O1xuXHQgIH1cblx0fSk7XG5cblx0dmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPSBfY29yZS5PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycztcblxuXHR2YXIgZXMyMDE3T2JqZWN0ID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykge1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5cdH0pO1xuXG5cdHVud3JhcEV4cG9ydHMoZXMyMDE3T2JqZWN0KTtcblxuXHQvLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1zdHJpbmctcGFkLXN0YXJ0LWVuZFxuXG5cblxuXG5cdHZhciBfc3RyaW5nUGFkID0gZnVuY3Rpb24gKHRoYXQsIG1heExlbmd0aCwgZmlsbFN0cmluZywgbGVmdCkge1xuXHQgIHZhciBTID0gU3RyaW5nKF9kZWZpbmVkKHRoYXQpKTtcblx0ICB2YXIgc3RyaW5nTGVuZ3RoID0gUy5sZW5ndGg7XG5cdCAgdmFyIGZpbGxTdHIgPSBmaWxsU3RyaW5nID09PSB1bmRlZmluZWQgPyAnICcgOiBTdHJpbmcoZmlsbFN0cmluZyk7XG5cdCAgdmFyIGludE1heExlbmd0aCA9IF90b0xlbmd0aChtYXhMZW5ndGgpO1xuXHQgIGlmIChpbnRNYXhMZW5ndGggPD0gc3RyaW5nTGVuZ3RoIHx8IGZpbGxTdHIgPT0gJycpIHJldHVybiBTO1xuXHQgIHZhciBmaWxsTGVuID0gaW50TWF4TGVuZ3RoIC0gc3RyaW5nTGVuZ3RoO1xuXHQgIHZhciBzdHJpbmdGaWxsZXIgPSBfc3RyaW5nUmVwZWF0LmNhbGwoZmlsbFN0ciwgTWF0aC5jZWlsKGZpbGxMZW4gLyBmaWxsU3RyLmxlbmd0aCkpO1xuXHQgIGlmIChzdHJpbmdGaWxsZXIubGVuZ3RoID4gZmlsbExlbikgc3RyaW5nRmlsbGVyID0gc3RyaW5nRmlsbGVyLnNsaWNlKDAsIGZpbGxMZW4pO1xuXHQgIHJldHVybiBsZWZ0ID8gc3RyaW5nRmlsbGVyICsgUyA6IFMgKyBzdHJpbmdGaWxsZXI7XG5cdH07XG5cblx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtc3RyaW5nLXBhZC1zdGFydC1lbmRcblxuXG5cblxuXHQvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMjgwXG5cdHZhciBXRUJLSVRfQlVHID0gL1ZlcnNpb25cXC8xMFxcLlxcZCsoXFwuXFxkKyk/KCBNb2JpbGVcXC9cXHcrKT8gU2FmYXJpXFwvLy50ZXN0KF91c2VyQWdlbnQpO1xuXG5cdF9leHBvcnQoX2V4cG9ydC5QICsgX2V4cG9ydC5GICogV0VCS0lUX0JVRywgJ1N0cmluZycsIHtcblx0ICBwYWRTdGFydDogZnVuY3Rpb24gcGFkU3RhcnQobWF4TGVuZ3RoIC8qICwgZmlsbFN0cmluZyA9ICcgJyAqLykge1xuXHQgICAgcmV0dXJuIF9zdHJpbmdQYWQodGhpcywgbWF4TGVuZ3RoLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCwgdHJ1ZSk7XG5cdCAgfVxuXHR9KTtcblxuXHR2YXIgcGFkU3RhcnQgPSBfY29yZS5TdHJpbmcucGFkU3RhcnQ7XG5cblx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtc3RyaW5nLXBhZC1zdGFydC1lbmRcblxuXG5cblxuXHQvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMjgwXG5cdHZhciBXRUJLSVRfQlVHJDEgPSAvVmVyc2lvblxcLzEwXFwuXFxkKyhcXC5cXGQrKT8oIE1vYmlsZVxcL1xcdyspPyBTYWZhcmlcXC8vLnRlc3QoX3VzZXJBZ2VudCk7XG5cblx0X2V4cG9ydChfZXhwb3J0LlAgKyBfZXhwb3J0LkYgKiBXRUJLSVRfQlVHJDEsICdTdHJpbmcnLCB7XG5cdCAgcGFkRW5kOiBmdW5jdGlvbiBwYWRFbmQobWF4TGVuZ3RoIC8qICwgZmlsbFN0cmluZyA9ICcgJyAqLykge1xuXHQgICAgcmV0dXJuIF9zdHJpbmdQYWQodGhpcywgbWF4TGVuZ3RoLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCwgZmFsc2UpO1xuXHQgIH1cblx0fSk7XG5cblx0dmFyIHBhZEVuZCA9IF9jb3JlLlN0cmluZy5wYWRFbmQ7XG5cblx0dmFyIGVzMjAxN1N0cmluZyA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuXHR9KTtcblxuXHR1bndyYXBFeHBvcnRzKGVzMjAxN1N0cmluZyk7XG5cblx0dmFyIFRZUEVEID0gX3VpZCgndHlwZWRfYXJyYXknKTtcblx0dmFyIFZJRVcgPSBfdWlkKCd2aWV3Jyk7XG5cdHZhciBBQlYgPSAhIShfZ2xvYmFsLkFycmF5QnVmZmVyICYmIF9nbG9iYWwuRGF0YVZpZXcpO1xuXHR2YXIgQ09OU1RSID0gQUJWO1xuXHR2YXIgaSQyID0gMDtcblx0dmFyIGwgPSA5O1xuXHR2YXIgVHlwZWQ7XG5cblx0dmFyIFR5cGVkQXJyYXlDb25zdHJ1Y3RvcnMgPSAoXG5cdCAgJ0ludDhBcnJheSxVaW50OEFycmF5LFVpbnQ4Q2xhbXBlZEFycmF5LEludDE2QXJyYXksVWludDE2QXJyYXksSW50MzJBcnJheSxVaW50MzJBcnJheSxGbG9hdDMyQXJyYXksRmxvYXQ2NEFycmF5J1xuXHQpLnNwbGl0KCcsJyk7XG5cblx0d2hpbGUgKGkkMiA8IGwpIHtcblx0ICBpZiAoVHlwZWQgPSBfZ2xvYmFsW1R5cGVkQXJyYXlDb25zdHJ1Y3RvcnNbaSQyKytdXSkge1xuXHQgICAgX2hpZGUoVHlwZWQucHJvdG90eXBlLCBUWVBFRCwgdHJ1ZSk7XG5cdCAgICBfaGlkZShUeXBlZC5wcm90b3R5cGUsIFZJRVcsIHRydWUpO1xuXHQgIH0gZWxzZSBDT05TVFIgPSBmYWxzZTtcblx0fVxuXG5cdHZhciBfdHlwZWQgPSB7XG5cdCAgQUJWOiBBQlYsXG5cdCAgQ09OU1RSOiBDT05TVFIsXG5cdCAgVFlQRUQ6IFRZUEVELFxuXHQgIFZJRVc6IFZJRVdcblx0fTtcblxuXHQvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy10b2luZGV4XG5cblxuXHR2YXIgX3RvSW5kZXggPSBmdW5jdGlvbiAoaXQpIHtcblx0ICBpZiAoaXQgPT09IHVuZGVmaW5lZCkgcmV0dXJuIDA7XG5cdCAgdmFyIG51bWJlciA9IF90b0ludGVnZXIoaXQpO1xuXHQgIHZhciBsZW5ndGggPSBfdG9MZW5ndGgobnVtYmVyKTtcblx0ICBpZiAobnVtYmVyICE9PSBsZW5ndGgpIHRocm93IFJhbmdlRXJyb3IoJ1dyb25nIGxlbmd0aCEnKTtcblx0ICByZXR1cm4gbGVuZ3RoO1xuXHR9O1xuXG5cdHZhciBfdHlwZWRCdWZmZXIgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXHR2YXIgZ09QTiA9IF9vYmplY3RHb3BuLmY7XG5cdHZhciBkUCA9IF9vYmplY3REcC5mO1xuXG5cblx0dmFyIEFSUkFZX0JVRkZFUiA9ICdBcnJheUJ1ZmZlcic7XG5cdHZhciBEQVRBX1ZJRVcgPSAnRGF0YVZpZXcnO1xuXHR2YXIgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7XG5cdHZhciBXUk9OR19MRU5HVEggPSAnV3JvbmcgbGVuZ3RoISc7XG5cdHZhciBXUk9OR19JTkRFWCA9ICdXcm9uZyBpbmRleCEnO1xuXHR2YXIgJEFycmF5QnVmZmVyID0gX2dsb2JhbFtBUlJBWV9CVUZGRVJdO1xuXHR2YXIgJERhdGFWaWV3ID0gX2dsb2JhbFtEQVRBX1ZJRVddO1xuXHR2YXIgTWF0aCA9IF9nbG9iYWwuTWF0aDtcblx0dmFyIFJhbmdlRXJyb3IgPSBfZ2xvYmFsLlJhbmdlRXJyb3I7XG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zaGFkb3ctcmVzdHJpY3RlZC1uYW1lc1xuXHR2YXIgSW5maW5pdHkgPSBfZ2xvYmFsLkluZmluaXR5O1xuXHR2YXIgQmFzZUJ1ZmZlciA9ICRBcnJheUJ1ZmZlcjtcblx0dmFyIGFicyA9IE1hdGguYWJzO1xuXHR2YXIgcG93ID0gTWF0aC5wb3c7XG5cdHZhciBmbG9vciA9IE1hdGguZmxvb3I7XG5cdHZhciBsb2cgPSBNYXRoLmxvZztcblx0dmFyIExOMiA9IE1hdGguTE4yO1xuXHR2YXIgQlVGRkVSID0gJ2J1ZmZlcic7XG5cdHZhciBCWVRFX0xFTkdUSCA9ICdieXRlTGVuZ3RoJztcblx0dmFyIEJZVEVfT0ZGU0VUID0gJ2J5dGVPZmZzZXQnO1xuXHR2YXIgJEJVRkZFUiA9IF9kZXNjcmlwdG9ycyA/ICdfYicgOiBCVUZGRVI7XG5cdHZhciAkTEVOR1RIID0gX2Rlc2NyaXB0b3JzID8gJ19sJyA6IEJZVEVfTEVOR1RIO1xuXHR2YXIgJE9GRlNFVCA9IF9kZXNjcmlwdG9ycyA/ICdfbycgOiBCWVRFX09GRlNFVDtcblxuXHQvLyBJRUVFNzU0IGNvbnZlcnNpb25zIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvaWVlZTc1NFxuXHRmdW5jdGlvbiBwYWNrSUVFRTc1NCh2YWx1ZSwgbUxlbiwgbkJ5dGVzKSB7XG5cdCAgdmFyIGJ1ZmZlciA9IG5ldyBBcnJheShuQnl0ZXMpO1xuXHQgIHZhciBlTGVuID0gbkJ5dGVzICogOCAtIG1MZW4gLSAxO1xuXHQgIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxO1xuXHQgIHZhciBlQmlhcyA9IGVNYXggPj4gMTtcblx0ICB2YXIgcnQgPSBtTGVuID09PSAyMyA/IHBvdygyLCAtMjQpIC0gcG93KDIsIC03NykgOiAwO1xuXHQgIHZhciBpID0gMDtcblx0ICB2YXIgcyA9IHZhbHVlIDwgMCB8fCB2YWx1ZSA9PT0gMCAmJiAxIC8gdmFsdWUgPCAwID8gMSA6IDA7XG5cdCAgdmFyIGUsIG0sIGM7XG5cdCAgdmFsdWUgPSBhYnModmFsdWUpO1xuXHQgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcblx0ICBpZiAodmFsdWUgIT0gdmFsdWUgfHwgdmFsdWUgPT09IEluZmluaXR5KSB7XG5cdCAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXG5cdCAgICBtID0gdmFsdWUgIT0gdmFsdWUgPyAxIDogMDtcblx0ICAgIGUgPSBlTWF4O1xuXHQgIH0gZWxzZSB7XG5cdCAgICBlID0gZmxvb3IobG9nKHZhbHVlKSAvIExOMik7XG5cdCAgICBpZiAodmFsdWUgKiAoYyA9IHBvdygyLCAtZSkpIDwgMSkge1xuXHQgICAgICBlLS07XG5cdCAgICAgIGMgKj0gMjtcblx0ICAgIH1cblx0ICAgIGlmIChlICsgZUJpYXMgPj0gMSkge1xuXHQgICAgICB2YWx1ZSArPSBydCAvIGM7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YWx1ZSArPSBydCAqIHBvdygyLCAxIC0gZUJpYXMpO1xuXHQgICAgfVxuXHQgICAgaWYgKHZhbHVlICogYyA+PSAyKSB7XG5cdCAgICAgIGUrKztcblx0ICAgICAgYyAvPSAyO1xuXHQgICAgfVxuXHQgICAgaWYgKGUgKyBlQmlhcyA+PSBlTWF4KSB7XG5cdCAgICAgIG0gPSAwO1xuXHQgICAgICBlID0gZU1heDtcblx0ICAgIH0gZWxzZSBpZiAoZSArIGVCaWFzID49IDEpIHtcblx0ICAgICAgbSA9ICh2YWx1ZSAqIGMgLSAxKSAqIHBvdygyLCBtTGVuKTtcblx0ICAgICAgZSA9IGUgKyBlQmlhcztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIG0gPSB2YWx1ZSAqIHBvdygyLCBlQmlhcyAtIDEpICogcG93KDIsIG1MZW4pO1xuXHQgICAgICBlID0gMDtcblx0ICAgIH1cblx0ICB9XG5cdCAgZm9yICg7IG1MZW4gPj0gODsgYnVmZmVyW2krK10gPSBtICYgMjU1LCBtIC89IDI1NiwgbUxlbiAtPSA4KTtcblx0ICBlID0gZSA8PCBtTGVuIHwgbTtcblx0ICBlTGVuICs9IG1MZW47XG5cdCAgZm9yICg7IGVMZW4gPiAwOyBidWZmZXJbaSsrXSA9IGUgJiAyNTUsIGUgLz0gMjU2LCBlTGVuIC09IDgpO1xuXHQgIGJ1ZmZlclstLWldIHw9IHMgKiAxMjg7XG5cdCAgcmV0dXJuIGJ1ZmZlcjtcblx0fVxuXHRmdW5jdGlvbiB1bnBhY2tJRUVFNzU0KGJ1ZmZlciwgbUxlbiwgbkJ5dGVzKSB7XG5cdCAgdmFyIGVMZW4gPSBuQnl0ZXMgKiA4IC0gbUxlbiAtIDE7XG5cdCAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDE7XG5cdCAgdmFyIGVCaWFzID0gZU1heCA+PiAxO1xuXHQgIHZhciBuQml0cyA9IGVMZW4gLSA3O1xuXHQgIHZhciBpID0gbkJ5dGVzIC0gMTtcblx0ICB2YXIgcyA9IGJ1ZmZlcltpLS1dO1xuXHQgIHZhciBlID0gcyAmIDEyNztcblx0ICB2YXIgbTtcblx0ICBzID4+PSA3O1xuXHQgIGZvciAoOyBuQml0cyA+IDA7IGUgPSBlICogMjU2ICsgYnVmZmVyW2ldLCBpLS0sIG5CaXRzIC09IDgpO1xuXHQgIG0gPSBlICYgKDEgPDwgLW5CaXRzKSAtIDE7XG5cdCAgZSA+Pj0gLW5CaXRzO1xuXHQgIG5CaXRzICs9IG1MZW47XG5cdCAgZm9yICg7IG5CaXRzID4gMDsgbSA9IG0gKiAyNTYgKyBidWZmZXJbaV0sIGktLSwgbkJpdHMgLT0gOCk7XG5cdCAgaWYgKGUgPT09IDApIHtcblx0ICAgIGUgPSAxIC0gZUJpYXM7XG5cdCAgfSBlbHNlIGlmIChlID09PSBlTWF4KSB7XG5cdCAgICByZXR1cm4gbSA/IE5hTiA6IHMgPyAtSW5maW5pdHkgOiBJbmZpbml0eTtcblx0ICB9IGVsc2Uge1xuXHQgICAgbSA9IG0gKyBwb3coMiwgbUxlbik7XG5cdCAgICBlID0gZSAtIGVCaWFzO1xuXHQgIH0gcmV0dXJuIChzID8gLTEgOiAxKSAqIG0gKiBwb3coMiwgZSAtIG1MZW4pO1xuXHR9XG5cblx0ZnVuY3Rpb24gdW5wYWNrSTMyKGJ5dGVzKSB7XG5cdCAgcmV0dXJuIGJ5dGVzWzNdIDw8IDI0IHwgYnl0ZXNbMl0gPDwgMTYgfCBieXRlc1sxXSA8PCA4IHwgYnl0ZXNbMF07XG5cdH1cblx0ZnVuY3Rpb24gcGFja0k4KGl0KSB7XG5cdCAgcmV0dXJuIFtpdCAmIDB4ZmZdO1xuXHR9XG5cdGZ1bmN0aW9uIHBhY2tJMTYoaXQpIHtcblx0ICByZXR1cm4gW2l0ICYgMHhmZiwgaXQgPj4gOCAmIDB4ZmZdO1xuXHR9XG5cdGZ1bmN0aW9uIHBhY2tJMzIoaXQpIHtcblx0ICByZXR1cm4gW2l0ICYgMHhmZiwgaXQgPj4gOCAmIDB4ZmYsIGl0ID4+IDE2ICYgMHhmZiwgaXQgPj4gMjQgJiAweGZmXTtcblx0fVxuXHRmdW5jdGlvbiBwYWNrRjY0KGl0KSB7XG5cdCAgcmV0dXJuIHBhY2tJRUVFNzU0KGl0LCA1MiwgOCk7XG5cdH1cblx0ZnVuY3Rpb24gcGFja0YzMihpdCkge1xuXHQgIHJldHVybiBwYWNrSUVFRTc1NChpdCwgMjMsIDQpO1xuXHR9XG5cblx0ZnVuY3Rpb24gYWRkR2V0dGVyKEMsIGtleSwgaW50ZXJuYWwpIHtcblx0ICBkUChDW1BST1RPVFlQRV0sIGtleSwgeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXNbaW50ZXJuYWxdOyB9IH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0KHZpZXcsIGJ5dGVzLCBpbmRleCwgaXNMaXR0bGVFbmRpYW4pIHtcblx0ICB2YXIgbnVtSW5kZXggPSAraW5kZXg7XG5cdCAgdmFyIGludEluZGV4ID0gX3RvSW5kZXgobnVtSW5kZXgpO1xuXHQgIGlmIChpbnRJbmRleCArIGJ5dGVzID4gdmlld1skTEVOR1RIXSkgdGhyb3cgUmFuZ2VFcnJvcihXUk9OR19JTkRFWCk7XG5cdCAgdmFyIHN0b3JlID0gdmlld1skQlVGRkVSXS5fYjtcblx0ICB2YXIgc3RhcnQgPSBpbnRJbmRleCArIHZpZXdbJE9GRlNFVF07XG5cdCAgdmFyIHBhY2sgPSBzdG9yZS5zbGljZShzdGFydCwgc3RhcnQgKyBieXRlcyk7XG5cdCAgcmV0dXJuIGlzTGl0dGxlRW5kaWFuID8gcGFjayA6IHBhY2sucmV2ZXJzZSgpO1xuXHR9XG5cdGZ1bmN0aW9uIHNldCh2aWV3LCBieXRlcywgaW5kZXgsIGNvbnZlcnNpb24sIHZhbHVlLCBpc0xpdHRsZUVuZGlhbikge1xuXHQgIHZhciBudW1JbmRleCA9ICtpbmRleDtcblx0ICB2YXIgaW50SW5kZXggPSBfdG9JbmRleChudW1JbmRleCk7XG5cdCAgaWYgKGludEluZGV4ICsgYnl0ZXMgPiB2aWV3WyRMRU5HVEhdKSB0aHJvdyBSYW5nZUVycm9yKFdST05HX0lOREVYKTtcblx0ICB2YXIgc3RvcmUgPSB2aWV3WyRCVUZGRVJdLl9iO1xuXHQgIHZhciBzdGFydCA9IGludEluZGV4ICsgdmlld1skT0ZGU0VUXTtcblx0ICB2YXIgcGFjayA9IGNvbnZlcnNpb24oK3ZhbHVlKTtcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVzOyBpKyspIHN0b3JlW3N0YXJ0ICsgaV0gPSBwYWNrW2lzTGl0dGxlRW5kaWFuID8gaSA6IGJ5dGVzIC0gaSAtIDFdO1xuXHR9XG5cblx0aWYgKCFfdHlwZWQuQUJWKSB7XG5cdCAgJEFycmF5QnVmZmVyID0gZnVuY3Rpb24gQXJyYXlCdWZmZXIobGVuZ3RoKSB7XG5cdCAgICBfYW5JbnN0YW5jZSh0aGlzLCAkQXJyYXlCdWZmZXIsIEFSUkFZX0JVRkZFUik7XG5cdCAgICB2YXIgYnl0ZUxlbmd0aCA9IF90b0luZGV4KGxlbmd0aCk7XG5cdCAgICB0aGlzLl9iID0gX2FycmF5RmlsbC5jYWxsKG5ldyBBcnJheShieXRlTGVuZ3RoKSwgMCk7XG5cdCAgICB0aGlzWyRMRU5HVEhdID0gYnl0ZUxlbmd0aDtcblx0ICB9O1xuXG5cdCAgJERhdGFWaWV3ID0gZnVuY3Rpb24gRGF0YVZpZXcoYnVmZmVyLCBieXRlT2Zmc2V0LCBieXRlTGVuZ3RoKSB7XG5cdCAgICBfYW5JbnN0YW5jZSh0aGlzLCAkRGF0YVZpZXcsIERBVEFfVklFVyk7XG5cdCAgICBfYW5JbnN0YW5jZShidWZmZXIsICRBcnJheUJ1ZmZlciwgREFUQV9WSUVXKTtcblx0ICAgIHZhciBidWZmZXJMZW5ndGggPSBidWZmZXJbJExFTkdUSF07XG5cdCAgICB2YXIgb2Zmc2V0ID0gX3RvSW50ZWdlcihieXRlT2Zmc2V0KTtcblx0ICAgIGlmIChvZmZzZXQgPCAwIHx8IG9mZnNldCA+IGJ1ZmZlckxlbmd0aCkgdGhyb3cgUmFuZ2VFcnJvcignV3Jvbmcgb2Zmc2V0IScpO1xuXHQgICAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPT09IHVuZGVmaW5lZCA/IGJ1ZmZlckxlbmd0aCAtIG9mZnNldCA6IF90b0xlbmd0aChieXRlTGVuZ3RoKTtcblx0ICAgIGlmIChvZmZzZXQgKyBieXRlTGVuZ3RoID4gYnVmZmVyTGVuZ3RoKSB0aHJvdyBSYW5nZUVycm9yKFdST05HX0xFTkdUSCk7XG5cdCAgICB0aGlzWyRCVUZGRVJdID0gYnVmZmVyO1xuXHQgICAgdGhpc1skT0ZGU0VUXSA9IG9mZnNldDtcblx0ICAgIHRoaXNbJExFTkdUSF0gPSBieXRlTGVuZ3RoO1xuXHQgIH07XG5cblx0ICBpZiAoX2Rlc2NyaXB0b3JzKSB7XG5cdCAgICBhZGRHZXR0ZXIoJEFycmF5QnVmZmVyLCBCWVRFX0xFTkdUSCwgJ19sJyk7XG5cdCAgICBhZGRHZXR0ZXIoJERhdGFWaWV3LCBCVUZGRVIsICdfYicpO1xuXHQgICAgYWRkR2V0dGVyKCREYXRhVmlldywgQllURV9MRU5HVEgsICdfbCcpO1xuXHQgICAgYWRkR2V0dGVyKCREYXRhVmlldywgQllURV9PRkZTRVQsICdfbycpO1xuXHQgIH1cblxuXHQgIF9yZWRlZmluZUFsbCgkRGF0YVZpZXdbUFJPVE9UWVBFXSwge1xuXHQgICAgZ2V0SW50ODogZnVuY3Rpb24gZ2V0SW50OChieXRlT2Zmc2V0KSB7XG5cdCAgICAgIHJldHVybiBnZXQodGhpcywgMSwgYnl0ZU9mZnNldClbMF0gPDwgMjQgPj4gMjQ7XG5cdCAgICB9LFxuXHQgICAgZ2V0VWludDg6IGZ1bmN0aW9uIGdldFVpbnQ4KGJ5dGVPZmZzZXQpIHtcblx0ICAgICAgcmV0dXJuIGdldCh0aGlzLCAxLCBieXRlT2Zmc2V0KVswXTtcblx0ICAgIH0sXG5cdCAgICBnZXRJbnQxNjogZnVuY3Rpb24gZ2V0SW50MTYoYnl0ZU9mZnNldCAvKiAsIGxpdHRsZUVuZGlhbiAqLykge1xuXHQgICAgICB2YXIgYnl0ZXMgPSBnZXQodGhpcywgMiwgYnl0ZU9mZnNldCwgYXJndW1lbnRzWzFdKTtcblx0ICAgICAgcmV0dXJuIChieXRlc1sxXSA8PCA4IHwgYnl0ZXNbMF0pIDw8IDE2ID4+IDE2O1xuXHQgICAgfSxcblx0ICAgIGdldFVpbnQxNjogZnVuY3Rpb24gZ2V0VWludDE2KGJ5dGVPZmZzZXQgLyogLCBsaXR0bGVFbmRpYW4gKi8pIHtcblx0ICAgICAgdmFyIGJ5dGVzID0gZ2V0KHRoaXMsIDIsIGJ5dGVPZmZzZXQsIGFyZ3VtZW50c1sxXSk7XG5cdCAgICAgIHJldHVybiBieXRlc1sxXSA8PCA4IHwgYnl0ZXNbMF07XG5cdCAgICB9LFxuXHQgICAgZ2V0SW50MzI6IGZ1bmN0aW9uIGdldEludDMyKGJ5dGVPZmZzZXQgLyogLCBsaXR0bGVFbmRpYW4gKi8pIHtcblx0ICAgICAgcmV0dXJuIHVucGFja0kzMihnZXQodGhpcywgNCwgYnl0ZU9mZnNldCwgYXJndW1lbnRzWzFdKSk7XG5cdCAgICB9LFxuXHQgICAgZ2V0VWludDMyOiBmdW5jdGlvbiBnZXRVaW50MzIoYnl0ZU9mZnNldCAvKiAsIGxpdHRsZUVuZGlhbiAqLykge1xuXHQgICAgICByZXR1cm4gdW5wYWNrSTMyKGdldCh0aGlzLCA0LCBieXRlT2Zmc2V0LCBhcmd1bWVudHNbMV0pKSA+Pj4gMDtcblx0ICAgIH0sXG5cdCAgICBnZXRGbG9hdDMyOiBmdW5jdGlvbiBnZXRGbG9hdDMyKGJ5dGVPZmZzZXQgLyogLCBsaXR0bGVFbmRpYW4gKi8pIHtcblx0ICAgICAgcmV0dXJuIHVucGFja0lFRUU3NTQoZ2V0KHRoaXMsIDQsIGJ5dGVPZmZzZXQsIGFyZ3VtZW50c1sxXSksIDIzLCA0KTtcblx0ICAgIH0sXG5cdCAgICBnZXRGbG9hdDY0OiBmdW5jdGlvbiBnZXRGbG9hdDY0KGJ5dGVPZmZzZXQgLyogLCBsaXR0bGVFbmRpYW4gKi8pIHtcblx0ICAgICAgcmV0dXJuIHVucGFja0lFRUU3NTQoZ2V0KHRoaXMsIDgsIGJ5dGVPZmZzZXQsIGFyZ3VtZW50c1sxXSksIDUyLCA4KTtcblx0ICAgIH0sXG5cdCAgICBzZXRJbnQ4OiBmdW5jdGlvbiBzZXRJbnQ4KGJ5dGVPZmZzZXQsIHZhbHVlKSB7XG5cdCAgICAgIHNldCh0aGlzLCAxLCBieXRlT2Zmc2V0LCBwYWNrSTgsIHZhbHVlKTtcblx0ICAgIH0sXG5cdCAgICBzZXRVaW50ODogZnVuY3Rpb24gc2V0VWludDgoYnl0ZU9mZnNldCwgdmFsdWUpIHtcblx0ICAgICAgc2V0KHRoaXMsIDEsIGJ5dGVPZmZzZXQsIHBhY2tJOCwgdmFsdWUpO1xuXHQgICAgfSxcblx0ICAgIHNldEludDE2OiBmdW5jdGlvbiBzZXRJbnQxNihieXRlT2Zmc2V0LCB2YWx1ZSAvKiAsIGxpdHRsZUVuZGlhbiAqLykge1xuXHQgICAgICBzZXQodGhpcywgMiwgYnl0ZU9mZnNldCwgcGFja0kxNiwgdmFsdWUsIGFyZ3VtZW50c1syXSk7XG5cdCAgICB9LFxuXHQgICAgc2V0VWludDE2OiBmdW5jdGlvbiBzZXRVaW50MTYoYnl0ZU9mZnNldCwgdmFsdWUgLyogLCBsaXR0bGVFbmRpYW4gKi8pIHtcblx0ICAgICAgc2V0KHRoaXMsIDIsIGJ5dGVPZmZzZXQsIHBhY2tJMTYsIHZhbHVlLCBhcmd1bWVudHNbMl0pO1xuXHQgICAgfSxcblx0ICAgIHNldEludDMyOiBmdW5jdGlvbiBzZXRJbnQzMihieXRlT2Zmc2V0LCB2YWx1ZSAvKiAsIGxpdHRsZUVuZGlhbiAqLykge1xuXHQgICAgICBzZXQodGhpcywgNCwgYnl0ZU9mZnNldCwgcGFja0kzMiwgdmFsdWUsIGFyZ3VtZW50c1syXSk7XG5cdCAgICB9LFxuXHQgICAgc2V0VWludDMyOiBmdW5jdGlvbiBzZXRVaW50MzIoYnl0ZU9mZnNldCwgdmFsdWUgLyogLCBsaXR0bGVFbmRpYW4gKi8pIHtcblx0ICAgICAgc2V0KHRoaXMsIDQsIGJ5dGVPZmZzZXQsIHBhY2tJMzIsIHZhbHVlLCBhcmd1bWVudHNbMl0pO1xuXHQgICAgfSxcblx0ICAgIHNldEZsb2F0MzI6IGZ1bmN0aW9uIHNldEZsb2F0MzIoYnl0ZU9mZnNldCwgdmFsdWUgLyogLCBsaXR0bGVFbmRpYW4gKi8pIHtcblx0ICAgICAgc2V0KHRoaXMsIDQsIGJ5dGVPZmZzZXQsIHBhY2tGMzIsIHZhbHVlLCBhcmd1bWVudHNbMl0pO1xuXHQgICAgfSxcblx0ICAgIHNldEZsb2F0NjQ6IGZ1bmN0aW9uIHNldEZsb2F0NjQoYnl0ZU9mZnNldCwgdmFsdWUgLyogLCBsaXR0bGVFbmRpYW4gKi8pIHtcblx0ICAgICAgc2V0KHRoaXMsIDgsIGJ5dGVPZmZzZXQsIHBhY2tGNjQsIHZhbHVlLCBhcmd1bWVudHNbMl0pO1xuXHQgICAgfVxuXHQgIH0pO1xuXHR9IGVsc2Uge1xuXHQgIGlmICghX2ZhaWxzKGZ1bmN0aW9uICgpIHtcblx0ICAgICRBcnJheUJ1ZmZlcigxKTtcblx0ICB9KSB8fCAhX2ZhaWxzKGZ1bmN0aW9uICgpIHtcblx0ICAgIG5ldyAkQXJyYXlCdWZmZXIoLTEpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ld1xuXHQgIH0pIHx8IF9mYWlscyhmdW5jdGlvbiAoKSB7XG5cdCAgICBuZXcgJEFycmF5QnVmZmVyKCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3XG5cdCAgICBuZXcgJEFycmF5QnVmZmVyKDEuNSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3XG5cdCAgICBuZXcgJEFycmF5QnVmZmVyKE5hTik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3XG5cdCAgICByZXR1cm4gJEFycmF5QnVmZmVyLm5hbWUgIT0gQVJSQVlfQlVGRkVSO1xuXHQgIH0pKSB7XG5cdCAgICAkQXJyYXlCdWZmZXIgPSBmdW5jdGlvbiBBcnJheUJ1ZmZlcihsZW5ndGgpIHtcblx0ICAgICAgX2FuSW5zdGFuY2UodGhpcywgJEFycmF5QnVmZmVyKTtcblx0ICAgICAgcmV0dXJuIG5ldyBCYXNlQnVmZmVyKF90b0luZGV4KGxlbmd0aCkpO1xuXHQgICAgfTtcblx0ICAgIHZhciBBcnJheUJ1ZmZlclByb3RvID0gJEFycmF5QnVmZmVyW1BST1RPVFlQRV0gPSBCYXNlQnVmZmVyW1BST1RPVFlQRV07XG5cdCAgICBmb3IgKHZhciBrZXlzID0gZ09QTihCYXNlQnVmZmVyKSwgaiA9IDAsIGtleTsga2V5cy5sZW5ndGggPiBqOykge1xuXHQgICAgICBpZiAoISgoa2V5ID0ga2V5c1tqKytdKSBpbiAkQXJyYXlCdWZmZXIpKSBfaGlkZSgkQXJyYXlCdWZmZXIsIGtleSwgQmFzZUJ1ZmZlcltrZXldKTtcblx0ICAgIH1cblx0ICAgIEFycmF5QnVmZmVyUHJvdG8uY29uc3RydWN0b3IgPSAkQXJyYXlCdWZmZXI7XG5cdCAgfVxuXHQgIC8vIGlPUyBTYWZhcmkgNy54IGJ1Z1xuXHQgIHZhciB2aWV3ID0gbmV3ICREYXRhVmlldyhuZXcgJEFycmF5QnVmZmVyKDIpKTtcblx0ICB2YXIgJHNldEludDggPSAkRGF0YVZpZXdbUFJPVE9UWVBFXS5zZXRJbnQ4O1xuXHQgIHZpZXcuc2V0SW50OCgwLCAyMTQ3NDgzNjQ4KTtcblx0ICB2aWV3LnNldEludDgoMSwgMjE0NzQ4MzY0OSk7XG5cdCAgaWYgKHZpZXcuZ2V0SW50OCgwKSB8fCAhdmlldy5nZXRJbnQ4KDEpKSBfcmVkZWZpbmVBbGwoJERhdGFWaWV3W1BST1RPVFlQRV0sIHtcblx0ICAgIHNldEludDg6IGZ1bmN0aW9uIHNldEludDgoYnl0ZU9mZnNldCwgdmFsdWUpIHtcblx0ICAgICAgJHNldEludDguY2FsbCh0aGlzLCBieXRlT2Zmc2V0LCB2YWx1ZSA8PCAyNCA+PiAyNCk7XG5cdCAgICB9LFxuXHQgICAgc2V0VWludDg6IGZ1bmN0aW9uIHNldFVpbnQ4KGJ5dGVPZmZzZXQsIHZhbHVlKSB7XG5cdCAgICAgICRzZXRJbnQ4LmNhbGwodGhpcywgYnl0ZU9mZnNldCwgdmFsdWUgPDwgMjQgPj4gMjQpO1xuXHQgICAgfVxuXHQgIH0sIHRydWUpO1xuXHR9XG5cdF9zZXRUb1N0cmluZ1RhZygkQXJyYXlCdWZmZXIsIEFSUkFZX0JVRkZFUik7XG5cdF9zZXRUb1N0cmluZ1RhZygkRGF0YVZpZXcsIERBVEFfVklFVyk7XG5cdF9oaWRlKCREYXRhVmlld1tQUk9UT1RZUEVdLCBfdHlwZWQuVklFVywgdHJ1ZSk7XG5cdGV4cG9ydHNbQVJSQVlfQlVGRkVSXSA9ICRBcnJheUJ1ZmZlcjtcblx0ZXhwb3J0c1tEQVRBX1ZJRVddID0gJERhdGFWaWV3O1xuXHR9KTtcblxuXHR2YXIgQXJyYXlCdWZmZXIgPSBfZ2xvYmFsLkFycmF5QnVmZmVyO1xuXG5cdHZhciAkQXJyYXlCdWZmZXIgPSBfdHlwZWRCdWZmZXIuQXJyYXlCdWZmZXI7XG5cdHZhciAkRGF0YVZpZXcgPSBfdHlwZWRCdWZmZXIuRGF0YVZpZXc7XG5cdHZhciAkaXNWaWV3ID0gX3R5cGVkLkFCViAmJiBBcnJheUJ1ZmZlci5pc1ZpZXc7XG5cdHZhciAkc2xpY2UgPSAkQXJyYXlCdWZmZXIucHJvdG90eXBlLnNsaWNlO1xuXHR2YXIgVklFVyQxID0gX3R5cGVkLlZJRVc7XG5cdHZhciBBUlJBWV9CVUZGRVIgPSAnQXJyYXlCdWZmZXInO1xuXG5cdF9leHBvcnQoX2V4cG9ydC5HICsgX2V4cG9ydC5XICsgX2V4cG9ydC5GICogKEFycmF5QnVmZmVyICE9PSAkQXJyYXlCdWZmZXIpLCB7IEFycmF5QnVmZmVyOiAkQXJyYXlCdWZmZXIgfSk7XG5cblx0X2V4cG9ydChfZXhwb3J0LlMgKyBfZXhwb3J0LkYgKiAhX3R5cGVkLkNPTlNUUiwgQVJSQVlfQlVGRkVSLCB7XG5cdCAgLy8gMjQuMS4zLjEgQXJyYXlCdWZmZXIuaXNWaWV3KGFyZylcblx0ICBpc1ZpZXc6IGZ1bmN0aW9uIGlzVmlldyhpdCkge1xuXHQgICAgcmV0dXJuICRpc1ZpZXcgJiYgJGlzVmlldyhpdCkgfHwgX2lzT2JqZWN0KGl0KSAmJiBWSUVXJDEgaW4gaXQ7XG5cdCAgfVxuXHR9KTtcblxuXHRfZXhwb3J0KF9leHBvcnQuUCArIF9leHBvcnQuVSArIF9leHBvcnQuRiAqIF9mYWlscyhmdW5jdGlvbiAoKSB7XG5cdCAgcmV0dXJuICFuZXcgJEFycmF5QnVmZmVyKDIpLnNsaWNlKDEsIHVuZGVmaW5lZCkuYnl0ZUxlbmd0aDtcblx0fSksIEFSUkFZX0JVRkZFUiwge1xuXHQgIC8vIDI0LjEuNC4zIEFycmF5QnVmZmVyLnByb3RvdHlwZS5zbGljZShzdGFydCwgZW5kKVxuXHQgIHNsaWNlOiBmdW5jdGlvbiBzbGljZShzdGFydCwgZW5kKSB7XG5cdCAgICBpZiAoJHNsaWNlICE9PSB1bmRlZmluZWQgJiYgZW5kID09PSB1bmRlZmluZWQpIHJldHVybiAkc2xpY2UuY2FsbChfYW5PYmplY3QodGhpcyksIHN0YXJ0KTsgLy8gRkYgZml4XG5cdCAgICB2YXIgbGVuID0gX2FuT2JqZWN0KHRoaXMpLmJ5dGVMZW5ndGg7XG5cdCAgICB2YXIgZmlyc3QgPSBfdG9BYnNvbHV0ZUluZGV4KHN0YXJ0LCBsZW4pO1xuXHQgICAgdmFyIGZpbiA9IF90b0Fic29sdXRlSW5kZXgoZW5kID09PSB1bmRlZmluZWQgPyBsZW4gOiBlbmQsIGxlbik7XG5cdCAgICB2YXIgcmVzdWx0ID0gbmV3IChfc3BlY2llc0NvbnN0cnVjdG9yKHRoaXMsICRBcnJheUJ1ZmZlcikpKF90b0xlbmd0aChmaW4gLSBmaXJzdCkpO1xuXHQgICAgdmFyIHZpZXdTID0gbmV3ICREYXRhVmlldyh0aGlzKTtcblx0ICAgIHZhciB2aWV3VCA9IG5ldyAkRGF0YVZpZXcocmVzdWx0KTtcblx0ICAgIHZhciBpbmRleCA9IDA7XG5cdCAgICB3aGlsZSAoZmlyc3QgPCBmaW4pIHtcblx0ICAgICAgdmlld1Quc2V0VWludDgoaW5kZXgrKywgdmlld1MuZ2V0VWludDgoZmlyc3QrKykpO1xuXHQgICAgfSByZXR1cm4gcmVzdWx0O1xuXHQgIH1cblx0fSk7XG5cblx0X3NldFNwZWNpZXMoQVJSQVlfQlVGRkVSKTtcblxuXHRfZXhwb3J0KF9leHBvcnQuRyArIF9leHBvcnQuVyArIF9leHBvcnQuRiAqICFfdHlwZWQuQUJWLCB7XG5cdCAgRGF0YVZpZXc6IF90eXBlZEJ1ZmZlci5EYXRhVmlld1xuXHR9KTtcblxuXHR2YXIgX3R5cGVkQXJyYXkgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7XG5cdGlmIChfZGVzY3JpcHRvcnMpIHtcblx0ICB2YXIgTElCUkFSWSA9IF9saWJyYXJ5O1xuXHQgIHZhciBnbG9iYWwgPSBfZ2xvYmFsO1xuXHQgIHZhciBmYWlscyA9IF9mYWlscztcblx0ICB2YXIgJGV4cG9ydCA9IF9leHBvcnQ7XG5cdCAgdmFyICR0eXBlZCA9IF90eXBlZDtcblx0ICB2YXIgJGJ1ZmZlciA9IF90eXBlZEJ1ZmZlcjtcblx0ICB2YXIgY3R4ID0gX2N0eDtcblx0ICB2YXIgYW5JbnN0YW5jZSA9IF9hbkluc3RhbmNlO1xuXHQgIHZhciBwcm9wZXJ0eURlc2MgPSBfcHJvcGVydHlEZXNjO1xuXHQgIHZhciBoaWRlID0gX2hpZGU7XG5cdCAgdmFyIHJlZGVmaW5lQWxsID0gX3JlZGVmaW5lQWxsO1xuXHQgIHZhciB0b0ludGVnZXIgPSBfdG9JbnRlZ2VyO1xuXHQgIHZhciB0b0xlbmd0aCA9IF90b0xlbmd0aDtcblx0ICB2YXIgdG9JbmRleCA9IF90b0luZGV4O1xuXHQgIHZhciB0b0Fic29sdXRlSW5kZXggPSBfdG9BYnNvbHV0ZUluZGV4O1xuXHQgIHZhciB0b1ByaW1pdGl2ZSA9IF90b1ByaW1pdGl2ZTtcblx0ICB2YXIgaGFzID0gX2hhcztcblx0ICB2YXIgY2xhc3NvZiA9IF9jbGFzc29mO1xuXHQgIHZhciBpc09iamVjdCA9IF9pc09iamVjdDtcblx0ICB2YXIgdG9PYmplY3QgPSBfdG9PYmplY3Q7XG5cdCAgdmFyIGlzQXJyYXlJdGVyID0gX2lzQXJyYXlJdGVyO1xuXHQgIHZhciBjcmVhdGUgPSBfb2JqZWN0Q3JlYXRlO1xuXHQgIHZhciBnZXRQcm90b3R5cGVPZiA9IF9vYmplY3RHcG87XG5cdCAgdmFyIGdPUE4gPSBfb2JqZWN0R29wbi5mO1xuXHQgIHZhciBnZXRJdGVyRm4gPSBjb3JlX2dldEl0ZXJhdG9yTWV0aG9kO1xuXHQgIHZhciB1aWQgPSBfdWlkO1xuXHQgIHZhciB3a3MgPSBfd2tzO1xuXHQgIHZhciBjcmVhdGVBcnJheU1ldGhvZCA9IF9hcnJheU1ldGhvZHM7XG5cdCAgdmFyIGNyZWF0ZUFycmF5SW5jbHVkZXMgPSBfYXJyYXlJbmNsdWRlcztcblx0ICB2YXIgc3BlY2llc0NvbnN0cnVjdG9yID0gX3NwZWNpZXNDb25zdHJ1Y3Rvcjtcblx0ICB2YXIgQXJyYXlJdGVyYXRvcnMgPSBlczZfYXJyYXlfaXRlcmF0b3I7XG5cdCAgdmFyIEl0ZXJhdG9ycyA9IF9pdGVyYXRvcnM7XG5cdCAgdmFyICRpdGVyRGV0ZWN0ID0gX2l0ZXJEZXRlY3Q7XG5cdCAgdmFyIHNldFNwZWNpZXMgPSBfc2V0U3BlY2llcztcblx0ICB2YXIgYXJyYXlGaWxsID0gX2FycmF5RmlsbDtcblx0ICB2YXIgYXJyYXlDb3B5V2l0aGluID0gX2FycmF5Q29weVdpdGhpbjtcblx0ICB2YXIgJERQID0gX29iamVjdERwO1xuXHQgIHZhciAkR09QRCA9IF9vYmplY3RHb3BkO1xuXHQgIHZhciBkUCA9ICREUC5mO1xuXHQgIHZhciBnT1BEID0gJEdPUEQuZjtcblx0ICB2YXIgUmFuZ2VFcnJvciA9IGdsb2JhbC5SYW5nZUVycm9yO1xuXHQgIHZhciBUeXBlRXJyb3IgPSBnbG9iYWwuVHlwZUVycm9yO1xuXHQgIHZhciBVaW50OEFycmF5ID0gZ2xvYmFsLlVpbnQ4QXJyYXk7XG5cdCAgdmFyIEFSUkFZX0JVRkZFUiA9ICdBcnJheUJ1ZmZlcic7XG5cdCAgdmFyIFNIQVJFRF9CVUZGRVIgPSAnU2hhcmVkJyArIEFSUkFZX0JVRkZFUjtcblx0ICB2YXIgQllURVNfUEVSX0VMRU1FTlQgPSAnQllURVNfUEVSX0VMRU1FTlQnO1xuXHQgIHZhciBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblx0ICB2YXIgQXJyYXlQcm90byA9IEFycmF5W1BST1RPVFlQRV07XG5cdCAgdmFyICRBcnJheUJ1ZmZlciA9ICRidWZmZXIuQXJyYXlCdWZmZXI7XG5cdCAgdmFyICREYXRhVmlldyA9ICRidWZmZXIuRGF0YVZpZXc7XG5cdCAgdmFyIGFycmF5Rm9yRWFjaCA9IGNyZWF0ZUFycmF5TWV0aG9kKDApO1xuXHQgIHZhciBhcnJheUZpbHRlciA9IGNyZWF0ZUFycmF5TWV0aG9kKDIpO1xuXHQgIHZhciBhcnJheVNvbWUgPSBjcmVhdGVBcnJheU1ldGhvZCgzKTtcblx0ICB2YXIgYXJyYXlFdmVyeSA9IGNyZWF0ZUFycmF5TWV0aG9kKDQpO1xuXHQgIHZhciBhcnJheUZpbmQgPSBjcmVhdGVBcnJheU1ldGhvZCg1KTtcblx0ICB2YXIgYXJyYXlGaW5kSW5kZXggPSBjcmVhdGVBcnJheU1ldGhvZCg2KTtcblx0ICB2YXIgYXJyYXlJbmNsdWRlcyA9IGNyZWF0ZUFycmF5SW5jbHVkZXModHJ1ZSk7XG5cdCAgdmFyIGFycmF5SW5kZXhPZiA9IGNyZWF0ZUFycmF5SW5jbHVkZXMoZmFsc2UpO1xuXHQgIHZhciBhcnJheVZhbHVlcyA9IEFycmF5SXRlcmF0b3JzLnZhbHVlcztcblx0ICB2YXIgYXJyYXlLZXlzID0gQXJyYXlJdGVyYXRvcnMua2V5cztcblx0ICB2YXIgYXJyYXlFbnRyaWVzID0gQXJyYXlJdGVyYXRvcnMuZW50cmllcztcblx0ICB2YXIgYXJyYXlMYXN0SW5kZXhPZiA9IEFycmF5UHJvdG8ubGFzdEluZGV4T2Y7XG5cdCAgdmFyIGFycmF5UmVkdWNlID0gQXJyYXlQcm90by5yZWR1Y2U7XG5cdCAgdmFyIGFycmF5UmVkdWNlUmlnaHQgPSBBcnJheVByb3RvLnJlZHVjZVJpZ2h0O1xuXHQgIHZhciBhcnJheUpvaW4gPSBBcnJheVByb3RvLmpvaW47XG5cdCAgdmFyIGFycmF5U29ydCA9IEFycmF5UHJvdG8uc29ydDtcblx0ICB2YXIgYXJyYXlTbGljZSA9IEFycmF5UHJvdG8uc2xpY2U7XG5cdCAgdmFyIGFycmF5VG9TdHJpbmcgPSBBcnJheVByb3RvLnRvU3RyaW5nO1xuXHQgIHZhciBhcnJheVRvTG9jYWxlU3RyaW5nID0gQXJyYXlQcm90by50b0xvY2FsZVN0cmluZztcblx0ICB2YXIgSVRFUkFUT1IgPSB3a3MoJ2l0ZXJhdG9yJyk7XG5cdCAgdmFyIFRBRyA9IHdrcygndG9TdHJpbmdUYWcnKTtcblx0ICB2YXIgVFlQRURfQ09OU1RSVUNUT1IgPSB1aWQoJ3R5cGVkX2NvbnN0cnVjdG9yJyk7XG5cdCAgdmFyIERFRl9DT05TVFJVQ1RPUiA9IHVpZCgnZGVmX2NvbnN0cnVjdG9yJyk7XG5cdCAgdmFyIEFMTF9DT05TVFJVQ1RPUlMgPSAkdHlwZWQuQ09OU1RSO1xuXHQgIHZhciBUWVBFRF9BUlJBWSA9ICR0eXBlZC5UWVBFRDtcblx0ICB2YXIgVklFVyA9ICR0eXBlZC5WSUVXO1xuXHQgIHZhciBXUk9OR19MRU5HVEggPSAnV3JvbmcgbGVuZ3RoISc7XG5cblx0ICB2YXIgJG1hcCA9IGNyZWF0ZUFycmF5TWV0aG9kKDEsIGZ1bmN0aW9uIChPLCBsZW5ndGgpIHtcblx0ICAgIHJldHVybiBhbGxvY2F0ZShzcGVjaWVzQ29uc3RydWN0b3IoTywgT1tERUZfQ09OU1RSVUNUT1JdKSwgbGVuZ3RoKTtcblx0ICB9KTtcblxuXHQgIHZhciBMSVRUTEVfRU5ESUFOID0gZmFpbHMoZnVuY3Rpb24gKCkge1xuXHQgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG5cdCAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkobmV3IFVpbnQxNkFycmF5KFsxXSkuYnVmZmVyKVswXSA9PT0gMTtcblx0ICB9KTtcblxuXHQgIHZhciBGT1JDRURfU0VUID0gISFVaW50OEFycmF5ICYmICEhVWludDhBcnJheVtQUk9UT1RZUEVdLnNldCAmJiBmYWlscyhmdW5jdGlvbiAoKSB7XG5cdCAgICBuZXcgVWludDhBcnJheSgxKS5zZXQoe30pO1xuXHQgIH0pO1xuXG5cdCAgdmFyIHRvT2Zmc2V0ID0gZnVuY3Rpb24gKGl0LCBCWVRFUykge1xuXHQgICAgdmFyIG9mZnNldCA9IHRvSW50ZWdlcihpdCk7XG5cdCAgICBpZiAob2Zmc2V0IDwgMCB8fCBvZmZzZXQgJSBCWVRFUykgdGhyb3cgUmFuZ2VFcnJvcignV3Jvbmcgb2Zmc2V0IScpO1xuXHQgICAgcmV0dXJuIG9mZnNldDtcblx0ICB9O1xuXG5cdCAgdmFyIHZhbGlkYXRlID0gZnVuY3Rpb24gKGl0KSB7XG5cdCAgICBpZiAoaXNPYmplY3QoaXQpICYmIFRZUEVEX0FSUkFZIGluIGl0KSByZXR1cm4gaXQ7XG5cdCAgICB0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhIHR5cGVkIGFycmF5IScpO1xuXHQgIH07XG5cblx0ICB2YXIgYWxsb2NhdGUgPSBmdW5jdGlvbiAoQywgbGVuZ3RoKSB7XG5cdCAgICBpZiAoIShpc09iamVjdChDKSAmJiBUWVBFRF9DT05TVFJVQ1RPUiBpbiBDKSkge1xuXHQgICAgICB0aHJvdyBUeXBlRXJyb3IoJ0l0IGlzIG5vdCBhIHR5cGVkIGFycmF5IGNvbnN0cnVjdG9yIScpO1xuXHQgICAgfSByZXR1cm4gbmV3IEMobGVuZ3RoKTtcblx0ICB9O1xuXG5cdCAgdmFyIHNwZWNpZXNGcm9tTGlzdCA9IGZ1bmN0aW9uIChPLCBsaXN0KSB7XG5cdCAgICByZXR1cm4gZnJvbUxpc3Qoc3BlY2llc0NvbnN0cnVjdG9yKE8sIE9bREVGX0NPTlNUUlVDVE9SXSksIGxpc3QpO1xuXHQgIH07XG5cblx0ICB2YXIgZnJvbUxpc3QgPSBmdW5jdGlvbiAoQywgbGlzdCkge1xuXHQgICAgdmFyIGluZGV4ID0gMDtcblx0ICAgIHZhciBsZW5ndGggPSBsaXN0Lmxlbmd0aDtcblx0ICAgIHZhciByZXN1bHQgPSBhbGxvY2F0ZShDLCBsZW5ndGgpO1xuXHQgICAgd2hpbGUgKGxlbmd0aCA+IGluZGV4KSByZXN1bHRbaW5kZXhdID0gbGlzdFtpbmRleCsrXTtcblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdCAgfTtcblxuXHQgIHZhciBhZGRHZXR0ZXIgPSBmdW5jdGlvbiAoaXQsIGtleSwgaW50ZXJuYWwpIHtcblx0ICAgIGRQKGl0LCBrZXksIHsgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9kW2ludGVybmFsXTsgfSB9KTtcblx0ICB9O1xuXG5cdCAgdmFyICRmcm9tID0gZnVuY3Rpb24gZnJvbShzb3VyY2UgLyogLCBtYXBmbiwgdGhpc0FyZyAqLykge1xuXHQgICAgdmFyIE8gPSB0b09iamVjdChzb3VyY2UpO1xuXHQgICAgdmFyIGFMZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuXHQgICAgdmFyIG1hcGZuID0gYUxlbiA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG5cdCAgICB2YXIgbWFwcGluZyA9IG1hcGZuICE9PSB1bmRlZmluZWQ7XG5cdCAgICB2YXIgaXRlckZuID0gZ2V0SXRlckZuKE8pO1xuXHQgICAgdmFyIGksIGxlbmd0aCwgdmFsdWVzLCByZXN1bHQsIHN0ZXAsIGl0ZXJhdG9yO1xuXHQgICAgaWYgKGl0ZXJGbiAhPSB1bmRlZmluZWQgJiYgIWlzQXJyYXlJdGVyKGl0ZXJGbikpIHtcblx0ICAgICAgZm9yIChpdGVyYXRvciA9IGl0ZXJGbi5jYWxsKE8pLCB2YWx1ZXMgPSBbXSwgaSA9IDA7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTsgaSsrKSB7XG5cdCAgICAgICAgdmFsdWVzLnB1c2goc3RlcC52YWx1ZSk7XG5cdCAgICAgIH0gTyA9IHZhbHVlcztcblx0ICAgIH1cblx0ICAgIGlmIChtYXBwaW5nICYmIGFMZW4gPiAyKSBtYXBmbiA9IGN0eChtYXBmbiwgYXJndW1lbnRzWzJdLCAyKTtcblx0ICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IHRvTGVuZ3RoKE8ubGVuZ3RoKSwgcmVzdWx0ID0gYWxsb2NhdGUodGhpcywgbGVuZ3RoKTsgbGVuZ3RoID4gaTsgaSsrKSB7XG5cdCAgICAgIHJlc3VsdFtpXSA9IG1hcHBpbmcgPyBtYXBmbihPW2ldLCBpKSA6IE9baV07XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmVzdWx0O1xuXHQgIH07XG5cblx0ICB2YXIgJG9mID0gZnVuY3Rpb24gb2YoLyogLi4uaXRlbXMgKi8pIHtcblx0ICAgIHZhciBpbmRleCA9IDA7XG5cdCAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcblx0ICAgIHZhciByZXN1bHQgPSBhbGxvY2F0ZSh0aGlzLCBsZW5ndGgpO1xuXHQgICAgd2hpbGUgKGxlbmd0aCA+IGluZGV4KSByZXN1bHRbaW5kZXhdID0gYXJndW1lbnRzW2luZGV4KytdO1xuXHQgICAgcmV0dXJuIHJlc3VsdDtcblx0ICB9O1xuXG5cdCAgLy8gaU9TIFNhZmFyaSA2LnggZmFpbHMgaGVyZVxuXHQgIHZhciBUT19MT0NBTEVfQlVHID0gISFVaW50OEFycmF5ICYmIGZhaWxzKGZ1bmN0aW9uICgpIHsgYXJyYXlUb0xvY2FsZVN0cmluZy5jYWxsKG5ldyBVaW50OEFycmF5KDEpKTsgfSk7XG5cblx0ICB2YXIgJHRvTG9jYWxlU3RyaW5nID0gZnVuY3Rpb24gdG9Mb2NhbGVTdHJpbmcoKSB7XG5cdCAgICByZXR1cm4gYXJyYXlUb0xvY2FsZVN0cmluZy5hcHBseShUT19MT0NBTEVfQlVHID8gYXJyYXlTbGljZS5jYWxsKHZhbGlkYXRlKHRoaXMpKSA6IHZhbGlkYXRlKHRoaXMpLCBhcmd1bWVudHMpO1xuXHQgIH07XG5cblx0ICB2YXIgcHJvdG8gPSB7XG5cdCAgICBjb3B5V2l0aGluOiBmdW5jdGlvbiBjb3B5V2l0aGluKHRhcmdldCwgc3RhcnQgLyogLCBlbmQgKi8pIHtcblx0ICAgICAgcmV0dXJuIGFycmF5Q29weVdpdGhpbi5jYWxsKHZhbGlkYXRlKHRoaXMpLCB0YXJnZXQsIHN0YXJ0LCBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZCk7XG5cdCAgICB9LFxuXHQgICAgZXZlcnk6IGZ1bmN0aW9uIGV2ZXJ5KGNhbGxiYWNrZm4gLyogLCB0aGlzQXJnICovKSB7XG5cdCAgICAgIHJldHVybiBhcnJheUV2ZXJ5KHZhbGlkYXRlKHRoaXMpLCBjYWxsYmFja2ZuLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG5cdCAgICB9LFxuXHQgICAgZmlsbDogZnVuY3Rpb24gZmlsbCh2YWx1ZSAvKiAsIHN0YXJ0LCBlbmQgKi8pIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXHQgICAgICByZXR1cm4gYXJyYXlGaWxsLmFwcGx5KHZhbGlkYXRlKHRoaXMpLCBhcmd1bWVudHMpO1xuXHQgICAgfSxcblx0ICAgIGZpbHRlcjogZnVuY3Rpb24gZmlsdGVyKGNhbGxiYWNrZm4gLyogLCB0aGlzQXJnICovKSB7XG5cdCAgICAgIHJldHVybiBzcGVjaWVzRnJvbUxpc3QodGhpcywgYXJyYXlGaWx0ZXIodmFsaWRhdGUodGhpcyksIGNhbGxiYWNrZm4sXG5cdCAgICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpKTtcblx0ICAgIH0sXG5cdCAgICBmaW5kOiBmdW5jdGlvbiBmaW5kKHByZWRpY2F0ZSAvKiAsIHRoaXNBcmcgKi8pIHtcblx0ICAgICAgcmV0dXJuIGFycmF5RmluZCh2YWxpZGF0ZSh0aGlzKSwgcHJlZGljYXRlLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG5cdCAgICB9LFxuXHQgICAgZmluZEluZGV4OiBmdW5jdGlvbiBmaW5kSW5kZXgocHJlZGljYXRlIC8qICwgdGhpc0FyZyAqLykge1xuXHQgICAgICByZXR1cm4gYXJyYXlGaW5kSW5kZXgodmFsaWRhdGUodGhpcyksIHByZWRpY2F0ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuXHQgICAgfSxcblx0ICAgIGZvckVhY2g6IGZ1bmN0aW9uIGZvckVhY2goY2FsbGJhY2tmbiAvKiAsIHRoaXNBcmcgKi8pIHtcblx0ICAgICAgYXJyYXlGb3JFYWNoKHZhbGlkYXRlKHRoaXMpLCBjYWxsYmFja2ZuLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG5cdCAgICB9LFxuXHQgICAgaW5kZXhPZjogZnVuY3Rpb24gaW5kZXhPZihzZWFyY2hFbGVtZW50IC8qICwgZnJvbUluZGV4ICovKSB7XG5cdCAgICAgIHJldHVybiBhcnJheUluZGV4T2YodmFsaWRhdGUodGhpcyksIHNlYXJjaEVsZW1lbnQsIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTtcblx0ICAgIH0sXG5cdCAgICBpbmNsdWRlczogZnVuY3Rpb24gaW5jbHVkZXMoc2VhcmNoRWxlbWVudCAvKiAsIGZyb21JbmRleCAqLykge1xuXHQgICAgICByZXR1cm4gYXJyYXlJbmNsdWRlcyh2YWxpZGF0ZSh0aGlzKSwgc2VhcmNoRWxlbWVudCwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuXHQgICAgfSxcblx0ICAgIGpvaW46IGZ1bmN0aW9uIGpvaW4oc2VwYXJhdG9yKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0ICAgICAgcmV0dXJuIGFycmF5Sm9pbi5hcHBseSh2YWxpZGF0ZSh0aGlzKSwgYXJndW1lbnRzKTtcblx0ICAgIH0sXG5cdCAgICBsYXN0SW5kZXhPZjogZnVuY3Rpb24gbGFzdEluZGV4T2Yoc2VhcmNoRWxlbWVudCAvKiAsIGZyb21JbmRleCAqLykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cdCAgICAgIHJldHVybiBhcnJheUxhc3RJbmRleE9mLmFwcGx5KHZhbGlkYXRlKHRoaXMpLCBhcmd1bWVudHMpO1xuXHQgICAgfSxcblx0ICAgIG1hcDogZnVuY3Rpb24gbWFwKG1hcGZuIC8qICwgdGhpc0FyZyAqLykge1xuXHQgICAgICByZXR1cm4gJG1hcCh2YWxpZGF0ZSh0aGlzKSwgbWFwZm4sIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTtcblx0ICAgIH0sXG5cdCAgICByZWR1Y2U6IGZ1bmN0aW9uIHJlZHVjZShjYWxsYmFja2ZuIC8qICwgaW5pdGlhbFZhbHVlICovKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0ICAgICAgcmV0dXJuIGFycmF5UmVkdWNlLmFwcGx5KHZhbGlkYXRlKHRoaXMpLCBhcmd1bWVudHMpO1xuXHQgICAgfSxcblx0ICAgIHJlZHVjZVJpZ2h0OiBmdW5jdGlvbiByZWR1Y2VSaWdodChjYWxsYmFja2ZuIC8qICwgaW5pdGlhbFZhbHVlICovKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0ICAgICAgcmV0dXJuIGFycmF5UmVkdWNlUmlnaHQuYXBwbHkodmFsaWRhdGUodGhpcyksIGFyZ3VtZW50cyk7XG5cdCAgICB9LFxuXHQgICAgcmV2ZXJzZTogZnVuY3Rpb24gcmV2ZXJzZSgpIHtcblx0ICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXHQgICAgICB2YXIgbGVuZ3RoID0gdmFsaWRhdGUodGhhdCkubGVuZ3RoO1xuXHQgICAgICB2YXIgbWlkZGxlID0gTWF0aC5mbG9vcihsZW5ndGggLyAyKTtcblx0ICAgICAgdmFyIGluZGV4ID0gMDtcblx0ICAgICAgdmFyIHZhbHVlO1xuXHQgICAgICB3aGlsZSAoaW5kZXggPCBtaWRkbGUpIHtcblx0ICAgICAgICB2YWx1ZSA9IHRoYXRbaW5kZXhdO1xuXHQgICAgICAgIHRoYXRbaW5kZXgrK10gPSB0aGF0Wy0tbGVuZ3RoXTtcblx0ICAgICAgICB0aGF0W2xlbmd0aF0gPSB2YWx1ZTtcblx0ICAgICAgfSByZXR1cm4gdGhhdDtcblx0ICAgIH0sXG5cdCAgICBzb21lOiBmdW5jdGlvbiBzb21lKGNhbGxiYWNrZm4gLyogLCB0aGlzQXJnICovKSB7XG5cdCAgICAgIHJldHVybiBhcnJheVNvbWUodmFsaWRhdGUodGhpcyksIGNhbGxiYWNrZm4sIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTtcblx0ICAgIH0sXG5cdCAgICBzb3J0OiBmdW5jdGlvbiBzb3J0KGNvbXBhcmVmbikge1xuXHQgICAgICByZXR1cm4gYXJyYXlTb3J0LmNhbGwodmFsaWRhdGUodGhpcyksIGNvbXBhcmVmbik7XG5cdCAgICB9LFxuXHQgICAgc3ViYXJyYXk6IGZ1bmN0aW9uIHN1YmFycmF5KGJlZ2luLCBlbmQpIHtcblx0ICAgICAgdmFyIE8gPSB2YWxpZGF0ZSh0aGlzKTtcblx0ICAgICAgdmFyIGxlbmd0aCA9IE8ubGVuZ3RoO1xuXHQgICAgICB2YXIgJGJlZ2luID0gdG9BYnNvbHV0ZUluZGV4KGJlZ2luLCBsZW5ndGgpO1xuXHQgICAgICByZXR1cm4gbmV3IChzcGVjaWVzQ29uc3RydWN0b3IoTywgT1tERUZfQ09OU1RSVUNUT1JdKSkoXG5cdCAgICAgICAgTy5idWZmZXIsXG5cdCAgICAgICAgTy5ieXRlT2Zmc2V0ICsgJGJlZ2luICogTy5CWVRFU19QRVJfRUxFTUVOVCxcblx0ICAgICAgICB0b0xlbmd0aCgoZW5kID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiB0b0Fic29sdXRlSW5kZXgoZW5kLCBsZW5ndGgpKSAtICRiZWdpbilcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9O1xuXG5cdCAgdmFyICRzbGljZSA9IGZ1bmN0aW9uIHNsaWNlKHN0YXJ0LCBlbmQpIHtcblx0ICAgIHJldHVybiBzcGVjaWVzRnJvbUxpc3QodGhpcywgYXJyYXlTbGljZS5jYWxsKHZhbGlkYXRlKHRoaXMpLCBzdGFydCwgZW5kKSk7XG5cdCAgfTtcblxuXHQgIHZhciAkc2V0ID0gZnVuY3Rpb24gc2V0KGFycmF5TGlrZSAvKiAsIG9mZnNldCAqLykge1xuXHQgICAgdmFsaWRhdGUodGhpcyk7XG5cdCAgICB2YXIgb2Zmc2V0ID0gdG9PZmZzZXQoYXJndW1lbnRzWzFdLCAxKTtcblx0ICAgIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aDtcblx0ICAgIHZhciBzcmMgPSB0b09iamVjdChhcnJheUxpa2UpO1xuXHQgICAgdmFyIGxlbiA9IHRvTGVuZ3RoKHNyYy5sZW5ndGgpO1xuXHQgICAgdmFyIGluZGV4ID0gMDtcblx0ICAgIGlmIChsZW4gKyBvZmZzZXQgPiBsZW5ndGgpIHRocm93IFJhbmdlRXJyb3IoV1JPTkdfTEVOR1RIKTtcblx0ICAgIHdoaWxlIChpbmRleCA8IGxlbikgdGhpc1tvZmZzZXQgKyBpbmRleF0gPSBzcmNbaW5kZXgrK107XG5cdCAgfTtcblxuXHQgIHZhciAkaXRlcmF0b3JzID0ge1xuXHQgICAgZW50cmllczogZnVuY3Rpb24gZW50cmllcygpIHtcblx0ICAgICAgcmV0dXJuIGFycmF5RW50cmllcy5jYWxsKHZhbGlkYXRlKHRoaXMpKTtcblx0ICAgIH0sXG5cdCAgICBrZXlzOiBmdW5jdGlvbiBrZXlzKCkge1xuXHQgICAgICByZXR1cm4gYXJyYXlLZXlzLmNhbGwodmFsaWRhdGUodGhpcykpO1xuXHQgICAgfSxcblx0ICAgIHZhbHVlczogZnVuY3Rpb24gdmFsdWVzKCkge1xuXHQgICAgICByZXR1cm4gYXJyYXlWYWx1ZXMuY2FsbCh2YWxpZGF0ZSh0aGlzKSk7XG5cdCAgICB9XG5cdCAgfTtcblxuXHQgIHZhciBpc1RBSW5kZXggPSBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHtcblx0ICAgIHJldHVybiBpc09iamVjdCh0YXJnZXQpXG5cdCAgICAgICYmIHRhcmdldFtUWVBFRF9BUlJBWV1cblx0ICAgICAgJiYgdHlwZW9mIGtleSAhPSAnc3ltYm9sJ1xuXHQgICAgICAmJiBrZXkgaW4gdGFyZ2V0XG5cdCAgICAgICYmIFN0cmluZygra2V5KSA9PSBTdHJpbmcoa2V5KTtcblx0ICB9O1xuXHQgIHZhciAkZ2V0RGVzYyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkge1xuXHQgICAgcmV0dXJuIGlzVEFJbmRleCh0YXJnZXQsIGtleSA9IHRvUHJpbWl0aXZlKGtleSwgdHJ1ZSkpXG5cdCAgICAgID8gcHJvcGVydHlEZXNjKDIsIHRhcmdldFtrZXldKVxuXHQgICAgICA6IGdPUEQodGFyZ2V0LCBrZXkpO1xuXHQgIH07XG5cdCAgdmFyICRzZXREZXNjID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIGRlc2MpIHtcblx0ICAgIGlmIChpc1RBSW5kZXgodGFyZ2V0LCBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpKVxuXHQgICAgICAmJiBpc09iamVjdChkZXNjKVxuXHQgICAgICAmJiBoYXMoZGVzYywgJ3ZhbHVlJylcblx0ICAgICAgJiYgIWhhcyhkZXNjLCAnZ2V0Jylcblx0ICAgICAgJiYgIWhhcyhkZXNjLCAnc2V0Jylcblx0ICAgICAgLy8gVE9ETzogYWRkIHZhbGlkYXRpb24gZGVzY3JpcHRvciB3L28gY2FsbGluZyBhY2Nlc3NvcnNcblx0ICAgICAgJiYgIWRlc2MuY29uZmlndXJhYmxlXG5cdCAgICAgICYmICghaGFzKGRlc2MsICd3cml0YWJsZScpIHx8IGRlc2Mud3JpdGFibGUpXG5cdCAgICAgICYmICghaGFzKGRlc2MsICdlbnVtZXJhYmxlJykgfHwgZGVzYy5lbnVtZXJhYmxlKVxuXHQgICAgKSB7XG5cdCAgICAgIHRhcmdldFtrZXldID0gZGVzYy52YWx1ZTtcblx0ICAgICAgcmV0dXJuIHRhcmdldDtcblx0ICAgIH0gcmV0dXJuIGRQKHRhcmdldCwga2V5LCBkZXNjKTtcblx0ICB9O1xuXG5cdCAgaWYgKCFBTExfQ09OU1RSVUNUT1JTKSB7XG5cdCAgICAkR09QRC5mID0gJGdldERlc2M7XG5cdCAgICAkRFAuZiA9ICRzZXREZXNjO1xuXHQgIH1cblxuXHQgICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIUFMTF9DT05TVFJVQ1RPUlMsICdPYmplY3QnLCB7XG5cdCAgICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6ICRnZXREZXNjLFxuXHQgICAgZGVmaW5lUHJvcGVydHk6ICRzZXREZXNjXG5cdCAgfSk7XG5cblx0ICBpZiAoZmFpbHMoZnVuY3Rpb24gKCkgeyBhcnJheVRvU3RyaW5nLmNhbGwoe30pOyB9KSkge1xuXHQgICAgYXJyYXlUb1N0cmluZyA9IGFycmF5VG9Mb2NhbGVTdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcblx0ICAgICAgcmV0dXJuIGFycmF5Sm9pbi5jYWxsKHRoaXMpO1xuXHQgICAgfTtcblx0ICB9XG5cblx0ICB2YXIgJFR5cGVkQXJyYXlQcm90b3R5cGUkID0gcmVkZWZpbmVBbGwoe30sIHByb3RvKTtcblx0ICByZWRlZmluZUFsbCgkVHlwZWRBcnJheVByb3RvdHlwZSQsICRpdGVyYXRvcnMpO1xuXHQgIGhpZGUoJFR5cGVkQXJyYXlQcm90b3R5cGUkLCBJVEVSQVRPUiwgJGl0ZXJhdG9ycy52YWx1ZXMpO1xuXHQgIHJlZGVmaW5lQWxsKCRUeXBlZEFycmF5UHJvdG90eXBlJCwge1xuXHQgICAgc2xpY2U6ICRzbGljZSxcblx0ICAgIHNldDogJHNldCxcblx0ICAgIGNvbnN0cnVjdG9yOiBmdW5jdGlvbiAoKSB7IC8qIG5vb3AgKi8gfSxcblx0ICAgIHRvU3RyaW5nOiBhcnJheVRvU3RyaW5nLFxuXHQgICAgdG9Mb2NhbGVTdHJpbmc6ICR0b0xvY2FsZVN0cmluZ1xuXHQgIH0pO1xuXHQgIGFkZEdldHRlcigkVHlwZWRBcnJheVByb3RvdHlwZSQsICdidWZmZXInLCAnYicpO1xuXHQgIGFkZEdldHRlcigkVHlwZWRBcnJheVByb3RvdHlwZSQsICdieXRlT2Zmc2V0JywgJ28nKTtcblx0ICBhZGRHZXR0ZXIoJFR5cGVkQXJyYXlQcm90b3R5cGUkLCAnYnl0ZUxlbmd0aCcsICdsJyk7XG5cdCAgYWRkR2V0dGVyKCRUeXBlZEFycmF5UHJvdG90eXBlJCwgJ2xlbmd0aCcsICdlJyk7XG5cdCAgZFAoJFR5cGVkQXJyYXlQcm90b3R5cGUkLCBUQUcsIHtcblx0ICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpc1tUWVBFRF9BUlJBWV07IH1cblx0ICB9KTtcblxuXHQgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtc3RhdGVtZW50c1xuXHQgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEtFWSwgQllURVMsIHdyYXBwZXIsIENMQU1QRUQpIHtcblx0ICAgIENMQU1QRUQgPSAhIUNMQU1QRUQ7XG5cdCAgICB2YXIgTkFNRSA9IEtFWSArIChDTEFNUEVEID8gJ0NsYW1wZWQnIDogJycpICsgJ0FycmF5Jztcblx0ICAgIHZhciBHRVRURVIgPSAnZ2V0JyArIEtFWTtcblx0ICAgIHZhciBTRVRURVIgPSAnc2V0JyArIEtFWTtcblx0ICAgIHZhciBUeXBlZEFycmF5ID0gZ2xvYmFsW05BTUVdO1xuXHQgICAgdmFyIEJhc2UgPSBUeXBlZEFycmF5IHx8IHt9O1xuXHQgICAgdmFyIFRBQyA9IFR5cGVkQXJyYXkgJiYgZ2V0UHJvdG90eXBlT2YoVHlwZWRBcnJheSk7XG5cdCAgICB2YXIgRk9SQ0VEID0gIVR5cGVkQXJyYXkgfHwgISR0eXBlZC5BQlY7XG5cdCAgICB2YXIgTyA9IHt9O1xuXHQgICAgdmFyIFR5cGVkQXJyYXlQcm90b3R5cGUgPSBUeXBlZEFycmF5ICYmIFR5cGVkQXJyYXlbUFJPVE9UWVBFXTtcblx0ICAgIHZhciBnZXR0ZXIgPSBmdW5jdGlvbiAodGhhdCwgaW5kZXgpIHtcblx0ICAgICAgdmFyIGRhdGEgPSB0aGF0Ll9kO1xuXHQgICAgICByZXR1cm4gZGF0YS52W0dFVFRFUl0oaW5kZXggKiBCWVRFUyArIGRhdGEubywgTElUVExFX0VORElBTik7XG5cdCAgICB9O1xuXHQgICAgdmFyIHNldHRlciA9IGZ1bmN0aW9uICh0aGF0LCBpbmRleCwgdmFsdWUpIHtcblx0ICAgICAgdmFyIGRhdGEgPSB0aGF0Ll9kO1xuXHQgICAgICBpZiAoQ0xBTVBFRCkgdmFsdWUgPSAodmFsdWUgPSBNYXRoLnJvdW5kKHZhbHVlKSkgPCAwID8gMCA6IHZhbHVlID4gMHhmZiA/IDB4ZmYgOiB2YWx1ZSAmIDB4ZmY7XG5cdCAgICAgIGRhdGEudltTRVRURVJdKGluZGV4ICogQllURVMgKyBkYXRhLm8sIHZhbHVlLCBMSVRUTEVfRU5ESUFOKTtcblx0ICAgIH07XG5cdCAgICB2YXIgYWRkRWxlbWVudCA9IGZ1bmN0aW9uICh0aGF0LCBpbmRleCkge1xuXHQgICAgICBkUCh0aGF0LCBpbmRleCwge1xuXHQgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgcmV0dXJuIGdldHRlcih0aGlzLCBpbmRleCk7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgICAgICAgcmV0dXJuIHNldHRlcih0aGlzLCBpbmRleCwgdmFsdWUpO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuXHQgICAgICB9KTtcblx0ICAgIH07XG5cdCAgICBpZiAoRk9SQ0VEKSB7XG5cdCAgICAgIFR5cGVkQXJyYXkgPSB3cmFwcGVyKGZ1bmN0aW9uICh0aGF0LCBkYXRhLCAkb2Zmc2V0LCAkbGVuZ3RoKSB7XG5cdCAgICAgICAgYW5JbnN0YW5jZSh0aGF0LCBUeXBlZEFycmF5LCBOQU1FLCAnX2QnKTtcblx0ICAgICAgICB2YXIgaW5kZXggPSAwO1xuXHQgICAgICAgIHZhciBvZmZzZXQgPSAwO1xuXHQgICAgICAgIHZhciBidWZmZXIsIGJ5dGVMZW5ndGgsIGxlbmd0aCwga2xhc3M7XG5cdCAgICAgICAgaWYgKCFpc09iamVjdChkYXRhKSkge1xuXHQgICAgICAgICAgbGVuZ3RoID0gdG9JbmRleChkYXRhKTtcblx0ICAgICAgICAgIGJ5dGVMZW5ndGggPSBsZW5ndGggKiBCWVRFUztcblx0ICAgICAgICAgIGJ1ZmZlciA9IG5ldyAkQXJyYXlCdWZmZXIoYnl0ZUxlbmd0aCk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChkYXRhIGluc3RhbmNlb2YgJEFycmF5QnVmZmVyIHx8IChrbGFzcyA9IGNsYXNzb2YoZGF0YSkpID09IEFSUkFZX0JVRkZFUiB8fCBrbGFzcyA9PSBTSEFSRURfQlVGRkVSKSB7XG5cdCAgICAgICAgICBidWZmZXIgPSBkYXRhO1xuXHQgICAgICAgICAgb2Zmc2V0ID0gdG9PZmZzZXQoJG9mZnNldCwgQllURVMpO1xuXHQgICAgICAgICAgdmFyICRsZW4gPSBkYXRhLmJ5dGVMZW5ndGg7XG5cdCAgICAgICAgICBpZiAoJGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgIGlmICgkbGVuICUgQllURVMpIHRocm93IFJhbmdlRXJyb3IoV1JPTkdfTEVOR1RIKTtcblx0ICAgICAgICAgICAgYnl0ZUxlbmd0aCA9ICRsZW4gLSBvZmZzZXQ7XG5cdCAgICAgICAgICAgIGlmIChieXRlTGVuZ3RoIDwgMCkgdGhyb3cgUmFuZ2VFcnJvcihXUk9OR19MRU5HVEgpO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgYnl0ZUxlbmd0aCA9IHRvTGVuZ3RoKCRsZW5ndGgpICogQllURVM7XG5cdCAgICAgICAgICAgIGlmIChieXRlTGVuZ3RoICsgb2Zmc2V0ID4gJGxlbikgdGhyb3cgUmFuZ2VFcnJvcihXUk9OR19MRU5HVEgpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgbGVuZ3RoID0gYnl0ZUxlbmd0aCAvIEJZVEVTO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoVFlQRURfQVJSQVkgaW4gZGF0YSkge1xuXHQgICAgICAgICAgcmV0dXJuIGZyb21MaXN0KFR5cGVkQXJyYXksIGRhdGEpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICByZXR1cm4gJGZyb20uY2FsbChUeXBlZEFycmF5LCBkYXRhKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaGlkZSh0aGF0LCAnX2QnLCB7XG5cdCAgICAgICAgICBiOiBidWZmZXIsXG5cdCAgICAgICAgICBvOiBvZmZzZXQsXG5cdCAgICAgICAgICBsOiBieXRlTGVuZ3RoLFxuXHQgICAgICAgICAgZTogbGVuZ3RoLFxuXHQgICAgICAgICAgdjogbmV3ICREYXRhVmlldyhidWZmZXIpXG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSBhZGRFbGVtZW50KHRoYXQsIGluZGV4KyspO1xuXHQgICAgICB9KTtcblx0ICAgICAgVHlwZWRBcnJheVByb3RvdHlwZSA9IFR5cGVkQXJyYXlbUFJPVE9UWVBFXSA9IGNyZWF0ZSgkVHlwZWRBcnJheVByb3RvdHlwZSQpO1xuXHQgICAgICBoaWRlKFR5cGVkQXJyYXlQcm90b3R5cGUsICdjb25zdHJ1Y3RvcicsIFR5cGVkQXJyYXkpO1xuXHQgICAgfSBlbHNlIGlmICghZmFpbHMoZnVuY3Rpb24gKCkge1xuXHQgICAgICBUeXBlZEFycmF5KDEpO1xuXHQgICAgfSkgfHwgIWZhaWxzKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgbmV3IFR5cGVkQXJyYXkoLTEpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ld1xuXHQgICAgfSkgfHwgISRpdGVyRGV0ZWN0KGZ1bmN0aW9uIChpdGVyKSB7XG5cdCAgICAgIG5ldyBUeXBlZEFycmF5KCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3XG5cdCAgICAgIG5ldyBUeXBlZEFycmF5KG51bGwpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ld1xuXHQgICAgICBuZXcgVHlwZWRBcnJheSgxLjUpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ld1xuXHQgICAgICBuZXcgVHlwZWRBcnJheShpdGVyKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXdcblx0ICAgIH0sIHRydWUpKSB7XG5cdCAgICAgIFR5cGVkQXJyYXkgPSB3cmFwcGVyKGZ1bmN0aW9uICh0aGF0LCBkYXRhLCAkb2Zmc2V0LCAkbGVuZ3RoKSB7XG5cdCAgICAgICAgYW5JbnN0YW5jZSh0aGF0LCBUeXBlZEFycmF5LCBOQU1FKTtcblx0ICAgICAgICB2YXIga2xhc3M7XG5cdCAgICAgICAgLy8gYHdzYCBtb2R1bGUgYnVnLCB0ZW1wb3JhcmlseSByZW1vdmUgdmFsaWRhdGlvbiBsZW5ndGggZm9yIFVpbnQ4QXJyYXlcblx0ICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vd2Vic29ja2V0cy93cy9wdWxsLzY0NVxuXHQgICAgICAgIGlmICghaXNPYmplY3QoZGF0YSkpIHJldHVybiBuZXcgQmFzZSh0b0luZGV4KGRhdGEpKTtcblx0ICAgICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mICRBcnJheUJ1ZmZlciB8fCAoa2xhc3MgPSBjbGFzc29mKGRhdGEpKSA9PSBBUlJBWV9CVUZGRVIgfHwga2xhc3MgPT0gU0hBUkVEX0JVRkZFUikge1xuXHQgICAgICAgICAgcmV0dXJuICRsZW5ndGggIT09IHVuZGVmaW5lZFxuXHQgICAgICAgICAgICA/IG5ldyBCYXNlKGRhdGEsIHRvT2Zmc2V0KCRvZmZzZXQsIEJZVEVTKSwgJGxlbmd0aClcblx0ICAgICAgICAgICAgOiAkb2Zmc2V0ICE9PSB1bmRlZmluZWRcblx0ICAgICAgICAgICAgICA/IG5ldyBCYXNlKGRhdGEsIHRvT2Zmc2V0KCRvZmZzZXQsIEJZVEVTKSlcblx0ICAgICAgICAgICAgICA6IG5ldyBCYXNlKGRhdGEpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoVFlQRURfQVJSQVkgaW4gZGF0YSkgcmV0dXJuIGZyb21MaXN0KFR5cGVkQXJyYXksIGRhdGEpO1xuXHQgICAgICAgIHJldHVybiAkZnJvbS5jYWxsKFR5cGVkQXJyYXksIGRhdGEpO1xuXHQgICAgICB9KTtcblx0ICAgICAgYXJyYXlGb3JFYWNoKFRBQyAhPT0gRnVuY3Rpb24ucHJvdG90eXBlID8gZ09QTihCYXNlKS5jb25jYXQoZ09QTihUQUMpKSA6IGdPUE4oQmFzZSksIGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgICBpZiAoIShrZXkgaW4gVHlwZWRBcnJheSkpIGhpZGUoVHlwZWRBcnJheSwga2V5LCBCYXNlW2tleV0pO1xuXHQgICAgICB9KTtcblx0ICAgICAgVHlwZWRBcnJheVtQUk9UT1RZUEVdID0gVHlwZWRBcnJheVByb3RvdHlwZTtcblx0ICAgICAgaWYgKCFMSUJSQVJZKSBUeXBlZEFycmF5UHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVHlwZWRBcnJheTtcblx0ICAgIH1cblx0ICAgIHZhciAkbmF0aXZlSXRlcmF0b3IgPSBUeXBlZEFycmF5UHJvdG90eXBlW0lURVJBVE9SXTtcblx0ICAgIHZhciBDT1JSRUNUX0lURVJfTkFNRSA9ICEhJG5hdGl2ZUl0ZXJhdG9yXG5cdCAgICAgICYmICgkbmF0aXZlSXRlcmF0b3IubmFtZSA9PSAndmFsdWVzJyB8fCAkbmF0aXZlSXRlcmF0b3IubmFtZSA9PSB1bmRlZmluZWQpO1xuXHQgICAgdmFyICRpdGVyYXRvciA9ICRpdGVyYXRvcnMudmFsdWVzO1xuXHQgICAgaGlkZShUeXBlZEFycmF5LCBUWVBFRF9DT05TVFJVQ1RPUiwgdHJ1ZSk7XG5cdCAgICBoaWRlKFR5cGVkQXJyYXlQcm90b3R5cGUsIFRZUEVEX0FSUkFZLCBOQU1FKTtcblx0ICAgIGhpZGUoVHlwZWRBcnJheVByb3RvdHlwZSwgVklFVywgdHJ1ZSk7XG5cdCAgICBoaWRlKFR5cGVkQXJyYXlQcm90b3R5cGUsIERFRl9DT05TVFJVQ1RPUiwgVHlwZWRBcnJheSk7XG5cblx0ICAgIGlmIChDTEFNUEVEID8gbmV3IFR5cGVkQXJyYXkoMSlbVEFHXSAhPSBOQU1FIDogIShUQUcgaW4gVHlwZWRBcnJheVByb3RvdHlwZSkpIHtcblx0ICAgICAgZFAoVHlwZWRBcnJheVByb3RvdHlwZSwgVEFHLCB7XG5cdCAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBOQU1FOyB9XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXG5cdCAgICBPW05BTUVdID0gVHlwZWRBcnJheTtcblxuXHQgICAgJGV4cG9ydCgkZXhwb3J0LkcgKyAkZXhwb3J0LlcgKyAkZXhwb3J0LkYgKiAoVHlwZWRBcnJheSAhPSBCYXNlKSwgTyk7XG5cblx0ICAgICRleHBvcnQoJGV4cG9ydC5TLCBOQU1FLCB7XG5cdCAgICAgIEJZVEVTX1BFUl9FTEVNRU5UOiBCWVRFU1xuXHQgICAgfSk7XG5cblx0ICAgICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogZmFpbHMoZnVuY3Rpb24gKCkgeyBCYXNlLm9mLmNhbGwoVHlwZWRBcnJheSwgMSk7IH0pLCBOQU1FLCB7XG5cdCAgICAgIGZyb206ICRmcm9tLFxuXHQgICAgICBvZjogJG9mXG5cdCAgICB9KTtcblxuXHQgICAgaWYgKCEoQllURVNfUEVSX0VMRU1FTlQgaW4gVHlwZWRBcnJheVByb3RvdHlwZSkpIGhpZGUoVHlwZWRBcnJheVByb3RvdHlwZSwgQllURVNfUEVSX0VMRU1FTlQsIEJZVEVTKTtcblxuXHQgICAgJGV4cG9ydCgkZXhwb3J0LlAsIE5BTUUsIHByb3RvKTtcblxuXHQgICAgc2V0U3BlY2llcyhOQU1FKTtcblxuXHQgICAgJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LkYgKiBGT1JDRURfU0VULCBOQU1FLCB7IHNldDogJHNldCB9KTtcblxuXHQgICAgJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LkYgKiAhQ09SUkVDVF9JVEVSX05BTUUsIE5BTUUsICRpdGVyYXRvcnMpO1xuXG5cdCAgICBpZiAoIUxJQlJBUlkgJiYgVHlwZWRBcnJheVByb3RvdHlwZS50b1N0cmluZyAhPSBhcnJheVRvU3RyaW5nKSBUeXBlZEFycmF5UHJvdG90eXBlLnRvU3RyaW5nID0gYXJyYXlUb1N0cmluZztcblxuXHQgICAgJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LkYgKiBmYWlscyhmdW5jdGlvbiAoKSB7XG5cdCAgICAgIG5ldyBUeXBlZEFycmF5KDEpLnNsaWNlKCk7XG5cdCAgICB9KSwgTkFNRSwgeyBzbGljZTogJHNsaWNlIH0pO1xuXG5cdCAgICAkZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIChmYWlscyhmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiBbMSwgMl0udG9Mb2NhbGVTdHJpbmcoKSAhPSBuZXcgVHlwZWRBcnJheShbMSwgMl0pLnRvTG9jYWxlU3RyaW5nKCk7XG5cdCAgICB9KSB8fCAhZmFpbHMoZnVuY3Rpb24gKCkge1xuXHQgICAgICBUeXBlZEFycmF5UHJvdG90eXBlLnRvTG9jYWxlU3RyaW5nLmNhbGwoWzEsIDJdKTtcblx0ICAgIH0pKSwgTkFNRSwgeyB0b0xvY2FsZVN0cmluZzogJHRvTG9jYWxlU3RyaW5nIH0pO1xuXG5cdCAgICBJdGVyYXRvcnNbTkFNRV0gPSBDT1JSRUNUX0lURVJfTkFNRSA/ICRuYXRpdmVJdGVyYXRvciA6ICRpdGVyYXRvcjtcblx0ICAgIGlmICghTElCUkFSWSAmJiAhQ09SUkVDVF9JVEVSX05BTUUpIGhpZGUoVHlwZWRBcnJheVByb3RvdHlwZSwgSVRFUkFUT1IsICRpdGVyYXRvcik7XG5cdCAgfTtcblx0fSBlbHNlIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9O1xuXHR9KTtcblxuXHRfdHlwZWRBcnJheSgnSW50OCcsIDEsIGZ1bmN0aW9uIChpbml0KSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIEludDhBcnJheShkYXRhLCBieXRlT2Zmc2V0LCBsZW5ndGgpIHtcblx0ICAgIHJldHVybiBpbml0KHRoaXMsIGRhdGEsIGJ5dGVPZmZzZXQsIGxlbmd0aCk7XG5cdCAgfTtcblx0fSk7XG5cblx0X3R5cGVkQXJyYXkoJ1VpbnQ4JywgMSwgZnVuY3Rpb24gKGluaXQpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gVWludDhBcnJheShkYXRhLCBieXRlT2Zmc2V0LCBsZW5ndGgpIHtcblx0ICAgIHJldHVybiBpbml0KHRoaXMsIGRhdGEsIGJ5dGVPZmZzZXQsIGxlbmd0aCk7XG5cdCAgfTtcblx0fSk7XG5cblx0X3R5cGVkQXJyYXkoJ1VpbnQ4JywgMSwgZnVuY3Rpb24gKGluaXQpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gVWludDhDbGFtcGVkQXJyYXkoZGF0YSwgYnl0ZU9mZnNldCwgbGVuZ3RoKSB7XG5cdCAgICByZXR1cm4gaW5pdCh0aGlzLCBkYXRhLCBieXRlT2Zmc2V0LCBsZW5ndGgpO1xuXHQgIH07XG5cdH0sIHRydWUpO1xuXG5cdF90eXBlZEFycmF5KCdJbnQxNicsIDIsIGZ1bmN0aW9uIChpbml0KSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIEludDE2QXJyYXkoZGF0YSwgYnl0ZU9mZnNldCwgbGVuZ3RoKSB7XG5cdCAgICByZXR1cm4gaW5pdCh0aGlzLCBkYXRhLCBieXRlT2Zmc2V0LCBsZW5ndGgpO1xuXHQgIH07XG5cdH0pO1xuXG5cdF90eXBlZEFycmF5KCdVaW50MTYnLCAyLCBmdW5jdGlvbiAoaW5pdCkge1xuXHQgIHJldHVybiBmdW5jdGlvbiBVaW50MTZBcnJheShkYXRhLCBieXRlT2Zmc2V0LCBsZW5ndGgpIHtcblx0ICAgIHJldHVybiBpbml0KHRoaXMsIGRhdGEsIGJ5dGVPZmZzZXQsIGxlbmd0aCk7XG5cdCAgfTtcblx0fSk7XG5cblx0X3R5cGVkQXJyYXkoJ0ludDMyJywgNCwgZnVuY3Rpb24gKGluaXQpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gSW50MzJBcnJheShkYXRhLCBieXRlT2Zmc2V0LCBsZW5ndGgpIHtcblx0ICAgIHJldHVybiBpbml0KHRoaXMsIGRhdGEsIGJ5dGVPZmZzZXQsIGxlbmd0aCk7XG5cdCAgfTtcblx0fSk7XG5cblx0X3R5cGVkQXJyYXkoJ1VpbnQzMicsIDQsIGZ1bmN0aW9uIChpbml0KSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIFVpbnQzMkFycmF5KGRhdGEsIGJ5dGVPZmZzZXQsIGxlbmd0aCkge1xuXHQgICAgcmV0dXJuIGluaXQodGhpcywgZGF0YSwgYnl0ZU9mZnNldCwgbGVuZ3RoKTtcblx0ICB9O1xuXHR9KTtcblxuXHRfdHlwZWRBcnJheSgnRmxvYXQzMicsIDQsIGZ1bmN0aW9uIChpbml0KSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIEZsb2F0MzJBcnJheShkYXRhLCBieXRlT2Zmc2V0LCBsZW5ndGgpIHtcblx0ICAgIHJldHVybiBpbml0KHRoaXMsIGRhdGEsIGJ5dGVPZmZzZXQsIGxlbmd0aCk7XG5cdCAgfTtcblx0fSk7XG5cblx0X3R5cGVkQXJyYXkoJ0Zsb2F0NjQnLCA4LCBmdW5jdGlvbiAoaW5pdCkge1xuXHQgIHJldHVybiBmdW5jdGlvbiBGbG9hdDY0QXJyYXkoZGF0YSwgYnl0ZU9mZnNldCwgbGVuZ3RoKSB7XG5cdCAgICByZXR1cm4gaW5pdCh0aGlzLCBkYXRhLCBieXRlT2Zmc2V0LCBsZW5ndGgpO1xuXHQgIH07XG5cdH0pO1xuXG5cdHZhciBlczIwMTdUeXBlZEFycmF5cyA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuXHR9KTtcblxuXHR1bndyYXBFeHBvcnRzKGVzMjAxN1R5cGVkQXJyYXlzKTtcblxuXHRfZXhwb3J0KF9leHBvcnQuUCArIF9leHBvcnQuUiwgJ1Byb21pc2UnLCB7ICdmaW5hbGx5JzogZnVuY3Rpb24gKG9uRmluYWxseSkge1xuXHQgIHZhciBDID0gX3NwZWNpZXNDb25zdHJ1Y3Rvcih0aGlzLCBfY29yZS5Qcm9taXNlIHx8IF9nbG9iYWwuUHJvbWlzZSk7XG5cdCAgdmFyIGlzRnVuY3Rpb24gPSB0eXBlb2Ygb25GaW5hbGx5ID09ICdmdW5jdGlvbic7XG5cdCAgcmV0dXJuIHRoaXMudGhlbihcblx0ICAgIGlzRnVuY3Rpb24gPyBmdW5jdGlvbiAoeCkge1xuXHQgICAgICByZXR1cm4gX3Byb21pc2VSZXNvbHZlKEMsIG9uRmluYWxseSgpKS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHg7IH0pO1xuXHQgICAgfSA6IG9uRmluYWxseSxcblx0ICAgIGlzRnVuY3Rpb24gPyBmdW5jdGlvbiAoZSkge1xuXHQgICAgICByZXR1cm4gX3Byb21pc2VSZXNvbHZlKEMsIG9uRmluYWxseSgpKS50aGVuKGZ1bmN0aW9uICgpIHsgdGhyb3cgZTsgfSk7XG5cdCAgICB9IDogb25GaW5hbGx5XG5cdCAgKTtcblx0fSB9KTtcblxuXHR2YXIgX2ZpbmFsbHkgPSBfY29yZS5Qcm9taXNlWydmaW5hbGx5J107XG5cblx0dmFyIGVzMjAxOFByb21pc2UgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcblx0fSk7XG5cblx0dW53cmFwRXhwb3J0cyhlczIwMThQcm9taXNlKTtcblxuXHR2YXIgbGliID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykge1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5cdH0pO1xuXG5cdHZhciBpbmRleCA9IHVud3JhcEV4cG9ydHMobGliKTtcblxuXHRyZXR1cm4gaW5kZXg7XG5cbn0oKSk7XG4iLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgZ2xvYmFsLCBkZWZpbmUsIFN5c3RlbSwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG52YXIgX19leHRlbmRzO1xyXG52YXIgX19hc3NpZ247XHJcbnZhciBfX3Jlc3Q7XHJcbnZhciBfX2RlY29yYXRlO1xyXG52YXIgX19wYXJhbTtcclxudmFyIF9fbWV0YWRhdGE7XHJcbnZhciBfX2F3YWl0ZXI7XHJcbnZhciBfX2dlbmVyYXRvcjtcclxudmFyIF9fZXhwb3J0U3RhcjtcclxudmFyIF9fdmFsdWVzO1xyXG52YXIgX19yZWFkO1xyXG52YXIgX19zcHJlYWQ7XHJcbnZhciBfX2F3YWl0O1xyXG52YXIgX19hc3luY0dlbmVyYXRvcjtcclxudmFyIF9fYXN5bmNEZWxlZ2F0b3I7XHJcbnZhciBfX2FzeW5jVmFsdWVzO1xyXG52YXIgX19tYWtlVGVtcGxhdGVPYmplY3Q7XHJcbnZhciBfX2ltcG9ydFN0YXI7XHJcbnZhciBfX2ltcG9ydERlZmF1bHQ7XHJcbihmdW5jdGlvbiAoZmFjdG9yeSkge1xyXG4gICAgdmFyIHJvb3QgPSB0eXBlb2YgZ2xvYmFsID09PSBcIm9iamVjdFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgPT09IFwib2JqZWN0XCIgPyBzZWxmIDogdHlwZW9mIHRoaXMgPT09IFwib2JqZWN0XCIgPyB0aGlzIDoge307XHJcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcclxuICAgICAgICBkZWZpbmUoXCJ0c2xpYlwiLCBbXCJleHBvcnRzXCJdLCBmdW5jdGlvbiAoZXhwb3J0cykgeyBmYWN0b3J5KGNyZWF0ZUV4cG9ydGVyKHJvb3QsIGNyZWF0ZUV4cG9ydGVyKGV4cG9ydHMpKSk7IH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICBmYWN0b3J5KGNyZWF0ZUV4cG9ydGVyKHJvb3QsIGNyZWF0ZUV4cG9ydGVyKG1vZHVsZS5leHBvcnRzKSkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZmFjdG9yeShjcmVhdGVFeHBvcnRlcihyb290KSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBjcmVhdGVFeHBvcnRlcihleHBvcnRzLCBwcmV2aW91cykge1xyXG4gICAgICAgIGlmIChleHBvcnRzICE9PSByb290KSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgT2JqZWN0LmNyZWF0ZSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoaWQsIHYpIHsgcmV0dXJuIGV4cG9ydHNbaWRdID0gcHJldmlvdXMgPyBwcmV2aW91cyhpZCwgdikgOiB2OyB9O1xyXG4gICAgfVxyXG59KVxyXG4oZnVuY3Rpb24gKGV4cG9ydGVyKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuXHJcbiAgICBfX2V4dGVuZHMgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxuXHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIF9fcmVzdCA9IGZ1bmN0aW9uIChzLCBlKSB7XHJcbiAgICAgICAgdmFyIHQgPSB7fTtcclxuICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMClcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfTtcclxuXHJcbiAgICBfX2RlY29yYXRlID0gZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICAgICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgICAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICAgICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxuICAgIH07XHJcblxyXG4gICAgX19wYXJhbSA9IGZ1bmN0aW9uIChwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxuICAgIH07XHJcblxyXG4gICAgX19tZXRhZGF0YSA9IGZ1bmN0aW9uIChtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIF9fYXdhaXRlciA9IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgICAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBfX2dlbmVyYXRvciA9IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XHJcbiAgICAgICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgICAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgICAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIF9fZXhwb3J0U3RhciA9IGZ1bmN0aW9uIChtLCBleHBvcnRzKSB7XHJcbiAgICAgICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG4gICAgfTtcclxuXHJcbiAgICBfX3ZhbHVlcyA9IGZ1bmN0aW9uIChvKSB7XHJcbiAgICAgICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgICAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcblxyXG4gICAgX19yZWFkID0gZnVuY3Rpb24gKG8sIG4pIHtcclxuICAgICAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICAgICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgICAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFyO1xyXG4gICAgfTtcclxuXHJcbiAgICBfX3NwcmVhZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgICAgIHJldHVybiBhcjtcclxuICAgIH07XHJcblxyXG4gICAgX19hd2FpdCA9IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbiAgICB9O1xyXG5cclxuICAgIF9fYXN5bmNHZW5lcmF0b3IgPSBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICAgICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgICAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgICAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgICAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICAgICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG4gICAgfTtcclxuXHJcbiAgICBfX2FzeW5jRGVsZWdhdG9yID0gZnVuY3Rpb24gKG8pIHtcclxuICAgICAgICB2YXIgaSwgcDtcclxuICAgICAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxuICAgIH07XHJcblxyXG4gICAgX19hc3luY1ZhbHVlcyA9IGZ1bmN0aW9uIChvKSB7XHJcbiAgICAgICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgICAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgICAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICAgICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG4gICAgfTtcclxuXHJcbiAgICBfX21ha2VUZW1wbGF0ZU9iamVjdCA9IGZ1bmN0aW9uIChjb29rZWQsIHJhdykge1xyXG4gICAgICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICAgICAgcmV0dXJuIGNvb2tlZDtcclxuICAgIH07XHJcblxyXG4gICAgX19pbXBvcnRTdGFyID0gZnVuY3Rpb24gKG1vZCkge1xyXG4gICAgICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICAgICAgcmVzdWx0W1wiZGVmYXVsdFwiXSA9IG1vZDtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuXHJcbiAgICBfX2ltcG9ydERlZmF1bHQgPSBmdW5jdGlvbiAobW9kKSB7XHJcbiAgICAgICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XHJcbiAgICB9O1xyXG5cclxuICAgIGV4cG9ydGVyKFwiX19leHRlbmRzXCIsIF9fZXh0ZW5kcyk7XHJcbiAgICBleHBvcnRlcihcIl9fYXNzaWduXCIsIF9fYXNzaWduKTtcclxuICAgIGV4cG9ydGVyKFwiX19yZXN0XCIsIF9fcmVzdCk7XHJcbiAgICBleHBvcnRlcihcIl9fZGVjb3JhdGVcIiwgX19kZWNvcmF0ZSk7XHJcbiAgICBleHBvcnRlcihcIl9fcGFyYW1cIiwgX19wYXJhbSk7XHJcbiAgICBleHBvcnRlcihcIl9fbWV0YWRhdGFcIiwgX19tZXRhZGF0YSk7XHJcbiAgICBleHBvcnRlcihcIl9fYXdhaXRlclwiLCBfX2F3YWl0ZXIpO1xyXG4gICAgZXhwb3J0ZXIoXCJfX2dlbmVyYXRvclwiLCBfX2dlbmVyYXRvcik7XHJcbiAgICBleHBvcnRlcihcIl9fZXhwb3J0U3RhclwiLCBfX2V4cG9ydFN0YXIpO1xyXG4gICAgZXhwb3J0ZXIoXCJfX3ZhbHVlc1wiLCBfX3ZhbHVlcyk7XHJcbiAgICBleHBvcnRlcihcIl9fcmVhZFwiLCBfX3JlYWQpO1xyXG4gICAgZXhwb3J0ZXIoXCJfX3NwcmVhZFwiLCBfX3NwcmVhZCk7XHJcbiAgICBleHBvcnRlcihcIl9fYXdhaXRcIiwgX19hd2FpdCk7XHJcbiAgICBleHBvcnRlcihcIl9fYXN5bmNHZW5lcmF0b3JcIiwgX19hc3luY0dlbmVyYXRvcik7XHJcbiAgICBleHBvcnRlcihcIl9fYXN5bmNEZWxlZ2F0b3JcIiwgX19hc3luY0RlbGVnYXRvcik7XHJcbiAgICBleHBvcnRlcihcIl9fYXN5bmNWYWx1ZXNcIiwgX19hc3luY1ZhbHVlcyk7XHJcbiAgICBleHBvcnRlcihcIl9fbWFrZVRlbXBsYXRlT2JqZWN0XCIsIF9fbWFrZVRlbXBsYXRlT2JqZWN0KTtcclxuICAgIGV4cG9ydGVyKFwiX19pbXBvcnRTdGFyXCIsIF9faW1wb3J0U3Rhcik7XHJcbiAgICBleHBvcnRlcihcIl9faW1wb3J0RGVmYXVsdFwiLCBfX2ltcG9ydERlZmF1bHQpO1xyXG59KTtcclxuIiwiLyohXG4gKiB2Q29uc29sZSB2My4zLjAgKGh0dHBzOi8vZ2l0aHViLmNvbS9UZW5jZW50L3ZDb25zb2xlKVxuICogXG4gKiBUZW5jZW50IGlzIHBsZWFzZWQgdG8gc3VwcG9ydCB0aGUgb3BlbiBzb3VyY2UgY29tbXVuaXR5IGJ5IG1ha2luZyB2Q29uc29sZSBhdmFpbGFibGUuXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTcgVEhMIEEyOSBMaW1pdGVkLCBhIFRlbmNlbnQgY29tcGFueS4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJWQ29uc29sZVwiLFtdLHQpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuVkNvbnNvbGU9dCgpOmUuVkNvbnNvbGU9dCgpfSh3aW5kb3csZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9e307ZnVuY3Rpb24gbyhuKXtpZih0W25dKXJldHVybiB0W25dLmV4cG9ydHM7dmFyIHI9dFtuXT17aTpuLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbbl0uY2FsbChyLmV4cG9ydHMscixyLmV4cG9ydHMsbyksci5sPSEwLHIuZXhwb3J0c31yZXR1cm4gby5tPWUsby5jPXQsby5kPWZ1bmN0aW9uKGUsdCxuKXtvLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6bn0pfSxvLnI9ZnVuY3Rpb24oZSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sby50PWZ1bmN0aW9uKGUsdCl7aWYoMSZ0JiYoZT1vKGUpKSw4JnQpcmV0dXJuIGU7aWYoNCZ0JiZcIm9iamVjdFwiPT10eXBlb2YgZSYmZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciBuPU9iamVjdC5jcmVhdGUobnVsbCk7aWYoby5yKG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmV9KSwyJnQmJlwic3RyaW5nXCIhPXR5cGVvZiBlKWZvcih2YXIgciBpbiBlKW8uZChuLHIsZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19LmJpbmQobnVsbCxyKSk7cmV0dXJuIG59LG8ubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gby5kKHQsXCJhXCIsdCksdH0sby5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxvLnA9XCJcIixvKG8ucz02KX0oW2Z1bmN0aW9uKGUsdCxvKXt2YXIgbixyLGk7cj1bdF0sdm9pZCAwPT09KGk9XCJmdW5jdGlvblwiPT10eXBlb2Yobj1mdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KGUpe3JldHVybih0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBvKGUpe3JldHVyblwiW29iamVjdCBOdW1iZXJdXCI9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX1mdW5jdGlvbiBuKGUpe3JldHVyblwiW29iamVjdCBTdHJpbmddXCI9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX1mdW5jdGlvbiByKGUpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfWZ1bmN0aW9uIGkoZSl7cmV0dXJuXCJbb2JqZWN0IEJvb2xlYW5dXCI9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX1mdW5jdGlvbiBhKGUpe3JldHVybiB2b2lkIDA9PT1lfWZ1bmN0aW9uIGwoZSl7cmV0dXJuIG51bGw9PT1lfWZ1bmN0aW9uIGMoZSl7cmV0dXJuXCJbb2JqZWN0IFN5bWJvbF1cIj09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfWZ1bmN0aW9uIHMoZSl7cmV0dXJuIShcIltvYmplY3QgT2JqZWN0XVwiIT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkmJihvKGUpfHxuKGUpfHxpKGUpfHxyKGUpfHxsKGUpfHxkKGUpfHxhKGUpfHxjKGUpKSl9ZnVuY3Rpb24gZChlKXtyZXR1cm5cIltvYmplY3QgRnVuY3Rpb25dXCI9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX1mdW5jdGlvbiB1KGUpe3ZhciB0PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKTtyZXR1cm5cIltvYmplY3QgZ2xvYmFsXVwiPT10fHxcIltvYmplY3QgV2luZG93XVwiPT10fHxcIltvYmplY3QgRE9NV2luZG93XVwiPT10fWZ1bmN0aW9uIGYoZSl7aWYoIXMoZSkmJiFyKGUpKXJldHVybltdO2lmKHIoZSkpe3ZhciB0PVtdO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSxvKXt0LnB1c2gobyl9KSx0fXJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKS5zb3J0KCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5nZXREYXRlPWZ1bmN0aW9uKGUpe3ZhciB0PWU+MD9uZXcgRGF0ZShlKTpuZXcgRGF0ZSxvPXQuZ2V0RGF0ZSgpPDEwP1wiMFwiK3QuZ2V0RGF0ZSgpOnQuZ2V0RGF0ZSgpLG49dC5nZXRNb250aCgpPDk/XCIwXCIrKHQuZ2V0TW9udGgoKSsxKTp0LmdldE1vbnRoKCkrMSxyPXQuZ2V0RnVsbFllYXIoKSxpPXQuZ2V0SG91cnMoKTwxMD9cIjBcIit0LmdldEhvdXJzKCk6dC5nZXRIb3VycygpLGE9dC5nZXRNaW51dGVzKCk8MTA/XCIwXCIrdC5nZXRNaW51dGVzKCk6dC5nZXRNaW51dGVzKCksbD10LmdldFNlY29uZHMoKTwxMD9cIjBcIit0LmdldFNlY29uZHMoKTp0LmdldFNlY29uZHMoKSxjPXQuZ2V0TWlsbGlzZWNvbmRzKCk8MTA/XCIwXCIrdC5nZXRNaWxsaXNlY29uZHMoKTp0LmdldE1pbGxpc2Vjb25kcygpO3JldHVybiBjPDEwMCYmKGM9XCIwXCIrYykse3RpbWU6K3QseWVhcjpyLG1vbnRoOm4sZGF5Om8saG91cjppLG1pbnV0ZTphLHNlY29uZDpsLG1pbGxpc2Vjb25kOmN9fSxlLmlzTnVtYmVyPW8sZS5pc1N0cmluZz1uLGUuaXNBcnJheT1yLGUuaXNCb29sZWFuPWksZS5pc1VuZGVmaW5lZD1hLGUuaXNOdWxsPWwsZS5pc1N5bWJvbD1jLGUuaXNPYmplY3Q9cyxlLmlzRnVuY3Rpb249ZCxlLmlzRWxlbWVudD1mdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiPT09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBIVE1MRWxlbWVudD9cInVuZGVmaW5lZFwiOnQoSFRNTEVsZW1lbnQpKT9lIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQ6ZSYmXCJvYmplY3RcIj09PXQoZSkmJm51bGwhPT1lJiYxPT09ZS5ub2RlVHlwZSYmXCJzdHJpbmdcIj09dHlwZW9mIGUubm9kZU5hbWV9LGUuaXNXaW5kb3c9dSxlLmlzUGxhaW5PYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIG8sbj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O2lmKCFlfHxcIm9iamVjdFwiIT09dChlKXx8ZS5ub2RlVHlwZXx8dShlKSlyZXR1cm4hMTt0cnl7aWYoZS5jb25zdHJ1Y3RvciYmIW4uY2FsbChlLFwiY29uc3RydWN0b3JcIikmJiFuLmNhbGwoZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsXCJpc1Byb3RvdHlwZU9mXCIpKXJldHVybiExfWNhdGNoKGUpe3JldHVybiExfWZvcihvIGluIGUpO3JldHVybiB2b2lkIDA9PT1vfHxuLmNhbGwoZSxvKX0sZS5odG1sRW5jb2RlPWZ1bmN0aW9uKGUpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlKSkucGFyZW50Tm9kZS5pbm5lckhUTUx9LGUuSlNPTlN0cmluZ2lmeT1mdW5jdGlvbihlKXtpZighcyhlKSYmIXIoZSkpcmV0dXJuIEpTT04uc3RyaW5naWZ5KGUpO3ZhciB0PVwie1wiLG89XCJ9XCI7cihlKSYmKHQ9XCJbXCIsbz1cIl1cIik7Zm9yKHZhciBuPXQsaT1mKGUpLGE9MDthPGkubGVuZ3RoO2ErKyl7dmFyIGw9aVthXSx1PWVbbF07dHJ5e3IoZSl8fChzKGwpfHxyKGwpfHxjKGwpP24rPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChsKTpuKz1sLG4rPVwiOiBcIikscih1KT9uKz1cIkFycmF5W1wiK3UubGVuZ3RoK1wiXVwiOnModSl8fGModSl8fGQodSk/bis9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHUpOm4rPUpTT04uc3RyaW5naWZ5KHUpLGE8aS5sZW5ndGgtMSYmKG4rPVwiLCBcIil9Y2F0Y2goZSl7Y29udGludWV9fXJldHVybiBuKz1vfSxlLmdldE9iakFsbEtleXM9ZixlLmdldE9iak5hbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5yZXBsYWNlKFwiW29iamVjdCBcIixcIlwiKS5yZXBsYWNlKFwiXVwiLFwiXCIpfSxlLnNldFN0b3JhZ2U9ZnVuY3Rpb24oZSx0KXt3aW5kb3cubG9jYWxTdG9yYWdlJiYoZT1cInZDb25zb2xlX1wiK2UsbG9jYWxTdG9yYWdlLnNldEl0ZW0oZSx0KSl9LGUuZ2V0U3RvcmFnZT1mdW5jdGlvbihlKXtpZih3aW5kb3cubG9jYWxTdG9yYWdlKXJldHVybiBlPVwidkNvbnNvbGVfXCIrZSxsb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKX19KT9uLmFwcGx5KHQscik6bil8fChlLmV4cG9ydHM9aSl9LGZ1bmN0aW9uKGUsdCxvKXt2YXIgbixyLGk7cj1bdCxvKDApLG8oMTApXSx2b2lkIDA9PT0oaT1cImZ1bmN0aW9uXCI9PXR5cGVvZihuPWZ1bmN0aW9uKG8sbixyKXtcInVzZSBzdHJpY3RcIjt2YXIgaTtPYmplY3QuZGVmaW5lUHJvcGVydHkobyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxvLmRlZmF1bHQ9dm9pZCAwLHI9KGk9cikmJmkuX19lc01vZHVsZT9pOntkZWZhdWx0Oml9O3ZhciBhPXtvbmU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD90LnF1ZXJ5U2VsZWN0b3IoZSk6ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKX0sYWxsOmZ1bmN0aW9uKGUsdCl7dmFyIG8sbj1bXTtyZXR1cm4obz10P3QucXVlcnlTZWxlY3RvckFsbChlKTpkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGUpKSYmby5sZW5ndGg+MCYmKG49QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobykpLG59LGFkZENsYXNzOmZ1bmN0aW9uKGUsdCl7aWYoZSl7KDAsbi5pc0FycmF5KShlKXx8KGU9W2VdKTtmb3IodmFyIG89MDtvPGUubGVuZ3RoO28rKyl7dmFyIHI9ZVtvXS5jbGFzc05hbWV8fFwiXCIsaT1yLnNwbGl0KFwiIFwiKTtpLmluZGV4T2YodCk+LTF8fChpLnB1c2godCksZVtvXS5jbGFzc05hbWU9aS5qb2luKFwiIFwiKSl9fX0scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oZSx0KXtpZihlKXsoMCxuLmlzQXJyYXkpKGUpfHwoZT1bZV0pO2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7bysrKXtmb3IodmFyIHI9ZVtvXS5jbGFzc05hbWUuc3BsaXQoXCIgXCIpLGk9MDtpPHIubGVuZ3RoO2krKylyW2ldPT10JiYocltpXT1cIlwiKTtlW29dLmNsYXNzTmFtZT1yLmpvaW4oXCIgXCIpLnRyaW0oKX19fSxoYXNDbGFzczpmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybiExO2Zvcih2YXIgbz1lLmNsYXNzTmFtZS5zcGxpdChcIiBcIiksbj0wO248by5sZW5ndGg7bisrKWlmKG9bbl09PXQpcmV0dXJuITA7cmV0dXJuITF9LGJpbmQ6ZnVuY3Rpb24oZSx0LG8scil7aWYoZSl7dm9pZCAwPT09ciYmKHI9ITEpLCgwLG4uaXNBcnJheSkoZSl8fChlPVtlXSk7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspZVtpXS5hZGRFdmVudExpc3RlbmVyKHQsbyxyKX19LGRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxvLG4pe2UmJmUuYWRkRXZlbnRMaXN0ZW5lcih0LGZ1bmN0aW9uKHQpe3ZhciByPWEuYWxsKG8sZSk7aWYocillOmZvcih2YXIgaT0wO2k8ci5sZW5ndGg7aSsrKWZvcih2YXIgbD10LnRhcmdldDtsOyl7aWYobD09cltpXSl7bi5jYWxsKGwsdCk7YnJlYWsgZX1pZigobD1sLnBhcmVudE5vZGUpPT1lKWJyZWFrfX0sITEpfX07YS5yZW5kZXI9ci5kZWZhdWx0O3ZhciBsPWE7by5kZWZhdWx0PWwsZS5leHBvcnRzPXQuZGVmYXVsdH0pP24uYXBwbHkodCxyKTpuKXx8KGUuZXhwb3J0cz1pKX0sZnVuY3Rpb24oZSx0LG8pe3ZhciBuLHIsaTtyPVt0XSx2b2lkIDA9PT0oaT1cImZ1bmN0aW9uXCI9PXR5cGVvZihuPWZ1bmN0aW9uKG8pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSx0KXtmb3IodmFyIG89MDtvPHQubGVuZ3RoO28rKyl7dmFyIG49dFtvXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG8uZGVmYXVsdD12b2lkIDA7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciBvPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpcIm5ld1BsdWdpblwiOyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy5pZD10LHRoaXMubmFtZT1vLHRoaXMuaXNSZWFkeT0hMSx0aGlzLmV2ZW50TGlzdD17fX1yZXR1cm4gdD1lLChvPVt7a2V5Olwib25cIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmV2ZW50TGlzdFtlXT10LHRoaXN9fSx7a2V5OlwidHJpZ2dlclwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5ldmVudExpc3RbZV0pdGhpcy5ldmVudExpc3RbZV0uY2FsbCh0aGlzLHQpO2Vsc2V7dmFyIG89XCJvblwiK2UuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrZS5zbGljZSgxKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzW29dJiZ0aGlzW29dLmNhbGwodGhpcyx0KX1yZXR1cm4gdGhpc319LHtrZXk6XCJpZFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZH0sc2V0OmZ1bmN0aW9uKGUpe2lmKCFlKXRocm93XCJQbHVnaW4gSUQgY2Fubm90IGJlIGVtcHR5XCI7dGhpcy5faWQ9ZS50b0xvd2VyQ2FzZSgpfX0se2tleTpcIm5hbWVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbmFtZX0sc2V0OmZ1bmN0aW9uKGUpe2lmKCFlKXRocm93XCJQbHVnaW4gbmFtZSBjYW5ub3QgYmUgZW1wdHlcIjt0aGlzLl9uYW1lPWV9fSx7a2V5OlwidkNvbnNvbGVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdkNvbnNvbGV8fHZvaWQgMH0sc2V0OmZ1bmN0aW9uKGUpe2lmKCFlKXRocm93XCJ2Q29uc29sZSBjYW5ub3QgYmUgZW1wdHlcIjt0aGlzLl92Q29uc29sZT1lfX1dKSYmbih0LnByb3RvdHlwZSxvKSxyJiZuKHQsciksZTt2YXIgdCxvLHJ9KCk7by5kZWZhdWx0PXIsZS5leHBvcnRzPXQuZGVmYXVsdH0pP24uYXBwbHkodCxyKTpuKXx8KGUuZXhwb3J0cz1pKX0sZnVuY3Rpb24oZSx0LG8pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gdC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbih0KXt2YXIgbz1mdW5jdGlvbihlLHQpe3ZhciBvPWVbMV18fFwiXCIsbj1lWzNdO2lmKCFuKXJldHVybiBvO2lmKHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGJ0b2Epe3ZhciByPShhPW4sXCIvKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIrYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoYSkpKSkrXCIgKi9cIiksaT1uLnNvdXJjZXMubWFwKGZ1bmN0aW9uKGUpe3JldHVyblwiLyojIHNvdXJjZVVSTD1cIituLnNvdXJjZVJvb3QrZStcIiAqL1wifSk7cmV0dXJuW29dLmNvbmNhdChpKS5jb25jYXQoW3JdKS5qb2luKFwiXFxuXCIpfXZhciBhO3JldHVybltvXS5qb2luKFwiXFxuXCIpfSh0LGUpO3JldHVybiB0WzJdP1wiQG1lZGlhIFwiK3RbMl0rXCJ7XCIrbytcIn1cIjpvfSkuam9pbihcIlwiKX0sdC5pPWZ1bmN0aW9uKGUsbyl7XCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPVtbbnVsbCxlLFwiXCJdXSk7Zm9yKHZhciBuPXt9LHI9MDtyPHRoaXMubGVuZ3RoO3IrKyl7dmFyIGk9dGhpc1tyXVswXTtudWxsIT1pJiYobltpXT0hMCl9Zm9yKHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIGE9ZVtyXTtudWxsIT1hWzBdJiZuW2FbMF1dfHwobyYmIWFbMl0/YVsyXT1vOm8mJihhWzJdPVwiKFwiK2FbMl0rXCIpIGFuZCAoXCIrbytcIilcIiksdC5wdXNoKGEpKX19LHR9fSxmdW5jdGlvbihlLHQsbyl7dmFyIG4scixpPXt9LGE9KG49ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93JiZkb2N1bWVudCYmZG9jdW1lbnQuYWxsJiYhd2luZG93LmF0b2J9LGZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXImJihyPW4uYXBwbHkodGhpcyxhcmd1bWVudHMpKSxyfSksbD1mdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gZnVuY3Rpb24oZSxvKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXJldHVybiBlKCk7aWYodm9pZCAwPT09dFtlXSl7dmFyIG49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD90LnF1ZXJ5U2VsZWN0b3IoZSk6ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKX0uY2FsbCh0aGlzLGUsbyk7aWYod2luZG93LkhUTUxJRnJhbWVFbGVtZW50JiZuIGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KXRyeXtuPW4uY29udGVudERvY3VtZW50LmhlYWR9Y2F0Y2goZSl7bj1udWxsfXRbZV09bn1yZXR1cm4gdFtlXX19KCksYz1udWxsLHM9MCxkPVtdLHU9bygxMyk7ZnVuY3Rpb24gZihlLHQpe2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7bysrKXt2YXIgbj1lW29dLHI9aVtuLmlkXTtpZihyKXtyLnJlZnMrKztmb3IodmFyIGE9MDthPHIucGFydHMubGVuZ3RoO2ErKylyLnBhcnRzW2FdKG4ucGFydHNbYV0pO2Zvcig7YTxuLnBhcnRzLmxlbmd0aDthKyspci5wYXJ0cy5wdXNoKG0obi5wYXJ0c1thXSx0KSl9ZWxzZXt2YXIgbD1bXTtmb3IoYT0wO2E8bi5wYXJ0cy5sZW5ndGg7YSsrKWwucHVzaChtKG4ucGFydHNbYV0sdCkpO2lbbi5pZF09e2lkOm4uaWQscmVmczoxLHBhcnRzOmx9fX19ZnVuY3Rpb24gdihlLHQpe2Zvcih2YXIgbz1bXSxuPXt9LHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIGk9ZVtyXSxhPXQuYmFzZT9pWzBdK3QuYmFzZTppWzBdLGw9e2NzczppWzFdLG1lZGlhOmlbMl0sc291cmNlTWFwOmlbM119O25bYV0/blthXS5wYXJ0cy5wdXNoKGwpOm8ucHVzaChuW2FdPXtpZDphLHBhcnRzOltsXX0pfXJldHVybiBvfWZ1bmN0aW9uIHAoZSx0KXt2YXIgbz1sKGUuaW5zZXJ0SW50byk7aWYoIW8pdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7dmFyIG49ZFtkLmxlbmd0aC0xXTtpZihcInRvcFwiPT09ZS5pbnNlcnRBdCluP24ubmV4dFNpYmxpbmc/by5pbnNlcnRCZWZvcmUodCxuLm5leHRTaWJsaW5nKTpvLmFwcGVuZENoaWxkKHQpOm8uaW5zZXJ0QmVmb3JlKHQsby5maXJzdENoaWxkKSxkLnB1c2godCk7ZWxzZSBpZihcImJvdHRvbVwiPT09ZS5pbnNlcnRBdClvLmFwcGVuZENoaWxkKHQpO2Vsc2V7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuaW5zZXJ0QXR8fCFlLmluc2VydEF0LmJlZm9yZSl0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTt2YXIgcj1sKGUuaW5zZXJ0QXQuYmVmb3JlLG8pO28uaW5zZXJ0QmVmb3JlKHQscil9fWZ1bmN0aW9uIGIoZSl7aWYobnVsbD09PWUucGFyZW50Tm9kZSlyZXR1cm4hMTtlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSk7dmFyIHQ9ZC5pbmRleE9mKGUpO3Q+PTAmJmQuc3BsaWNlKHQsMSl9ZnVuY3Rpb24gaChlKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7aWYodm9pZCAwPT09ZS5hdHRycy50eXBlJiYoZS5hdHRycy50eXBlPVwidGV4dC9jc3NcIiksdm9pZCAwPT09ZS5hdHRycy5ub25jZSl7dmFyIG49ZnVuY3Rpb24oKXswO3JldHVybiBvLm5jfSgpO24mJihlLmF0dHJzLm5vbmNlPW4pfXJldHVybiBnKHQsZS5hdHRycykscChlLHQpLHR9ZnVuY3Rpb24gZyhlLHQpe09iamVjdC5rZXlzKHQpLmZvckVhY2goZnVuY3Rpb24obyl7ZS5zZXRBdHRyaWJ1dGUobyx0W29dKX0pfWZ1bmN0aW9uIG0oZSx0KXt2YXIgbyxuLHIsaTtpZih0LnRyYW5zZm9ybSYmZS5jc3Mpe2lmKCEoaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnRyYW5zZm9ybT90LnRyYW5zZm9ybShlLmNzcyk6dC50cmFuc2Zvcm0uZGVmYXVsdChlLmNzcykpKXJldHVybiBmdW5jdGlvbigpe307ZS5jc3M9aX1pZih0LnNpbmdsZXRvbil7dmFyIGE9cysrO289Y3x8KGM9aCh0KSksbj13LmJpbmQobnVsbCxvLGEsITEpLHI9dy5iaW5kKG51bGwsbyxhLCEwKX1lbHNlIGUuc291cmNlTWFwJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBVUkwmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwmJlwiZnVuY3Rpb25cIj09dHlwZW9mIEJsb2ImJlwiZnVuY3Rpb25cIj09dHlwZW9mIGJ0b2E/KG89ZnVuY3Rpb24oZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7cmV0dXJuIHZvaWQgMD09PWUuYXR0cnMudHlwZSYmKGUuYXR0cnMudHlwZT1cInRleHQvY3NzXCIpLGUuYXR0cnMucmVsPVwic3R5bGVzaGVldFwiLGcodCxlLmF0dHJzKSxwKGUsdCksdH0odCksbj1mdW5jdGlvbihlLHQsbyl7dmFyIG49by5jc3Mscj1vLnNvdXJjZU1hcCxpPXZvaWQgMD09PXQuY29udmVydFRvQWJzb2x1dGVVcmxzJiZyOyh0LmNvbnZlcnRUb0Fic29sdXRlVXJsc3x8aSkmJihuPXUobikpO3ImJihuKz1cIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIrYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkocikpKSkrXCIgKi9cIik7dmFyIGE9bmV3IEJsb2IoW25dLHt0eXBlOlwidGV4dC9jc3NcIn0pLGw9ZS5ocmVmO2UuaHJlZj1VUkwuY3JlYXRlT2JqZWN0VVJMKGEpLGwmJlVSTC5yZXZva2VPYmplY3RVUkwobCl9LmJpbmQobnVsbCxvLHQpLHI9ZnVuY3Rpb24oKXtiKG8pLG8uaHJlZiYmVVJMLnJldm9rZU9iamVjdFVSTChvLmhyZWYpfSk6KG89aCh0KSxuPWZ1bmN0aW9uKGUsdCl7dmFyIG89dC5jc3Msbj10Lm1lZGlhO24mJmUuc2V0QXR0cmlidXRlKFwibWVkaWFcIixuKTtpZihlLnN0eWxlU2hlZXQpZS5zdHlsZVNoZWV0LmNzc1RleHQ9bztlbHNle2Zvcig7ZS5maXJzdENoaWxkOyllLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCk7ZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShvKSl9fS5iaW5kKG51bGwsbykscj1mdW5jdGlvbigpe2Iobyl9KTtyZXR1cm4gbihlKSxmdW5jdGlvbih0KXtpZih0KXtpZih0LmNzcz09PWUuY3NzJiZ0Lm1lZGlhPT09ZS5tZWRpYSYmdC5zb3VyY2VNYXA9PT1lLnNvdXJjZU1hcClyZXR1cm47bihlPXQpfWVsc2UgcigpfX1lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgREVCVUcmJkRFQlVHJiZcIm9iamVjdFwiIT10eXBlb2YgZG9jdW1lbnQpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpOyh0PXR8fHt9KS5hdHRycz1cIm9iamVjdFwiPT10eXBlb2YgdC5hdHRycz90LmF0dHJzOnt9LHQuc2luZ2xldG9ufHxcImJvb2xlYW5cIj09dHlwZW9mIHQuc2luZ2xldG9ufHwodC5zaW5nbGV0b249YSgpKSx0Lmluc2VydEludG98fCh0Lmluc2VydEludG89XCJoZWFkXCIpLHQuaW5zZXJ0QXR8fCh0Lmluc2VydEF0PVwiYm90dG9tXCIpO3ZhciBvPXYoZSx0KTtyZXR1cm4gZihvLHQpLGZ1bmN0aW9uKGUpe2Zvcih2YXIgbj1bXSxyPTA7cjxvLmxlbmd0aDtyKyspe3ZhciBhPW9bcl07KGw9aVthLmlkXSkucmVmcy0tLG4ucHVzaChsKX1lJiZmKHYoZSx0KSx0KTtmb3Iocj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgbDtpZigwPT09KGw9bltyXSkucmVmcyl7Zm9yKHZhciBjPTA7YzxsLnBhcnRzLmxlbmd0aDtjKyspbC5wYXJ0c1tjXSgpO2RlbGV0ZSBpW2wuaWRdfX19fTt2YXIgeSxfPSh5PVtdLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHlbZV09dCx5LmZpbHRlcihCb29sZWFuKS5qb2luKFwiXFxuXCIpfSk7ZnVuY3Rpb24gdyhlLHQsbyxuKXt2YXIgcj1vP1wiXCI6bi5jc3M7aWYoZS5zdHlsZVNoZWV0KWUuc3R5bGVTaGVldC5jc3NUZXh0PV8odCxyKTtlbHNle3ZhciBpPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHIpLGE9ZS5jaGlsZE5vZGVzO2FbdF0mJmUucmVtb3ZlQ2hpbGQoYVt0XSksYS5sZW5ndGg/ZS5pbnNlcnRCZWZvcmUoaSxhW3RdKTplLmFwcGVuZENoaWxkKGkpfX19LGZ1bmN0aW9uKGUsdCxvKXt2YXIgbixyLGk7cj1bdCxvKDApLG8oMSksbygyKSxvKDIwKSxvKDIxKSxvKDIyKV0sdm9pZCAwPT09KGk9XCJmdW5jdGlvblwiPT10eXBlb2Yobj1mdW5jdGlvbihvLG4scixpLGEsbCxjKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBzKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBkKGUpe3JldHVybihkPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiB1KGUsdCl7Zm9yKHZhciBvPTA7bzx0Lmxlbmd0aDtvKyspe3ZhciBuPXRbb107bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1mdW5jdGlvbiBmKGUsdCl7cmV0dXJuIXR8fFwib2JqZWN0XCIhPT1kKHQpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P2Z1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiBlfShlKTp0fWZ1bmN0aW9uIHYoZSl7cmV0dXJuKHY9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbihlKXtyZXR1cm4gZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihlKX0pKGUpfWZ1bmN0aW9uIHAoZSx0KXtyZXR1cm4ocD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX19wcm90b19fPXQsZX0pKGUsdCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KG8sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksby5kZWZhdWx0PXZvaWQgMCxuPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgbyBpbiBlKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG8pKXt2YXIgbj1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I/T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG8pOnt9O24uZ2V0fHxuLnNldD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLG4pOnRbb109ZVtvXX1yZXR1cm4gdC5kZWZhdWx0PWUsdH0obikscj1zKHIpLGk9cyhpKSxhPXMoYSksbD1zKGwpLGM9cyhjKTt2YXIgYj0xZTMsaD1bXSxnPXt9LG09ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlLG87IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KTtmb3IodmFyIG49YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheShuKSxpPTA7aTxuO2krKylyW2ldPWFyZ3VtZW50c1tpXTtyZXR1cm4gbz1mKHRoaXMsKGU9dih0KSkuY2FsbC5hcHBseShlLFt0aGlzXS5jb25jYXQocikpKSxoLnB1c2goby5pZCksby50cGxUYWJib3g9XCJcIixvLmFsbG93VW5mb3JtYXR0ZWRMb2c9ITAsby5pc1JlYWR5PSExLG8uaXNTaG93PSExLG8uJHRhYmJveD1udWxsLG8uY29uc29sZT17fSxvLmxvZ0xpc3Q9W10sby5pc0luQm90dG9tPSEwLG8ubWF4TG9nTnVtYmVyPWIsby5sb2dOdW1iZXI9MCxvLm1vY2tDb25zb2xlKCksb31yZXR1cm4gZnVuY3Rpb24oZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJnAoZSx0KX0odCxlKSxvPXQsKGk9W3trZXk6XCJvbkluaXRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuJHRhYmJveD1yLmRlZmF1bHQucmVuZGVyKHRoaXMudHBsVGFiYm94LHt9KSx0aGlzLnVwZGF0ZU1heExvZ051bWJlcigpfX0se2tleTpcIm9uUmVuZGVyVGFiXCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZSh0aGlzLiR0YWJib3gpfX0se2tleTpcIm9uQWRkVG9wQmFyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMsbz1bXCJBbGxcIixcIkxvZ1wiLFwiSW5mb1wiLFwiV2FyblwiLFwiRXJyb3JcIl0sbj1bXSxpPTA7aTxvLmxlbmd0aDtpKyspbi5wdXNoKHtuYW1lOm9baV0sZGF0YTp7dHlwZTpvW2ldLnRvTG93ZXJDYXNlKCl9LGNsYXNzTmFtZTpcIlwiLG9uQ2xpY2s6ZnVuY3Rpb24oKXtpZihyLmRlZmF1bHQuaGFzQ2xhc3ModGhpcyxcInZjLWFjdGl2ZWRcIikpcmV0dXJuITE7dC5zaG93TG9nVHlwZSh0aGlzLmRhdGFzZXQudHlwZXx8XCJhbGxcIil9fSk7blswXS5jbGFzc05hbWU9XCJ2Yy1hY3RpdmVkXCIsZShuKX19LHtrZXk6XCJvbkFkZFRvb2xcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG89W3tuYW1lOlwiQ2xlYXJcIixnbG9iYWw6ITEsb25DbGljazpmdW5jdGlvbigpe3QuY2xlYXJMb2coKSx0LnZDb25zb2xlLnRyaWdnZXJFdmVudChcImNsZWFyTG9nXCIpfX1dO2Uobyl9fSx7a2V5Olwib25SZWFkeVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLmlzUmVhZHk9ITA7dmFyIHQ9ci5kZWZhdWx0LmFsbChcIi52Yy1zdWJ0YWJcIixlLiR0YWJib3gpO3IuZGVmYXVsdC5iaW5kKHQsXCJjbGlja1wiLGZ1bmN0aW9uKG8pe2lmKG8ucHJldmVudERlZmF1bHQoKSxyLmRlZmF1bHQuaGFzQ2xhc3ModGhpcyxcInZjLWFjdGl2ZWRcIikpcmV0dXJuITE7ci5kZWZhdWx0LnJlbW92ZUNsYXNzKHQsXCJ2Yy1hY3RpdmVkXCIpLHIuZGVmYXVsdC5hZGRDbGFzcyh0aGlzLFwidmMtYWN0aXZlZFwiKTt2YXIgbj10aGlzLmRhdGFzZXQudHlwZSxpPXIuZGVmYXVsdC5vbmUoXCIudmMtbG9nXCIsZS4kdGFiYm94KTtyLmRlZmF1bHQucmVtb3ZlQ2xhc3MoaSxcInZjLWxvZy1wYXJ0bHktbG9nXCIpLHIuZGVmYXVsdC5yZW1vdmVDbGFzcyhpLFwidmMtbG9nLXBhcnRseS1pbmZvXCIpLHIuZGVmYXVsdC5yZW1vdmVDbGFzcyhpLFwidmMtbG9nLXBhcnRseS13YXJuXCIpLHIuZGVmYXVsdC5yZW1vdmVDbGFzcyhpLFwidmMtbG9nLXBhcnRseS1lcnJvclwiKSxcImFsbFwiPT1uP3IuZGVmYXVsdC5yZW1vdmVDbGFzcyhpLFwidmMtbG9nLXBhcnRseVwiKTooci5kZWZhdWx0LmFkZENsYXNzKGksXCJ2Yy1sb2ctcGFydGx5XCIpLHIuZGVmYXVsdC5hZGRDbGFzcyhpLFwidmMtbG9nLXBhcnRseS1cIituKSl9KTt2YXIgbz1yLmRlZmF1bHQub25lKFwiLnZjLWNvbnRlbnRcIik7ci5kZWZhdWx0LmJpbmQobyxcInNjcm9sbFwiLGZ1bmN0aW9uKHQpe2UuaXNTaG93JiYoby5zY3JvbGxUb3Arby5vZmZzZXRIZWlnaHQ+PW8uc2Nyb2xsSGVpZ2h0P2UuaXNJbkJvdHRvbT0hMDplLmlzSW5Cb3R0b209ITEpfSk7Zm9yKHZhciBuPTA7bjxlLmxvZ0xpc3QubGVuZ3RoO24rKyllLnByaW50TG9nKGUubG9nTGlzdFtuXSk7ZS5sb2dMaXN0PVtdfX0se2tleTpcIm9uUmVtb3ZlXCIsdmFsdWU6ZnVuY3Rpb24oKXt3aW5kb3cuY29uc29sZS5sb2c9dGhpcy5jb25zb2xlLmxvZyx3aW5kb3cuY29uc29sZS5pbmZvPXRoaXMuY29uc29sZS5pbmZvLHdpbmRvdy5jb25zb2xlLndhcm49dGhpcy5jb25zb2xlLndhcm4sd2luZG93LmNvbnNvbGUuZGVidWc9dGhpcy5jb25zb2xlLmRlYnVnLHdpbmRvdy5jb25zb2xlLmVycm9yPXRoaXMuY29uc29sZS5lcnJvcix3aW5kb3cuY29uc29sZS50aW1lPXRoaXMuY29uc29sZS50aW1lLHdpbmRvdy5jb25zb2xlLnRpbWVFbmQ9dGhpcy5jb25zb2xlLnRpbWVFbmQsd2luZG93LmNvbnNvbGUuY2xlYXI9dGhpcy5jb25zb2xlLmNsZWFyLHRoaXMuY29uc29sZT17fTt2YXIgZT1oLmluZGV4T2YodGhpcy5pZCk7ZT4tMSYmaC5zcGxpY2UoZSwxKX19LHtrZXk6XCJvblNob3dcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaXNTaG93PSEwLDE9PXRoaXMuaXNJbkJvdHRvbSYmdGhpcy5hdXRvU2Nyb2xsVG9Cb3R0b20oKX19LHtrZXk6XCJvbkhpZGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaXNTaG93PSExfX0se2tleTpcIm9uU2hvd0NvbnNvbGVcIix2YWx1ZTpmdW5jdGlvbigpezE9PXRoaXMuaXNJbkJvdHRvbSYmdGhpcy5hdXRvU2Nyb2xsVG9Cb3R0b20oKX19LHtrZXk6XCJvblVwZGF0ZU9wdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy52Q29uc29sZS5vcHRpb24ubWF4TG9nTnVtYmVyIT10aGlzLm1heExvZ051bWJlciYmKHRoaXMudXBkYXRlTWF4TG9nTnVtYmVyKCksdGhpcy5saW1pdE1heExvZ3MoKSl9fSx7a2V5OlwidXBkYXRlTWF4TG9nTnVtYmVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLm1heExvZ051bWJlcj10aGlzLnZDb25zb2xlLm9wdGlvbi5tYXhMb2dOdW1iZXJ8fGIsdGhpcy5tYXhMb2dOdW1iZXI9TWF0aC5tYXgoMSx0aGlzLm1heExvZ051bWJlcil9fSx7a2V5OlwibGltaXRNYXhMb2dzXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmlzUmVhZHkpZm9yKDt0aGlzLmxvZ051bWJlcj50aGlzLm1heExvZ051bWJlcjspe3ZhciBlPXIuZGVmYXVsdC5vbmUoXCIudmMtaXRlbVwiLHRoaXMuJHRhYmJveCk7aWYoIWUpYnJlYWs7ZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpLHRoaXMubG9nTnVtYmVyLS19fX0se2tleTpcInNob3dMb2dUeXBlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ci5kZWZhdWx0Lm9uZShcIi52Yy1sb2dcIix0aGlzLiR0YWJib3gpO3IuZGVmYXVsdC5yZW1vdmVDbGFzcyh0LFwidmMtbG9nLXBhcnRseS1sb2dcIiksci5kZWZhdWx0LnJlbW92ZUNsYXNzKHQsXCJ2Yy1sb2ctcGFydGx5LWluZm9cIiksci5kZWZhdWx0LnJlbW92ZUNsYXNzKHQsXCJ2Yy1sb2ctcGFydGx5LXdhcm5cIiksci5kZWZhdWx0LnJlbW92ZUNsYXNzKHQsXCJ2Yy1sb2ctcGFydGx5LWVycm9yXCIpLFwiYWxsXCI9PWU/ci5kZWZhdWx0LnJlbW92ZUNsYXNzKHQsXCJ2Yy1sb2ctcGFydGx5XCIpOihyLmRlZmF1bHQuYWRkQ2xhc3ModCxcInZjLWxvZy1wYXJ0bHlcIiksci5kZWZhdWx0LmFkZENsYXNzKHQsXCJ2Yy1sb2ctcGFydGx5LVwiK2UpKX19LHtrZXk6XCJhdXRvU2Nyb2xsVG9Cb3R0b21cIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudkNvbnNvbGUub3B0aW9uLmRpc2FibGVMb2dTY3JvbGxpbmd8fHRoaXMuc2Nyb2xsVG9Cb3R0b20oKX19LHtrZXk6XCJzY3JvbGxUb0JvdHRvbVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9ci5kZWZhdWx0Lm9uZShcIi52Yy1jb250ZW50XCIpO2UmJihlLnNjcm9sbFRvcD1lLnNjcm9sbEhlaWdodC1lLm9mZnNldEhlaWdodCl9fSx7a2V5OlwibW9ja0NvbnNvbGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLG89W1wibG9nXCIsXCJpbmZvXCIsXCJ3YXJuXCIsXCJkZWJ1Z1wiLFwiZXJyb3JcIl07d2luZG93LmNvbnNvbGU/KG8ubWFwKGZ1bmN0aW9uKGUpe3QuY29uc29sZVtlXT13aW5kb3cuY29uc29sZVtlXX0pLHQuY29uc29sZS50aW1lPXdpbmRvdy5jb25zb2xlLnRpbWUsdC5jb25zb2xlLnRpbWVFbmQ9d2luZG93LmNvbnNvbGUudGltZUVuZCx0LmNvbnNvbGUuY2xlYXI9d2luZG93LmNvbnNvbGUuY2xlYXIpOndpbmRvdy5jb25zb2xlPXt9LG8ubWFwKGZ1bmN0aW9uKHQpe3dpbmRvdy5jb25zb2xlW3RdPWZ1bmN0aW9uKCl7Zm9yKHZhciBvPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkobykscj0wO3I8bztyKyspbltyXT1hcmd1bWVudHNbcl07ZS5wcmludExvZyh7bG9nVHlwZTp0LGxvZ3M6bn0pfX0pO3ZhciBuPXt9O3dpbmRvdy5jb25zb2xlLnRpbWU9ZnVuY3Rpb24oZSl7bltlXT1EYXRlLm5vdygpfSx3aW5kb3cuY29uc29sZS50aW1lRW5kPWZ1bmN0aW9uKGUpe3ZhciB0PW5bZV07dD8oY29uc29sZS5sb2coZStcIjpcIixEYXRlLm5vdygpLXQrXCJtc1wiKSxkZWxldGUgbltlXSk6Y29uc29sZS5sb2coZStcIjogMG1zXCIpfSx3aW5kb3cuY29uc29sZS5jbGVhcj1mdW5jdGlvbigpe3QuY2xlYXJMb2coKTtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxvPW5ldyBBcnJheShlKSxuPTA7bjxlO24rKylvW25dPWFyZ3VtZW50c1tuXTt0LmNvbnNvbGUuY2xlYXIuYXBwbHkod2luZG93LmNvbnNvbGUsbyl9fX0se2tleTpcImNsZWFyTG9nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyLmRlZmF1bHQub25lKFwiLnZjLWxvZ1wiLHRoaXMuJHRhYmJveCkuaW5uZXJIVE1MPVwiXCIsdGhpcy5sb2dOdW1iZXI9MCxnPXt9fX0se2tleTpcInByaW50T3JpZ2luTG9nXCIsdmFsdWU6ZnVuY3Rpb24oZSl7XCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5jb25zb2xlW2UubG9nVHlwZV0mJnRoaXMuY29uc29sZVtlLmxvZ1R5cGVdLmFwcGx5KHdpbmRvdy5jb25zb2xlLGUubG9ncyl9fSx7a2V5OlwicHJpbnRMb2dcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmxvZ3N8fFtdO2lmKHQubGVuZ3RofHxlLmNvbnRlbnQpe3Q9W10uc2xpY2UuY2FsbCh0fHxbXSk7dmFyIG89L15cXFsoXFx3KylcXF0kL2kscj1cIlwiLGk9ITE7aWYobi5pc1N0cmluZyh0WzBdKSl7dmFyIGE9dFswXS5tYXRjaChvKTtudWxsIT09YSYmYS5sZW5ndGg+MCYmKHI9YVsxXS50b0xvd2VyQ2FzZSgpLGk9aC5pbmRleE9mKHIpPi0xKX1pZihyPT09dGhpcy5pZHx8ITAhPT1pJiZcImRlZmF1bHRcIj09PXRoaXMuaWQpaWYoZS5faWR8fChlLl9pZD1cIl9fdmNfXCIrTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsOCkpLGUuZGF0ZXx8KGUuZGF0ZT0rbmV3IERhdGUpLHRoaXMuaXNSZWFkeSl7bi5pc1N0cmluZyh0WzBdKSYmaSYmKHRbMF09dFswXS5yZXBsYWNlKG8sXCJcIiksXCJcIj09PXRbMF0mJnQuc2hpZnQoKSk7Zm9yKHZhciBsPXtfaWQ6ZS5faWQsbG9nVHlwZTplLmxvZ1R5cGUsbG9nVGV4dDpbXSxoYXNDb250ZW50OiEhZS5jb250ZW50LGNvdW50OjF9LGM9MDtjPHQubGVuZ3RoO2MrKyluLmlzRnVuY3Rpb24odFtjXSk/bC5sb2dUZXh0LnB1c2godFtjXS50b1N0cmluZygpKTpuLmlzT2JqZWN0KHRbY10pfHxuLmlzQXJyYXkodFtjXSk/bC5sb2dUZXh0LnB1c2gobi5KU09OU3RyaW5naWZ5KHRbY10pKTpsLmxvZ1RleHQucHVzaCh0W2NdKTtsLmxvZ1RleHQ9bC5sb2dUZXh0LmpvaW4oXCIgXCIpLGwuaGFzQ29udGVudHx8Zy5sb2dUeXBlIT09bC5sb2dUeXBlfHxnLmxvZ1RleHQhPT1sLmxvZ1RleHQ/KHRoaXMucHJpbnROZXdMb2coZSx0KSxnPWwpOnRoaXMucHJpbnRSZXBlYXRMb2coKSx0aGlzLmlzSW5Cb3R0b20mJnRoaXMuYXV0b1Njcm9sbFRvQm90dG9tKCksZS5ub09yaWdpbnx8dGhpcy5wcmludE9yaWdpbkxvZyhlKX1lbHNlIHRoaXMubG9nTGlzdC5wdXNoKGUpO2Vsc2UgZS5ub09yaWdpbnx8dGhpcy5wcmludE9yaWdpbkxvZyhlKX19fSx7a2V5OlwicHJpbnRSZXBlYXRMb2dcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXIuZGVmYXVsdC5vbmUoXCIjXCIrZy5faWQpLHQ9ci5kZWZhdWx0Lm9uZShcIi52Yy1pdGVtLXJlcGVhdFwiLGUpO3R8fCgodD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaVwiKSkuY2xhc3NOYW1lPVwidmMtaXRlbS1yZXBlYXRcIixlLmluc2VydEJlZm9yZSh0LGUubGFzdENoaWxkKSksZy5jb3VudCxnLmNvdW50KyssdC5pbm5lckhUTUw9Zy5jb3VudH19LHtrZXk6XCJwcmludE5ld0xvZ1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBvPXIuZGVmYXVsdC5yZW5kZXIoYS5kZWZhdWx0LHtfaWQ6ZS5faWQsbG9nVHlwZTplLmxvZ1R5cGUsc3R5bGU6ZS5zdHlsZXx8XCJcIn0pLGk9ci5kZWZhdWx0Lm9uZShcIi52Yy1pdGVtLWNvbnRlbnRcIixvKSxsPTA7bDx0Lmxlbmd0aDtsKyspe3ZhciBjPXZvaWQgMDt0cnl7aWYoXCJcIj09PXRbbF0pY29udGludWU7Yz1uLmlzRnVuY3Rpb24odFtsXSk/XCI8c3Bhbj4gXCIrdFtsXS50b1N0cmluZygpK1wiPC9zcGFuPlwiOm4uaXNPYmplY3QodFtsXSl8fG4uaXNBcnJheSh0W2xdKT90aGlzLmdldEZvbGRlZExpbmUodFtsXSk6XCI8c3Bhbj4gXCIrbi5odG1sRW5jb2RlKHRbbF0pLnJlcGxhY2UoL1xcbi9nLFwiPGJyLz5cIikrXCI8L3NwYW4+XCJ9Y2F0Y2goZSl7Yz1cIjxzcGFuPiBbXCIrZCh0W2xdKStcIl08L3NwYW4+XCJ9YyYmKFwic3RyaW5nXCI9PXR5cGVvZiBjP2kuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlZW5kXCIsYyk6aS5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJiZWZvcmVlbmRcIixjKSl9bi5pc09iamVjdChlLmNvbnRlbnQpJiZpLmluc2VydEFkamFjZW50RWxlbWVudChcImJlZm9yZWVuZFwiLGUuY29udGVudCksci5kZWZhdWx0Lm9uZShcIi52Yy1sb2dcIix0aGlzLiR0YWJib3gpLmluc2VydEFkamFjZW50RWxlbWVudChcImJlZm9yZWVuZFwiLG8pLHRoaXMubG9nTnVtYmVyKyssdGhpcy5saW1pdE1heExvZ3MoKX19LHtrZXk6XCJnZXRGb2xkZWRMaW5lXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbz10aGlzO2lmKCF0KXt2YXIgaT1uLkpTT05TdHJpbmdpZnkoZSksYT1pLnN1YnN0cigwLDM2KTt0PW4uZ2V0T2JqTmFtZShlKSxpLmxlbmd0aD4zNiYmKGErPVwiLi4uXCIpLHQrPVwiIFwiK2F9dmFyIHM9ci5kZWZhdWx0LnJlbmRlcihsLmRlZmF1bHQse291dGVyOnQsbGluZVR5cGU6XCJvYmpcIn0pO3JldHVybiByLmRlZmF1bHQuYmluZChyLmRlZmF1bHQub25lKFwiLnZjLWZvbGQtb3V0ZXJcIixzKSxcImNsaWNrXCIsZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCksci5kZWZhdWx0Lmhhc0NsYXNzKHMsXCJ2Yy10b2dnbGVcIik/KHIuZGVmYXVsdC5yZW1vdmVDbGFzcyhzLFwidmMtdG9nZ2xlXCIpLHIuZGVmYXVsdC5yZW1vdmVDbGFzcyhyLmRlZmF1bHQub25lKFwiLnZjLWZvbGQtaW5uZXJcIixzKSxcInZjLXRvZ2dsZVwiKSxyLmRlZmF1bHQucmVtb3ZlQ2xhc3Moci5kZWZhdWx0Lm9uZShcIi52Yy1mb2xkLW91dGVyXCIscyksXCJ2Yy10b2dnbGVcIikpOihyLmRlZmF1bHQuYWRkQ2xhc3MocyxcInZjLXRvZ2dsZVwiKSxyLmRlZmF1bHQuYWRkQ2xhc3Moci5kZWZhdWx0Lm9uZShcIi52Yy1mb2xkLWlubmVyXCIscyksXCJ2Yy10b2dnbGVcIiksci5kZWZhdWx0LmFkZENsYXNzKHIuZGVmYXVsdC5vbmUoXCIudmMtZm9sZC1vdXRlclwiLHMpLFwidmMtdG9nZ2xlXCIpKTt2YXIgaT1yLmRlZmF1bHQub25lKFwiLnZjLWZvbGQtaW5uZXJcIixzKTtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe2lmKDA9PWkuY2hpbGRyZW4ubGVuZ3RoJiZlKXtmb3IodmFyIHQ9bi5nZXRPYmpBbGxLZXlzKGUpLGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIHM9dm9pZCAwLGQ9XCJ1bmRlZmluZWRcIix1PVwiXCI7dHJ5e3M9ZVt0W2FdXX1jYXRjaChlKXtjb250aW51ZX1uLmlzU3RyaW5nKHMpPyhkPVwic3RyaW5nXCIscz0nXCInK3MrJ1wiJyk6bi5pc051bWJlcihzKT9kPVwibnVtYmVyXCI6bi5pc0Jvb2xlYW4ocyk/ZD1cImJvb2xlYW5cIjpuLmlzTnVsbChzKT8oZD1cIm51bGxcIixzPVwibnVsbFwiKTpuLmlzVW5kZWZpbmVkKHMpPyhkPVwidW5kZWZpbmVkXCIscz1cInVuZGVmaW5lZFwiKTpuLmlzRnVuY3Rpb24ocyk/KGQ9XCJmdW5jdGlvblwiLHM9XCJmdW5jdGlvbigpXCIpOm4uaXNTeW1ib2wocykmJihkPVwic3ltYm9sXCIpO3ZhciBmPXZvaWQgMDtpZihuLmlzQXJyYXkocykpe3ZhciB2PW4uZ2V0T2JqTmFtZShzKStcIltcIitzLmxlbmd0aCtcIl1cIjtmPW8uZ2V0Rm9sZGVkTGluZShzLHIuZGVmYXVsdC5yZW5kZXIoYy5kZWZhdWx0LHtrZXk6dFthXSxrZXlUeXBlOnUsdmFsdWU6dix2YWx1ZVR5cGU6XCJhcnJheVwifSwhMCkpfWVsc2UgaWYobi5pc09iamVjdChzKSl7dmFyIHA9bi5nZXRPYmpOYW1lKHMpO2Y9by5nZXRGb2xkZWRMaW5lKHMsci5kZWZhdWx0LnJlbmRlcihjLmRlZmF1bHQse2tleTpuLmh0bWxFbmNvZGUodFthXSksa2V5VHlwZTp1LHZhbHVlOnAsdmFsdWVUeXBlOlwib2JqZWN0XCJ9LCEwKSl9ZWxzZXtlLmhhc093blByb3BlcnR5JiYhZS5oYXNPd25Qcm9wZXJ0eSh0W2FdKSYmKHU9XCJwcml2YXRlXCIpO3ZhciBiPXtsaW5lVHlwZTpcImt2XCIsa2V5Om4uaHRtbEVuY29kZSh0W2FdKSxrZXlUeXBlOnUsdmFsdWU6bi5odG1sRW5jb2RlKHMpLHZhbHVlVHlwZTpkfTtmPXIuZGVmYXVsdC5yZW5kZXIobC5kZWZhdWx0LGIpfWkuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFwiYmVmb3JlZW5kXCIsZil9aWYobi5pc09iamVjdChlKSl7dmFyIGgsZz1lLl9fcHJvdG9fXztoPW4uaXNPYmplY3QoZyk/by5nZXRGb2xkZWRMaW5lKGcsci5kZWZhdWx0LnJlbmRlcihjLmRlZmF1bHQse2tleTpcIl9fcHJvdG9fX1wiLGtleVR5cGU6XCJwcml2YXRlXCIsdmFsdWU6bi5nZXRPYmpOYW1lKGcpLHZhbHVlVHlwZTpcIm9iamVjdFwifSwhMCkpOnIuZGVmYXVsdC5yZW5kZXIoYy5kZWZhdWx0LHtrZXk6XCJfX3Byb3RvX19cIixrZXlUeXBlOlwicHJpdmF0ZVwiLHZhbHVlOlwibnVsbFwiLHZhbHVlVHlwZTpcIm51bGxcIn0pLGkuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFwiYmVmb3JlZW5kXCIsaCl9fX0pLCExfSksc319XSkmJnUoby5wcm90b3R5cGUsaSkscyYmdShvLHMpLHQ7dmFyIG8saSxzfShpLmRlZmF1bHQpO20uQWRkZWRMb2dJRD1bXTt2YXIgeT1tO28uZGVmYXVsdD15LGUuZXhwb3J0cz10LmRlZmF1bHR9KT9uLmFwcGx5KHQscik6bil8fChlLmV4cG9ydHM9aSl9LGZ1bmN0aW9uKGUsdCxvKXt2YXIgbixyLGk7cj1bdCxvKDcpLG8oOCksbygyKV0sdm9pZCAwPT09KGk9XCJmdW5jdGlvblwiPT10eXBlb2Yobj1mdW5jdGlvbihvLG4scixpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBhKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkobyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxvLmRlZmF1bHQ9dm9pZCAwLHI9YShyKSxpPWEoaSksci5kZWZhdWx0LlZDb25zb2xlUGx1Z2luPWkuZGVmYXVsdDt2YXIgbD1yLmRlZmF1bHQ7by5kZWZhdWx0PWwsZS5leHBvcnRzPXQuZGVmYXVsdH0pP24uYXBwbHkodCxyKTpuKXx8KGUuZXhwb3J0cz1pKX0sZnVuY3Rpb24oZSx0LG8pe3ZhciBuLHIsaTtyPVtdLHZvaWQgMD09PShpPVwiZnVuY3Rpb25cIj09dHlwZW9mKG49ZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgU3ltYm9sKXt3aW5kb3cuU3ltYm9sPWZ1bmN0aW9uKCl7fTt2YXIgZT1cIl9fc3ltYm9sX2l0ZXJhdG9yX2tleVwiO3dpbmRvdy5TeW1ib2wuaXRlcmF0b3I9ZSxBcnJheS5wcm90b3R5cGVbZV09ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9MDtyZXR1cm57bmV4dDpmdW5jdGlvbigpe3JldHVybntkb25lOmUubGVuZ3RoPT09dCx2YWx1ZTplLmxlbmd0aD09PXQ/dm9pZCAwOmVbdCsrXX19fX19fSk/bi5hcHBseSh0LHIpOm4pfHwoZS5leHBvcnRzPWkpfSxmdW5jdGlvbihlLHQsbyl7dmFyIG4scixpO3I9W3Qsbyg5KSxvKDApLG8oMSksbygxMSksbygxNCksbygxNSksbygxNiksbygxNyksbygxOCksbygxOSksbygyNSksbygyNyksbygzMSksbygzOCldLHZvaWQgMD09PShpPVwiZnVuY3Rpb25cIj09dHlwZW9mKG49ZnVuY3Rpb24obyxuLHIsaSxhLGwsYyxzLGQsdSxmLHYscCxiLGgpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGcoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIG0oZSx0KXtmb3IodmFyIG89MDtvPHQubGVuZ3RoO28rKyl7dmFyIG49dFtvXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG8uZGVmYXVsdD12b2lkIDAsbj1nKG4pLHI9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciBvIGluIGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbykpe3ZhciBuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcj9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbyk6e307bi5nZXR8fG4uc2V0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG8sbik6dFtvXT1lW29dfXJldHVybiB0LmRlZmF1bHQ9ZSx0fShyKSxpPWcoaSksbD1nKGwpLGM9ZyhjKSxzPWcocyksZD1nKGQpLHU9Zyh1KSxmPWcoZiksdj1nKHYpLHA9ZyhwKSxiPWcoYiksaD1nKGgpO3ZhciB5PVwiI19fdmNvbnNvbGVcIixfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtpZihmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksaS5kZWZhdWx0Lm9uZSh5KSljb25zb2xlLmRlYnVnKFwidkNvbnNvbGUgaXMgYWxyZWFkeSBleGlzdHMuXCIpO2Vsc2V7dmFyIG89dGhpcztpZih0aGlzLnZlcnNpb249bi5kZWZhdWx0LnZlcnNpb24sdGhpcy4kZG9tPW51bGwsdGhpcy5pc0luaXRlZD0hMSx0aGlzLm9wdGlvbj17ZGVmYXVsdFBsdWdpbnM6W1wic3lzdGVtXCIsXCJuZXR3b3JrXCIsXCJlbGVtZW50XCIsXCJzdG9yYWdlXCJdfSx0aGlzLmFjdGl2ZWRUYWI9XCJcIix0aGlzLnRhYkxpc3Q9W10sdGhpcy5wbHVnaW5MaXN0PXt9LHRoaXMuc3dpdGNoUG9zPXt4OjEwLHk6MTAsc3RhcnRYOjAsc3RhcnRZOjAsZW5kWDowLGVuZFk6MH0sdGhpcy50b29sPXIsdGhpcy4kPWkuZGVmYXVsdCxyLmlzT2JqZWN0KHQpKWZvcih2YXIgYSBpbiB0KXRoaXMub3B0aW9uW2FdPXRbYV07dGhpcy5fYWRkQnVpbHRJblBsdWdpbnMoKTt2YXIgbCxjPWZ1bmN0aW9uKCl7by5pc0luaXRlZHx8KG8uX3JlbmRlcigpLG8uX21vY2tUYXAoKSxvLl9iaW5kRXZlbnQoKSxvLl9hdXRvUnVuKCkpfTtpZih2b2lkIDAhPT1kb2N1bWVudClcImNvbXBsZXRlXCI9PWRvY3VtZW50LnJlYWR5U3RhdGU/YygpOmkuZGVmYXVsdC5iaW5kKHdpbmRvdyxcImxvYWRcIixjKTtlbHNlIGw9c2V0VGltZW91dChmdW5jdGlvbiBlKCl7ZG9jdW1lbnQmJlwiY29tcGxldGVcIj09ZG9jdW1lbnQucmVhZHlTdGF0ZT8obCYmY2xlYXJUaW1lb3V0KGwpLGMoKSk6bD1zZXRUaW1lb3V0KGUsMSl9LDEpfX1yZXR1cm4gdD1lLChvPVt7a2V5OlwiX2FkZEJ1aWx0SW5QbHVnaW5zXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmFkZFBsdWdpbihuZXcgZi5kZWZhdWx0KFwiZGVmYXVsdFwiLFwiTG9nXCIpKTt2YXIgZT10aGlzLm9wdGlvbi5kZWZhdWx0UGx1Z2lucyx0PXtzeXN0ZW06e3Byb3RvOnYuZGVmYXVsdCxuYW1lOlwiU3lzdGVtXCJ9LG5ldHdvcms6e3Byb3RvOnAuZGVmYXVsdCxuYW1lOlwiTmV0d29ya1wifSxlbGVtZW50Ontwcm90bzpiLmRlZmF1bHQsbmFtZTpcIkVsZW1lbnRcIn0sc3RvcmFnZTp7cHJvdG86aC5kZWZhdWx0LG5hbWU6XCJTdG9yYWdlXCJ9fTtpZihlJiZyLmlzQXJyYXkoZSkpZm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKyspe3ZhciBuPXRbZVtvXV07bj90aGlzLmFkZFBsdWdpbihuZXcgbi5wcm90byhlW29dLG4ubmFtZSkpOmNvbnNvbGUuZGVidWcoXCJVbnJlY29nbml6ZWQgZGVmYXVsdCBwbHVnaW4gSUQ6XCIsZVtvXSl9fX0se2tleTpcIl9yZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe2lmKCFpLmRlZmF1bHQub25lKHkpKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2UuaW5uZXJIVE1MPWwuZGVmYXVsdCxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFwiYmVmb3JlZW5kXCIsZS5jaGlsZHJlblswXSl9dGhpcy4kZG9tPWkuZGVmYXVsdC5vbmUoeSk7dmFyIHQ9aS5kZWZhdWx0Lm9uZShcIi52Yy1zd2l0Y2hcIix0aGlzLiRkb20pLG89MSpyLmdldFN0b3JhZ2UoXCJzd2l0Y2hfeFwiKSxuPTEqci5nZXRTdG9yYWdlKFwic3dpdGNoX3lcIik7KG98fG4pJiYobyt0Lm9mZnNldFdpZHRoPmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRXaWR0aCYmKG89ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldFdpZHRoLXQub2Zmc2V0V2lkdGgpLG4rdC5vZmZzZXRIZWlnaHQ+ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldEhlaWdodCYmKG49ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldEhlaWdodC10Lm9mZnNldEhlaWdodCksbzwwJiYobz0wKSxuPDAmJihuPTApLHRoaXMuc3dpdGNoUG9zLng9byx0aGlzLnN3aXRjaFBvcy55PW4saS5kZWZhdWx0Lm9uZShcIi52Yy1zd2l0Y2hcIikuc3R5bGUucmlnaHQ9bytcInB4XCIsaS5kZWZhdWx0Lm9uZShcIi52Yy1zd2l0Y2hcIikuc3R5bGUuYm90dG9tPW4rXCJweFwiKTt2YXIgYT13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MSxjPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwidmlld3BvcnRcIl0nKTtpZihjJiZjLmNvbnRlbnQpe3ZhciBzPWMuY29udGVudC5tYXRjaCgvaW5pdGlhbFxcLXNjYWxlXFw9XFxkKyhcXC5cXGQrKT8vKSxkPXM/cGFyc2VGbG9hdChzWzBdLnNwbGl0KFwiPVwiKVsxXSk6MTtkPDEmJih0aGlzLiRkb20uc3R5bGUuZm9udFNpemU9MTMqYStcInB4XCIpfWkuZGVmYXVsdC5vbmUoXCIudmMtbWFza1wiLHRoaXMuJGRvbSkuc3R5bGUuZGlzcGxheT1cIm5vbmVcIn19LHtrZXk6XCJfbW9ja1RhcFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGUsdCxvLG49ITEscj1udWxsO3RoaXMuJGRvbS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLGZ1bmN0aW9uKG4pe2lmKHZvaWQgMD09PWUpe3ZhciBpPW4udGFyZ2V0VG91Y2hlc1swXTt0PWkucGFnZVgsbz1pLnBhZ2VZLGU9bi50aW1lU3RhbXAscj1uLnRhcmdldC5ub2RlVHlwZT09PU5vZGUuVEVYVF9OT0RFP24udGFyZ2V0LnBhcmVudE5vZGU6bi50YXJnZXR9fSwhMSksdGhpcy4kZG9tLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIixmdW5jdGlvbihlKXt2YXIgcj1lLmNoYW5nZWRUb3VjaGVzWzBdOyhNYXRoLmFicyhyLnBhZ2VYLXQpPjEwfHxNYXRoLmFicyhyLnBhZ2VZLW8pPjEwKSYmKG49ITApfSksdGhpcy4kZG9tLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLGZ1bmN0aW9uKHQpe2lmKCExPT09biYmdC50aW1lU3RhbXAtZTw3MDAmJm51bGwhPXIpe3ZhciBvPXIudGFnTmFtZS50b0xvd2VyQ2FzZSgpLGk9ITE7c3dpdGNoKG8pe2Nhc2VcInRleHRhcmVhXCI6aT0hMDticmVhaztjYXNlXCJpbnB1dFwiOnN3aXRjaChyLnR5cGUpe2Nhc2VcImJ1dHRvblwiOmNhc2VcImNoZWNrYm94XCI6Y2FzZVwiZmlsZVwiOmNhc2VcImltYWdlXCI6Y2FzZVwicmFkaW9cIjpjYXNlXCJzdWJtaXRcIjppPSExO2JyZWFrO2RlZmF1bHQ6aT0hci5kaXNhYmxlZCYmIXIucmVhZE9ubHl9fWk/ci5mb2N1cygpOnQucHJldmVudERlZmF1bHQoKTt2YXIgYT10LmNoYW5nZWRUb3VjaGVzWzBdLGw9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJNb3VzZUV2ZW50c1wiKTtsLmluaXRNb3VzZUV2ZW50KFwiY2xpY2tcIiwhMCwhMCx3aW5kb3csMSxhLnNjcmVlblgsYS5zY3JlZW5ZLGEuY2xpZW50WCxhLmNsaWVudFksITEsITEsITEsITEsMCxudWxsKSxsLmZvcndhcmRlZFRvdWNoRXZlbnQ9ITAsbC5pbml0RXZlbnQoXCJjbGlja1wiLCEwLCEwKSxyLmRpc3BhdGNoRXZlbnQobCl9ZT12b2lkIDAsbj0hMSxyPW51bGx9LCExKX19LHtrZXk6XCJfYmluZEV2ZW50XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9aS5kZWZhdWx0Lm9uZShcIi52Yy1zd2l0Y2hcIixlLiRkb20pO2kuZGVmYXVsdC5iaW5kKHQsXCJ0b3VjaHN0YXJ0XCIsZnVuY3Rpb24odCl7ZS5zd2l0Y2hQb3Muc3RhcnRYPXQudG91Y2hlc1swXS5wYWdlWCxlLnN3aXRjaFBvcy5zdGFydFk9dC50b3VjaGVzWzBdLnBhZ2VZfSksaS5kZWZhdWx0LmJpbmQodCxcInRvdWNoZW5kXCIsZnVuY3Rpb24odCl7ZS5zd2l0Y2hQb3MueD1lLnN3aXRjaFBvcy5lbmRYLGUuc3dpdGNoUG9zLnk9ZS5zd2l0Y2hQb3MuZW5kWSxlLnN3aXRjaFBvcy5zdGFydFg9MCxlLnN3aXRjaFBvcy5zdGFydFk9MCxlLnN3aXRjaFBvcy5lbmRYPTAsZS5zd2l0Y2hQb3MuZW5kWT0wLHIuc2V0U3RvcmFnZShcInN3aXRjaF94XCIsZS5zd2l0Y2hQb3MueCksci5zZXRTdG9yYWdlKFwic3dpdGNoX3lcIixlLnN3aXRjaFBvcy55KX0pLGkuZGVmYXVsdC5iaW5kKHQsXCJ0b3VjaG1vdmVcIixmdW5jdGlvbihvKXtpZihvLnRvdWNoZXMubGVuZ3RoPjApe3ZhciBuPW8udG91Y2hlc1swXS5wYWdlWC1lLnN3aXRjaFBvcy5zdGFydFgscj1vLnRvdWNoZXNbMF0ucGFnZVktZS5zd2l0Y2hQb3Muc3RhcnRZLGk9ZS5zd2l0Y2hQb3MueC1uLGE9ZS5zd2l0Y2hQb3MueS1yO2krdC5vZmZzZXRXaWR0aD5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0V2lkdGgmJihpPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRXaWR0aC10Lm9mZnNldFdpZHRoKSxhK3Qub2Zmc2V0SGVpZ2h0PmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRIZWlnaHQmJihhPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRIZWlnaHQtdC5vZmZzZXRIZWlnaHQpLGk8MCYmKGk9MCksYTwwJiYoYT0wKSx0LnN0eWxlLnJpZ2h0PWkrXCJweFwiLHQuc3R5bGUuYm90dG9tPWErXCJweFwiLGUuc3dpdGNoUG9zLmVuZFg9aSxlLnN3aXRjaFBvcy5lbmRZPWEsby5wcmV2ZW50RGVmYXVsdCgpfX0pLGkuZGVmYXVsdC5iaW5kKGkuZGVmYXVsdC5vbmUoXCIudmMtc3dpdGNoXCIsZS4kZG9tKSxcImNsaWNrXCIsZnVuY3Rpb24oKXtlLnNob3coKX0pLGkuZGVmYXVsdC5iaW5kKGkuZGVmYXVsdC5vbmUoXCIudmMtaGlkZVwiLGUuJGRvbSksXCJjbGlja1wiLGZ1bmN0aW9uKCl7ZS5oaWRlKCl9KSxpLmRlZmF1bHQuYmluZChpLmRlZmF1bHQub25lKFwiLnZjLW1hc2tcIixlLiRkb20pLFwiY2xpY2tcIixmdW5jdGlvbih0KXtpZih0LnRhcmdldCE9aS5kZWZhdWx0Lm9uZShcIi52Yy1tYXNrXCIpKXJldHVybiExO2UuaGlkZSgpfSksaS5kZWZhdWx0LmRlbGVnYXRlKGkuZGVmYXVsdC5vbmUoXCIudmMtdGFiYmFyXCIsZS4kZG9tKSxcImNsaWNrXCIsXCIudmMtdGFiXCIsZnVuY3Rpb24odCl7dmFyIG89dGhpcy5kYXRhc2V0LnRhYjtvIT1lLmFjdGl2ZWRUYWImJmUuc2hvd1RhYihvKX0pLGkuZGVmYXVsdC5iaW5kKGkuZGVmYXVsdC5vbmUoXCIudmMtcGFuZWxcIixlLiRkb20pLFwidHJhbnNpdGlvbmVuZCB3ZWJraXRUcmFuc2l0aW9uRW5kIG9UcmFuc2l0aW9uRW5kIG90cmFuc2l0aW9uZW5kXCIsZnVuY3Rpb24odCl7aWYodC50YXJnZXQhPWkuZGVmYXVsdC5vbmUoXCIudmMtcGFuZWxcIikpcmV0dXJuITE7aS5kZWZhdWx0Lmhhc0NsYXNzKGUuJGRvbSxcInZjLXRvZ2dsZVwiKXx8KHQudGFyZ2V0LnN0eWxlLmRpc3BsYXk9XCJub25lXCIpfSk7dmFyIG89aS5kZWZhdWx0Lm9uZShcIi52Yy1jb250ZW50XCIsZS4kZG9tKSxuPSExO2kuZGVmYXVsdC5iaW5kKG8sXCJ0b3VjaHN0YXJ0XCIsZnVuY3Rpb24oZSl7dmFyIHQ9by5zY3JvbGxUb3Ascj1vLnNjcm9sbEhlaWdodCxhPXQrby5vZmZzZXRIZWlnaHQ7MD09PXQ/KG8uc2Nyb2xsVG9wPTEsMD09PW8uc2Nyb2xsVG9wJiYoaS5kZWZhdWx0Lmhhc0NsYXNzKGUudGFyZ2V0LFwidmMtY21kLWlucHV0XCIpfHwobj0hMCkpKTphPT09ciYmKG8uc2Nyb2xsVG9wPXQtMSxvLnNjcm9sbFRvcD09PXQmJihpLmRlZmF1bHQuaGFzQ2xhc3MoZS50YXJnZXQsXCJ2Yy1jbWQtaW5wdXRcIil8fChuPSEwKSkpfSksaS5kZWZhdWx0LmJpbmQobyxcInRvdWNobW92ZVwiLGZ1bmN0aW9uKGUpe24mJmUucHJldmVudERlZmF1bHQoKX0pLGkuZGVmYXVsdC5iaW5kKG8sXCJ0b3VjaGVuZFwiLGZ1bmN0aW9uKGUpe249ITF9KX19LHtrZXk6XCJfYXV0b1J1blwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIHRoaXMuaXNJbml0ZWQ9ITAsdGhpcy5wbHVnaW5MaXN0KXRoaXMuX2luaXRQbHVnaW4odGhpcy5wbHVnaW5MaXN0W2VdKTt0aGlzLnRhYkxpc3QubGVuZ3RoPjAmJnRoaXMuc2hvd1RhYih0aGlzLnRhYkxpc3RbMF0pLHRoaXMudHJpZ2dlckV2ZW50KFwicmVhZHlcIil9fSx7a2V5OlwidHJpZ2dlckV2ZW50XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtlPVwib25cIitlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSksci5pc0Z1bmN0aW9uKHRoaXMub3B0aW9uW2VdKSYmdGhpcy5vcHRpb25bZV0uYXBwbHkodGhpcyx0KX19LHtrZXk6XCJfaW5pdFBsdWdpblwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7ZS52Q29uc29sZT10aGlzLGUudHJpZ2dlcihcImluaXRcIiksZS50cmlnZ2VyKFwicmVuZGVyVGFiXCIsZnVuY3Rpb24obyl7dC50YWJMaXN0LnB1c2goZS5pZCk7dmFyIG49aS5kZWZhdWx0LnJlbmRlcihjLmRlZmF1bHQse2lkOmUuaWQsbmFtZTplLm5hbWV9KTtpLmRlZmF1bHQub25lKFwiLnZjLXRhYmJhclwiLHQuJGRvbSkuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFwiYmVmb3JlZW5kXCIsbik7dmFyIGE9aS5kZWZhdWx0LnJlbmRlcihzLmRlZmF1bHQse2lkOmUuaWR9KTtvJiYoci5pc1N0cmluZyhvKT9hLmlubmVySFRNTCs9bzpyLmlzRnVuY3Rpb24oby5hcHBlbmRUbyk/by5hcHBlbmRUbyhhKTpyLmlzRWxlbWVudChvKSYmYS5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJiZWZvcmVlbmRcIixvKSksaS5kZWZhdWx0Lm9uZShcIi52Yy1jb250ZW50XCIsdC4kZG9tKS5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJiZWZvcmVlbmRcIixhKX0pLGUudHJpZ2dlcihcImFkZFRvcEJhclwiLGZ1bmN0aW9uKG8pe2lmKG8pZm9yKHZhciBuPWkuZGVmYXVsdC5vbmUoXCIudmMtdG9wYmFyXCIsdC4kZG9tKSxhPWZ1bmN0aW9uKHQpe3ZhciBhPW9bdF0sbD1pLmRlZmF1bHQucmVuZGVyKGQuZGVmYXVsdCx7bmFtZTphLm5hbWV8fFwiVW5kZWZpbmVkXCIsY2xhc3NOYW1lOmEuY2xhc3NOYW1lfHxcIlwiLHBsdWdpbklEOmUuaWR9KTtpZihhLmRhdGEpZm9yKHZhciBjIGluIGEuZGF0YSlsLmRhdGFzZXRbY109YS5kYXRhW2NdO3IuaXNGdW5jdGlvbihhLm9uQ2xpY2spJiZpLmRlZmF1bHQuYmluZChsLFwiY2xpY2tcIixmdW5jdGlvbih0KXt2YXIgbz1hLm9uQ2xpY2suY2FsbChsKTshMT09PW98fChpLmRlZmF1bHQucmVtb3ZlQ2xhc3MoaS5kZWZhdWx0LmFsbChcIi52Yy10b3BiYXItXCIrZS5pZCksXCJ2Yy1hY3RpdmVkXCIpLGkuZGVmYXVsdC5hZGRDbGFzcyhsLFwidmMtYWN0aXZlZFwiKSl9KSxuLmluc2VydEFkamFjZW50RWxlbWVudChcImJlZm9yZWVuZFwiLGwpfSxsPTA7bDxvLmxlbmd0aDtsKyspYShsKX0pLGUudHJpZ2dlcihcImFkZFRvb2xcIixmdW5jdGlvbihvKXtpZihvKWZvcih2YXIgbj1pLmRlZmF1bHQub25lKFwiLnZjLXRvb2wtbGFzdFwiLHQuJGRvbSksYT1mdW5jdGlvbih0KXt2YXIgYT1vW3RdLGw9aS5kZWZhdWx0LnJlbmRlcih1LmRlZmF1bHQse25hbWU6YS5uYW1lfHxcIlVuZGVmaW5lZFwiLHBsdWdpbklEOmUuaWR9KTsxPT1hLmdsb2JhbCYmaS5kZWZhdWx0LmFkZENsYXNzKGwsXCJ2Yy1nbG9iYWwtdG9vbFwiKSxyLmlzRnVuY3Rpb24oYS5vbkNsaWNrKSYmaS5kZWZhdWx0LmJpbmQobCxcImNsaWNrXCIsZnVuY3Rpb24oZSl7YS5vbkNsaWNrLmNhbGwobCl9KSxuLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGwsbil9LGw9MDtsPG8ubGVuZ3RoO2wrKylhKGwpfSksZS5pc1JlYWR5PSEwLGUudHJpZ2dlcihcInJlYWR5XCIpfX0se2tleTpcIl90cmlnZ2VyUGx1Z2luc0V2ZW50XCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIHRoaXMucGx1Z2luTGlzdCl0aGlzLnBsdWdpbkxpc3RbdF0uaXNSZWFkeSYmdGhpcy5wbHVnaW5MaXN0W3RdLnRyaWdnZXIoZSl9fSx7a2V5OlwiX3RyaWdnZXJQbHVnaW5FdmVudFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG89dGhpcy5wbHVnaW5MaXN0W2VdO28mJm8uaXNSZWFkeSYmby50cmlnZ2VyKHQpfX0se2tleTpcImFkZFBsdWdpblwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT10aGlzLnBsdWdpbkxpc3RbZS5pZF0/KGNvbnNvbGUuZGVidWcoXCJQbHVnaW4gXCIrZS5pZCtcIiBoYXMgYWxyZWFkeSBiZWVuIGFkZGVkLlwiKSwhMSk6KHRoaXMucGx1Z2luTGlzdFtlLmlkXT1lLHRoaXMuaXNJbml0ZWQmJih0aGlzLl9pbml0UGx1Z2luKGUpLDE9PXRoaXMudGFiTGlzdC5sZW5ndGgmJnRoaXMuc2hvd1RhYih0aGlzLnRhYkxpc3RbMF0pKSwhMCl9fSx7a2V5OlwicmVtb3ZlUGx1Z2luXCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZT0oZStcIlwiKS50b0xvd2VyQ2FzZSgpO3ZhciB0PXRoaXMucGx1Z2luTGlzdFtlXTtpZih2b2lkIDA9PT10KXJldHVybiBjb25zb2xlLmRlYnVnKFwiUGx1Z2luIFwiK2UrXCIgZG9lcyBub3QgZXhpc3QuXCIpLCExO2lmKHQudHJpZ2dlcihcInJlbW92ZVwiKSx0aGlzLmlzSW5pdGVkKXt2YXIgbz1pLmRlZmF1bHQub25lKFwiI19fdmNfdGFiX1wiK2UpO28mJm8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKTtmb3IodmFyIG49aS5kZWZhdWx0LmFsbChcIi52Yy10b3BiYXItXCIrZSx0aGlzLiRkb20pLHI9MDtyPG4ubGVuZ3RoO3IrKyluW3JdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobltyXSk7dmFyIGE9aS5kZWZhdWx0Lm9uZShcIiNfX3ZjX2xvZ19cIitlKTthJiZhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSk7Zm9yKHZhciBsPWkuZGVmYXVsdC5hbGwoXCIudmMtdG9vbC1cIitlLHRoaXMuJGRvbSksYz0wO2M8bC5sZW5ndGg7YysrKWxbY10ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChsW2NdKX12YXIgcz10aGlzLnRhYkxpc3QuaW5kZXhPZihlKTtzPi0xJiZ0aGlzLnRhYkxpc3Quc3BsaWNlKHMsMSk7dHJ5e2RlbGV0ZSB0aGlzLnBsdWdpbkxpc3RbZV19Y2F0Y2godCl7dGhpcy5wbHVnaW5MaXN0W2VdPXZvaWQgMH1yZXR1cm4gdGhpcy5hY3RpdmVkVGFiPT1lJiZ0aGlzLnRhYkxpc3QubGVuZ3RoPjAmJnRoaXMuc2hvd1RhYih0aGlzLnRhYkxpc3RbMF0pLCEwfX0se2tleTpcInNob3dcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuaXNJbml0ZWQpe3ZhciBlPXRoaXMsdD1pLmRlZmF1bHQub25lKFwiLnZjLXBhbmVsXCIsdGhpcy4kZG9tKTt0LnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtpLmRlZmF1bHQuYWRkQ2xhc3MoZS4kZG9tLFwidmMtdG9nZ2xlXCIpLGUuX3RyaWdnZXJQbHVnaW5zRXZlbnQoXCJzaG93Q29uc29sZVwiKTt2YXIgdD1pLmRlZmF1bHQub25lKFwiLnZjLW1hc2tcIixlLiRkb20pO3Quc3R5bGUuZGlzcGxheT1cImJsb2NrXCJ9LDEwKX19fSx7a2V5OlwiaGlkZVwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5pc0luaXRlZCl7aS5kZWZhdWx0LnJlbW92ZUNsYXNzKHRoaXMuJGRvbSxcInZjLXRvZ2dsZVwiKSx0aGlzLl90cmlnZ2VyUGx1Z2luc0V2ZW50KFwiaGlkZUNvbnNvbGVcIik7dmFyIGU9aS5kZWZhdWx0Lm9uZShcIi52Yy1tYXNrXCIsdGhpcy4kZG9tKSx0PWkuZGVmYXVsdC5vbmUoXCIudmMtcGFuZWxcIix0aGlzLiRkb20pO2kuZGVmYXVsdC5iaW5kKGUsXCJ0cmFuc2l0aW9uZW5kXCIsZnVuY3Rpb24obyl7ZS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHQuc3R5bGUuZGlzcGxheT1cIm5vbmVcIn0pfX19LHtrZXk6XCJzaG93U3dpdGNoXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmlzSW5pdGVkKXt2YXIgZT1pLmRlZmF1bHQub25lKFwiLnZjLXN3aXRjaFwiLHRoaXMuJGRvbSk7ZS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIn19fSx7a2V5OlwiaGlkZVN3aXRjaFwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5pc0luaXRlZCl7dmFyIGU9aS5kZWZhdWx0Lm9uZShcIi52Yy1zd2l0Y2hcIix0aGlzLiRkb20pO2Uuc3R5bGUuZGlzcGxheT1cIm5vbmVcIn19fSx7a2V5Olwic2hvd1RhYlwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHRoaXMuaXNJbml0ZWQpe3ZhciB0PWkuZGVmYXVsdC5vbmUoXCIjX192Y19sb2dfXCIrZSk7aS5kZWZhdWx0LnJlbW92ZUNsYXNzKGkuZGVmYXVsdC5hbGwoXCIudmMtdGFiXCIsdGhpcy4kZG9tKSxcInZjLWFjdGl2ZWRcIiksaS5kZWZhdWx0LmFkZENsYXNzKGkuZGVmYXVsdC5vbmUoXCIjX192Y190YWJfXCIrZSksXCJ2Yy1hY3RpdmVkXCIpLGkuZGVmYXVsdC5yZW1vdmVDbGFzcyhpLmRlZmF1bHQuYWxsKFwiLnZjLWxvZ2JveFwiLHRoaXMuJGRvbSksXCJ2Yy1hY3RpdmVkXCIpLGkuZGVmYXVsdC5hZGRDbGFzcyh0LFwidmMtYWN0aXZlZFwiKTt2YXIgbz1pLmRlZmF1bHQuYWxsKFwiLnZjLXRvcGJhci1cIitlLHRoaXMuJGRvbSk7aS5kZWZhdWx0LnJlbW92ZUNsYXNzKGkuZGVmYXVsdC5hbGwoXCIudmMtdG9wdGFiXCIsdGhpcy4kZG9tKSxcInZjLXRvZ2dsZVwiKSxpLmRlZmF1bHQuYWRkQ2xhc3MobyxcInZjLXRvZ2dsZVwiKSxvLmxlbmd0aD4wP2kuZGVmYXVsdC5hZGRDbGFzcyhpLmRlZmF1bHQub25lKFwiLnZjLWNvbnRlbnRcIix0aGlzLiRkb20pLFwidmMtaGFzLXRvcGJhclwiKTppLmRlZmF1bHQucmVtb3ZlQ2xhc3MoaS5kZWZhdWx0Lm9uZShcIi52Yy1jb250ZW50XCIsdGhpcy4kZG9tKSxcInZjLWhhcy10b3BiYXJcIiksaS5kZWZhdWx0LnJlbW92ZUNsYXNzKGkuZGVmYXVsdC5hbGwoXCIudmMtdG9vbFwiLHRoaXMuJGRvbSksXCJ2Yy10b2dnbGVcIiksaS5kZWZhdWx0LmFkZENsYXNzKGkuZGVmYXVsdC5hbGwoXCIudmMtdG9vbC1cIitlLHRoaXMuJGRvbSksXCJ2Yy10b2dnbGVcIiksdGhpcy5hY3RpdmVkVGFiJiZ0aGlzLl90cmlnZ2VyUGx1Z2luRXZlbnQodGhpcy5hY3RpdmVkVGFiLFwiaGlkZVwiKSx0aGlzLmFjdGl2ZWRUYWI9ZSx0aGlzLl90cmlnZ2VyUGx1Z2luRXZlbnQodGhpcy5hY3RpdmVkVGFiLFwic2hvd1wiKX19fSx7a2V5Olwic2V0T3B0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZihyLmlzU3RyaW5nKGUpKXRoaXMub3B0aW9uW2VdPXQsdGhpcy5fdHJpZ2dlclBsdWdpbnNFdmVudChcInVwZGF0ZU9wdGlvblwiKTtlbHNlIGlmKHIuaXNPYmplY3QoZSkpe2Zvcih2YXIgbyBpbiBlKXRoaXMub3B0aW9uW29dPWVbb107dGhpcy5fdHJpZ2dlclBsdWdpbnNFdmVudChcInVwZGF0ZU9wdGlvblwiKX1lbHNlIGNvbnNvbGUuZGVidWcoXCJUaGUgZmlyc3QgcGFyYW1ldGVyIG9mIHZDb25zb2xlLnNldE9wdGlvbigpIG11c3QgYmUgYSBzdHJpbmcgb3IgYW4gb2JqZWN0LlwiKX19LHtrZXk6XCJkZXN0cm95XCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmlzSW5pdGVkKXtmb3IodmFyIGU9T2JqZWN0LmtleXModGhpcy5wbHVnaW5MaXN0KSx0PWUubGVuZ3RoLTE7dD49MDt0LS0pdGhpcy5yZW1vdmVQbHVnaW4oZVt0XSk7dGhpcy4kZG9tLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy4kZG9tKX19fV0pJiZtKHQucHJvdG90eXBlLG8pLGEmJm0odCxhKSxlO3ZhciB0LG8sYX0oKTtvLmRlZmF1bHQ9XyxlLmV4cG9ydHM9dC5kZWZhdWx0fSk/bi5hcHBseSh0LHIpOm4pfHwoZS5leHBvcnRzPWkpfSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9e25hbWU6XCJ2Y29uc29sZVwiLHZlcnNpb246XCIzLjMuMFwiLGRlc2NyaXB0aW9uOlwiQSBsaWdodHdlaWdodCwgZXh0ZW5kYWJsZSBmcm9udC1lbmQgZGV2ZWxvcGVyIHRvb2wgZm9yIG1vYmlsZSB3ZWIgcGFnZS5cIixob21lcGFnZTpcImh0dHBzOi8vZ2l0aHViLmNvbS9UZW5jZW50L3ZDb25zb2xlXCIsbWFpbjpcImRpc3QvdmNvbnNvbGUubWluLmpzXCIsc2NyaXB0czp7dGVzdDpcIm1vY2hhXCIsZGlzdDpcIndlYnBhY2tcIn0sa2V5d29yZHM6W1wiY29uc29sZVwiLFwiZGVidWdcIixcIm1vYmlsZVwiXSxyZXBvc2l0b3J5Ont0eXBlOlwiZ2l0XCIsdXJsOlwiZ2l0K2h0dHBzOi8vZ2l0aHViLmNvbS9UZW5jZW50L3ZDb25zb2xlLmdpdFwifSxkZXBlbmRlbmNpZXM6e30sZGV2RGVwZW5kZW5jaWVzOntcIkBiYWJlbC9jb3JlXCI6XCJeNy4yLjJcIixcIkBiYWJlbC9wbHVnaW4tcHJvcG9zYWwtY2xhc3MtcHJvcGVydGllc1wiOlwiXjcuMy4wXCIsXCJAYmFiZWwvcGx1Z2luLXByb3Bvc2FsLWV4cG9ydC1uYW1lc3BhY2UtZnJvbVwiOlwiXjcuMi4wXCIsXCJAYmFiZWwvcGx1Z2luLXByb3Bvc2FsLW9iamVjdC1yZXN0LXNwcmVhZFwiOlwiXjcuMy4xXCIsXCJAYmFiZWwvcHJlc2V0LWVudlwiOlwiXjcuMy4xXCIsXCJiYWJlbC1sb2FkZXJcIjpcIl44LjAuNFwiLFwiYmFiZWwtcGx1Z2luLWFkZC1tb2R1bGUtZXhwb3J0c1wiOlwiXjEuMC4wXCIsY2hhaTpcIl40LjIuMFwiLFwiY3NzLWxvYWRlclwiOlwiXjIuMS4wXCIsXCJodG1sLWxvYWRlclwiOlwiXjAuNS41XCIsanNkb206XCJeMTMuMi4wXCIsXCJqc29uLWxvYWRlclwiOlwiXjAuNS43XCIsbGVzczpcIl4zLjkuMFwiLFwibGVzcy1sb2FkZXJcIjpcIl40LjEuMFwiLG1vY2hhOlwiXjUuMi4wXCIsXCJzdHlsZS1sb2FkZXJcIjpcIl4wLjIzLjFcIix3ZWJwYWNrOlwiXjQuMjkuMFwiLFwid2VicGFjay1jbGlcIjpcIl4zLjIuMVwifSxhdXRob3I6XCJUZW5jZW50XCIsbGljZW5zZTpcIk1JVFwifX0sZnVuY3Rpb24oZSx0LG8pe3ZhciBuLHIsaTtyPVt0XSx2b2lkIDA9PT0oaT1cImZ1bmN0aW9uXCI9PXR5cGVvZihuPWZ1bmN0aW9uKG8pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShvLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG8uZGVmYXVsdD1mdW5jdGlvbihlLHQsbyl7dmFyIG49L1xce1xceyhbXlxcfV0rKVxcfVxcfS9nLHI9XCJcIixpPVwiXCIsYT0wLGw9W10sYz1mdW5jdGlvbihlLHQpe1wiXCIhPT1lJiYodD9lLm1hdGNoKC9eID9lbHNlL2cpP3IrPVwifSBcIitlK1wiIHtcXG5cIjplLm1hdGNoKC9cXC8oaWZ8Zm9yfHN3aXRjaCkvZyk/cis9XCJ9XFxuXCI6ZS5tYXRjaCgvXiA/aWZ8Zm9yfHN3aXRjaC9nKT9yKz1lK1wiIHtcXG5cIjplLm1hdGNoKC9eID8oYnJlYWt8Y29udGludWUpID8kL2cpP3IrPWUrXCI7XFxuXCI6ZS5tYXRjaCgvXiA/KGNhc2V8ZGVmYXVsdCkvZyk/cis9ZStcIjpcXG5cIjpyKz1cImFyci5wdXNoKFwiK2UrXCIpO1xcblwiOnIrPSdhcnIucHVzaChcIicrZS5yZXBsYWNlKC9cIi9nLCdcXFxcXCInKSsnXCIpO1xcbicpfTtmb3Iod2luZG93Ll9fbWl0b19kYXRhPXQsd2luZG93Ll9fbWl0b19jb2RlPVwiXCIsd2luZG93Ll9fbWl0b19yZXN1bHQ9XCJcIixlPShlPWUucmVwbGFjZSgvKFxce1xceyA/c3dpdGNoKC4rPylcXH1cXH0pW1xcclxcblxcdCBdK1xce1xcey9nLFwiJDF7e1wiKSkucmVwbGFjZSgvXltcXHJcXG5dLyxcIlwiKS5yZXBsYWNlKC9cXG4vZyxcIlxcXFxcXG5cIikucmVwbGFjZSgvXFxyL2csXCJcXFxcXFxyXCIpLGk9XCIoZnVuY3Rpb24oKXtcXG5cIixyPVwidmFyIGFyciA9IFtdO1xcblwiO2w9bi5leGVjKGUpOyljKGUuc2xpY2UoYSxsLmluZGV4KSwhMSksYyhsWzFdLCEwKSxhPWwuaW5kZXgrbFswXS5sZW5ndGg7YyhlLnN1YnN0cihhLGUubGVuZ3RoLWEpLCExKSxpKz1yPVwid2l0aCAoX19taXRvX2RhdGEpIHtcXG5cIisocis9J19fbWl0b19yZXN1bHQgPSBhcnIuam9pbihcIlwiKTsnKStcIlxcbn1cIixpKz1cIn0pKCk7XCI7dmFyIHM9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIiksZD1cIlwiO3MubGVuZ3RoPjAmJihkPXNbMF0ubm9uY2V8fFwiXCIpO3ZhciB1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJTQ1JJUFRcIik7dS5pbm5lckhUTUw9aSx1LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsZCksZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKHUpO3ZhciBmPV9fbWl0b19yZXN1bHQ7aWYoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUNoaWxkKHUpLCFvKXt2YXIgdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpO3YuaW5uZXJIVE1MPWYsZj12LmNoaWxkcmVuWzBdfXJldHVybiBmfSxlLmV4cG9ydHM9dC5kZWZhdWx0fSk/bi5hcHBseSh0LHIpOm4pfHwoZS5leHBvcnRzPWkpfSxmdW5jdGlvbihlLHQsbyl7dmFyIG49bygxMik7XCJzdHJpbmdcIj09dHlwZW9mIG4mJihuPVtbZS5pLG4sXCJcIl1dKTt2YXIgcj17aG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O28oNCkobixyKTtuLmxvY2FscyYmKGUuZXhwb3J0cz1uLmxvY2Fscyl9LGZ1bmN0aW9uKGUsdCxvKXsoZS5leHBvcnRzPW8oMykoITEpKS5wdXNoKFtlLmksJyNfX3Zjb25zb2xlIHtcXG4gIGNvbG9yOiAjMDAwO1xcbiAgZm9udC1zaXplOiAxM3B4O1xcbiAgZm9udC1mYW1pbHk6IEhlbHZldGljYSBOZXVlLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmO1xcbiAgLyogZ2xvYmFsICovXFxuICAvKiBjb21wb21lbnQgKi9cXG59XFxuI19fdmNvbnNvbGUgLnZjLW1heC1oZWlnaHQge1xcbiAgbWF4LWhlaWdodDogMTkuMjMwNzY5MjNlbTtcXG59XFxuI19fdmNvbnNvbGUgLnZjLW1heC1oZWlnaHQtbGluZSB7XFxuICBtYXgtaGVpZ2h0OiAzLjM4NDYxNTM4ZW07XFxufVxcbiNfX3Zjb25zb2xlIC52Yy1taW4taGVpZ2h0IHtcXG4gIG1pbi1oZWlnaHQ6IDMuMDc2OTIzMDhlbTtcXG59XFxuI19fdmNvbnNvbGUgZGQsXFxuI19fdmNvbnNvbGUgZGwsXFxuI19fdmNvbnNvbGUgcHJlIHtcXG4gIG1hcmdpbjogMDtcXG59XFxuI19fdmNvbnNvbGUgLnZjLXN3aXRjaCB7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHJpZ2h0OiAwLjc2OTIzMDc3ZW07XFxuICBib3R0b206IDAuNzY5MjMwNzdlbTtcXG4gIGNvbG9yOiAjRkZGO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzA0QkUwMjtcXG4gIGxpbmUtaGVpZ2h0OiAxO1xcbiAgZm9udC1zaXplOiAxLjA3NjkyMzA4ZW07XFxuICBwYWRkaW5nOiAwLjYxNTM4NDYyZW0gMS4yMzA3NjkyM2VtO1xcbiAgei1pbmRleDogMTAwMDA7XFxuICBib3JkZXItcmFkaXVzOiAwLjMwNzY5MjMxZW07XFxuICBib3gtc2hhZG93OiAwIDAgMC42MTUzODQ2MmVtIHJnYmEoMCwgMCwgMCwgMC40KTtcXG59XFxuI19fdmNvbnNvbGUgLnZjLW1hc2sge1xcbiAgZGlzcGxheTogbm9uZTtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHRvcDogMDtcXG4gIGxlZnQ6IDA7XFxuICByaWdodDogMDtcXG4gIGJvdHRvbTogMDtcXG4gIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMCk7XFxuICB6LWluZGV4OiAxMDAwMTtcXG4gIHRyYW5zaXRpb246IGJhY2tncm91bmQgMC4zcztcXG4gIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICBvdmVyZmxvdy15OiBzY3JvbGw7XFxufVxcbiNfX3Zjb25zb2xlIC52Yy1wYW5lbCB7XFxuICBkaXNwbGF5OiBub25lO1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgbWluLWhlaWdodDogODUlO1xcbiAgbGVmdDogMDtcXG4gIHJpZ2h0OiAwO1xcbiAgYm90dG9tOiAwO1xcbiAgei1pbmRleDogMTAwMDI7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRUZFRkY0O1xcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiAtd2Via2l0LXRyYW5zZm9ybSAwLjNzO1xcbiAgdHJhbnNpdGlvbjogLXdlYmtpdC10cmFuc2Zvcm0gMC4zcztcXG4gIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjNzO1xcbiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuM3MsIC13ZWJraXQtdHJhbnNmb3JtIDAuM3M7XFxuICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlKDAsIDEwMCUpO1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMCwgMTAwJSk7XFxufVxcbiNfX3Zjb25zb2xlIC52Yy10YWJiYXIge1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNEOUQ5RDk7XFxuICBvdmVyZmxvdy14OiBhdXRvO1xcbiAgaGVpZ2h0OiAzZW07XFxuICB3aWR0aDogYXV0bztcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxufVxcbiNfX3Zjb25zb2xlIC52Yy10YWJiYXIgLnZjLXRhYiB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBsaW5lLWhlaWdodDogM2VtO1xcbiAgcGFkZGluZzogMCAxLjE1Mzg0NjE1ZW07XFxuICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjRDlEOUQ5O1xcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcbiAgY29sb3I6ICMwMDA7XFxuICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgLXdlYmtpdC10b3VjaC1jYWxsb3V0OiBub25lO1xcbn1cXG4jX192Y29uc29sZSAudmMtdGFiYmFyIC52Yy10YWI6YWN0aXZlIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4xNSk7XFxufVxcbiNfX3Zjb25zb2xlIC52Yy10YWJiYXIgLnZjLXRhYi52Yy1hY3RpdmVkIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNGRkY7XFxufVxcbiNfX3Zjb25zb2xlIC52Yy1jb250ZW50IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNGRkY7XFxuICBvdmVyZmxvdy14OiBoaWRkZW47XFxuICBvdmVyZmxvdy15OiBhdXRvO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAzLjA3NjkyMzA4ZW07XFxuICBsZWZ0OiAwO1xcbiAgcmlnaHQ6IDA7XFxuICBib3R0b206IDMuMDc2OTIzMDhlbTtcXG4gIC13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOiB0b3VjaDtcXG4gIG1hcmdpbi1ib3R0b206IGNvbnN0YW50KHNhZmUtYXJlYS1pbnNldC1ib3R0b20pO1xcbiAgbWFyZ2luLWJvdHRvbTogZW52KHNhZmUtYXJlYS1pbnNldC1ib3R0b20pO1xcbn1cXG4jX192Y29uc29sZSAudmMtY29udGVudC52Yy1oYXMtdG9wYmFyIHtcXG4gIHRvcDogNS40NjE1Mzg0NmVtO1xcbn1cXG4jX192Y29uc29sZSAudmMtdG9wYmFyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNGQkY5RkU7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZGlzcGxheTogLXdlYmtpdC1ib3g7XFxuICBmbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgZmxleC13cmFwOiB3cmFwO1xcbiAgLXdlYmtpdC1ib3gtZGlyZWN0aW9uOiByb3c7XFxuICAtd2Via2l0LWZsZXgtd3JhcDogd3JhcDtcXG4gIHdpZHRoOiAxMDAlO1xcbn1cXG4jX192Y29uc29sZSAudmMtdG9wYmFyIC52Yy10b3B0YWIge1xcbiAgZGlzcGxheTogbm9uZTtcXG4gIGZsZXg6IDE7XFxuICAtd2Via2l0LWJveC1mbGV4OiAxO1xcbiAgbGluZS1oZWlnaHQ6IDIuMzA3NjkyMzFlbTtcXG4gIHBhZGRpbmc6IDAgMS4xNTM4NDYxNWVtO1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNEOUQ5RDk7XFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBjb2xvcjogIzAwMDtcXG4gIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XFxufVxcbiNfX3Zjb25zb2xlIC52Yy10b3BiYXIgLnZjLXRvcHRhYi52Yy10b2dnbGUge1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcbiNfX3Zjb25zb2xlIC52Yy10b3BiYXIgLnZjLXRvcHRhYjphY3RpdmUge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjE1KTtcXG59XFxuI19fdmNvbnNvbGUgLnZjLXRvcGJhciAudmMtdG9wdGFiLnZjLWFjdGl2ZWQge1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMzZTgyZjc7XFxufVxcbiNfX3Zjb25zb2xlIC52Yy1sb2dib3gge1xcbiAgZGlzcGxheTogbm9uZTtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIG1pbi1oZWlnaHQ6IDEwMCU7XFxufVxcbiNfX3Zjb25zb2xlIC52Yy1sb2dib3ggaSB7XFxuICBmb250LXN0eWxlOiBub3JtYWw7XFxufVxcbiNfX3Zjb25zb2xlIC52Yy1sb2dib3ggLnZjLWxvZyB7XFxuICBwYWRkaW5nLWJvdHRvbTogM2VtO1xcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcXG59XFxuI19fdmNvbnNvbGUgLnZjLWxvZ2JveCAudmMtbG9nOmVtcHR5OmJlZm9yZSB7XFxuICBjb250ZW50OiBcIkVtcHR5XCI7XFxuICBjb2xvcjogIzk5OTtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogNDUlO1xcbiAgbGVmdDogMDtcXG4gIHJpZ2h0OiAwO1xcbiAgYm90dG9tOiAwO1xcbiAgZm9udC1zaXplOiAxLjE1Mzg0NjE1ZW07XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcbiNfX3Zjb25zb2xlIC52Yy1sb2dib3ggLnZjLWl0ZW0ge1xcbiAgbWFyZ2luOiAwO1xcbiAgcGFkZGluZzogMC40NjE1Mzg0NmVtIDAuNjE1Mzg0NjJlbTtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBsaW5lLWhlaWdodDogMS4zO1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNFRUU7XFxuICB3b3JkLWJyZWFrOiBicmVhay13b3JkO1xcbn1cXG4jX192Y29uc29sZSAudmMtbG9nYm94IC52Yy1pdGVtLWluZm8ge1xcbiAgY29sb3I6ICM2QTVBQ0Q7XFxufVxcbiNfX3Zjb25zb2xlIC52Yy1sb2dib3ggLnZjLWl0ZW0tZGVidWcge1xcbiAgY29sb3I6ICNEQUE1MjA7XFxufVxcbiNfX3Zjb25zb2xlIC52Yy1sb2dib3ggLnZjLWl0ZW0td2FybiB7XFxuICBjb2xvcjogI0ZGQTUwMDtcXG4gIGJvcmRlci1jb2xvcjogI0ZGQjkzMDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNGRkZBQ0Q7XFxufVxcbiNfX3Zjb25zb2xlIC52Yy1sb2dib3ggLnZjLWl0ZW0tZXJyb3Ige1xcbiAgY29sb3I6ICNEQzE0M0M7XFxuICBib3JkZXItY29sb3I6ICNGNEEwQUI7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkZFNEUxO1xcbn1cXG4jX192Y29uc29sZSAudmMtbG9nYm94IC52Yy1sb2cudmMtbG9nLXBhcnRseSAudmMtaXRlbSB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG4jX192Y29uc29sZSAudmMtbG9nYm94IC52Yy1sb2cudmMtbG9nLXBhcnRseS1sb2cgLnZjLWl0ZW0tbG9nLFxcbiNfX3Zjb25zb2xlIC52Yy1sb2dib3ggLnZjLWxvZy52Yy1sb2ctcGFydGx5LWluZm8gLnZjLWl0ZW0taW5mbyxcXG4jX192Y29uc29sZSAudmMtbG9nYm94IC52Yy1sb2cudmMtbG9nLXBhcnRseS13YXJuIC52Yy1pdGVtLXdhcm4sXFxuI19fdmNvbnNvbGUgLnZjLWxvZ2JveCAudmMtbG9nLnZjLWxvZy1wYXJ0bHktZXJyb3IgLnZjLWl0ZW0tZXJyb3Ige1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcbiNfX3Zjb25zb2xlIC52Yy1sb2dib3ggLnZjLWl0ZW0gLnZjLWl0ZW0tY29udGVudCB7XFxuICBtYXJnaW4tcmlnaHQ6IDQuNjE1Mzg0NjJlbTtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG59XFxuI19fdmNvbnNvbGUgLnZjLWxvZ2JveCAudmMtaXRlbSAudmMtaXRlbS1yZXBlYXQge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgbWFyZ2luLXJpZ2h0OiAwLjMwNzY5MjMxZW07XFxuICBwYWRkaW5nOiAwIDYuNXB4O1xcbiAgY29sb3I6ICNEN0UwRUY7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDI1OTdGO1xcbiAgYm9yZGVyLXJhZGl1czogOC42NjY2NjY2N3B4O1xcbn1cXG4jX192Y29uc29sZSAudmMtbG9nYm94IC52Yy1pdGVtLnZjLWl0ZW0tZXJyb3IgLnZjLWl0ZW0tcmVwZWF0IHtcXG4gIGNvbG9yOiAjOTAxODE4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI0RDMjcyNztcXG59XFxuI19fdmNvbnNvbGUgLnZjLWxvZ2JveCAudmMtaXRlbS52Yy1pdGVtLXdhcm4gLnZjLWl0ZW0tcmVwZWF0IHtcXG4gIGNvbG9yOiAjOTg3RDIwO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI0Y0QkQwMjtcXG59XFxuI19fdmNvbnNvbGUgLnZjLWxvZ2JveCAudmMtaXRlbSAudmMtaXRlbS1jb2RlIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xcbiAgb3ZlcmZsb3c6IGF1dG87XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcbiNfX3Zjb25zb2xlIC52Yy1sb2dib3ggLnZjLWl0ZW0gLnZjLWl0ZW0tY29kZS52Yy1pdGVtLWNvZGUtaW5wdXQsXFxuI19fdmNvbnNvbGUgLnZjLWxvZ2JveCAudmMtaXRlbSAudmMtaXRlbS1jb2RlLnZjLWl0ZW0tY29kZS1vdXRwdXQge1xcbiAgcGFkZGluZy1sZWZ0OiAwLjkyMzA3NjkyZW07XFxufVxcbiNfX3Zjb25zb2xlIC52Yy1sb2dib3ggLnZjLWl0ZW0gLnZjLWl0ZW0tY29kZS52Yy1pdGVtLWNvZGUtaW5wdXQ6YmVmb3JlLFxcbiNfX3Zjb25zb2xlIC52Yy1sb2dib3ggLnZjLWl0ZW0gLnZjLWl0ZW0tY29kZS52Yy1pdGVtLWNvZGUtb3V0cHV0OmJlZm9yZSB7XFxuICBjb250ZW50OiBcIuKAulwiO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAtMC4yMzA3NjkyM2VtO1xcbiAgbGVmdDogMDtcXG4gIGZvbnQtc2l6ZTogMS4yMzA3NjkyM2VtO1xcbiAgY29sb3I6ICM2QTVBQ0Q7XFxufVxcbiNfX3Zjb25zb2xlIC52Yy1sb2dib3ggLnZjLWl0ZW0gLnZjLWl0ZW0tY29kZS52Yy1pdGVtLWNvZGUtb3V0cHV0OmJlZm9yZSB7XFxuICBjb250ZW50OiBcIuKAuVwiO1xcbn1cXG4jX192Y29uc29sZSAudmMtbG9nYm94IC52Yy1pdGVtIC52Yy1mb2xkIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgb3ZlcmZsb3c6IGF1dG87XFxuICAtd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzogdG91Y2g7XFxufVxcbiNfX3Zjb25zb2xlIC52Yy1sb2dib3ggLnZjLWl0ZW0gLnZjLWZvbGQgLnZjLWZvbGQtb3V0ZXIge1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBmb250LXN0eWxlOiBpdGFsaWM7XFxuICBwYWRkaW5nLWxlZnQ6IDAuNzY5MjMwNzdlbTtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuI19fdmNvbnNvbGUgLnZjLWxvZ2JveCAudmMtaXRlbSAudmMtZm9sZCAudmMtZm9sZC1vdXRlcjphY3RpdmUge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI0U2RTZFNjtcXG59XFxuI19fdmNvbnNvbGUgLnZjLWxvZ2JveCAudmMtaXRlbSAudmMtZm9sZCAudmMtZm9sZC1vdXRlcjpiZWZvcmUge1xcbiAgY29udGVudDogXCJcIjtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMC4zMDc2OTIzMWVtO1xcbiAgbGVmdDogMC4xNTM4NDYxNWVtO1xcbiAgd2lkdGg6IDA7XFxuICBoZWlnaHQ6IDA7XFxuICBib3JkZXI6IHRyYW5zcGFyZW50IHNvbGlkIDAuMzA3NjkyMzFlbTtcXG4gIGJvcmRlci1sZWZ0LWNvbG9yOiAjMDAwO1xcbn1cXG4jX192Y29uc29sZSAudmMtbG9nYm94IC52Yy1pdGVtIC52Yy1mb2xkIC52Yy1mb2xkLW91dGVyLnZjLXRvZ2dsZTpiZWZvcmUge1xcbiAgdG9wOiAwLjQ2MTUzODQ2ZW07XFxuICBsZWZ0OiAwO1xcbiAgYm9yZGVyLXRvcC1jb2xvcjogIzAwMDtcXG4gIGJvcmRlci1sZWZ0LWNvbG9yOiB0cmFuc3BhcmVudDtcXG59XFxuI19fdmNvbnNvbGUgLnZjLWxvZ2JveCAudmMtaXRlbSAudmMtZm9sZCAudmMtZm9sZC1pbm5lciB7XFxuICBkaXNwbGF5OiBub25lO1xcbiAgbWFyZ2luLWxlZnQ6IDAuNzY5MjMwNzdlbTtcXG59XFxuI19fdmNvbnNvbGUgLnZjLWxvZ2JveCAudmMtaXRlbSAudmMtZm9sZCAudmMtZm9sZC1pbm5lci52Yy10b2dnbGUge1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcbiNfX3Zjb25zb2xlIC52Yy1sb2dib3ggLnZjLWl0ZW0gLnZjLWZvbGQgLnZjLWZvbGQtaW5uZXIgLnZjLWNvZGUta2V5IHtcXG4gIG1hcmdpbi1sZWZ0OiAwLjc2OTIzMDc3ZW07XFxufVxcbiNfX3Zjb25zb2xlIC52Yy1sb2dib3ggLnZjLWl0ZW0gLnZjLWZvbGQgLnZjLWZvbGQtb3V0ZXIgLnZjLWNvZGUta2V5IHtcXG4gIG1hcmdpbi1sZWZ0OiAwO1xcbn1cXG4jX192Y29uc29sZSAudmMtbG9nYm94IC52Yy1jb2RlLWtleSB7XFxuICBjb2xvcjogIzkwNTtcXG59XFxuI19fdmNvbnNvbGUgLnZjLWxvZ2JveCAudmMtY29kZS1wcml2YXRlLWtleSB7XFxuICBjb2xvcjogI0QzOTFCNTtcXG59XFxuI19fdmNvbnNvbGUgLnZjLWxvZ2JveCAudmMtY29kZS1mdW5jdGlvbiB7XFxuICBjb2xvcjogIzkwNTtcXG4gIGZvbnQtc3R5bGU6IGl0YWxpYztcXG59XFxuI19fdmNvbnNvbGUgLnZjLWxvZ2JveCAudmMtY29kZS1udW1iZXIsXFxuI19fdmNvbnNvbGUgLnZjLWxvZ2JveCAudmMtY29kZS1ib29sZWFuIHtcXG4gIGNvbG9yOiAjMDA4NkIzO1xcbn1cXG4jX192Y29uc29sZSAudmMtbG9nYm94IC52Yy1jb2RlLXN0cmluZyB7XFxuICBjb2xvcjogIzE4MzY5MTtcXG59XFxuI19fdmNvbnNvbGUgLnZjLWxvZ2JveCAudmMtY29kZS1udWxsLFxcbiNfX3Zjb25zb2xlIC52Yy1sb2dib3ggLnZjLWNvZGUtdW5kZWZpbmVkIHtcXG4gIGNvbG9yOiAjNjY2O1xcbn1cXG4jX192Y29uc29sZSAudmMtbG9nYm94IC52Yy1jbWQge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgaGVpZ2h0OiAzLjA3NjkyMzA4ZW07XFxuICBsZWZ0OiAwO1xcbiAgcmlnaHQ6IDA7XFxuICBib3R0b206IDA7XFxuICBib3JkZXItdG9wOiAxcHggc29saWQgI0Q5RDlEOTtcXG4gIGRpc3BsYXk6IGJsb2NrIWltcG9ydGFudDtcXG59XFxuI19fdmNvbnNvbGUgLnZjLWxvZ2JveCAudmMtY21kIC52Yy1jbWQtaW5wdXQtd3JhcCB7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIGhlaWdodDogMi4xNTM4NDYxNWVtO1xcbiAgbWFyZ2luLXJpZ2h0OiAzLjA3NjkyMzA4ZW07XFxuICBwYWRkaW5nOiAwLjQ2MTUzODQ2ZW0gMC42MTUzODQ2MmVtO1xcbn1cXG4jX192Y29uc29sZSAudmMtbG9nYm94IC52Yy1jbWQgLnZjLWNtZC1pbnB1dCB7XFxuICB3aWR0aDogMTAwJTtcXG4gIGJvcmRlcjogbm9uZTtcXG4gIHJlc2l6ZTogbm9uZTtcXG4gIG91dGxpbmU6IG5vbmU7XFxuICBwYWRkaW5nOiAwO1xcbiAgZm9udC1zaXplOiAwLjkyMzA3NjkyZW07XFxufVxcbiNfX3Zjb25zb2xlIC52Yy1sb2dib3ggLnZjLWNtZCAudmMtY21kLWlucHV0Ojotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVyIHtcXG4gIGxpbmUtaGVpZ2h0OiAyLjE1Mzg0NjE1ZW07XFxufVxcbiNfX3Zjb25zb2xlIC52Yy1sb2dib3ggLnZjLWNtZCAudmMtY21kLWJ0biB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDA7XFxuICByaWdodDogMDtcXG4gIGJvdHRvbTogMDtcXG4gIHdpZHRoOiAzLjA3NjkyMzA4ZW07XFxuICBib3JkZXI6IG5vbmU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRUZFRkY0O1xcbiAgb3V0bGluZTogbm9uZTtcXG4gIC13ZWJraXQtdG91Y2gtY2FsbG91dDogbm9uZTtcXG4gIGZvbnQtc2l6ZTogMWVtO1xcbn1cXG4jX192Y29uc29sZSAudmMtbG9nYm94IC52Yy1jbWQgLnZjLWNtZC1idG46YWN0aXZlIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4xNSk7XFxufVxcbiNfX3Zjb25zb2xlIC52Yy1sb2dib3ggLnZjLWNtZCAudmMtY21kLXByb21wdGVkIHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI0ZCRjlGRTtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNEOUQ5RDk7XFxuICBvdmVyZmxvdy14OiBzY3JvbGw7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG4jX192Y29uc29sZSAudmMtbG9nYm94IC52Yy1jbWQgLnZjLWNtZC1wcm9tcHRlZCBsaSB7XFxuICBsaXN0LXN0eWxlOiBub25lO1xcbiAgbGluZS1oZWlnaHQ6IDMwcHg7XFxuICBwYWRkaW5nOiAwIDAuNDYxNTM4NDZlbTtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjRDlEOUQ5O1xcbn1cXG4jX192Y29uc29sZSAudmMtbG9nYm94IC52Yy1ncm91cCAudmMtZ3JvdXAtcHJldmlldyB7XFxuICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XFxufVxcbiNfX3Zjb25zb2xlIC52Yy1sb2dib3ggLnZjLWdyb3VwIC52Yy1ncm91cC1wcmV2aWV3OmFjdGl2ZSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRTZFNkU2O1xcbn1cXG4jX192Y29uc29sZSAudmMtbG9nYm94IC52Yy1ncm91cCAudmMtZ3JvdXAtZGV0YWlsIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICBwYWRkaW5nOiAwIDAgMC43NjkyMzA3N2VtIDEuNTM4NDYxNTRlbTtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjRUVFO1xcbn1cXG4jX192Y29uc29sZSAudmMtbG9nYm94IC52Yy1ncm91cC52Yy1hY3RpdmVkIC52Yy1ncm91cC1kZXRhaWwge1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkJGOUZFO1xcbn1cXG4jX192Y29uc29sZSAudmMtbG9nYm94IC52Yy1ncm91cC52Yy1hY3RpdmVkIC52Yy10YWJsZS1yb3cge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI0ZGRjtcXG59XFxuI19fdmNvbnNvbGUgLnZjLWxvZ2JveCAudmMtZ3JvdXAudmMtYWN0aXZlZCAudmMtZ3JvdXAtcHJldmlldyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkJGOUZFO1xcbn1cXG4jX192Y29uc29sZSAudmMtbG9nYm94IC52Yy10YWJsZSAudmMtdGFibGUtcm93IHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBkaXNwbGF5OiAtd2Via2l0LWZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgZmxleC13cmFwOiB3cmFwO1xcbiAgLXdlYmtpdC1ib3gtZGlyZWN0aW9uOiByb3c7XFxuICAtd2Via2l0LWZsZXgtd3JhcDogd3JhcDtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI0VFRTtcXG59XFxuI19fdmNvbnNvbGUgLnZjLWxvZ2JveCAudmMtdGFibGUgLnZjLXRhYmxlLXJvdy52Yy1sZWZ0LWJvcmRlciB7XFxuICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNFRUU7XFxufVxcbiNfX3Zjb25zb2xlIC52Yy1sb2dib3ggLnZjLXRhYmxlIC52Yy10YWJsZS1jb2wge1xcbiAgZmxleDogMTtcXG4gIC13ZWJraXQtYm94LWZsZXg6IDE7XFxuICBwYWRkaW5nOiAwLjIzMDc2OTIzZW0gMC4zMDc2OTIzMWVtO1xcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjRUVFO1xcbiAgb3ZlcmZsb3c6IGF1dG87XFxuICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XFxuICB3b3JkLWJyZWFrOiBicmVhay13b3JkO1xcbiAgLyp3aGl0ZS1zcGFjZTogbm93cmFwO1xcbiAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7Ki9cXG4gIC13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOiB0b3VjaDtcXG59XFxuI19fdmNvbnNvbGUgLnZjLWxvZ2JveCAudmMtdGFibGUgLnZjLXRhYmxlLWNvbDpmaXJzdC1jaGlsZCB7XFxuICBib3JkZXI6IG5vbmU7XFxufVxcbiNfX3Zjb25zb2xlIC52Yy1sb2dib3ggLnZjLXRhYmxlIC52Yy1zbWFsbCAudmMtdGFibGUtY29sIHtcXG4gIHBhZGRpbmc6IDAgMC4zMDc2OTIzMWVtO1xcbiAgZm9udC1zaXplOiAwLjkyMzA3NjkyZW07XFxufVxcbiNfX3Zjb25zb2xlIC52Yy1sb2dib3ggLnZjLXRhYmxlIC52Yy10YWJsZS1jb2wtMiB7XFxuICBmbGV4OiAyO1xcbiAgLXdlYmtpdC1ib3gtZmxleDogMjtcXG59XFxuI19fdmNvbnNvbGUgLnZjLWxvZ2JveCAudmMtdGFibGUgLnZjLXRhYmxlLWNvbC0zIHtcXG4gIGZsZXg6IDM7XFxuICAtd2Via2l0LWJveC1mbGV4OiAzO1xcbn1cXG4jX192Y29uc29sZSAudmMtbG9nYm94IC52Yy10YWJsZSAudmMtdGFibGUtY29sLTQge1xcbiAgZmxleDogNDtcXG4gIC13ZWJraXQtYm94LWZsZXg6IDQ7XFxufVxcbiNfX3Zjb25zb2xlIC52Yy1sb2dib3ggLnZjLXRhYmxlIC52Yy10YWJsZS1jb2wtNSB7XFxuICBmbGV4OiA1O1xcbiAgLXdlYmtpdC1ib3gtZmxleDogNTtcXG59XFxuI19fdmNvbnNvbGUgLnZjLWxvZ2JveCAudmMtdGFibGUgLnZjLXRhYmxlLWNvbC02IHtcXG4gIGZsZXg6IDY7XFxuICAtd2Via2l0LWJveC1mbGV4OiA2O1xcbn1cXG4jX192Y29uc29sZSAudmMtbG9nYm94IC52Yy10YWJsZSAudmMtdGFibGUtcm93LWVycm9yIHtcXG4gIGJvcmRlci1jb2xvcjogI0Y0QTBBQjtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNGRkU0RTE7XFxufVxcbiNfX3Zjb25zb2xlIC52Yy1sb2dib3ggLnZjLXRhYmxlIC52Yy10YWJsZS1yb3ctZXJyb3IgLnZjLXRhYmxlLWNvbCB7XFxuICBjb2xvcjogI0RDMTQzQztcXG4gIGJvcmRlci1jb2xvcjogI0Y0QTBBQjtcXG59XFxuI19fdmNvbnNvbGUgLnZjLWxvZ2JveCAudmMtdGFibGUgLnZjLXRhYmxlLWNvbC10aXRsZSB7XFxuICBmb250LXdlaWdodDogYm9sZDtcXG59XFxuI19fdmNvbnNvbGUgLnZjLWxvZ2JveC52Yy1hY3RpdmVkIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG4jX192Y29uc29sZSAudmMtdG9vbGJhciB7XFxuICBib3JkZXItdG9wOiAxcHggc29saWQgI0Q5RDlEOTtcXG4gIGxpbmUtaGVpZ2h0OiAzZW07XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBsZWZ0OiAwO1xcbiAgcmlnaHQ6IDA7XFxuICBib3R0b206IDA7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZGlzcGxheTogLXdlYmtpdC1ib3g7XFxuICBmbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgLXdlYmtpdC1ib3gtZGlyZWN0aW9uOiByb3c7XFxufVxcbiNfX3Zjb25zb2xlIC52Yy10b29sYmFyIC52Yy10b29sIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxuICBjb2xvcjogIzAwMDtcXG4gIHdpZHRoOiA1MCU7XFxuICBmbGV4OiAxO1xcbiAgLXdlYmtpdC1ib3gtZmxleDogMTtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIC13ZWJraXQtdG91Y2gtY2FsbG91dDogbm9uZTtcXG59XFxuI19fdmNvbnNvbGUgLnZjLXRvb2xiYXIgLnZjLXRvb2wudmMtdG9nZ2xlLFxcbiNfX3Zjb25zb2xlIC52Yy10b29sYmFyIC52Yy10b29sLnZjLWdsb2JhbC10b29sIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG4jX192Y29uc29sZSAudmMtdG9vbGJhciAudmMtdG9vbDphY3RpdmUge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjE1KTtcXG59XFxuI19fdmNvbnNvbGUgLnZjLXRvb2xiYXIgLnZjLXRvb2w6YWZ0ZXIge1xcbiAgY29udGVudDogXCIgXCI7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDAuNTM4NDYxNTRlbTtcXG4gIGJvdHRvbTogMC41Mzg0NjE1NGVtO1xcbiAgcmlnaHQ6IDA7XFxuICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNEOUQ5RDk7XFxufVxcbiNfX3Zjb25zb2xlIC52Yy10b29sYmFyIC52Yy10b29sLWxhc3Q6YWZ0ZXIge1xcbiAgYm9yZGVyOiBub25lO1xcbn1cXG5Ac3VwcG9ydHMgKGJvdHRvbTogY29uc3RhbnQoc2FmZS1hcmVhLWluc2V0LWJvdHRvbSkpIG9yIChib3R0b206IGVudihzYWZlLWFyZWEtaW5zZXQtYm90dG9tKSkge1xcbiAgI19fdmNvbnNvbGUgLnZjLXRvb2xiYXIsXFxuICAjX192Y29uc29sZSAudmMtc3dpdGNoIHtcXG4gICAgYm90dG9tOiBjb25zdGFudChzYWZlLWFyZWEtaW5zZXQtYm90dG9tKTtcXG4gICAgYm90dG9tOiBlbnYoc2FmZS1hcmVhLWluc2V0LWJvdHRvbSk7XFxuICB9XFxufVxcbiNfX3Zjb25zb2xlLnZjLXRvZ2dsZSAudmMtc3dpdGNoIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcbiNfX3Zjb25zb2xlLnZjLXRvZ2dsZSAudmMtbWFzayB7XFxuICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuNik7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuI19fdmNvbnNvbGUudmMtdG9nZ2xlIC52Yy1wYW5lbCB7XFxuICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlKDAsIDApO1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMCwgMCk7XFxufVxcbicsXCJcIl0pfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cubG9jYXRpb247aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiZml4VXJscyByZXF1aXJlcyB3aW5kb3cubG9jYXRpb25cIik7aWYoIWV8fFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiBlO3ZhciBvPXQucHJvdG9jb2wrXCIvL1wiK3QuaG9zdCxuPW8rdC5wYXRobmFtZS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sXCIvXCIpO3JldHVybiBlLnJlcGxhY2UoL3VybFxccypcXCgoKD86W14pKF18XFwoKD86W14pKF0rfFxcKFteKShdKlxcKSkqXFwpKSopXFwpL2dpLGZ1bmN0aW9uKGUsdCl7dmFyIHIsaT10LnRyaW0oKS5yZXBsYWNlKC9eXCIoLiopXCIkLyxmdW5jdGlvbihlLHQpe3JldHVybiB0fSkucmVwbGFjZSgvXicoLiopJyQvLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR9KTtyZXR1cm4vXigjfGRhdGE6fGh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcL3xmaWxlOlxcL1xcL1xcL3xcXHMqJCkvaS50ZXN0KGkpP2U6KHI9MD09PWkuaW5kZXhPZihcIi8vXCIpP2k6MD09PWkuaW5kZXhPZihcIi9cIik/bytpOm4raS5yZXBsYWNlKC9eXFwuXFwvLyxcIlwiKSxcInVybChcIitKU09OLnN0cmluZ2lmeShyKStcIilcIil9KX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPSc8ZGl2IGlkPVwiX192Y29uc29sZVwiIGNsYXNzPVwiXCI+XFxuICA8ZGl2IGNsYXNzPVwidmMtc3dpdGNoXCI+dkNvbnNvbGU8L2Rpdj5cXG4gIDxkaXYgY2xhc3M9XCJ2Yy1tYXNrXCI+XFxuICA8L2Rpdj5cXG4gIDxkaXYgY2xhc3M9XCJ2Yy1wYW5lbFwiPlxcbiAgICA8ZGl2IGNsYXNzPVwidmMtdGFiYmFyXCI+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVwidmMtdG9wYmFyXCI+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVwidmMtY29udGVudFwiPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cInZjLXRvb2xiYXJcIj5cXG4gICAgICA8YSBjbGFzcz1cInZjLXRvb2wgdmMtZ2xvYmFsLXRvb2wgdmMtdG9vbC1sYXN0IHZjLWhpZGVcIj5IaWRlPC9hPlxcbiAgICA8L2Rpdj5cXG4gIDwvZGl2PlxcbjwvZGl2Pid9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPSc8YSBjbGFzcz1cInZjLXRhYlwiIGRhdGEtdGFiPVwie3tpZH19XCIgaWQ9XCJfX3ZjX3RhYl97e2lkfX1cIj57e25hbWV9fTwvYT4nfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz0nPGRpdiBjbGFzcz1cInZjLWxvZ2JveFwiIGlkPVwiX192Y19sb2dfe3tpZH19XCI+XFxuICBcXG48L2Rpdj4nfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz0nPGEgY2xhc3M9XCJ2Yy10b3B0YWIgdmMtdG9wYmFyLXt7cGx1Z2luSUR9fXt7aWYgKGNsYXNzTmFtZSl9fSB7e2NsYXNzTmFtZX19e3svaWZ9fVwiPnt7bmFtZX19PC9hPid9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPSc8YSBjbGFzcz1cInZjLXRvb2wgdmMtdG9vbC17e3BsdWdpbklEfX1cIj57e25hbWV9fTwvYT4nfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18sZmFjdG9yeTtmYWN0b3J5PWZ1bmN0aW9uKF9leHBvcnRzLF9xdWVyeSx0b29sLF9sb2csX3RhYmJveF9kZWZhdWx0LF9pdGVtX2NvZGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgbyBpbiBlKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG8pKXt2YXIgbj1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I/T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG8pOnt9O24uZ2V0fHxuLnNldD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLG4pOnRbb109ZVtvXX1yZXR1cm4gdC5kZWZhdWx0PWUsdH1mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBfdHlwZW9mKGUpe3JldHVybihfdHlwZW9mPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKGUsdCl7Zm9yKHZhciBvPTA7bzx0Lmxlbmd0aDtvKyspe3ZhciBuPXRbb107bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoZSx0LG8pe3JldHVybiB0JiZfZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSx0KSxvJiZfZGVmaW5lUHJvcGVydGllcyhlLG8pLGV9ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oZSx0KXtyZXR1cm4hdHx8XCJvYmplY3RcIiE9PV90eXBlb2YodCkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/X2Fzc2VydFRoaXNJbml0aWFsaXplZChlKTp0fWZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoZSl7aWYodm9pZCAwPT09ZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIGV9ZnVuY3Rpb24gX2dldChlLHQsbyl7cmV0dXJuKF9nZXQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3QuZ2V0P1JlZmxlY3QuZ2V0OmZ1bmN0aW9uKGUsdCxvKXt2YXIgbj1fc3VwZXJQcm9wQmFzZShlLHQpO2lmKG4pe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KTtyZXR1cm4gci5nZXQ/ci5nZXQuY2FsbChvKTpyLnZhbHVlfX0pKGUsdCxvfHxlKX1mdW5jdGlvbiBfc3VwZXJQcm9wQmFzZShlLHQpe2Zvcig7IU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpJiZudWxsIT09KGU9X2dldFByb3RvdHlwZU9mKGUpKTspO3JldHVybiBlfWZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihlKXtyZXR1cm4oX2dldFByb3RvdHlwZU9mPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9KShlKX1mdW5jdGlvbiBfaW5oZXJpdHMoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJl9zZXRQcm90b3R5cGVPZihlLHQpfWZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihlLHQpe3JldHVybihfc2V0UHJvdG90eXBlT2Y9T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbihlLHQpe3JldHVybiBlLl9fcHJvdG9fXz10LGV9KShlLHQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShfZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxfZXhwb3J0cy5kZWZhdWx0PXZvaWQgMCxfcXVlcnk9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcXVlcnkpLHRvb2w9X2ludGVyb3BSZXF1aXJlV2lsZGNhcmQodG9vbCksX2xvZz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2cpLF90YWJib3hfZGVmYXVsdD1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90YWJib3hfZGVmYXVsdCksX2l0ZW1fY29kZT1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pdGVtX2NvZGUpO3ZhciBWQ29uc29sZURlZmF1bHRUYWI9ZnVuY3Rpb24oX1ZDb25zb2xlTG9nVGFiKXtmdW5jdGlvbiBWQ29uc29sZURlZmF1bHRUYWIoKXt2YXIgZSx0O19jbGFzc0NhbGxDaGVjayh0aGlzLFZDb25zb2xlRGVmYXVsdFRhYik7Zm9yKHZhciBvPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkobykscj0wO3I8bztyKyspbltyXT1hcmd1bWVudHNbcl07cmV0dXJuKHQ9X3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywoZT1fZ2V0UHJvdG90eXBlT2YoVkNvbnNvbGVEZWZhdWx0VGFiKSkuY2FsbC5hcHBseShlLFt0aGlzXS5jb25jYXQobikpKSkudHBsVGFiYm94PV90YWJib3hfZGVmYXVsdC5kZWZhdWx0LHR9cmV0dXJuIF9pbmhlcml0cyhWQ29uc29sZURlZmF1bHRUYWIsX1ZDb25zb2xlTG9nVGFiKSxfY3JlYXRlQ2xhc3MoVkNvbnNvbGVEZWZhdWx0VGFiLFt7a2V5Olwib25SZWFkeVwiLHZhbHVlOmZ1bmN0aW9uIG9uUmVhZHkoKXt2YXIgdGhhdD10aGlzO19nZXQoX2dldFByb3RvdHlwZU9mKFZDb25zb2xlRGVmYXVsdFRhYi5wcm90b3R5cGUpLFwib25SZWFkeVwiLHRoaXMpLmNhbGwodGhpcyksd2luZG93LndpbktleXM9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KS5zb3J0KCksd2luZG93LmtleVR5cGVzPXt9O2Zvcih2YXIgaT0wO2k8d2luS2V5cy5sZW5ndGg7aSsrKWtleVR5cGVzW3dpbktleXNbaV1dPV90eXBlb2Yod2luZG93W3dpbktleXNbaV1dKTt2YXIgY2FjaGVPYmo9e30sSURfUkVHRVg9L1thLXpBLVpfMC05XFwkXFwtXFx1MDBBMi1cXHVGRkZGXS8scmV0cmlldmVQcmVjZWRpbmdJZGVudGlmaWVyPWZ1bmN0aW9uKGUsdCxvKXtvPW98fElEX1JFR0VYO2Zvcih2YXIgbj1bXSxyPXQtMTtyPj0wJiZvLnRlc3QoZVtyXSk7ci0tKW4ucHVzaChlW3JdKTtpZigwPT1uLmxlbmd0aCl7bz0vXFwuLztmb3IodmFyIGk9dC0xO2k+PTAmJm8udGVzdChlW2ldKTtpLS0pbi5wdXNoKGVbaV0pfWlmKDA9PT1uLmxlbmd0aCl7dmFyIGE9ZS5tYXRjaCgvW1xcKFxcKVxcW1xcXVxce1xcfV0vZ2kpfHxbXTtyZXR1cm4gYVthLmxlbmd0aC0xXX1yZXR1cm4gbi5yZXZlcnNlKCkuam9pbihcIlwiKX07X3F1ZXJ5LmRlZmF1bHQuYmluZChfcXVlcnkuZGVmYXVsdC5vbmUoXCIudmMtY21kLWlucHV0XCIpLFwia2V5dXBcIixmdW5jdGlvbihlKXt2YXIgaXNEZWxldGVLZXlDb2RlPTg9PT1lLmtleUNvZGV8fDQ2PT09ZS5rZXlDb2RlLCRwcm9tcHRlZD1fcXVlcnkuZGVmYXVsdC5vbmUoXCIudmMtY21kLXByb21wdGVkXCIpOyRwcm9tcHRlZC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLCRwcm9tcHRlZC5pbm5lckhUTUw9XCJcIjt2YXIgdGVtcFZhbHVlPXRoaXMudmFsdWUsdmFsdWU9cmV0cmlldmVQcmVjZWRpbmdJZGVudGlmaWVyKHRoaXMudmFsdWUsdGhpcy52YWx1ZS5sZW5ndGgpO2lmKHZhbHVlJiZ2YWx1ZS5sZW5ndGg+MCl7aWYoL1xcKC8udGVzdCh2YWx1ZSkmJiFpc0RlbGV0ZUtleUNvZGUpcmV0dXJuIHZvaWQoX3F1ZXJ5LmRlZmF1bHQub25lKFwiLnZjLWNtZC1pbnB1dFwiKS52YWx1ZSs9XCIpXCIpO2lmKC9cXFsvLnRlc3QodmFsdWUpJiYhaXNEZWxldGVLZXlDb2RlKXJldHVybiB2b2lkKF9xdWVyeS5kZWZhdWx0Lm9uZShcIi52Yy1jbWQtaW5wdXRcIikudmFsdWUrPVwiXVwiKTtpZigvXFx7Ly50ZXN0KHZhbHVlKSYmIWlzRGVsZXRlS2V5Q29kZSlyZXR1cm4gdm9pZChfcXVlcnkuZGVmYXVsdC5vbmUoXCIudmMtY21kLWlucHV0XCIpLnZhbHVlKz1cIn1cIik7aWYoXCIuXCI9PT12YWx1ZSl7dmFyIGtleT1yZXRyaWV2ZVByZWNlZGluZ0lkZW50aWZpZXIodGVtcFZhbHVlLHRlbXBWYWx1ZS5sZW5ndGgtMSk7aWYoIWNhY2hlT2JqW2tleV0pdHJ5e2NhY2hlT2JqW2tleV09T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZXZhbChcIihcIitrZXkrXCIpXCIpKS5zb3J0KCl9Y2F0Y2goZSl7fXRyeXtmb3IodmFyIF9pMz0wO19pMzxjYWNoZU9ialtrZXldLmxlbmd0aDtfaTMrKyl7dmFyICRsaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIiksX2tleT1jYWNoZU9ialtrZXldW19pM107JGxpLmlubmVySFRNTD1fa2V5LCRsaS5vbmNsaWNrPWZ1bmN0aW9uKCl7X3F1ZXJ5LmRlZmF1bHQub25lKFwiLnZjLWNtZC1pbnB1dFwiKS52YWx1ZT1cIlwiLF9xdWVyeS5kZWZhdWx0Lm9uZShcIi52Yy1jbWQtaW5wdXRcIikudmFsdWU9dGVtcFZhbHVlK3RoaXMuaW5uZXJIVE1MLCRwcm9tcHRlZC5zdHlsZS5kaXNwbGF5PVwibm9uZVwifSwkcHJvbXB0ZWQuYXBwZW5kQ2hpbGQoJGxpKX19Y2F0Y2goZSl7fX1lbHNlIGlmKFwiLlwiIT09dmFsdWUuc3Vic3RyaW5nKHZhbHVlLmxlbmd0aC0xKSYmdmFsdWUuaW5kZXhPZihcIi5cIik8MCl7Zm9yKHZhciBfaTQ9MDtfaTQ8d2luS2V5cy5sZW5ndGg7X2k0KyspaWYod2luS2V5c1tfaTRdLnRvTG93ZXJDYXNlKCkuaW5kZXhPZih2YWx1ZS50b0xvd2VyQ2FzZSgpKT49MCl7dmFyIF8kbGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO18kbGkuaW5uZXJIVE1MPXdpbktleXNbX2k0XSxfJGxpLm9uY2xpY2s9ZnVuY3Rpb24oKXtfcXVlcnkuZGVmYXVsdC5vbmUoXCIudmMtY21kLWlucHV0XCIpLnZhbHVlPVwiXCIsX3F1ZXJ5LmRlZmF1bHQub25lKFwiLnZjLWNtZC1pbnB1dFwiKS52YWx1ZT10aGlzLmlubmVySFRNTCxcImZ1bmN0aW9uXCI9PWtleVR5cGVzW3RoaXMuaW5uZXJIVE1MXSYmKF9xdWVyeS5kZWZhdWx0Lm9uZShcIi52Yy1jbWQtaW5wdXRcIikudmFsdWUrPVwiKClcIiksJHByb21wdGVkLnN0eWxlLmRpc3BsYXk9XCJub25lXCJ9LCRwcm9tcHRlZC5hcHBlbmRDaGlsZChfJGxpKX19ZWxzZXt2YXIgYXJyPXZhbHVlLnNwbGl0KFwiLlwiKTtpZihjYWNoZU9ialthcnJbMF1dKXtjYWNoZU9ialthcnJbMF1dLnNvcnQoKTtmb3IodmFyIF9pNT0wO19pNTxjYWNoZU9ialthcnJbMF1dLmxlbmd0aDtfaTUrKyl7dmFyIF8kbGkyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKSxfa2V5Mz1jYWNoZU9ialthcnJbMF1dW19pNV07X2tleTMuaW5kZXhPZihhcnJbMV0pPj0wJiYoXyRsaTIuaW5uZXJIVE1MPV9rZXkzLF8kbGkyLm9uY2xpY2s9ZnVuY3Rpb24oKXtfcXVlcnkuZGVmYXVsdC5vbmUoXCIudmMtY21kLWlucHV0XCIpLnZhbHVlPVwiXCIsX3F1ZXJ5LmRlZmF1bHQub25lKFwiLnZjLWNtZC1pbnB1dFwiKS52YWx1ZT10ZW1wVmFsdWUrdGhpcy5pbm5lckhUTUwsJHByb21wdGVkLnN0eWxlLmRpc3BsYXk9XCJub25lXCJ9LCRwcm9tcHRlZC5hcHBlbmRDaGlsZChfJGxpMikpfX19aWYoJHByb21wdGVkLmNoaWxkcmVuLmxlbmd0aD4wKXt2YXIgbT1NYXRoLm1pbigyMDAsMzEqJHByb21wdGVkLmNoaWxkcmVuLmxlbmd0aCk7JHByb21wdGVkLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLCRwcm9tcHRlZC5zdHlsZS5oZWlnaHQ9bStcInB4XCIsJHByb21wdGVkLnN0eWxlLm1hcmdpblRvcD0tbStcInB4XCJ9fWVsc2UgJHByb21wdGVkLnN0eWxlLmRpc3BsYXk9XCJub25lXCJ9KSxfcXVlcnkuZGVmYXVsdC5iaW5kKF9xdWVyeS5kZWZhdWx0Lm9uZShcIi52Yy1jbWRcIix0aGlzLiR0YWJib3gpLFwic3VibWl0XCIsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciB0PV9xdWVyeS5kZWZhdWx0Lm9uZShcIi52Yy1jbWQtaW5wdXRcIixlLnRhcmdldCksbz10LnZhbHVlO3QudmFsdWU9XCJcIixcIlwiIT09byYmdGhhdC5ldmFsQ29tbWFuZChvKTt2YXIgbj1fcXVlcnkuZGVmYXVsdC5vbmUoXCIudmMtY21kLXByb21wdGVkXCIpO24mJihuLnN0eWxlLmRpc3BsYXk9XCJub25lXCIpfSk7dmFyIGNvZGU9XCJcIjtjb2RlKz1cImlmICghIXdpbmRvdykge1wiLGNvZGUrPVwid2luZG93Ll9fdkNvbnNvbGVfY21kX3Jlc3VsdCA9IHVuZGVmaW5lZDtcIixjb2RlKz1cIndpbmRvdy5fX3ZDb25zb2xlX2NtZF9lcnJvciA9IGZhbHNlO1wiLGNvZGUrPVwifVwiO3ZhciBzY3JpcHRMaXN0PWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpLG5vbmNlPVwiXCI7c2NyaXB0TGlzdC5sZW5ndGg+MCYmKG5vbmNlPXNjcmlwdExpc3RbMF0ubm9uY2V8fFwiXCIpO3ZhciBzY3JpcHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIlNDUklQVFwiKTtzY3JpcHQuaW5uZXJIVE1MPWNvZGUsc2NyaXB0LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsbm9uY2UpLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChzY3JpcHQpLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZW1vdmVDaGlsZChzY3JpcHQpfX0se2tleTpcIm1vY2tDb25zb2xlXCIsdmFsdWU6ZnVuY3Rpb24oKXtfZ2V0KF9nZXRQcm90b3R5cGVPZihWQ29uc29sZURlZmF1bHRUYWIucHJvdG90eXBlKSxcIm1vY2tDb25zb2xlXCIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzO3Rvb2wuaXNGdW5jdGlvbih3aW5kb3cub25lcnJvcikmJih0aGlzLndpbmRvd09uRXJyb3I9d2luZG93Lm9uZXJyb3IpLHdpbmRvdy5vbmVycm9yPWZ1bmN0aW9uKHQsbyxuLHIsaSl7dmFyIGE9dDtvJiYoYSs9XCJcXG5cIitvLnJlcGxhY2UobG9jYXRpb24ub3JpZ2luLFwiXCIpKSwobnx8cikmJihhKz1cIjpcIituK1wiOlwiK3IpO3ZhciBsPSEhaSYmISFpLnN0YWNrJiZpLnN0YWNrLnRvU3RyaW5nKCl8fFwiXCI7ZS5wcmludExvZyh7bG9nVHlwZTpcImVycm9yXCIsbG9nczpbYSxsXSxub09yaWdpbjohMH0pLHRvb2wuaXNGdW5jdGlvbihlLndpbmRvd09uRXJyb3IpJiZlLndpbmRvd09uRXJyb3IuY2FsbCh3aW5kb3csdCxvLG4scixpKX19fSx7a2V5OlwiZXZhbENvbW1hbmRcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnByaW50TG9nKHtsb2dUeXBlOlwibG9nXCIsY29udGVudDpfcXVlcnkuZGVmYXVsdC5yZW5kZXIoX2l0ZW1fY29kZS5kZWZhdWx0LHtjb250ZW50OmUsdHlwZTpcImlucHV0XCJ9KSxzdHlsZTpcIlwifSk7dmFyIHQsbz12b2lkIDA7dHJ5e289ZXZhbC5jYWxsKHdpbmRvdyxcIihcIitlK1wiKVwiKX1jYXRjaCh0KXt0cnl7bz1ldmFsLmNhbGwod2luZG93LGUpfWNhdGNoKGUpe319dG9vbC5pc0FycmF5KG8pfHx0b29sLmlzT2JqZWN0KG8pP3Q9dGhpcy5nZXRGb2xkZWRMaW5lKG8pOih0b29sLmlzTnVsbChvKT9vPVwibnVsbFwiOnRvb2wuaXNVbmRlZmluZWQobyk/bz1cInVuZGVmaW5lZFwiOnRvb2wuaXNGdW5jdGlvbihvKT9vPVwiZnVuY3Rpb24oKVwiOnRvb2wuaXNTdHJpbmcobykmJihvPSdcIicrbysnXCInKSx0PV9xdWVyeS5kZWZhdWx0LnJlbmRlcihfaXRlbV9jb2RlLmRlZmF1bHQse2NvbnRlbnQ6byx0eXBlOlwib3V0cHV0XCJ9KSksdGhpcy5wcmludExvZyh7bG9nVHlwZTpcImxvZ1wiLGNvbnRlbnQ6dCxzdHlsZTpcIlwifSksd2luZG93LndpbktleXM9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KS5zb3J0KCl9fV0pLFZDb25zb2xlRGVmYXVsdFRhYn0oX2xvZy5kZWZhdWx0KSxfZGVmYXVsdD1WQ29uc29sZURlZmF1bHRUYWI7X2V4cG9ydHMuZGVmYXVsdD1fZGVmYXVsdCxtb2R1bGUuZXhwb3J0cz1leHBvcnRzLmRlZmF1bHR9LF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX189W2V4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXygxKSxfX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9fd2VicGFja19yZXF1aXJlX18oNSksX193ZWJwYWNrX3JlcXVpcmVfXygyMyksX193ZWJwYWNrX3JlcXVpcmVfXygyNCldLHZvaWQgMD09PShfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXz1cImZ1bmN0aW9uXCI9PXR5cGVvZihfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX189ZmFjdG9yeSk/X19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLmFwcGx5KGV4cG9ydHMsX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyk6X19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKXx8KG1vZHVsZS5leHBvcnRzPV9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9JzxkaXYgaWQ9XCJ7e19pZH19XCIgY2xhc3M9XCJ2Yy1pdGVtIHZjLWl0ZW0te3tsb2dUeXBlfX0ge3tzdHlsZX19XCI+XFxuXFx0PGRpdiBjbGFzcz1cInZjLWl0ZW0tY29udGVudFwiPjwvZGl2PlxcbjwvZGl2Pid9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPSc8ZGl2IGNsYXNzPVwidmMtZm9sZFwiPlxcbiAge3tpZiAobGluZVR5cGUgPT0gXFwnb2JqXFwnKX19XFxuICAgIDxpIGNsYXNzPVwidmMtZm9sZC1vdXRlclwiPnt7b3V0ZXJ9fTwvaT5cXG4gICAgPGRpdiBjbGFzcz1cInZjLWZvbGQtaW5uZXJcIj48L2Rpdj5cXG4gIHt7ZWxzZSBpZiAobGluZVR5cGUgPT0gXFwndmFsdWVcXCcpfX1cXG4gICAgPGkgY2xhc3M9XCJ2Yy1jb2RlLXt7dmFsdWVUeXBlfX1cIj57e3ZhbHVlfX08L2k+XFxuICB7e2Vsc2UgaWYgKGxpbmVUeXBlID09IFxcJ2t2XFwnKX19XFxuICAgIDxpIGNsYXNzPVwidmMtY29kZS1rZXl7e2lmIChrZXlUeXBlKX19IHZjLWNvZGUte3trZXlUeXBlfX0ta2V5e3svaWZ9fVwiPnt7a2V5fX08L2k+OiA8aSBjbGFzcz1cInZjLWNvZGUte3t2YWx1ZVR5cGV9fVwiPnt7dmFsdWV9fTwvaT5cXG4gIHt7L2lmfX1cXG48L2Rpdj4nfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz0nPHNwYW4+XFxuICA8aSBjbGFzcz1cInZjLWNvZGUta2V5e3tpZiAoa2V5VHlwZSl9fSB2Yy1jb2RlLXt7a2V5VHlwZX19LWtleXt7L2lmfX1cIj57e2tleX19PC9pPjogPGkgY2xhc3M9XCJ2Yy1jb2RlLXt7dmFsdWVUeXBlfX1cIj57e3ZhbHVlfX08L2k+XFxuPC9zcGFuPid9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPSc8ZGl2PlxcbiAgPGRpdiBjbGFzcz1cInZjLWxvZ1wiPjwvZGl2PlxcbiAgPGZvcm0gY2xhc3M9XCJ2Yy1jbWRcIj5cXG4gICAgPGJ1dHRvbiBjbGFzcz1cInZjLWNtZC1idG5cIiB0eXBlPVwic3VibWl0XCI+T0s8L2J1dHRvbj5cXG4gICAgPHVsIGNsYXNzPVxcJ3ZjLWNtZC1wcm9tcHRlZFxcJz48L3VsPlxcbiAgICA8ZGl2IGNsYXNzPVwidmMtY21kLWlucHV0LXdyYXBcIj5cXG4gICAgICA8dGV4dGFyZWEgY2xhc3M9XCJ2Yy1jbWQtaW5wdXRcIiBwbGFjZWhvbGRlcj1cImNvbW1hbmQuLi5cIj48L3RleHRhcmVhPlxcbiAgICA8L2Rpdj5cXG4gIDwvZm9ybT5cXG48L2Rpdj4nfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz0nPHByZSBjbGFzcz1cInZjLWl0ZW0tY29kZSB2Yy1pdGVtLWNvZGUte3t0eXBlfX1cIj57e2NvbnRlbnR9fTwvcHJlPid9LGZ1bmN0aW9uKGUsdCxvKXt2YXIgbixyLGk7cj1bdCxvKDUpLG8oMjYpXSx2b2lkIDA9PT0oaT1cImZ1bmN0aW9uXCI9PXR5cGVvZihuPWZ1bmN0aW9uKG8sbixyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBhKGUpe3JldHVybihhPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBsKGUsdCl7Zm9yKHZhciBvPTA7bzx0Lmxlbmd0aDtvKyspe3ZhciBuPXRbb107bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1mdW5jdGlvbiBjKGUsdCl7cmV0dXJuIXR8fFwib2JqZWN0XCIhPT1hKHQpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P2Z1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiBlfShlKTp0fWZ1bmN0aW9uIHMoZSx0LG8pe3JldHVybihzPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBSZWZsZWN0JiZSZWZsZWN0LmdldD9SZWZsZWN0LmdldDpmdW5jdGlvbihlLHQsbyl7dmFyIG49ZnVuY3Rpb24oZSx0KXtmb3IoOyFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSYmbnVsbCE9PShlPWQoZSkpOyk7cmV0dXJuIGV9KGUsdCk7aWYobil7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpO3JldHVybiByLmdldD9yLmdldC5jYWxsKG8pOnIudmFsdWV9fSkoZSx0LG98fGUpfWZ1bmN0aW9uIGQoZSl7cmV0dXJuKGQ9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbihlKXtyZXR1cm4gZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihlKX0pKGUpfWZ1bmN0aW9uIHUoZSx0KXtyZXR1cm4odT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX19wcm90b19fPXQsZX0pKGUsdCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KG8sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksby5kZWZhdWx0PXZvaWQgMCxuPWkobikscj1pKHIpO3ZhciBmPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgZSxvOyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCk7Zm9yKHZhciBuPWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkobiksYT0wO2E8bjthKyspaVthXT1hcmd1bWVudHNbYV07cmV0dXJuKG89Yyh0aGlzLChlPWQodCkpLmNhbGwuYXBwbHkoZSxbdGhpc10uY29uY2F0KGkpKSkpLnRwbFRhYmJveD1yLmRlZmF1bHQsby5hbGxvd1VuZm9ybWF0dGVkTG9nPSExLG99cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiZ1KGUsdCl9KHQsZSksbz10LChuPVt7a2V5Olwib25Jbml0XCIsdmFsdWU6ZnVuY3Rpb24oKXtzKGQodC5wcm90b3R5cGUpLFwib25Jbml0XCIsdGhpcykuY2FsbCh0aGlzKSx0aGlzLnByaW50U3lzdGVtSW5mbygpfX0se2tleTpcInByaW50U3lzdGVtSW5mb1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9bmF2aWdhdG9yLnVzZXJBZ2VudCx0PVwiXCIsbz1lLm1hdGNoKC8oaXBvZCkuKlxccyhbXFxkX10rKS9pKSxuPWUubWF0Y2goLyhpcGFkKS4qXFxzKFtcXGRfXSspL2kpLHI9ZS5tYXRjaCgvKGlwaG9uZSlcXHNvc1xccyhbXFxkX10rKS9pKSxpPWUubWF0Y2goLyhhbmRyb2lkKVxccyhbXFxkXFwuXSspL2kpO3Q9XCJVbmtub3duXCIsaT90PVwiQW5kcm9pZCBcIitpWzJdOnI/dD1cImlQaG9uZSwgaU9TIFwiK3JbMl0ucmVwbGFjZSgvXy9nLFwiLlwiKTpuP3Q9XCJpUGFkLCBpT1MgXCIrblsyXS5yZXBsYWNlKC9fL2csXCIuXCIpOm8mJih0PVwiaVBvZCwgaU9TIFwiK29bMl0ucmVwbGFjZSgvXy9nLFwiLlwiKSk7dmFyIGE9dCxsPWUubWF0Y2goL01pY3JvTWVzc2VuZ2VyXFwvKFtcXGRcXC5dKykvaSk7dD1cIlVua25vd25cIixsJiZsWzFdPyh0PWxbMV0sYSs9XCIsIFdlQ2hhdCBcIit0LGNvbnNvbGUuaW5mbyhcIltzeXN0ZW1dXCIsXCJTeXN0ZW06XCIsYSkpOmNvbnNvbGUuaW5mbyhcIltzeXN0ZW1dXCIsXCJTeXN0ZW06XCIsYSksdD1cIlVua25vd25cIix0PVwiaHR0cHM6XCI9PWxvY2F0aW9uLnByb3RvY29sP1wiSFRUUFNcIjpcImh0dHA6XCI9PWxvY2F0aW9uLnByb3RvY29sP1wiSFRUUFwiOmxvY2F0aW9uLnByb3RvY29sLnJlcGxhY2UoXCI6XCIsXCJcIiksYT10O3ZhciBjPWUudG9Mb3dlckNhc2UoKS5tYXRjaCgvIG5ldHR5cGVcXC8oW14gXSspL2cpO3Q9XCJVbmtub3duXCIsYyYmY1swXT8oYz1jWzBdLnNwbGl0KFwiL1wiKSx0PWNbMV0sYSs9XCIsIFwiK3QsY29uc29sZS5pbmZvKFwiW3N5c3RlbV1cIixcIk5ldHdvcms6XCIsYSkpOmNvbnNvbGUuaW5mbyhcIltzeXN0ZW1dXCIsXCJQcm90b2NvbDpcIixhKSxjb25zb2xlLmluZm8oXCJbc3lzdGVtXVwiLFwiVUE6XCIsZSksc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBlPXdpbmRvdy5wZXJmb3JtYW5jZXx8d2luZG93Lm1zUGVyZm9ybWFuY2V8fHdpbmRvdy53ZWJraXRQZXJmb3JtYW5jZTtpZihlJiZlLnRpbWluZyl7dmFyIHQ9ZS50aW1pbmc7dC5uYXZpZ2F0aW9uU3RhcnQmJmNvbnNvbGUuaW5mbyhcIltzeXN0ZW1dXCIsXCJuYXZpZ2F0aW9uU3RhcnQ6XCIsdC5uYXZpZ2F0aW9uU3RhcnQpLHQubmF2aWdhdGlvblN0YXJ0JiZ0LmRvbWFpbkxvb2t1cFN0YXJ0JiZjb25zb2xlLmluZm8oXCJbc3lzdGVtXVwiLFwibmF2aWdhdGlvbjpcIix0LmRvbWFpbkxvb2t1cFN0YXJ0LXQubmF2aWdhdGlvblN0YXJ0K1wibXNcIiksdC5kb21haW5Mb29rdXBFbmQmJnQuZG9tYWluTG9va3VwU3RhcnQmJmNvbnNvbGUuaW5mbyhcIltzeXN0ZW1dXCIsXCJkbnM6XCIsdC5kb21haW5Mb29rdXBFbmQtdC5kb21haW5Mb29rdXBTdGFydCtcIm1zXCIpLHQuY29ubmVjdEVuZCYmdC5jb25uZWN0U3RhcnQmJih0LmNvbm5lY3RFbmQmJnQuc2VjdXJlQ29ubmVjdGlvblN0YXJ0P2NvbnNvbGUuaW5mbyhcIltzeXN0ZW1dXCIsXCJ0Y3AgKHNzbCk6XCIsdC5jb25uZWN0RW5kLXQuY29ubmVjdFN0YXJ0K1wibXMgKFwiKyh0LmNvbm5lY3RFbmQtdC5zZWN1cmVDb25uZWN0aW9uU3RhcnQpK1wibXMpXCIpOmNvbnNvbGUuaW5mbyhcIltzeXN0ZW1dXCIsXCJ0Y3A6XCIsdC5jb25uZWN0RW5kLXQuY29ubmVjdFN0YXJ0K1wibXNcIikpLHQucmVzcG9uc2VTdGFydCYmdC5yZXF1ZXN0U3RhcnQmJmNvbnNvbGUuaW5mbyhcIltzeXN0ZW1dXCIsXCJyZXF1ZXN0OlwiLHQucmVzcG9uc2VTdGFydC10LnJlcXVlc3RTdGFydCtcIm1zXCIpLHQucmVzcG9uc2VFbmQmJnQucmVzcG9uc2VTdGFydCYmY29uc29sZS5pbmZvKFwiW3N5c3RlbV1cIixcInJlc3BvbnNlOlwiLHQucmVzcG9uc2VFbmQtdC5yZXNwb25zZVN0YXJ0K1wibXNcIiksdC5kb21Db21wbGV0ZSYmdC5kb21Mb2FkaW5nJiYodC5kb21Db250ZW50TG9hZGVkRXZlbnRTdGFydCYmdC5kb21Mb2FkaW5nP2NvbnNvbGUuaW5mbyhcIltzeXN0ZW1dXCIsXCJkb21Db21wbGV0ZSAoZG9tTG9hZGVkKTpcIix0LmRvbUNvbXBsZXRlLXQuZG9tTG9hZGluZytcIm1zIChcIisodC5kb21Db250ZW50TG9hZGVkRXZlbnRTdGFydC10LmRvbUxvYWRpbmcpK1wibXMpXCIpOmNvbnNvbGUuaW5mbyhcIltzeXN0ZW1dXCIsXCJkb21Db21wbGV0ZTpcIix0LmRvbUNvbXBsZXRlLXQuZG9tTG9hZGluZytcIm1zXCIpKSx0LmxvYWRFdmVudEVuZCYmdC5sb2FkRXZlbnRTdGFydCYmY29uc29sZS5pbmZvKFwiW3N5c3RlbV1cIixcImxvYWRFdmVudDpcIix0LmxvYWRFdmVudEVuZC10LmxvYWRFdmVudFN0YXJ0K1wibXNcIiksdC5uYXZpZ2F0aW9uU3RhcnQmJnQubG9hZEV2ZW50RW5kJiZjb25zb2xlLmluZm8oXCJbc3lzdGVtXVwiLFwidG90YWwgKERPTSk6XCIsdC5sb2FkRXZlbnRFbmQtdC5uYXZpZ2F0aW9uU3RhcnQrXCJtcyAoXCIrKHQuZG9tQ29tcGxldGUtdC5uYXZpZ2F0aW9uU3RhcnQpK1wibXMpXCIpfX0sMCl9fV0pJiZsKG8ucHJvdG90eXBlLG4pLGkmJmwobyxpKSx0O3ZhciBvLG4saX0obi5kZWZhdWx0KTtvLmRlZmF1bHQ9ZixlLmV4cG9ydHM9dC5kZWZhdWx0fSk/bi5hcHBseSh0LHIpOm4pfHwoZS5leHBvcnRzPWkpfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz0nPGRpdj5cXG4gIDxkaXYgY2xhc3M9XCJ2Yy1sb2dcIj48L2Rpdj5cXG48L2Rpdj4nfSxmdW5jdGlvbihlLHQsbyl7dmFyIG4scixpO3I9W3QsbygxKSxvKDApLG8oMiksbygyOCksbygyOSksbygzMCldLHZvaWQgMD09PShpPVwiZnVuY3Rpb25cIj09dHlwZW9mKG49ZnVuY3Rpb24obyxuLHIsaSxhLGwsYyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gZChlKXtyZXR1cm4oZD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gdShlLHQpe2Zvcih2YXIgbz0wO288dC5sZW5ndGg7bysrKXt2YXIgbj10W29dO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19ZnVuY3Rpb24gZihlLHQpe3JldHVybiF0fHxcIm9iamVjdFwiIT09ZCh0KSYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9mdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gZX0oZSk6dH1mdW5jdGlvbiB2KGUpe3JldHVybih2PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9KShlKX1mdW5jdGlvbiBwKGUsdCl7cmV0dXJuKHA9T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbihlLHQpe3JldHVybiBlLl9fcHJvdG9fXz10LGV9KShlLHQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG8uZGVmYXVsdD12b2lkIDAsbj1zKG4pLHI9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciBvIGluIGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbykpe3ZhciBuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcj9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbyk6e307bi5nZXR8fG4uc2V0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG8sbik6dFtvXT1lW29dfXJldHVybiB0LmRlZmF1bHQ9ZSx0fShyKSxpPXMoaSksYT1zKGEpLGw9cyhsKSxjPXMoYyk7dmFyIGI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlLG87IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KTtmb3IodmFyIHI9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheShyKSxsPTA7bDxyO2wrKylpW2xdPWFyZ3VtZW50c1tsXTtyZXR1cm4obz1mKHRoaXMsKGU9dih0KSkuY2FsbC5hcHBseShlLFt0aGlzXS5jb25jYXQoaSkpKSkuJHRhYmJveD1uLmRlZmF1bHQucmVuZGVyKGEuZGVmYXVsdCx7fSksby4kaGVhZGVyPW51bGwsby5yZXFMaXN0PXt9LG8uZG9tTGlzdD17fSxvLmlzUmVhZHk9ITEsby5pc1Nob3c9ITEsby5pc0luQm90dG9tPSEwLG8uX29wZW49dm9pZCAwLG8uX3NlbmQ9dm9pZCAwLG8ubW9ja0FqYXgoKSxvfXJldHVybiBmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmcChlLHQpfSh0LGUpLG89dCwoaT1be2tleTpcIm9uUmVuZGVyVGFiXCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZSh0aGlzLiR0YWJib3gpfX0se2tleTpcIm9uQWRkVG9vbFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbz1be25hbWU6XCJDbGVhclwiLGdsb2JhbDohMSxvbkNsaWNrOmZ1bmN0aW9uKGUpe3QuY2xlYXJMb2coKX19XTtlKG8pfX0se2tleTpcIm9uUmVhZHlcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5pc1JlYWR5PSEwLHRoaXMucmVuZGVySGVhZGVyKCksbi5kZWZhdWx0LmRlbGVnYXRlKG4uZGVmYXVsdC5vbmUoXCIudmMtbG9nXCIsdGhpcy4kdGFiYm94KSxcImNsaWNrXCIsXCIudmMtZ3JvdXAtcHJldmlld1wiLGZ1bmN0aW9uKHQpe3ZhciBvPXRoaXMuZGF0YXNldC5yZXFpZCxyPXRoaXMucGFyZW50Tm9kZTtuLmRlZmF1bHQuaGFzQ2xhc3MocixcInZjLWFjdGl2ZWRcIik/KG4uZGVmYXVsdC5yZW1vdmVDbGFzcyhyLFwidmMtYWN0aXZlZFwiKSxlLnVwZGF0ZVJlcXVlc3Qobyx7YWN0aXZlZDohMX0pKToobi5kZWZhdWx0LmFkZENsYXNzKHIsXCJ2Yy1hY3RpdmVkXCIpLGUudXBkYXRlUmVxdWVzdChvLHthY3RpdmVkOiEwfSkpLHQucHJldmVudERlZmF1bHQoKX0pO3ZhciB0PW4uZGVmYXVsdC5vbmUoXCIudmMtY29udGVudFwiKTtmb3IodmFyIG8gaW4gbi5kZWZhdWx0LmJpbmQodCxcInNjcm9sbFwiLGZ1bmN0aW9uKG8pe2UuaXNTaG93JiYodC5zY3JvbGxUb3ArdC5vZmZzZXRIZWlnaHQ+PXQuc2Nyb2xsSGVpZ2h0P2UuaXNJbkJvdHRvbT0hMDplLmlzSW5Cb3R0b209ITEpfSksZS5yZXFMaXN0KWUudXBkYXRlUmVxdWVzdChvLHt9KX19LHtrZXk6XCJvblJlbW92ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7d2luZG93LlhNTEh0dHBSZXF1ZXN0JiYod2luZG93LlhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5vcGVuPXRoaXMuX29wZW4sd2luZG93LlhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5zZW5kPXRoaXMuX3NlbmQsdGhpcy5fb3Blbj12b2lkIDAsdGhpcy5fc2VuZD12b2lkIDApfX0se2tleTpcIm9uU2hvd1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5pc1Nob3c9ITAsMT09dGhpcy5pc0luQm90dG9tJiZ0aGlzLnNjcm9sbFRvQm90dG9tKCl9fSx7a2V5Olwib25IaWRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmlzU2hvdz0hMX19LHtrZXk6XCJvblNob3dDb25zb2xlXCIsdmFsdWU6ZnVuY3Rpb24oKXsxPT10aGlzLmlzSW5Cb3R0b20mJnRoaXMuc2Nyb2xsVG9Cb3R0b20oKX19LHtrZXk6XCJzY3JvbGxUb0JvdHRvbVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9bi5kZWZhdWx0Lm9uZShcIi52Yy1jb250ZW50XCIpO2Uuc2Nyb2xsVG9wPWUuc2Nyb2xsSGVpZ2h0LWUub2Zmc2V0SGVpZ2h0fX0se2tleTpcImNsZWFyTG9nXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy5yZXFMaXN0PXt9LHRoaXMuZG9tTGlzdCl0aGlzLmRvbUxpc3RbZV0ucmVtb3ZlKCksdGhpcy5kb21MaXN0W2VdPXZvaWQgMDt0aGlzLmRvbUxpc3Q9e30sdGhpcy5yZW5kZXJIZWFkZXIoKX19LHtrZXk6XCJyZW5kZXJIZWFkZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPU9iamVjdC5rZXlzKHRoaXMucmVxTGlzdCkubGVuZ3RoLHQ9bi5kZWZhdWx0LnJlbmRlcihsLmRlZmF1bHQse2NvdW50OmV9KSxvPW4uZGVmYXVsdC5vbmUoXCIudmMtbG9nXCIsdGhpcy4kdGFiYm94KTt0aGlzLiRoZWFkZXI/dGhpcy4kaGVhZGVyLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHQsdGhpcy4kaGVhZGVyKTpvLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHQsbyksdGhpcy4kaGVhZGVyPXR9fSx7a2V5OlwidXBkYXRlUmVxdWVzdFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG89T2JqZWN0LmtleXModGhpcy5yZXFMaXN0KS5sZW5ndGgsaT10aGlzLnJlcUxpc3RbZV18fHt9O2Zvcih2YXIgYSBpbiB0KWlbYV09dFthXTtpZih0aGlzLnJlcUxpc3RbZV09aSx0aGlzLmlzUmVhZHkpe3ZhciBsPXtpZDplLHVybDppLnVybCxzdGF0dXM6aS5zdGF0dXMsbWV0aG9kOmkubWV0aG9kfHxcIi1cIixjb3N0VGltZTppLmNvc3RUaW1lPjA/aS5jb3N0VGltZStcIm1zXCI6XCItXCIsaGVhZGVyOmkuaGVhZGVyfHxudWxsLGdldERhdGE6aS5nZXREYXRhfHxudWxsLHBvc3REYXRhOmkucG9zdERhdGF8fG51bGwscmVzcG9uc2U6bnVsbCxhY3RpdmVkOiEhaS5hY3RpdmVkfTtzd2l0Y2goaS5yZXNwb25zZVR5cGUpe2Nhc2VcIlwiOmNhc2VcInRleHRcIjppZihyLmlzU3RyaW5nKGkucmVzcG9uc2UpKXRyeXtsLnJlc3BvbnNlPUpTT04ucGFyc2UoaS5yZXNwb25zZSksbC5yZXNwb25zZT1KU09OLnN0cmluZ2lmeShsLnJlc3BvbnNlLG51bGwsMSksbC5yZXNwb25zZT1yLmh0bWxFbmNvZGUobC5yZXNwb25zZSl9Y2F0Y2goZSl7bC5yZXNwb25zZT1yLmh0bWxFbmNvZGUoaS5yZXNwb25zZSl9ZWxzZSB2b2lkIDAhPT1pLnJlc3BvbnNlJiYobC5yZXNwb25zZT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaS5yZXNwb25zZSkpO2JyZWFrO2Nhc2VcImpzb25cIjp2b2lkIDAhPT1pLnJlc3BvbnNlJiYobC5yZXNwb25zZT1KU09OLnN0cmluZ2lmeShpLnJlc3BvbnNlLG51bGwsMSksbC5yZXNwb25zZT1yLmh0bWxFbmNvZGUobC5yZXNwb25zZSkpO2JyZWFrO2Nhc2VcImJsb2JcIjpjYXNlXCJkb2N1bWVudFwiOmNhc2VcImFycmF5YnVmZmVyXCI6ZGVmYXVsdDp2b2lkIDAhPT1pLnJlc3BvbnNlJiYobC5yZXNwb25zZT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaS5yZXNwb25zZSkpfTA9PWkucmVhZHlTdGF0ZXx8MT09aS5yZWFkeVN0YXRlP2wuc3RhdHVzPVwiUGVuZGluZ1wiOjI9PWkucmVhZHlTdGF0ZXx8Mz09aS5yZWFkeVN0YXRlP2wuc3RhdHVzPVwiTG9hZGluZ1wiOjQ9PWkucmVhZHlTdGF0ZXx8KGwuc3RhdHVzPVwiVW5rbm93blwiKTt2YXIgcz1uLmRlZmF1bHQucmVuZGVyKGMuZGVmYXVsdCxsKSxkPXRoaXMuZG9tTGlzdFtlXTtpLnN0YXR1cz49NDAwJiZuLmRlZmF1bHQuYWRkQ2xhc3Mobi5kZWZhdWx0Lm9uZShcIi52Yy1ncm91cC1wcmV2aWV3XCIscyksXCJ2Yy10YWJsZS1yb3ctZXJyb3JcIiksZD9kLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHMsZCk6bi5kZWZhdWx0Lm9uZShcIi52Yy1sb2dcIix0aGlzLiR0YWJib3gpLmluc2VydEFkamFjZW50RWxlbWVudChcImJlZm9yZWVuZFwiLHMpLHRoaXMuZG9tTGlzdFtlXT1zO3ZhciB1PU9iamVjdC5rZXlzKHRoaXMucmVxTGlzdCkubGVuZ3RoO3UhPW8mJnRoaXMucmVuZGVySGVhZGVyKCksdGhpcy5pc0luQm90dG9tJiZ0aGlzLnNjcm9sbFRvQm90dG9tKCl9fX0se2tleTpcIm1vY2tBamF4XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT13aW5kb3cuWE1MSHR0cFJlcXVlc3Q7aWYoZSl7dmFyIHQ9dGhpcyxvPXdpbmRvdy5YTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUub3BlbixuPXdpbmRvdy5YTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUuc2VuZDt0Ll9vcGVuPW8sdC5fc2VuZD1uLHdpbmRvdy5YTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUub3Blbj1mdW5jdGlvbigpe3ZhciBlPXRoaXMsbj1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cykscj1uWzBdLGk9blsxXSxhPXQuZ2V0VW5pcXVlSUQoKSxsPW51bGw7ZS5fcmVxdWVzdElEPWEsZS5fbWV0aG9kPXIsZS5fdXJsPWk7dmFyIGM9ZS5vbnJlYWR5c3RhdGVjaGFuZ2V8fGZ1bmN0aW9uKCl7fSxzPWZ1bmN0aW9uKCl7dmFyIG89dC5yZXFMaXN0W2FdfHx7fTtpZihvLnJlYWR5U3RhdGU9ZS5yZWFkeVN0YXRlLG8uc3RhdHVzPTAsZS5yZWFkeVN0YXRlPjEmJihvLnN0YXR1cz1lLnN0YXR1cyksby5yZXNwb25zZVR5cGU9ZS5yZXNwb25zZVR5cGUsMD09ZS5yZWFkeVN0YXRlKW8uc3RhcnRUaW1lfHwoby5zdGFydFRpbWU9K25ldyBEYXRlKTtlbHNlIGlmKDE9PWUucmVhZHlTdGF0ZSlvLnN0YXJ0VGltZXx8KG8uc3RhcnRUaW1lPStuZXcgRGF0ZSk7ZWxzZSBpZigyPT1lLnJlYWR5U3RhdGUpe28uaGVhZGVyPXt9O2Zvcih2YXIgbj1lLmdldEFsbFJlc3BvbnNlSGVhZGVycygpfHxcIlwiLHI9bi5zcGxpdChcIlxcblwiKSxpPTA7aTxyLmxlbmd0aDtpKyspe3ZhciBzPXJbaV07aWYocyl7dmFyIGQ9cy5zcGxpdChcIjogXCIpLHU9ZFswXSxmPWQuc2xpY2UoMSkuam9pbihcIjogXCIpO28uaGVhZGVyW3VdPWZ9fX1lbHNlIDM9PWUucmVhZHlTdGF0ZXx8KDQ9PWUucmVhZHlTdGF0ZT8oY2xlYXJJbnRlcnZhbChsKSxvLmVuZFRpbWU9K25ldyBEYXRlLG8uY29zdFRpbWU9by5lbmRUaW1lLShvLnN0YXJ0VGltZXx8by5lbmRUaW1lKSxvLnJlc3BvbnNlPWUucmVzcG9uc2UpOmNsZWFySW50ZXJ2YWwobCkpO3JldHVybiBlLl9ub1ZDb25zb2xlfHx0LnVwZGF0ZVJlcXVlc3QoYSxvKSxjLmFwcGx5KGUsYXJndW1lbnRzKX07ZS5vbnJlYWR5c3RhdGVjaGFuZ2U9czt2YXIgZD0tMTtyZXR1cm4gbD1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2QhPWUucmVhZHlTdGF0ZSYmKGQ9ZS5yZWFkeVN0YXRlLHMuY2FsbChlKSl9LDEwKSxvLmFwcGx5KGUsbil9LHdpbmRvdy5YTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbigpe3ZhciBlPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxvPWVbMF0saT10LnJlcUxpc3RbdGhpcy5fcmVxdWVzdElEXXx8e307aS5tZXRob2Q9dGhpcy5fbWV0aG9kLnRvVXBwZXJDYXNlKCk7dmFyIGE9dGhpcy5fdXJsLnNwbGl0KFwiP1wiKTtpZihpLnVybD1hLnNoaWZ0KCksYS5sZW5ndGg+MCl7aS5nZXREYXRhPXt9LGE9KGE9YS5qb2luKFwiP1wiKSkuc3BsaXQoXCImXCIpO3ZhciBsPSEwLGM9ITEscz12b2lkIDA7dHJ5e2Zvcih2YXIgZCx1PWFbU3ltYm9sLml0ZXJhdG9yXSgpOyEobD0oZD11Lm5leHQoKSkuZG9uZSk7bD0hMCl7dmFyIGY9ZC52YWx1ZTtmPWYuc3BsaXQoXCI9XCIpLGkuZ2V0RGF0YVtmWzBdXT1mWzFdfX1jYXRjaChlKXtjPSEwLHM9ZX1maW5hbGx5e3RyeXtsfHxudWxsPT11LnJldHVybnx8dS5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgc319fWlmKFwiUE9TVFwiPT1pLm1ldGhvZClpZihyLmlzU3RyaW5nKG8pKXt2YXIgdj1vLnNwbGl0KFwiJlwiKTtpLnBvc3REYXRhPXt9O3ZhciBwPSEwLGI9ITEsaD12b2lkIDA7dHJ5e2Zvcih2YXIgZyxtPXZbU3ltYm9sLml0ZXJhdG9yXSgpOyEocD0oZz1tLm5leHQoKSkuZG9uZSk7cD0hMCl7dmFyIHk9Zy52YWx1ZTt5PXkuc3BsaXQoXCI9XCIpLGkucG9zdERhdGFbeVswXV09eVsxXX19Y2F0Y2goZSl7Yj0hMCxoPWV9ZmluYWxseXt0cnl7cHx8bnVsbD09bS5yZXR1cm58fG0ucmV0dXJuKCl9ZmluYWxseXtpZihiKXRocm93IGh9fX1lbHNlIHIuaXNQbGFpbk9iamVjdChvKSYmKGkucG9zdERhdGE9byk7cmV0dXJuIHRoaXMuX25vVkNvbnNvbGV8fHQudXBkYXRlUmVxdWVzdCh0aGlzLl9yZXF1ZXN0SUQsaSksbi5hcHBseSh0aGlzLGUpfX19fSx7a2V5OlwiZ2V0VW5pcXVlSURcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPVwieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4XCIucmVwbGFjZSgvW3h5XS9nLGZ1bmN0aW9uKGUpe3ZhciB0PTE2Kk1hdGgucmFuZG9tKCl8MCxvPVwieFwiPT1lP3Q6MyZ0fDg7cmV0dXJuIG8udG9TdHJpbmcoMTYpfSk7cmV0dXJuIGV9fV0pJiZ1KG8ucHJvdG90eXBlLGkpLHMmJnUobyxzKSx0O3ZhciBvLGksc30oaS5kZWZhdWx0KTtvLmRlZmF1bHQ9YixlLmV4cG9ydHM9dC5kZWZhdWx0fSk/bi5hcHBseSh0LHIpOm4pfHwoZS5leHBvcnRzPWkpfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz0nPGRpdiBjbGFzcz1cInZjLXRhYmxlXCI+XFxuICA8ZGl2IGNsYXNzPVwidmMtbG9nXCI+PC9kaXY+XFxuPC9kaXY+J30sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9JzxkbCBjbGFzcz1cInZjLXRhYmxlLXJvd1wiPlxcbiAgPGRkIGNsYXNzPVwidmMtdGFibGUtY29sIHZjLXRhYmxlLWNvbC00XCI+TmFtZSB7e2lmIChjb3VudCA+IDApfX0oe3tjb3VudH19KXt7L2lmfX08L2RkPlxcbiAgPGRkIGNsYXNzPVwidmMtdGFibGUtY29sXCI+TWV0aG9kPC9kZD5cXG4gIDxkZCBjbGFzcz1cInZjLXRhYmxlLWNvbFwiPlN0YXR1czwvZGQ+XFxuICA8ZGQgY2xhc3M9XCJ2Yy10YWJsZS1jb2xcIj5UaW1lPC9kZD5cXG48L2RsPid9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPSc8ZGl2IGNsYXNzPVwidmMtZ3JvdXAge3thY3RpdmVkID8gXFwndmMtYWN0aXZlZFxcJyA6IFxcJ1xcJ319XCI+XFxuICA8ZGwgY2xhc3M9XCJ2Yy10YWJsZS1yb3cgdmMtZ3JvdXAtcHJldmlld1wiIGRhdGEtcmVxaWQ9XCJ7e2lkfX1cIj5cXG4gICAgPGRkIGNsYXNzPVwidmMtdGFibGUtY29sIHZjLXRhYmxlLWNvbC00XCI+e3t1cmx9fTwvZGQ+XFxuICAgIDxkZCBjbGFzcz1cInZjLXRhYmxlLWNvbFwiPnt7bWV0aG9kfX08L2RkPlxcbiAgICA8ZGQgY2xhc3M9XCJ2Yy10YWJsZS1jb2xcIj57e3N0YXR1c319PC9kZD5cXG4gICAgPGRkIGNsYXNzPVwidmMtdGFibGUtY29sXCI+e3tjb3N0VGltZX19PC9kZD5cXG4gIDwvZGw+XFxuICA8ZGl2IGNsYXNzPVwidmMtZ3JvdXAtZGV0YWlsXCI+XFxuICAgIHt7aWYgKGhlYWRlciAhPT0gbnVsbCl9fVxcbiAgICA8ZGl2PlxcbiAgICAgIDxkbCBjbGFzcz1cInZjLXRhYmxlLXJvdyB2Yy1sZWZ0LWJvcmRlclwiPlxcbiAgICAgICAgPGR0IGNsYXNzPVwidmMtdGFibGUtY29sIHZjLXRhYmxlLWNvbC10aXRsZVwiPkhlYWRlcnM8L2R0PlxcbiAgICAgIDwvZGw+XFxuICAgICAge3tmb3IgKHZhciBrZXkgaW4gaGVhZGVyKX19XFxuICAgICAgPGRpdiBjbGFzcz1cInZjLXRhYmxlLXJvdyB2Yy1sZWZ0LWJvcmRlciB2Yy1zbWFsbFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cInZjLXRhYmxlLWNvbCB2Yy10YWJsZS1jb2wtMlwiPnt7a2V5fX08L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ2Yy10YWJsZS1jb2wgdmMtdGFibGUtY29sLTQgdmMtbWF4LWhlaWdodC1saW5lXCI+e3toZWFkZXJba2V5XX19PC9kaXY+XFxuICAgICAgPC9kaXY+XFxuICAgICAge3svZm9yfX1cXG4gICAgPC9kaXY+XFxuICAgIHt7L2lmfX1cXG4gICAge3tpZiAoZ2V0RGF0YSAhPT0gbnVsbCl9fVxcbiAgICA8ZGl2PlxcbiAgICAgIDxkbCBjbGFzcz1cInZjLXRhYmxlLXJvdyB2Yy1sZWZ0LWJvcmRlclwiPlxcbiAgICAgICAgPGR0IGNsYXNzPVwidmMtdGFibGUtY29sIHZjLXRhYmxlLWNvbC10aXRsZVwiPlF1ZXJ5IFN0cmluZyBQYXJhbWV0ZXJzPC9kdD5cXG4gICAgICA8L2RsPlxcbiAgICAgIHt7Zm9yICh2YXIga2V5IGluIGdldERhdGEpfX1cXG4gICAgICA8ZGl2IGNsYXNzPVwidmMtdGFibGUtcm93IHZjLWxlZnQtYm9yZGVyIHZjLXNtYWxsXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVwidmMtdGFibGUtY29sIHZjLXRhYmxlLWNvbC0yXCI+e3trZXl9fTwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cInZjLXRhYmxlLWNvbCB2Yy10YWJsZS1jb2wtNCB2Yy1tYXgtaGVpZ2h0LWxpbmVcIj57e2dldERhdGFba2V5XX19PC9kaXY+XFxuICAgICAgPC9kaXY+XFxuICAgICAge3svZm9yfX1cXG4gICAgPC9kaXY+XFxuICAgIHt7L2lmfX1cXG4gICAge3tpZiAocG9zdERhdGEgIT09IG51bGwpfX1cXG4gICAgPGRpdj5cXG4gICAgICA8ZGwgY2xhc3M9XCJ2Yy10YWJsZS1yb3cgdmMtbGVmdC1ib3JkZXJcIj5cXG4gICAgICAgIDxkdCBjbGFzcz1cInZjLXRhYmxlLWNvbCB2Yy10YWJsZS1jb2wtdGl0bGVcIj5Gb3JtIERhdGE8L2R0PlxcbiAgICAgIDwvZGw+XFxuICAgICAge3tmb3IgKHZhciBrZXkgaW4gcG9zdERhdGEpfX1cXG4gICAgICA8ZGl2IGNsYXNzPVwidmMtdGFibGUtcm93IHZjLWxlZnQtYm9yZGVyIHZjLXNtYWxsXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVwidmMtdGFibGUtY29sIHZjLXRhYmxlLWNvbC0yXCI+e3trZXl9fTwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cInZjLXRhYmxlLWNvbCB2Yy10YWJsZS1jb2wtNCB2Yy1tYXgtaGVpZ2h0LWxpbmVcIj57e3Bvc3REYXRhW2tleV19fTwvZGl2PlxcbiAgICAgIDwvZGl2PlxcbiAgICAgIHt7L2Zvcn19XFxuICAgIDwvZGl2PlxcbiAgICB7ey9pZn19XFxuICAgIDxkaXY+XFxuICAgICAgPGRsIGNsYXNzPVwidmMtdGFibGUtcm93IHZjLWxlZnQtYm9yZGVyXCI+XFxuICAgICAgICA8ZHQgY2xhc3M9XCJ2Yy10YWJsZS1jb2wgdmMtdGFibGUtY29sLXRpdGxlXCI+UmVzcG9uc2U8L2R0PlxcbiAgICAgIDwvZGw+XFxuICAgICAgPGRpdiBjbGFzcz1cInZjLXRhYmxlLXJvdyB2Yy1sZWZ0LWJvcmRlciB2Yy1zbWFsbFwiPlxcbiAgICAgICAgPHByZSBjbGFzcz1cInZjLXRhYmxlLWNvbCB2Yy1tYXgtaGVpZ2h0IHZjLW1pbi1oZWlnaHRcIj57e3Jlc3BvbnNlIHx8IFxcJ1xcJ319PC9wcmU+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgPC9kaXY+XFxuPC9kaXY+J30sZnVuY3Rpb24oZSx0LG8pe3ZhciBuLHIsaTtyPVt0LG8oMzIpLG8oMiksbygzNCksbygzNSksbygwKSxvKDEpXSx2b2lkIDA9PT0oaT1cImZ1bmN0aW9uXCI9PXR5cGVvZihuPWZ1bmN0aW9uKG8sbixyLGksYSxsLGMpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIGQoZSl7cmV0dXJuKGQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIHUoZSx0KXtmb3IodmFyIG89MDtvPHQubGVuZ3RoO28rKyl7dmFyIG49dFtvXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fWZ1bmN0aW9uIGYoZSl7cmV0dXJuKGY9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbihlKXtyZXR1cm4gZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihlKX0pKGUpfWZ1bmN0aW9uIHYoZSx0KXtyZXR1cm4odj1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX19wcm90b19fPXQsZX0pKGUsdCl9ZnVuY3Rpb24gcChlKXtpZih2b2lkIDA9PT1lKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gZX1PYmplY3QuZGVmaW5lUHJvcGVydHkobyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxvLmRlZmF1bHQ9dm9pZCAwLHI9cyhyKSxpPXMoaSksYT1zKGEpLGw9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciBvIGluIGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbykpe3ZhciBuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcj9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbyk6e307bi5nZXR8fG4uc2V0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG8sbik6dFtvXT1lW29dfXJldHVybiB0LmRlZmF1bHQ9ZSx0fShsKSxjPXMoYyk7dmFyIGI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlLG8sbixyOyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCk7Zm9yKHZhciBhPWFyZ3VtZW50cy5sZW5ndGgsbD1uZXcgQXJyYXkoYSkscz0wO3M8YTtzKyspbFtzXT1hcmd1bWVudHNbc107bj10aGlzLHI9KGU9Zih0KSkuY2FsbC5hcHBseShlLFt0aGlzXS5jb25jYXQobCkpLG89IXJ8fFwib2JqZWN0XCIhPT1kKHIpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiByP3Aobik6cjt2YXIgdT1wKHAobykpO3UuaXNJbml0ZWQ9ITEsdS5ub2RlPXt9LHUuJHRhYmJveD1jLmRlZmF1bHQucmVuZGVyKGkuZGVmYXVsdCx7fSksdS5ub2Rlcz1bXSx1LmFjdGl2ZWRFbGVtPXt9O3ZhciB2PXdpbmRvdy5NdXRhdGlvbk9ic2VydmVyfHx3aW5kb3cuV2ViS2l0TXV0YXRpb25PYnNlcnZlcnx8d2luZG93Lk1vek11dGF0aW9uT2JzZXJ2ZXI7cmV0dXJuIHUub2JzZXJ2ZXI9bmV3IHYoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciBvPWVbdF07dS5faXNJblZDb25zb2xlKG8udGFyZ2V0KXx8dS5vbk11dGF0aW9uKG8pfX0pLG99cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiZ2KGUsdCl9KHQsZSksbz10LChuPVt7a2V5Olwib25SZW5kZXJUYWJcIix2YWx1ZTpmdW5jdGlvbihlKXtlKHRoaXMuJHRhYmJveCl9fSx7a2V5Olwib25BZGRUb29sXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxvPVt7bmFtZTpcIkV4cGFuZFwiLGdsb2JhbDohMSxvbkNsaWNrOmZ1bmN0aW9uKGUpe2lmKHQuYWN0aXZlZEVsZW0paWYoYy5kZWZhdWx0Lmhhc0NsYXNzKHQuYWN0aXZlZEVsZW0sXCJ2Yy10b2dnbGVcIikpZm9yKHZhciBvPTA7bzx0LmFjdGl2ZWRFbGVtLmNoaWxkTm9kZXMubGVuZ3RoO28rKyl7dmFyIG49dC5hY3RpdmVkRWxlbS5jaGlsZE5vZGVzW29dO2lmKGMuZGVmYXVsdC5oYXNDbGFzcyhuLFwidmNlbG0tbFwiKSYmIWMuZGVmYXVsdC5oYXNDbGFzcyhuLFwidmNlbG0tbm9jXCIpJiYhYy5kZWZhdWx0Lmhhc0NsYXNzKG4sXCJ2Yy10b2dnbGVcIikpe2MuZGVmYXVsdC5vbmUoXCIudmNlbG0tbm9kZVwiLG4pLmNsaWNrKCk7YnJlYWt9fWVsc2UgYy5kZWZhdWx0Lm9uZShcIi52Y2VsbS1ub2RlXCIsdC5hY3RpdmVkRWxlbSkuY2xpY2soKX19LHtuYW1lOlwiQ29sbGFwc2VcIixnbG9iYWw6ITEsb25DbGljazpmdW5jdGlvbihlKXt0LmFjdGl2ZWRFbGVtJiYoYy5kZWZhdWx0Lmhhc0NsYXNzKHQuYWN0aXZlZEVsZW0sXCJ2Yy10b2dnbGVcIik/Yy5kZWZhdWx0Lm9uZShcIi52Y2VsbS1ub2RlXCIsdC5hY3RpdmVkRWxlbSkuY2xpY2soKTp0LmFjdGl2ZWRFbGVtLnBhcmVudE5vZGUmJmMuZGVmYXVsdC5oYXNDbGFzcyh0LmFjdGl2ZWRFbGVtLnBhcmVudE5vZGUsXCJ2Y2VsbS1sXCIpJiZjLmRlZmF1bHQub25lKFwiLnZjZWxtLW5vZGVcIix0LmFjdGl2ZWRFbGVtLnBhcmVudE5vZGUpLmNsaWNrKCkpfX1dO2Uobyl9fSx7a2V5Olwib25TaG93XCIsdmFsdWU6ZnVuY3Rpb24oKXtpZighdGhpcy5pc0luaXRlZCl7dGhpcy5pc0luaXRlZD0hMCx0aGlzLm5vZGU9dGhpcy5nZXROb2RlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7dmFyIGU9dGhpcy5yZW5kZXJWaWV3KHRoaXMubm9kZSxjLmRlZmF1bHQub25lKFwiLnZjLWxvZ1wiLHRoaXMuJHRhYmJveCkpLHQ9Yy5kZWZhdWx0Lm9uZShcIi52Y2VsbS1ub2RlXCIsZSk7dCYmdC5jbGljaygpLHRoaXMub2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQse2F0dHJpYnV0ZXM6ITAsY2hpbGRMaXN0OiEwLGNoYXJhY3RlckRhdGE6ITAsc3VidHJlZTohMH0pfX19LHtrZXk6XCJvblJlbW92ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5vYnNlcnZlci5kaXNjb25uZWN0KCl9fSx7a2V5Olwib25NdXRhdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUpe3N3aXRjaChlLnR5cGUpe2Nhc2VcImNoaWxkTGlzdFwiOmUucmVtb3ZlZE5vZGVzLmxlbmd0aD4wJiZ0aGlzLm9uQ2hpbGRSZW1vdmUoZSksZS5hZGRlZE5vZGVzLmxlbmd0aD4wJiZ0aGlzLm9uQ2hpbGRBZGQoZSk7YnJlYWs7Y2FzZVwiYXR0cmlidXRlc1wiOnRoaXMub25BdHRyaWJ1dGVzQ2hhbmdlKGUpO2JyZWFrO2Nhc2VcImNoYXJhY3RlckRhdGFcIjp0aGlzLm9uQ2hhcmFjdGVyRGF0YUNoYW5nZShlKX19fSx7a2V5Olwib25DaGlsZFJlbW92ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0LG89dC5fX3Zjb25zb2xlX25vZGU7aWYobyl7Zm9yKHZhciBuPTA7bjxlLnJlbW92ZWROb2Rlcy5sZW5ndGg7bisrKXt2YXIgcj1lLnJlbW92ZWROb2Rlc1tuXSxpPXIuX192Y29uc29sZV9ub2RlO2kmJmkudmlldyYmaS52aWV3LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaS52aWV3KX10aGlzLmdldE5vZGUodCl9fX0se2tleTpcIm9uQ2hpbGRBZGRcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldCxvPXQuX192Y29uc29sZV9ub2RlO2lmKG8pe3RoaXMuZ2V0Tm9kZSh0KSxvLnZpZXcmJmMuZGVmYXVsdC5yZW1vdmVDbGFzcyhvLnZpZXcsXCJ2Y2VsbS1ub2NcIik7Zm9yKHZhciBuPTA7bjxlLmFkZGVkTm9kZXMubGVuZ3RoO24rKyl7dmFyIHI9ZS5hZGRlZE5vZGVzW25dLGk9ci5fX3Zjb25zb2xlX25vZGU7aWYoaSlpZihudWxsIT09ZS5uZXh0U2libGluZyl7dmFyIGE9ZS5uZXh0U2libGluZy5fX3Zjb25zb2xlX25vZGU7YS52aWV3JiZ0aGlzLnJlbmRlclZpZXcoaSxhLnZpZXcsXCJpbnNlcnRCZWZvcmVcIil9ZWxzZSBvLnZpZXcmJihvLnZpZXcubGFzdENoaWxkP3RoaXMucmVuZGVyVmlldyhpLG8udmlldy5sYXN0Q2hpbGQsXCJpbnNlcnRCZWZvcmVcIik6dGhpcy5yZW5kZXJWaWV3KGksby52aWV3KSl9fX19LHtrZXk6XCJvbkF0dHJpYnV0ZXNDaGFuZ2VcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldC5fX3Zjb25zb2xlX25vZGU7dCYmKHQ9dGhpcy5nZXROb2RlKGUudGFyZ2V0KSkudmlldyYmdGhpcy5yZW5kZXJWaWV3KHQsdC52aWV3LCEwKX19LHtrZXk6XCJvbkNoYXJhY3RlckRhdGFDaGFuZ2VcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldC5fX3Zjb25zb2xlX25vZGU7dCYmKHQ9dGhpcy5nZXROb2RlKGUudGFyZ2V0KSkudmlldyYmdGhpcy5yZW5kZXJWaWV3KHQsdC52aWV3LCEwKX19LHtrZXk6XCJyZW5kZXJWaWV3XCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG8pe3ZhciBuPXRoaXMscj1uZXcgYS5kZWZhdWx0KGUpLmdldCgpO3N3aXRjaChlLnZpZXc9cixjLmRlZmF1bHQuZGVsZWdhdGUocixcImNsaWNrXCIsXCIudmNlbG0tbm9kZVwiLGZ1bmN0aW9uKHQpe3Quc3RvcFByb3BhZ2F0aW9uKCk7dmFyIG89dGhpcy5wYXJlbnROb2RlO2lmKCFjLmRlZmF1bHQuaGFzQ2xhc3MobyxcInZjZWxtLW5vY1wiKSl7bi5hY3RpdmVkRWxlbT1vLGMuZGVmYXVsdC5oYXNDbGFzcyhvLFwidmMtdG9nZ2xlXCIpP2MuZGVmYXVsdC5yZW1vdmVDbGFzcyhvLFwidmMtdG9nZ2xlXCIpOmMuZGVmYXVsdC5hZGRDbGFzcyhvLFwidmMtdG9nZ2xlXCIpO2Zvcih2YXIgcj0tMSxpPTA7aTxvLmNoaWxkcmVuLmxlbmd0aDtpKyspe3ZhciBhPW8uY2hpbGRyZW5baV07Yy5kZWZhdWx0Lmhhc0NsYXNzKGEsXCJ2Y2VsbS1sXCIpJiYocisrLGEuY2hpbGRyZW4ubGVuZ3RoPjB8fChlLmNoaWxkTm9kZXNbcl0/bi5yZW5kZXJWaWV3KGUuY2hpbGROb2Rlc1tyXSxhLFwicmVwbGFjZVwiKTphLnN0eWxlLmRpc3BsYXk9XCJub25lXCIpKX19fSksbyl7Y2FzZVwicmVwbGFjZVwiOnQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQocix0KTticmVhaztjYXNlXCJpbnNlcnRCZWZvcmVcIjp0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHIsdCk7YnJlYWs7ZGVmYXVsdDp0LmFwcGVuZENoaWxkKHIpfXJldHVybiByfX0se2tleTpcImdldE5vZGVcIix2YWx1ZTpmdW5jdGlvbihlKXtpZighdGhpcy5faXNJZ25vcmVkRWxlbWVudChlKSl7dmFyIHQ9ZS5fX3Zjb25zb2xlX25vZGV8fHt9O2lmKHQubm9kZVR5cGU9ZS5ub2RlVHlwZSx0Lm5vZGVOYW1lPWUubm9kZU5hbWUsdC50YWdOYW1lPWUudGFnTmFtZXx8XCJcIix0LnRleHRDb250ZW50PVwiXCIsdC5ub2RlVHlwZSE9ZS5URVhUX05PREUmJnQubm9kZVR5cGUhPWUuRE9DVU1FTlRfVFlQRV9OT0RFfHwodC50ZXh0Q29udGVudD1lLnRleHRDb250ZW50KSx0LmlkPWUuaWR8fFwiXCIsdC5jbGFzc05hbWU9ZS5jbGFzc05hbWV8fFwiXCIsdC5hdHRyaWJ1dGVzPVtdLGUuaGFzQXR0cmlidXRlcyYmZS5oYXNBdHRyaWJ1dGVzKCkpZm9yKHZhciBvPTA7bzxlLmF0dHJpYnV0ZXMubGVuZ3RoO28rKyl0LmF0dHJpYnV0ZXMucHVzaCh7bmFtZTplLmF0dHJpYnV0ZXNbb10ubmFtZSx2YWx1ZTplLmF0dHJpYnV0ZXNbb10udmFsdWV8fFwiXCJ9KTtpZih0LmNoaWxkTm9kZXM9W10sZS5jaGlsZE5vZGVzLmxlbmd0aD4wKWZvcih2YXIgbj0wO248ZS5jaGlsZE5vZGVzLmxlbmd0aDtuKyspe3ZhciByPXRoaXMuZ2V0Tm9kZShlLmNoaWxkTm9kZXNbbl0pO3ImJnQuY2hpbGROb2Rlcy5wdXNoKHIpfXJldHVybiBlLl9fdmNvbnNvbGVfbm9kZT10LHR9fX0se2tleTpcIl9pc0lnbm9yZWRFbGVtZW50XCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZVR5cGU9PWUuVEVYVF9OT0RFJiZcIlwiPT1lLnRleHRDb250ZW50LnJlcGxhY2UoL15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJHxcXG4rL2csXCJcIil9fSx7a2V5OlwiX2lzSW5WQ29uc29sZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lO251bGwhPXQ7KXtpZihcIl9fdmNvbnNvbGVcIj09dC5pZClyZXR1cm4hMDt0PXQucGFyZW50Tm9kZXx8dm9pZCAwfXJldHVybiExfX1dKSYmdShvLnByb3RvdHlwZSxuKSxyJiZ1KG8sciksdDt2YXIgbyxuLHJ9KHIuZGVmYXVsdCk7by5kZWZhdWx0PWIsZS5leHBvcnRzPXQuZGVmYXVsdH0pP24uYXBwbHkodCxyKTpuKXx8KGUuZXhwb3J0cz1pKX0sZnVuY3Rpb24oZSx0LG8pe3ZhciBuPW8oMzMpO1wic3RyaW5nXCI9PXR5cGVvZiBuJiYobj1bW2UuaSxuLFwiXCJdXSk7dmFyIHI9e2htcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtvKDQpKG4scik7bi5sb2NhbHMmJihlLmV4cG9ydHM9bi5sb2NhbHMpfSxmdW5jdGlvbihlLHQsbyl7KGUuZXhwb3J0cz1vKDMpKCExKSkucHVzaChbZS5pLCcvKiBjb2xvciAqL1xcbi52Y2VsbS1ub2RlIHtcXG4gIGNvbG9yOiAjMTgzNjkxO1xcbn1cXG4udmNlbG0tayB7XFxuICBjb2xvcjogIzAwODZCMztcXG59XFxuLnZjZWxtLXYge1xcbiAgY29sb3I6ICM5MDU7XFxufVxcbi8qIGxheW91dCAqL1xcbi52Y2VsbS1sIHtcXG4gIHBhZGRpbmctbGVmdDogOHB4O1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgd29yZC13cmFwOiBicmVhay13b3JkO1xcbiAgbGluZS1oZWlnaHQ6IDE7XFxufVxcbi8qLnZjZWxtLWwudmNlbG0tbm9jIHtcXG4gIHBhZGRpbmctbGVmdDogMDtcXG59Ki9cXG4udmNlbG0tbC52Yy10b2dnbGUgPiAudmNlbG0tbm9kZSB7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuLnZjZWxtLWwgLnZjZWxtLW5vZGU6YWN0aXZlIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4xNSk7XFxufVxcbi52Y2VsbS1sLnZjZWxtLW5vYyAudmNlbG0tbm9kZTphY3RpdmUge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxufVxcbi52Y2VsbS10IHtcXG4gIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcXG4gIHdvcmQtd3JhcDogYnJlYWstd29yZDtcXG59XFxuLyogbGV2ZWwgKi9cXG4udmNlbG0tbCAudmNlbG0tbCB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG4udmNlbG0tbC52Yy10b2dnbGUgPiAudmNlbG0tbCB7XFxuICBtYXJnaW4tbGVmdDogNHB4O1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcbi8qIGFycm93ICovXFxuLnZjZWxtLWw6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFwiXCI7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogNnB4O1xcbiAgbGVmdDogM3B4O1xcbiAgd2lkdGg6IDA7XFxuICBoZWlnaHQ6IDA7XFxuICBib3JkZXI6IHRyYW5zcGFyZW50IHNvbGlkIDNweDtcXG4gIGJvcmRlci1sZWZ0LWNvbG9yOiAjMDAwO1xcbn1cXG4udmNlbG0tbC52Yy10b2dnbGU6YmVmb3JlIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgdG9wOiA2cHg7XFxuICBsZWZ0OiAwO1xcbiAgYm9yZGVyLXRvcC1jb2xvcjogIzAwMDtcXG4gIGJvcmRlci1sZWZ0LWNvbG9yOiB0cmFuc3BhcmVudDtcXG59XFxuLnZjZWxtLWwudmNlbG0tbm9jOmJlZm9yZSB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG4nLFwiXCJdKX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9JzxkaXY+XFxuICA8ZGl2IGNsYXNzPVwidmMtbG9nXCI+PC9kaXY+XFxuPC9kaXY+J30sZnVuY3Rpb24oZSx0LG8pe3ZhciBuLHIsaTtyPVt0LG8oMzYpLG8oMzcpLG8oMCksbygxKV0sdm9pZCAwPT09KGk9XCJmdW5jdGlvblwiPT10eXBlb2Yobj1mdW5jdGlvbihvLG4scixpLGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGwoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIGMoZSx0KXtmb3IodmFyIG89MDtvPHQubGVuZ3RoO28rKyl7dmFyIG49dFtvXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG8uZGVmYXVsdD12b2lkIDAsbj1sKG4pLHI9bChyKSxpPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgbyBpbiBlKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG8pKXt2YXIgbj1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I/T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG8pOnt9O24uZ2V0fHxuLnNldD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLG4pOnRbb109ZVtvXX1yZXR1cm4gdC5kZWZhdWx0PWUsdH0oaSksYT1sKGEpO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLHRoaXMubm9kZT10LHRoaXMudmlldz10aGlzLl9jcmVhdGUodGhpcy5ub2RlKX1yZXR1cm4gdD1lLChvPVt7a2V5OlwiZ2V0XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3fX0se2tleTpcIl9jcmVhdGVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIik7c3dpdGNoKGEuZGVmYXVsdC5hZGRDbGFzcyhvLFwidmNlbG0tbFwiKSxlLm5vZGVUeXBlKXtjYXNlIG8uRUxFTUVOVF9OT0RFOnRoaXMuX2NyZWF0ZUVsZW1lbnROb2RlKGUsbyk7YnJlYWs7Y2FzZSBvLlRFWFRfTk9ERTp0aGlzLl9jcmVhdGVUZXh0Tm9kZShlLG8pO2JyZWFrO2Nhc2Ugby5DT01NRU5UX05PREU6Y2FzZSBvLkRPQ1VNRU5UX05PREU6Y2FzZSBvLkRPQ1VNRU5UX1RZUEVfTk9ERTpjYXNlIG8uRE9DVU1FTlRfRlJBR01FTlRfTk9ERTp9cmV0dXJuIG99fSx7a2V5OlwiX2NyZWF0ZVRleHROb2RlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXthLmRlZmF1bHQuYWRkQ2xhc3ModCxcInZjZWxtLXQgdmNlbG0tbm9jXCIpLGUudGV4dENvbnRlbnQmJnQuYXBwZW5kQ2hpbGQoZnVuY3Rpb24oZSl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGUpfShlLnRleHRDb250ZW50LnJlcGxhY2UoL15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLFwiXCIpKSl9fSx7a2V5OlwiX2NyZWF0ZUVsZW1lbnROb2RlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbyxpPShvPShvPWUudGFnTmFtZSk/by50b0xvd2VyQ2FzZSgpOlwiXCIsW1wiYnJcIixcImhyXCIsXCJpbWdcIixcImlucHV0XCIsXCJsaW5rXCIsXCJtZXRhXCJdLmluZGV4T2Yobyk+LTEpLGw9aTswPT1lLmNoaWxkTm9kZXMubGVuZ3RoJiYobD0hMCk7dmFyIGM9YS5kZWZhdWx0LnJlbmRlcihuLmRlZmF1bHQse25vZGU6ZX0pLHM9YS5kZWZhdWx0LnJlbmRlcihyLmRlZmF1bHQse25vZGU6ZX0pO2lmKGwpYS5kZWZhdWx0LmFkZENsYXNzKHQsXCJ2Y2VsbS1ub2NcIiksdC5hcHBlbmRDaGlsZChjKSxpfHx0LmFwcGVuZENoaWxkKHMpO2Vsc2V7dC5hcHBlbmRDaGlsZChjKTtmb3IodmFyIGQ9MDtkPGUuY2hpbGROb2Rlcy5sZW5ndGg7ZCsrKXt2YXIgdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpO2EuZGVmYXVsdC5hZGRDbGFzcyh1LFwidmNlbG0tbFwiKSx0LmFwcGVuZENoaWxkKHUpfWl8fHQuYXBwZW5kQ2hpbGQocyl9fX1dKSYmYyh0LnByb3RvdHlwZSxvKSxpJiZjKHQsaSksZTt2YXIgdCxvLGl9KCk7by5kZWZhdWx0PXMsZS5leHBvcnRzPXQuZGVmYXVsdH0pP24uYXBwbHkodCxyKTpuKXx8KGUuZXhwb3J0cz1pKX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9JzxzcGFuIGNsYXNzPVwidmNlbG0tbm9kZVwiPiZsdDt7e25vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpfX17e2lmIChub2RlLmNsYXNzTmFtZSB8fCBub2RlLmF0dHJpYnV0ZXMubGVuZ3RoKX19XFxuICA8aSBjbGFzcz1cInZjZWxtLWtcIj5cXG4gICAge3tmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUuYXR0cmlidXRlcy5sZW5ndGg7IGkrKyl9fVxcbiAgICAgIHt7aWYgKG5vZGUuYXR0cmlidXRlc1tpXS52YWx1ZSAhPT0gXFwnXFwnKX19XFxuICAgICAgICB7e25vZGUuYXR0cmlidXRlc1tpXS5uYW1lfX09XCI8aSBjbGFzcz1cInZjZWxtLXZcIj57e25vZGUuYXR0cmlidXRlc1tpXS52YWx1ZX19PC9pPlwie3tlbHNlfX1cXG4gICAgICAgIHt7bm9kZS5hdHRyaWJ1dGVzW2ldLm5hbWV9fXt7L2lmfX17ey9mb3J9fTwvaT57ey9pZn19Jmd0Ozwvc3Bhbj4nfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz0nPHNwYW4gY2xhc3M9XCJ2Y2VsbS1ub2RlXCI+Jmx0Oy97e25vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpfX0mZ3Q7PC9zcGFuPid9LGZ1bmN0aW9uKGUsdCxvKXt2YXIgbixyLGk7cj1bdCxvKDIpLG8oMzkpLG8oNDApLG8oMCksbygxKV0sdm9pZCAwPT09KGk9XCJmdW5jdGlvblwiPT10eXBlb2Yobj1mdW5jdGlvbihvLG4scixpLGEsbCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gcyhlKXtyZXR1cm4ocz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gZChlLHQpe2Zvcih2YXIgbz0wO288dC5sZW5ndGg7bysrKXt2YXIgbj10W29dO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19ZnVuY3Rpb24gdShlLHQpe3JldHVybiF0fHxcIm9iamVjdFwiIT09cyh0KSYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9mdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gZX0oZSk6dH1mdW5jdGlvbiBmKGUpe3JldHVybihmPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9KShlKX1mdW5jdGlvbiB2KGUsdCl7cmV0dXJuKHY9T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbihlLHQpe3JldHVybiBlLl9fcHJvdG9fXz10LGV9KShlLHQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG8uZGVmYXVsdD12b2lkIDAsbj1jKG4pLHI9YyhyKSxpPWMoaSksYT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIG8gaW4gZSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxvKSl7dmFyIG49T2JqZWN0LmRlZmluZVByb3BlcnR5JiZPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yP09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxvKTp7fTtuLmdldHx8bi5zZXQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbyxuKTp0W29dPWVbb119cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGEpLGw9YyhsKTt2YXIgcD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGUsbzshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpO2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KG4pLGE9MDthPG47YSsrKWlbYV09YXJndW1lbnRzW2FdO3JldHVybihvPXUodGhpcywoZT1mKHQpKS5jYWxsLmFwcGx5KGUsW3RoaXNdLmNvbmNhdChpKSkpKS4kdGFiYm94PWwuZGVmYXVsdC5yZW5kZXIoci5kZWZhdWx0LHt9KSxvLmN1cnJlbnRUeXBlPVwiXCIsby50eXBlTmFtZU1hcD17Y29va2llczpcIkNvb2tpZXNcIixsb2NhbHN0b3JhZ2U6XCJMb2NhbFN0b3JhZ2VcIixzZXNzaW9uc3RvcmFnZTpcIlNlc3Npb25TdG9yYWdlXCJ9LG99cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiZ2KGUsdCl9KHQsZSksbz10LChuPVt7a2V5Olwib25SZW5kZXJUYWJcIix2YWx1ZTpmdW5jdGlvbihlKXtlKHRoaXMuJHRhYmJveCl9fSx7a2V5Olwib25BZGRUb3BCYXJcIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcyxvPVtcIkNvb2tpZXNcIixcIkxvY2FsU3RvcmFnZVwiLFwiU2Vzc2lvblN0b3JhZ2VcIl0sbj1bXSxyPTA7cjxvLmxlbmd0aDtyKyspbi5wdXNoKHtuYW1lOm9bcl0sZGF0YTp7dHlwZTpvW3JdLnRvTG93ZXJDYXNlKCl9LGNsYXNzTmFtZTpcIlwiLG9uQ2xpY2s6ZnVuY3Rpb24oKXtpZihsLmRlZmF1bHQuaGFzQ2xhc3ModGhpcyxcInZjLWFjdGl2ZWRcIikpcmV0dXJuITE7dC5jdXJyZW50VHlwZT10aGlzLmRhdGFzZXQudHlwZSx0LnJlbmRlclN0b3JhZ2UoKX19KTtuWzBdLmNsYXNzTmFtZT1cInZjLWFjdGl2ZWRcIixlKG4pfX0se2tleTpcIm9uQWRkVG9vbFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbz1be25hbWU6XCJSZWZyZXNoXCIsZ2xvYmFsOiExLG9uQ2xpY2s6ZnVuY3Rpb24oZSl7dC5yZW5kZXJTdG9yYWdlKCl9fSx7bmFtZTpcIkNsZWFyXCIsZ2xvYmFsOiExLG9uQ2xpY2s6ZnVuY3Rpb24oZSl7dC5jbGVhckxvZygpfX1dO2Uobyl9fSx7a2V5Olwib25SZWFkeVwiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleTpcIm9uU2hvd1wiLHZhbHVlOmZ1bmN0aW9uKCl7XCJcIj09dGhpcy5jdXJyZW50VHlwZSYmKHRoaXMuY3VycmVudFR5cGU9XCJjb29raWVzXCIsdGhpcy5yZW5kZXJTdG9yYWdlKCkpfX0se2tleTpcImNsZWFyTG9nXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmN1cnJlbnRUeXBlJiZ3aW5kb3cuY29uZmlybSl7dmFyIGU9d2luZG93LmNvbmZpcm0oXCJSZW1vdmUgYWxsIFwiK3RoaXMudHlwZU5hbWVNYXBbdGhpcy5jdXJyZW50VHlwZV0rXCI/XCIpO2lmKCFlKXJldHVybiExfXN3aXRjaCh0aGlzLmN1cnJlbnRUeXBlKXtjYXNlXCJjb29raWVzXCI6dGhpcy5jbGVhckNvb2tpZUxpc3QoKTticmVhaztjYXNlXCJsb2NhbHN0b3JhZ2VcIjp0aGlzLmNsZWFyTG9jYWxTdG9yYWdlTGlzdCgpO2JyZWFrO2Nhc2VcInNlc3Npb25zdG9yYWdlXCI6dGhpcy5jbGVhclNlc3Npb25TdG9yYWdlTGlzdCgpO2JyZWFrO2RlZmF1bHQ6cmV0dXJuITF9dGhpcy5yZW5kZXJTdG9yYWdlKCl9fSx7a2V5OlwicmVuZGVyU3RvcmFnZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9W107c3dpdGNoKHRoaXMuY3VycmVudFR5cGUpe2Nhc2VcImNvb2tpZXNcIjplPXRoaXMuZ2V0Q29va2llTGlzdCgpO2JyZWFrO2Nhc2VcImxvY2Fsc3RvcmFnZVwiOmU9dGhpcy5nZXRMb2NhbFN0b3JhZ2VMaXN0KCk7YnJlYWs7Y2FzZVwic2Vzc2lvbnN0b3JhZ2VcIjplPXRoaXMuZ2V0U2Vzc2lvblN0b3JhZ2VMaXN0KCk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4hMX12YXIgdD1sLmRlZmF1bHQub25lKFwiLnZjLWxvZ1wiLHRoaXMuJHRhYmJveCk7aWYoMD09ZS5sZW5ndGgpdC5pbm5lckhUTUw9XCJcIjtlbHNle2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7bysrKWVbb10ubmFtZT1hLmh0bWxFbmNvZGUoZVtvXS5uYW1lKSxlW29dLnZhbHVlPWEuaHRtbEVuY29kZShlW29dLnZhbHVlKTt0LmlubmVySFRNTD1sLmRlZmF1bHQucmVuZGVyKGkuZGVmYXVsdCx7bGlzdDplfSwhMCl9fX0se2tleTpcImdldENvb2tpZUxpc3RcIix2YWx1ZTpmdW5jdGlvbigpe2lmKCFkb2N1bWVudC5jb29raWV8fCFuYXZpZ2F0b3IuY29va2llRW5hYmxlZClyZXR1cm5bXTtmb3IodmFyIGU9W10sdD1kb2N1bWVudC5jb29raWUuc3BsaXQoXCI7XCIpLG89MDtvPHQubGVuZ3RoO28rKyl7dmFyIG49dFtvXS5zcGxpdChcIj1cIikscj1uLnNoaWZ0KCkucmVwbGFjZSgvXiAvLFwiXCIpLGk9bi5qb2luKFwiPVwiKTt0cnl7cj1kZWNvZGVVUklDb21wb25lbnQociksaT1kZWNvZGVVUklDb21wb25lbnQoaSl9Y2F0Y2goZSl7Y29uc29sZS5sb2coZSxyLGkpfWUucHVzaCh7bmFtZTpyLHZhbHVlOml9KX1yZXR1cm4gZX19LHtrZXk6XCJnZXRMb2NhbFN0b3JhZ2VMaXN0XCIsdmFsdWU6ZnVuY3Rpb24oKXtpZighd2luZG93LmxvY2FsU3RvcmFnZSlyZXR1cm5bXTt0cnl7Zm9yKHZhciBlPVtdLHQ9MDt0PGxvY2FsU3RvcmFnZS5sZW5ndGg7dCsrKXt2YXIgbz1sb2NhbFN0b3JhZ2Uua2V5KHQpLG49bG9jYWxTdG9yYWdlLmdldEl0ZW0obyk7ZS5wdXNoKHtuYW1lOm8sdmFsdWU6bn0pfXJldHVybiBlfWNhdGNoKGUpe3JldHVybltdfX19LHtrZXk6XCJnZXRTZXNzaW9uU3RvcmFnZUxpc3RcIix2YWx1ZTpmdW5jdGlvbigpe2lmKCF3aW5kb3cuc2Vzc2lvblN0b3JhZ2UpcmV0dXJuW107dHJ5e2Zvcih2YXIgZT1bXSx0PTA7dDxzZXNzaW9uU3RvcmFnZS5sZW5ndGg7dCsrKXt2YXIgbz1zZXNzaW9uU3RvcmFnZS5rZXkodCksbj1zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKG8pO2UucHVzaCh7bmFtZTpvLHZhbHVlOm59KX1yZXR1cm4gZX1jYXRjaChlKXtyZXR1cm5bXX19fSx7a2V5OlwiY2xlYXJDb29raWVMaXN0XCIsdmFsdWU6ZnVuY3Rpb24oKXtpZihkb2N1bWVudC5jb29raWUmJm5hdmlnYXRvci5jb29raWVFbmFibGVkKXtmb3IodmFyIGU9dGhpcy5nZXRDb29raWVMaXN0KCksdD0wO3Q8ZS5sZW5ndGg7dCsrKWRvY3VtZW50LmNvb2tpZT1lW3RdLm5hbWUrXCI9O2V4cGlyZXM9VGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMCBHTVRcIjt0aGlzLnJlbmRlclN0b3JhZ2UoKX19fSx7a2V5OlwiY2xlYXJMb2NhbFN0b3JhZ2VMaXN0XCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih3aW5kb3cubG9jYWxTdG9yYWdlKXRyeXtsb2NhbFN0b3JhZ2UuY2xlYXIoKSx0aGlzLnJlbmRlclN0b3JhZ2UoKX1jYXRjaChlKXthbGVydChcImxvY2FsU3RvcmFnZS5jbGVhcigpIGZhaWwuXCIpfX19LHtrZXk6XCJjbGVhclNlc3Npb25TdG9yYWdlTGlzdFwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYod2luZG93LnNlc3Npb25TdG9yYWdlKXRyeXtzZXNzaW9uU3RvcmFnZS5jbGVhcigpLHRoaXMucmVuZGVyU3RvcmFnZSgpfWNhdGNoKGUpe2FsZXJ0KFwic2Vzc2lvblN0b3JhZ2UuY2xlYXIoKSBmYWlsLlwiKX19fV0pJiZkKG8ucHJvdG90eXBlLG4pLGMmJmQobyxjKSx0O3ZhciBvLG4sY30obi5kZWZhdWx0KTtvLmRlZmF1bHQ9cCxlLmV4cG9ydHM9dC5kZWZhdWx0fSk/bi5hcHBseSh0LHIpOm4pfHwoZS5leHBvcnRzPWkpfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz0nPGRpdiBjbGFzcz1cInZjLXRhYmxlXCI+XFxuICA8ZGl2IGNsYXNzPVwidmMtbG9nXCI+PC9kaXY+XFxuPC9kaXY+J30sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9JzxkaXY+XFxuICA8ZGwgY2xhc3M9XCJ2Yy10YWJsZS1yb3dcIj5cXG4gICAgPGRkIGNsYXNzPVwidmMtdGFibGUtY29sXCI+TmFtZTwvZGQ+XFxuICAgIDxkZCBjbGFzcz1cInZjLXRhYmxlLWNvbCB2Yy10YWJsZS1jb2wtMlwiPlZhbHVlPC9kZD5cXG4gIDwvZGw+XFxuICB7e2ZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKyl9fVxcbiAgPGRsIGNsYXNzPVwidmMtdGFibGUtcm93XCI+XFxuICAgIDxkZCBjbGFzcz1cInZjLXRhYmxlLWNvbFwiPnt7bGlzdFtpXS5uYW1lfX08L2RkPlxcbiAgICA8ZGQgY2xhc3M9XCJ2Yy10YWJsZS1jb2wgdmMtdGFibGUtY29sLTJcIj57e2xpc3RbaV0udmFsdWV9fTwvZGQ+XFxuICA8L2RsPlxcbiAge3svZm9yfX1cXG48L2Rpdj4nfV0pfSk7IiwiaW1wb3J0IERpcmVjdG9yIGZyb20gXCIuL2NvcmUvdmlldy9EaXJlY3RvclwiO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIi4vY29yZS9tdmMvRmFjYWRlXCI7XG5pbXBvcnQgeyBDb25zdGFudCB9IGZyb20gXCIuL0NvbnN0YW50XCI7XG5pbXBvcnQgeyBTdGFydHVwQ21kIH0gZnJvbSBcIi4vY21kL1N0YXJ0dXBDbWRcIjtcbmltcG9ydCBVcGRhdGVyIGZyb20gJy4vY29yZS9VcGRhdGVyJztcblxuZGVjbGFyZSBnbG9iYWwge1xuICAgIGV4cG9ydCBsZXQgYXBwOkFwcFxuICAgIGludGVyZmFjZSBXaW5kb3cge1xuICAgICAgICAvLyB0ZXN0OnN0cmluZztcbiAgICAgICAgLy8gYXBwOkFwcFxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBwIGV4dGVuZHMgRmFjYWRle1xuICAgIHJlYWRvbmx5IHVpOkRpcmVjdG9yO1xuICAgIHJlYWRvbmx5IHVwZGF0ZXI6VXBkYXRlcjtcblxuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudWkgPSBuZXcgRGlyZWN0b3IoKVxuICAgICAgICB0aGlzLnVwZGF0ZXIgPSBuZXcgVXBkYXRlcigpO1xuICAgIH1cbiAgICBcbiAgICBzdGF0aWMgc3RhcnR1cCgpe1xuICAgICAgICBsZXQgYXBwID0gbmV3IEFwcDtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ2FwcCcsIHsgZ2V0OiAoKSA9PiBhcHAsIGNvbmZpZ3VyYWJsZTp0cnVlfSk7XG5cdFx0YXBwLnJlZ2lzdENvbW1hbmQoQ29uc3RhbnQuTm90aWZ5LnN0YXJ0dXAsU3RhcnR1cENtZCk7XG4gICAgICAgIGFwcC5ub3RpZnkoQ29uc3RhbnQuTm90aWZ5LnN0YXJ0dXApO1xuICAgIH1cblxuICAgIHNldCB2aWJyYXRlRW5hYmxlKGJvOmJvb2xlYW4pe2xvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY2FuX3ZpYnJhdGVcIixibz9cIjFcIjpcIjBcIik7fVxuICAgIGdldCB2aWJyYXRlRW5hYmxlKCl7cmV0dXJuICtsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImNhbl92aWJyYXRlXCIpPT0xfVxuXG4gICAgdmlicmF0ZShkdXJhdGlvbjpudW1iZXIgPSAxMDAwKXtcbiAgICAgICAgaWYoIShcInZpYnJhdGVcIiBpbiBuYXZpZ2F0b3IpKSByZXR1cm47XG4gICAgICAgIGlmKCF0aGlzLnZpYnJhdGVFbmFibGUpIHJldHVybjtcbiAgICAgICAgbmF2aWdhdG9yLnZpYnJhdGUoZHVyYXRpb24pO1xuICAgIH1cbn0iLCJleHBvcnQgbmFtZXNwYWNlIENvbnN0YW50e1xuICAgIGV4cG9ydCBlbnVtIE5vdGlmeXtcbiAgICAgICAgc3RhcnR1cD1cInN0YXJ0dXBcIixcbiAgICB9XG5cbiAgICBleHBvcnQgZW51bSBBbmFseXRpY3N7XG4gICAgICAgIGxldmVsX2JlZ2luPVwibGV2ZWxfYmVnaW5cIixcbiAgICAgICAgbGV2ZWxfZW5kPVwibGV2ZWxfZW5kXCIsXG4gICAgICAgIGNvbnRpbnVlX3Nob3c9XCJjb250aW51ZV9zaG93XCIsXG4gICAgICAgIGNvbnRpbnVlX2NsaWNrPVwiY29udGludWVfY2xpY2tcIixcbiAgICB9XG59IiwiLyoqVGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBMYXlhQWlySURFLCBwbGVhc2UgZG8gbm90IG1ha2UgYW55IG1vZGlmaWNhdGlvbnMuICovXHJcbmltcG9ydCBDaXJjbGVQcm9ncmVzc1NjcmlwdCBmcm9tIFwiLi9zY3JpcHQvQ2lyY2xlUHJvZ3Jlc3NTY3JpcHRcIlxuaW1wb3J0IEJ1dHRvblNjcmlwdCBmcm9tIFwiLi9zY3JpcHQvQnV0dG9uU2NyaXB0XCJcbmltcG9ydCBSYW5rSXRlbVJlbmRlciBmcm9tIFwiLi92aWV3L1JhbmtJdGVtUmVuZGVyXCJcbmltcG9ydCBSb3RhdGVTY3JpcHQgZnJvbSBcIi4vc2NyaXB0L1JvdGF0ZVNjcmlwdFwiXG5pbXBvcnQgRnVsbFNjcmVlblNjcmlwdCBmcm9tIFwiLi9zY3JpcHQvRnVsbFNjcmVlblNjcmlwdFwiXHJcbi8qXHJcbiog5ri45oiP5Yid5aeL5YyW6YWN572uO1xyXG4qL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lQ29uZmlne1xyXG4gICAgc3RhdGljIHdpZHRoOm51bWJlcj02NDA7XHJcbiAgICBzdGF0aWMgaGVpZ2h0Om51bWJlcj0xMTM2O1xyXG4gICAgc3RhdGljIHNjYWxlTW9kZTpzdHJpbmc9XCJmaXhlZGhlaWdodFwiO1xyXG4gICAgc3RhdGljIHNjcmVlbk1vZGU6c3RyaW5nPVwibm9uZVwiO1xyXG4gICAgc3RhdGljIGFsaWduVjpzdHJpbmc9XCJ0b3BcIjtcclxuICAgIHN0YXRpYyBhbGlnbkg6c3RyaW5nPVwiY2VudGVyXCI7XHJcbiAgICBzdGF0aWMgc3RhcnRTY2VuZTphbnk9XCJzaGFyZS9TaGFyZUNoYWxsZW5nZS5zY2VuZVwiO1xyXG4gICAgc3RhdGljIHNjZW5lUm9vdDpzdHJpbmc9XCJcIjtcclxuICAgIHN0YXRpYyBkZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIHN0YXQ6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBwaHlzaWNzRGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBleHBvcnRTY2VuZVRvSnNvbjpib29sZWFuPXRydWU7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe31cclxuICAgIHN0YXRpYyBpbml0KCl7XHJcbiAgICAgICAgdmFyIHJlZzogRnVuY3Rpb24gPSBMYXlhLkNsYXNzVXRpbHMucmVnQ2xhc3M7XHJcbiAgICAgICAgcmVnKFwic2NyaXB0L0NpcmNsZVByb2dyZXNzU2NyaXB0LnRzXCIsQ2lyY2xlUHJvZ3Jlc3NTY3JpcHQpO1xuICAgICAgICByZWcoXCJzY3JpcHQvQnV0dG9uU2NyaXB0LnRzXCIsQnV0dG9uU2NyaXB0KTtcbiAgICAgICAgcmVnKFwidmlldy9SYW5rSXRlbVJlbmRlci50c1wiLFJhbmtJdGVtUmVuZGVyKTtcbiAgICAgICAgcmVnKFwic2NyaXB0L1JvdGF0ZVNjcmlwdC50c1wiLFJvdGF0ZVNjcmlwdCk7XG4gICAgICAgIHJlZyhcInNjcmlwdC9GdWxsU2NyZWVuU2NyaXB0LnRzXCIsRnVsbFNjcmVlblNjcmlwdCk7XHJcbiAgICB9XHJcbn1cclxuR2FtZUNvbmZpZy5pbml0KCk7IiwiaW1wb3J0ICd0cy1wb2x5ZmlsbCc7XHJcblxyXG5pbXBvcnQgXCIuL2NvcmUvZXh0ZW5zaW9uXCI7XHJcbmltcG9ydCBcIi4vY29yZS9MYXlhRXh0cmFcIjtcclxuXHJcbmltcG9ydCBHYW1lQ29uZmlnIGZyb20gXCIuL0dhbWVDb25maWdcIjtcclxuaW1wb3J0IHsgdWkgfSBmcm9tIFwiLi91aS9sYXlhTWF4VUlcIjtcclxuaW1wb3J0IEFwcCBmcm9tIFwiLi9BcHBcIjtcclxuaW1wb3J0IHsgUGxhdGZvcm1GYWN0b3J5IH0gZnJvbSAnLi9wbGF0Zm9ybS9QbGF0Zm9ybUZhY3RvcnknO1xyXG5pbXBvcnQgeyBSZW1vdGVEYXRhIH0gZnJvbSAnLi9wbGF0Zm9ybS9SZW1vdGVEYXRhJztcclxuaW1wb3J0IHsgQmFzZVBsYXRmb3JtIH0gZnJvbSAnLi9wbGF0Zm9ybS9CYXNlUGxhdGZvcm0nO1xyXG5pbXBvcnQgVkNvbnNvbGUgPSByZXF1aXJlKCd2Y29uc29sZScpO1xyXG5cclxuY2xhc3MgTWFpbiB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHRsZXQgY29uZmlnID0gbmV3IHdpbmRvd1tcIkNvbmZpZzNEXCJdKClcclxuXHRcdGNvbmZpZy5pc0FscGhhID0gdHJ1ZTtcclxuXHJcblx0XHQvLyBDb25maWcuaXNBbHBoYSA9IHRydWU7XHJcblx0XHQvL+agueaNrklEReiuvue9ruWIneWni+WMluW8leaTjlx0XHJcblx0XHRpZiAod2luZG93W1wiTGF5YTNEXCJdKSBMYXlhM0QuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCxjb25maWcgYXMgYW55KTtcclxuXHRcdGVsc2UgTGF5YS5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0LCBMYXlhW1wiV2ViR0xcIl0pO1xyXG5cdFx0TGF5YS5zdGFnZS5iZ0NvbG9yID0gbnVsbDtcclxuXHJcblx0XHRMYXlhW1wiUGh5c2ljc1wiXSAmJiBMYXlhW1wiUGh5c2ljc1wiXS5lbmFibGUoKTtcclxuXHRcdExheWFbXCJEZWJ1Z1BhbmVsXCJdICYmIExheWFbXCJEZWJ1Z1BhbmVsXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YS5zdGFnZS5zY2FsZU1vZGUgPSBHYW1lQ29uZmlnLnNjYWxlTW9kZTtcclxuXHRcdExheWEuc3RhZ2Uuc2NyZWVuTW9kZSA9IEdhbWVDb25maWcuc2NyZWVuTW9kZTtcclxuXHRcdC8v5YW85a655b6u5L+h5LiN5pSv5oyB5Yqg6L29c2NlbmXlkI7nvIDlnLrmma9cclxuXHRcdExheWEuVVJMLmV4cG9ydFNjZW5lVG9Kc29uID0gR2FtZUNvbmZpZy5leHBvcnRTY2VuZVRvSnNvbjtcclxuXHJcblx0XHQvL+aJk+W8gOiwg+ivlemdouadv++8iOmAmui/h0lEReiuvue9ruiwg+ivleaooeW8j++8jOaIluiAhXVybOWcsOWdgOWinuWKoGRlYnVnPXRydWXlj4LmlbDvvIzlnYflj6/miZPlvIDosIPor5XpnaLmnb/vvIlcclxuXHRcdGlmIChHYW1lQ29uZmlnLmRlYnVnIHx8IExheWEuVXRpbHMuZ2V0UXVlcnlTdHJpbmcoXCJkZWJ1Z1wiKSA9PSBcInRydWVcIikgTGF5YS5lbmFibGVEZWJ1Z1BhbmVsKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5waHlzaWNzRGVidWcgJiYgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0pIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdLmVuYWJsZSgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcuc3RhdCkgTGF5YS5TdGF0LnNob3coKTtcclxuXHRcdExheWEuYWxlcnRHbG9iYWxFcnJvciA9IGZhbHNlO1xyXG5cdFx0XHJcblx0XHR0aGlzLmNoZWNrQ29uc29sZV8oKTtcclxuXHJcblx0XHRQbGF0Zm9ybUZhY3Rvcnkuc3RhcnR1cCgpO1xyXG5cdFx0QXBwLnN0YXJ0dXAoKTtcclxuXHRcdFxyXG5cdFx0XHJcblxyXG5cdFx0Ly8gZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBgbGluZWFyLWdyYWRpZW50KCB0byBib3R0b20sICNyZWQsICNibHVlKTtgXHJcblx0XHQvLyAvL+a/gOa0u+i1hOa6kOeJiOacrOaOp+WItu+8jHZlcnNpb24uanNvbueUsUlEReWPkeW4g+WKn+iDveiHquWKqOeUn+aIkO+8jOWmguaenOayoeacieS5n+S4jeW9seWTjeWQjue7rea1geeoi1xyXG5cdFx0Ly8gTGF5YS5SZXNvdXJjZVZlcnNpb24uZW5hYmxlKFwidmVyc2lvbi5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vblZlcnNpb25Mb2FkZWQpLCBMYXlhLlJlc291cmNlVmVyc2lvbi5GSUxFTkFNRV9WRVJTSU9OKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgY2hlY2tDb25zb2xlXygpe1xyXG5cdFx0bGV0IGNsaWNrX2NvdW50ID0gMDtcclxuXHRcdGxldCB0aW1lciA9IDA7XHJcblx0XHRsZXQga2V5ID0gXCJkdmR2ZHZkXCI7XHJcblx0XHRsZXQgaXNEZXYgPSAhJHN5c19yZWxlYXNlIHx8IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkgPT0gXCJ0cnVlXCI7XHJcblx0XHRMYXlhLnN0YWdlLm9uKExheWEuRXZlbnQuTU9VU0VfRE9XTix0aGlzLChlOkxheWEuRXZlbnQpPT57XHJcblx0XHRcdGlmKCFlLnRvdWNoZXMgIHx8IGUudG91Y2hlcy5sZW5ndGg8MikgcmV0dXJuO1xyXG4gICAgICAgICAgICBpZihlLnN0YWdlWCA8IExheWEuc3RhZ2Uud2lkdGgtNTAgfHwgZS5zdGFnZVk+PTUwKSByZXR1cm47XHJcbiAgICAgICAgICAgIFxyXG5cdFx0XHRjbGlja19jb3VudCsrO1xyXG5cdFx0XHRjbGVhclRpbWVvdXQodGltZXIpO1xyXG5cdFx0XHR0aW1lciA9IHNldFRpbWVvdXQoKCk9PntcclxuXHRcdFx0XHRpZihjbGlja19jb3VudD49NSl7XHJcblx0XHRcdFx0XHRpc0RldiA9ICFpc0RldjtcclxuXHRcdFx0XHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSxpc0Rldj9cInRydWVcIjpcImZhbHNlXCIpXHJcblx0XHRcdFx0XHRhcHAudWkudG9hc3QoXCJTdWNjZXNzOlwiK2lzRGV2KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Y2xpY2tfY291bnQ9MFxyXG5cdFx0XHR9LDIwMClcclxuXHRcdH0pO1xyXG5cclxuXHRcdGlmKGlzRGV2KXtcclxuXHRcdFx0aWYoTGF5YS5Ccm93c2VyLm9uTW9iaWxlKXtcclxuXHRcdFx0XHRsZXQgdmNvbnNvbGUgPSBuZXcgVkNvbnNvbGUoKTtcclxuXHRcdFx0XHR2Y29uc29sZS5zaG93KCk7XHJcblx0XHRcdH1cclxuXHRcdH1lbHNle1xyXG5cdFx0XHRjb25zb2xlLmxvZyA9IGZ1bmN0aW9uKCl7fTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIG9uVmVyc2lvbkxvYWRlZCgpOiB2b2lkIHtcclxuXHQvLyBcdC8v5r+A5rS75aSn5bCP5Zu+5pig5bCE77yM5Yqg6L295bCP5Zu+55qE5pe25YCZ77yM5aaC5p6c5Y+R546w5bCP5Zu+5Zyo5aSn5Zu+5ZCI6ZuG6YeM6Z2i77yM5YiZ5LyY5YWI5Yqg6L295aSn5Zu+5ZCI6ZuG77yM6ICM5LiN5piv5bCP5Zu+XHJcblx0Ly8gXHRMYXlhLkF0bGFzSW5mb01hbmFnZXIuZW5hYmxlKFwiZmlsZWNvbmZpZy5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vbkNvbmZpZ0xvYWRlZCkpO1xyXG5cdC8vIH1cclxuXHJcblx0Ly8gb25Db25maWdMb2FkZWQoKTogdm9pZCB7XHJcblx0Ly8gXHRBcHAuc3RhcnR1cCgpO1xyXG5cdC8vIH1cclxufVxyXG4vL+a/gOa0u+WQr+WKqOexu1xyXG5uZXcgTWFpbigpOyIsImltcG9ydCBHYW1lU2NlbmUgZnJvbSBcIi4uL3ZpZXcvR2FtZVNjZW5lXCI7XG5pbXBvcnQgQXBwIGZyb20gXCIuLi9BcHBcIjtcbmltcG9ydCB7IExheWFVdGlscyB9IGZyb20gXCIuLi9jb3JlL0xheWFVdGlsc1wiO1xuaW1wb3J0IHsgdWkgfSBmcm9tIFwiLi4vdWkvbGF5YU1heFVJXCI7XG5pbXBvcnQge0dhbWV9IGZyb20gJy4uL2dhbWUvR2FtZSc7XG5pbXBvcnQgeyBHYW1lSGVscGVyIH0gZnJvbSAnLi4vY29yZS9HYW1lSGVscGVyJztcblxuZXhwb3J0IGNsYXNzIFN0YXJ0dXBDbWQgaW1wbGVtZW50cyBJQ29tbWFuZHtcblx0YXN5bmMgZXhjdXRlKGRhdGEpe1xuICAgICAgICBsZXQgbG9hZGluZ1ZpZXc6dWkudmlldy5TcGxhc2hVSTtcblxuICAgICAgICBsZXQgbG9hZGluZ1Byb21pc2UgPSBMYXlhVXRpbHMubG9hZFJlc0FzeW5jKFtcbiAgICAgICAgICAgIFwibG9hZGluZy9iZ19sb2FkaW5nLmpwZ1wiLFxuICAgICAgICAgICAgXCJyZXMvYXRsYXMvbG9hZGluZy5hdGxhc1wiLFxuICAgICAgICAgICAgXCJyZXMvYXRsYXMvcmFuay5hdGxhc1wiXG4gICAgICAgIF0sKHByb2dyZXNzOm51bWJlcik9Pnt9KVxuICAgICAgICAudGhlbigoKT0+e1xuICAgICAgICAgICAgbGV0IHZpZXcgPSBuZXcgdWkudmlldy5TcGxhc2hVSSgpO1xuICAgICAgICAgICAgdmlldy53aWR0aCA9IExheWEuc3RhZ2Uud2lkdGg7XG4gICAgICAgICAgICB2aWV3LmhlaWdodCA9IExheWEuc3RhZ2UuaGVpZ2h0O1xuICAgICAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZCh2aWV3KTtcbiAgICAgICAgICAgIGxvYWRpbmdWaWV3ID0gdmlldztcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBsZXQgc2NlbmU6TGF5YS5TY2VuZTtcbiAgICAgICAgbGV0IHNjZW5lUHJvbWlzZSA9IExheWFVdGlscy5jcmVhdGVSZXNBc3luYyhcInJlcy9zY2VuZS9Db252ZW50aW9uYWwvbWFpbi5sc1wiLChwcm9ncmVzcz0+e30pKVxuICAgICAgICAudGhlbigoX3NjZW5lOkxheWEuU2NlbmUpPT57XG4gICAgICAgICAgICBzY2VuZSA9IF9zY2VuZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgbG9hZGluZ1Byb21pc2UsXG4gICAgICAgICAgICBzY2VuZVByb21pc2UsXG4gICAgICAgICAgICBwbGF0Zm9ybS5pbml0aWFsaXplKCksXG4gICAgICAgICAgICBMYXlhVXRpbHMubG9hZFJlc0FzeW5jKFtcbiAgICAgICAgICAgICAgICBcInJlcy9hdGxhcy9jb21wLmF0bGFzXCIsXG4gICAgICAgICAgICAgICAgXCJyZXMvYXRsYXMvZ2FtZS5hdGxhc1wiLFxuICAgICAgICAgICAgXSwocHJvZ3Jlc3M6bnVtYmVyKT0+JHN5c19wcm9ncmVzcyA9IHByb2dyZXNzKVxuICAgICAgICBdKTtcbiAgICAgICAgXG4gICAgICAgIGxldCBpYWRzID0gW1xuICAgICAgICAgICAgXCIyMjk4NTI3ODgzNzY4NzY2XzIyOTg1Mjk5MTA0MzUyMzBcIixcbiAgICAgICAgICAgIFwiMjI5ODUyNzg4Mzc2ODc2Nl8yMjk4NTI5NjAzNzY4NTk0XCJcbiAgICAgICAgXTtcbiAgICAgICAgbGV0IHJhZHMgPSBbXG4gICAgICAgICAgICBcIjIyOTg1Mjc4ODM3Njg3NjZfMjI5ODUyOTQ3NzEwMTk0MFwiLFxuICAgICAgICAgICAgXCIyMjk4NTI3ODgzNzY4NzY2XzIyOTg1MjkzNDcxMDE5NTNcIlxuICAgICAgICBdXG5cbiAgICAgICAgaWYocGxhdGZvcm0uYXBwSWQgPT0gXCIzMDkwMDg5NDY0NzgwODZcIil7XG4gICAgICAgICAgICBpYWRzID0gW1xuICAgICAgICAgICAgICAgIFwiMzA5MDA4OTQ2NDc4MDg2XzMwOTAxMTMwNjQ3Nzg1MFwiLFxuICAgICAgICAgICAgICAgIFwiMzA5MDA4OTQ2NDc4MDg2XzMwOTAxMTM1MzE0NDUxMlwiLFxuICAgICAgICAgICAgICAgIFwiMzA5MDA4OTQ2NDc4MDg2XzMwOTAxMTQyNjQ3NzgzOFwiXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgcmFkcyA9IFtcbiAgICAgICAgICAgICAgICBcIjMwOTAwODk0NjQ3ODA4Nl8zMDkwMTE0OTMxNDQ0OThcIixcbiAgICAgICAgICAgICAgICBcIjMwOTAwODk0NjQ3ODA4Nl8zMDkwMTE1Mzk4MTExNjBcIixcbiAgICAgICAgICAgICAgICBcIjMwOTAwODk0NjQ3ODA4Nl8zMDkwMTE1OTk4MTExNTRcIlxuICAgICAgICAgICAgXVxuICAgICAgICB9ZWxzZSBpZihwbGF0Zm9ybS5hcHBJZCA9PSBcIjI1NzM5NTQ0MTgxNTQ3N1wiKXtcbiAgICAgICAgICAgIC8vIHJhZF9hbnksMjU3Mzk1NDQxODE1NDc3XzI2NDk0MzE4NzcyNzM2OSwsRnJpc3QsXG4gICAgICAgICAgICAvLyByYWRfbG93LDI1NzM5NTQ0MTgxNTQ3N18yNjQ5NDMxNTEwNjA3MDYsLEZyaXN0LFxuICAgICAgICAgICAgLy8gcmFkX2hpZ2gsMjU3Mzk1NDQxODE1NDc3XzI2NDk0MzA5MTA2MDcxMiwsRnJpc3QsXG4gICAgICAgICAgICAvLyBpYWRfYW55LDI1NzM5NTQ0MTgxNTQ3N18yNjQ5NDMwMjc3MjczODUsLEZyaXN0LFxuICAgICAgICAgICAgLy8gaWFkX2xvdywyNTczOTU0NDE4MTU0NzdfMjY0OTQyOTY3NzI3MzkxLCxGcmlzdCxcbiAgICAgICAgICAgIC8vIGlhZF9oaWdoLDI1NzM5NTQ0MTgxNTQ3N18yNjQ5NDI5MTEwNjA3MzAsLEZyaXN0LFxuXG4gICAgICAgICAgICBpYWRzID0gW1xuICAgICAgICAgICAgICAgIFwiMjU3Mzk1NDQxODE1NDc3XzI2NDk0MjkxMTA2MDczMFwiLFxuICAgICAgICAgICAgICAgIFwiMjU3Mzk1NDQxODE1NDc3XzI2NDk0Mjk2NzcyNzM5MVwiLFxuICAgICAgICAgICAgICAgIFwiMjU3Mzk1NDQxODE1NDc3XzI2NDk0MzAyNzcyNzM4NVwiXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgcmFkcyA9IFtcbiAgICAgICAgICAgICAgICBcIjI1NzM5NTQ0MTgxNTQ3N18yNjQ5NDMwOTEwNjA3MTJcIixcbiAgICAgICAgICAgICAgICBcIjI1NzM5NTQ0MTgxNTQ3N18yNjQ5NDMxNTEwNjA3MDZcIixcbiAgICAgICAgICAgICAgICBcIjI1NzM5NTQ0MTgxNTQ3N18yNjQ5NDMxODc3MjczNjlcIlxuICAgICAgICAgICAgXVxuXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHBsYXRmb3JtLnN0YXJ0R2FtZShpYWRzLHJhZHMpO1xuXG4gICAgICAgIGFwcC51aS5zdGFnZTNkXy5hZGRDaGlsZChzY2VuZSk7XG4gICAgICAgIGxldCBnYW1lID0gc2NlbmUuYWRkQ29tcG9uZW50KEdhbWUpXG5cbiAgICAgICAgTGF5YS5zdGFnZS5vbihMYXlhLkV2ZW50Lk1PVVNFX0RPV04sbnVsbCwoKT0+e1xuICAgICAgICAgICAgZ2FtZS5vblByZXNzXyh0cnVlKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgTGF5YS5zdGFnZS5vbmNlKExheWEuRXZlbnQuTU9VU0VfVVAsbnVsbCwoKT0+e1xuICAgICAgICAgICAgICAgIGdhbWUub25QcmVzc18oZmFsc2UpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICBhd2FpdCB0aGlzLmNoZWNrQm90QW5kU2hvcnRDdXQoKVxuXG4gICAgICAgIGxvYWRpbmdWaWV3LnJlbW92ZVNlbGYoKTtcblxuICAgICAgICBHYW1lSGVscGVyLm9uR2FtZVJlYWR5KCk7XG5cbiAgICAgICAgTGF5YS5zdGFnZS5zY3JlZW5BZGFwdGF0aW9uRW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICBwcml2YXRlIGFzeW5jIGNoZWNrQm90QW5kU2hvcnRDdXQoKXtcbiAgICAgICAgdHJ5e1xuICAgICAgICAgICAgYXdhaXQgcGxhdGZvcm0uc3Vic2NyaWJlQm90QXN5bmMoKTtcbiAgICAgICAgICAgIGF3YWl0IHBsYXRmb3JtLmNyZWF0ZVNob3J0Y3V0QXN5bmMoKTtcbiAgICAgICAgfWNhdGNoKGUpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJib3Qgc3Vic2NyaWJlL3Nob3J0Y3V0IGVycm9yXCIsZSk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiZXhwb3J0IGNsYXNzIENvbG9ye1xuXHRzdGF0aWMgd2hpdGUgPSBuZXcgQ29sb3IoMSwxLDEpXG5cdHN0YXRpYyBibGFjayA9IG5ldyBDb2xvcigwLDAsMCk7XG5cdHN0YXRpYyByZWQgPSBuZXcgQ29sb3IoMSwwLDApO1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyByOm51bWJlcj0xLCBwdWJsaWMgZzpudW1iZXI9MSwgcHVibGljIGI6bnVtYmVyPTEsIHB1YmxpYyBhOm51bWJlcj0xKXtcbiAgICAgICAgXG4gICAgfVxuXG4gICAgc2V0SGV4KCBoZXg6bnVtYmVyKSB7XG5cblx0XHRoZXggPSBNYXRoLmZsb29yKCBoZXggKTtcblxuICAgICAgICB0aGlzLmEgPSAoIGhleCA+PiAyNCAmIDI1NSApIC8gMjU1O1xuXHRcdHRoaXMuciA9ICggaGV4ID4+IDE2ICYgMjU1ICkgLyAyNTU7XG5cdFx0dGhpcy5nID0gKCBoZXggPj4gOCAmIDI1NSApIC8gMjU1O1xuXHRcdHRoaXMuYiA9ICggaGV4ICYgMjU1ICkgLyAyNTU7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cbiAgICBnZXRIZXgoKSB7XG5cdFx0cmV0dXJuICgoIHRoaXMuYSAqIDI1NSApIDw8IDI0IF4oIHRoaXMuciAqIDI1NSApIDw8IDE2IF4gKCB0aGlzLmcgKiAyNTUgKSA8PCA4IF4gKCB0aGlzLmIgKiAyNTUgKSA8PCAwKT4+PjA7XG5cdH1cblxuXHRnZXRIZXhTdHJpbmcoKSB7XG5cdFx0bGV0IHN0ciA9ICggJzAwMDAwMDAwJyArIHRoaXMuZ2V0SGV4KCkudG9TdHJpbmcoIDE2ICkgKS5zbGljZSggLSA4ICk7XG5cdFx0cmV0dXJuIGAjJHtzdHJ9YFxuXHR9XG5cdGdldFJHQkhleFN0cmluZygpe1xuXHRcdGxldCBzdHIgPSAoICcwMDAwMDAnICsgdGhpcy5nZXRIZXgoKS50b1N0cmluZyggMTYgKSApLnNsaWNlKCAtIDYgKTtcblx0XHRyZXR1cm4gYCMke3N0cn1gXG5cdH1cblx0XG5cdHRvVjQoKXtcblx0XHRyZXR1cm4gbmV3IExheWEuVmVjdG9yNCh0aGlzLnIsdGhpcy5nLHRoaXMuYix0aGlzLmEpXG5cdH1cbiAgICBcbiAgICBzdGF0aWMgTGVycChzdGFydCxlbmQsIHQgKSB7XG5cbiAgICAgICAgbGV0IGEgPSBzdGFydC5hICsgKCBlbmQuYSAtIHN0YXJ0LmEgKSAqIHQ7XG5cdFx0bGV0IHIgPSBzdGFydC5yICsgKCBlbmQuciAtIHN0YXJ0LnIgKSAqIHQ7XG5cdFx0bGV0IGcgPSBzdGFydC5nICsgKCBlbmQuZyAtIHN0YXJ0LmcgKSAqIHQ7XG5cdFx0bGV0IGIgPSBzdGFydC5iICsgKCBlbmQuYiAtIHN0YXJ0LmIgKSAqIHQ7XG5cblx0XHRyZXR1cm4gbmV3IENvbG9yKHIsZyxiLGEpO1xuXG5cdH1cblxuXG59XG5cbiIsIi8qKlxuICogQXV0aG9yOnRlcnJhblxuICogRW1haWw6dGVycmFuLnRpYW5AZm94bWFpbC5jb21cbiAqIFxuICogVGltZTrkuIrljYg5OjU2IDIwMTblubQxMuaciDE35pelXG4qKi9cblxuZXhwb3J0IGNsYXNzIEVtaXRlciB7XG4gICAgc3RhdGljIENPTlNUID0geyBicmVhazoge30gfTtcblxuICAgIHByaXZhdGUgbWFwcyA9IHt9O1xuICAgIHByaXZhdGUgdWlkID0gMDtcblxuICAgIHByaXZhdGUgYWRkKG5hbWUsIGhhbmRsZXIsIHRoaXNPYmplY3QsIHByaW9yaXR5LCBpc09uY2UpIHtcbiAgICAgICAgdGhpc09iamVjdCA9IHRoaXNPYmplY3QgfHwgbnVsbDtcbiAgICAgICAgcHJpb3JpdHkgPSBwcmlvcml0eSB8fCAwO1xuICAgICAgICBsZXQgcXVldWVfaWQgPSB0aGlzLnVpZCsrO1xuICAgICAgICBsZXQgaXRlbSA9IHRoaXMubWFwc1tuYW1lXSB8fCBbXTtcbiAgICAgICAgaXRlbS5wdXNoKFtxdWV1ZV9pZCwgaGFuZGxlciwgdGhpc09iamVjdCwgcHJpb3JpdHksIGlzT25jZV0pO1xuICAgICAgICB0aGlzLm1hcHNbbmFtZV0gPSBpdGVtO1xuXG4gICAgICAgIC8v5YCS5bqPXG4gICAgICAgIGl0ZW0uc29ydCgoYSwgYikgPT4gYVszXSA8IGJbM10pO1xuXG4gICAgICAgIHJldHVybiBxdWV1ZV9pZDtcbiAgICB9XG5cbiAgICBvbihuYW1lLCBoYW5kbGVyLCB0aGlzT2JqZWN0PywgcHJpb3JpdHk/KSB7IHJldHVybiB0aGlzLmFkZChuYW1lLCBoYW5kbGVyLCB0aGlzT2JqZWN0LCBwcmlvcml0eSwgZmFsc2UpOyB9XG4gICAgb25jZShuYW1lLCBoYW5kbGVyLCB0aGlzT2JqZWN0PywgcHJpb3JpdHk/KSB7IHJldHVybiB0aGlzLmFkZChuYW1lLCBoYW5kbGVyLCB0aGlzT2JqZWN0LCBwcmlvcml0eSwgdHJ1ZSk7IH1cbiAgICByYWNlKG5hbWVzOiBhbnlbXSwgaGFuZGxlciwgdGhpc09iamVjdD8sIHByaW9yaXR5Pykge1xuICAgICAgICBsZXQgZXZlbnRzID0gW107XG4gICAgICAgIGxldCBoYXNEb25lID0gZmFsc2U7XG4gICAgICAgIGxldCBjYWxsID0gKG5hbWUsIC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIGhhc0RvbmUgPSB0cnVlO1xuICAgICAgICAgICAgLy8kZGV2ICYmIGNvbnNvbGUubG9nKGV2ZW50cyk7XG4gICAgICAgICAgICBldmVudHMuZm9yRWFjaChpdGVtID0+IHRoaXMucm0oaXRlbVswXSwgaXRlbVsxXSkpO1xuICAgICAgICAgICAgaGFuZGxlci5hcHBseSh0aGlzT2JqZWN0LCBbbmFtZSwgLi4uYXJnc10pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IG5hbWUgb2YgbmFtZXMpIHtcbiAgICAgICAgICAgIGlmIChoYXNEb25lKSBicmVha1xuICAgICAgICAgICAgZXZlbnRzLnB1c2goW3RoaXMub25jZShuYW1lLCAoKSA9PiBjYWxsKG5hbWUpLCB0aGlzT2JqZWN0LCBwcmlvcml0eSksIG5hbWVdKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZHVyaW5nRW1pdCA9IGZhbHNlO1xuICAgIHJtKGlkLCBuYW1lPykge1xuICAgICAgICBsZXQgbmFtZXMgPSBuYW1lID8gW25hbWVdIDogT2JqZWN0LmtleXModGhpcy5tYXBzKTtcbiAgICAgICAgZm9yIChsZXQgbmFtZSBvZiBuYW1lcykge1xuICAgICAgICAgICAgbGV0IGhhbmRsZXJzID0gdGhpcy5tYXBzW25hbWVdO1xuICAgICAgICAgICAgaWYgKCFoYW5kbGVycykgY29udGludWU7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9kdXJpbmdFbWl0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXBzW25hbWVdID0gaGFuZGxlcnMgPSBoYW5kbGVycy5jb25jYXQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgICAgIHdoaWxlIChpbmRleCA8IGhhbmRsZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGxldCBbcXVldWVfaWQsIGhhbmRsZXIsIHRoaXNPYmplY3QsIHByaW9yaXR5LCBpc09uY2VdID0gaGFuZGxlcnNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmIChxdWV1ZV9pZCA9PSBpZCkge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVycy5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7IGluZGV4Kys7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcm1hbGwobmFtZT8pIHtcbiAgICAgICAgaWYgKG5hbWUgPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgdGhpcy5tYXBzID0ge307XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLm1hcHNbbmFtZV07XG4gICAgfVxuXG4gICAgZW1pdChuYW1lLCBkYXRhPykge1xuICAgICAgICBsZXQgaGFuZGxlcnMgPSB0aGlzLm1hcHNbbmFtZV07XG4gICAgICAgIGlmIChoYW5kbGVycyAmJiBoYW5kbGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICAgICAgd2hpbGUgKGluZGV4IDwgaGFuZGxlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbGV0IFtxdWV1ZV9pZCwgaGFuZGxlciwgdGhpc09iamVjdCwgcHJpb3JpdHksIGlzT25jZV0gPSBoYW5kbGVyc1tpbmRleF07XG4gICAgICAgICAgICAgICAgaXNPbmNlID8gaGFuZGxlcnMuc3BsaWNlKGluZGV4LCAxKSA6IGluZGV4Kys7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHVyaW5nRW1pdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGhhbmRsZXIuY2FsbCh0aGlzT2JqZWN0LCBkYXRhKVxuICAgICAgICAgICAgICAgIHRoaXMuX2R1cmluZ0VtaXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ID09IEVtaXRlci5DT05TVC5icmVhaylcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59IiwiZXhwb3J0IGNsYXNzIEVudGl0eSBleHRlbmRzIExheWEuU2NyaXB0M0R7XG4gICAgZ2V0IGJhc2UoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMub3duZXIgYXMgTGF5YS5NZXNoU3ByaXRlM0RcbiAgICB9XG4gICAgZ2V0IHRyYW5zZm9ybSgpe1xuICAgICAgICByZXR1cm4gdGhpcy5iYXNlLnRyYW5zZm9ybVxuICAgIH1cblxuICAgIGdldENvbXBvbmVudF88VD4oYToobmV3KCk9PlQpKTpUe1xuICAgICAgICByZXR1cm4gdGhpcy5iYXNlLmdldENvbXBvbmVudChhKVxuICAgIH1cbn0iLCJpbXBvcnQgeyBGQlBsYXRmb3JtIH0gZnJvbSBcIi4uL3BsYXRmb3JtL0ZCUGxhdGZvcm1cIjtcbmltcG9ydCB7R2FtZVN0YXRzfSBmcm9tICcuLi9nYW1lL0dhbWVTdGF0cyc7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vVXRpbHMnO1xuXG5leHBvcnQgbmFtZXNwYWNlIEdhbWVIZWxwZXIge1xuICAgIGxldCByZWNvbWVuZHM6e3R5cGU6bnVtYmVyLGlkOnN0cmluZ31bXSA9IFtdO1xuXHRleHBvcnQgYXN5bmMgZnVuY3Rpb24gb25HYW1lUmVhZHkoKXtcblx0XHRpZighKHBsYXRmb3JtIGluc3RhbmNlb2YgRkJQbGF0Zm9ybSkpIHJldHVybjtcblxuXHRcdC8vIGlmKCFjb250ZXh0LnBsYXRmb3JtLmdldENvbnRleHRJZCgpKXtcblx0XHQvLyBcdGNvbnRleHQuc2hvd0J1c3koKVxuICAgICAgICAvLyAgICAgdHJ5e1xuICAgICAgICAvLyAgICAgICAgIGxldCBibyA9ICBhd2FpdCBjb250ZXh0LnBsYXRmb3JtLmNob29zZUFzeW5jKFtcIk5FV19DT05URVhUX09OTFlcIl0sdm9pZCAwLHZvaWQgMCxcImF1dG9fY2hvb3NlXCIpO1xuICAgICAgICAvLyAgICAgICAgIGJvICYmIFNoYXJlSGVscGVyLmJhc2VTaGFyZShcImF1dG9fY2hvb3NlXCIpO1xuICAgICAgICAvLyAgICAgfWNhdGNoKGUpe1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyAgICAgY29udGV4dC5oaWRlQnVzeSgpXG5cdFx0Ly8gfVxuXG4gICAgICAgIGxldCBjdXJyZW50Q29udGV4dElkID0gcGxhdGZvcm0uZ2V0Q29udGV4dElkKCk7XG4gICAgICAgIGxldCBhcnIgPSBwbGF0Zm9ybS5yZW1vdGVEYXRhLmNvbnRleHRJZHMuZmlsdGVyKHY9PnYhPWN1cnJlbnRDb250ZXh0SWQpLm1hcCh2PT57cmV0dXJuIHt0eXBlOjAsaWQ6dn19KTtcbiAgICAgICAgcGxhdGZvcm0uZ2V0RnJpZW5kcygpLmZvckVhY2godj0+e1xuICAgICAgICAgICAgYXJyLnB1c2goe3R5cGU6MSxpZDp2LmlkfSk7XG4gICAgICAgIH0pXG4gICAgICAgIGFyci5zaHVmZmxlKClcbiAgICAgICAgcmVjb21lbmRzID0gYXJyO1xuXG4gICAgICAgIGxldCBlbnRyeSA9IHBsYXRmb3JtLmVudHJ5O1xuICAgICAgICBpZihlbnRyeSAhPSBcImNoYWxsZW5nZV9yZXF1ZXN0XCIgJiYgZW50cnkgIT0gXCJjaGFsbGVuZ2VfcmVzdWx0XCIgJiYgZW50cnkgIT0gXCJjaGFsbGVuZ2VfcmVxdWVzdF9zaGFyZVwiKXtcblx0XHQgICAgd2F0Y2hDb250ZXh0KCk7XG4gICAgICAgIH1cblx0fVxuXG4gICAgZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlcXVlc3RDb250ZXh0KHdpdGhDaG9vc2U6Ym9vbGVhbiA9IHRydWUpe1xuICAgICAgICBsZXQgYm8gPSBmYWxzZTtcbiAgICAgICAgaWYocmVjb21lbmRzLmxlbmd0aCA+IDApe1xuICAgICAgICAgICAgbGV0IHJlY29tZW5kID0gcmVjb21lbmRzLnBvcCgpO1xuICAgICAgICAgICAgaWYocmVjb21lbmQudHlwZSA9PSAwKXtcbiAgICAgICAgICAgICAgICBibyA9IGF3YWl0IHBsYXRmb3JtLnN3aXRjaEFzeW5jKHJlY29tZW5kLmlkLFwicmVxdWVzdF9jb250ZXh0XCIpXG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBibyA9IGF3YWl0IHBsYXRmb3JtLmNyZWF0ZUFzeW5jKHJlY29tZW5kLmlkLFwicmVxdWVzdF9jb250ZXh0XCIpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYoIWJvICYmIHdpdGhDaG9vc2Upe1xuICAgICAgICAgICAgYm8gPSBhd2FpdCBwbGF0Zm9ybS5jaG9vc2VBc3luYyh2b2lkIDAsdm9pZCAwLHZvaWQgMCxcInJlcXVlc3RfY29udGV4dFwiKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJvO1xuICAgIH1cblxuXHRsZXQgX2xhc3RDb250ZXh0SWQgPSBudWxsO1xuICAgIGxldCBfY29udGV4dExlYWRlckJvYXJkOkZCSW5zdGFudC5MZWFkZXJib2FyZCA9IG51bGw7XG4gICAgbGV0IF9sYXN0Q29udGV4dHVhbFNjb3JlID0gMjU7XG4gICAgYXN5bmMgZnVuY3Rpb24gd2F0Y2hDb250ZXh0KCl7XG5cdFx0bGV0IHBsYXllck5hbWUgPSBGQkluc3RhbnQucGxheWVyLmdldE5hbWUoKTtcbiAgICAgICAgd2hpbGUodHJ1ZSl7XG4gICAgICAgICAgICBsZXQgY29udGV4dElkID0gRkJJbnN0YW50LmNvbnRleHQuZ2V0SUQoKTtcbiAgICAgICAgICAgIGlmKGNvbnRleHRJZCl7XG4gICAgICAgICAgICAgICAgbGV0IHJhbmtOYW1lID0gYG5jb250ZXh0LiR7Y29udGV4dElkfWBcbiAgICAgICAgICAgICAgICBpZihjb250ZXh0SWQgIT0gX2xhc3RDb250ZXh0SWQpe1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImNvbnRleHQgY2hhbmdlZFwiKTtcblx0XHRcdFx0XHRsZXQgY29udGV4dElkcyA9IHBsYXRmb3JtLnJlbW90ZURhdGEuY29udGV4dElkc1xuXHRcdFx0XHRcdGlmKGNvbnRleHRJZHMuaW5kZXhPZihjb250ZXh0SWQpID09IC0xKXtcblx0XHRcdFx0XHRcdGNvbnRleHRJZHMucHVzaChjb250ZXh0SWQpO1xuXHRcdFx0XHRcdFx0cGxhdGZvcm0ucmVtb3RlRGF0YS5pc0RpcnR5ID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG4gICAgICAgICAgICAgICAgICAgIHRyeXtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9sYXN0Q29udGV4dElkID0gY29udGV4dElkO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHRMZWFkZXJCb2FyZCA9IGF3YWl0IEZCSW5zdGFudC5nZXRMZWFkZXJib2FyZEFzeW5jKHJhbmtOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlbnRyeSA9IGF3YWl0IF9jb250ZXh0TGVhZGVyQm9hcmQuZ2V0UGxheWVyRW50cnlBc3luYygpO1xuXHRcdFx0XHRcdCAgICBfbGFzdENvbnRleHR1YWxTY29yZSA9IGVudHJ5P2VudHJ5LmdldFNjb3JlKCk6MjU7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBfY29udGV4dExlYWRlckJvYXJkLnNldFNjb3JlQXN5bmMoX2xhc3RDb250ZXh0dWFsU2NvcmUsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgRkJJbnN0YW50LnVwZGF0ZUFzeW5jKHthY3Rpb246ICdMRUFERVJCT0FSRCcsbmFtZTogcmFua05hbWUsdGV4dDpgJHtwbGF5ZXJOYW1lfSBwbGF5ZWQgdGhpcyBnYW1lYH0pXG4gICAgICAgICAgICAgICAgICAgIH1jYXRjaChlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmFuayBtc2cgZmFpbGVkOlwiLGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IGN1clNjb3JlID0gR2FtZVN0YXRzLmluc3RfLnNjb3JlcyB8fCAwO1xuICAgICAgICAgICAgICAgIGlmKF9jb250ZXh0TGVhZGVyQm9hcmQgJiYgY3VyU2NvcmUgPiBfbGFzdENvbnRleHR1YWxTY29yZSl7XG4gICAgICAgICAgICAgICAgICAgIHRyeXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2NvcmUgY2hhbmdlZCFcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IF9jb250ZXh0TGVhZGVyQm9hcmQuc2V0U2NvcmVBc3luYyhjdXJTY29yZSxcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IEZCSW5zdGFudC51cGRhdGVBc3luYyh7YWN0aW9uOiAnTEVBREVSQk9BUkQnLG5hbWU6IHJhbmtOYW1lfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfbGFzdENvbnRleHR1YWxTY29yZSA9IGN1clNjb3JlO1xuICAgICAgICAgICAgICAgICAgICB9Y2F0Y2goZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInNjb3JlIGNoYW5nZWQgdXBkYXRlIGZhaWxlZDpcIixlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IFV0aWxzLndhaXQoNTAwMCk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiZGVjbGFyZSBnbG9iYWx7XHJcbiAgICBpbnRlcmZhY2UgT2JqZWN0Q29uc3RydWN0b3J7XHJcbiAgICAgICAgRGVzdHJveShvYjpMYXlhLlNwcml0ZTNELGRlbGF5U2VjPzpudW1iZXIpXHJcbiAgICB9XHJcbiAgICBcclxuICAgIG5hbWVzcGFjZSBsYXlhLmQzLm1hdGh7XHJcbiAgICAgICAgaW50ZXJmYWNlIFF1YXRlcm5pb257XHJcbiAgICAgICAgICAgIGV1bGVyQW5nbGVzOkxheWEuVmVjdG9yMztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIG5hbWVzcGFjZSBsYXlhLmQzLm1hdGh7XHJcbiAgICAgICAgbmFtZXNwYWNlIFZlY3RvcjN7XHJcbiAgICAgICAgICAgIGV4cG9ydCBsZXQgdXA6VmVjdG9yMztcclxuICAgICAgICAgICAgZXhwb3J0IGxldCBkb3duOlZlY3RvcjM7XHJcbiAgICAgICAgICAgIGV4cG9ydCBsZXQgbGVmdDpWZWN0b3IzXHJcbiAgICAgICAgICAgIGV4cG9ydCBsZXQgcmlnaHQ6VmVjdG9yMztcclxuICAgICAgICAgICAgZXhwb3J0IGxldCBmb3J3YXJkOlZlY3RvcjM7XHJcbiAgICAgICAgICAgIGV4cG9ydCBsZXQgYmFjazpWZWN0b3IzO1xyXG4gICAgICAgICAgICBleHBvcnQgbGV0IHplcm86VmVjdG9yMztcclxuICAgICAgICAgICAgZXhwb3J0IGxldCBvbmU6VmVjdG9yMztcclxuICAgICAgICB9XHJcbiAgICAgICAgaW50ZXJmYWNlIFZlY3RvcjN7XHJcbiAgICAgICAgICAgIGFuZ2xlOm51bWJlcjtcclxuICAgICAgICAgICAgY2xhbXBMZW5ndGgobWluOm51bWJlcixtYXg6bnVtYmVyKTp0aGlzO1xyXG4gICAgICAgICAgICBtdWx0aXBseVNjYWxhcihzY2FsYXI6bnVtYmVyKTp0aGlzO1xyXG4gICAgICAgICAgICBkaXZpZGVTY2FsYXIoc2NhbGFyOm51bWJlcik6dGhpcztcclxuICAgICAgICAgICAgbGVuZ3RoKCk6bnVtYmVyLFxyXG4gICAgICAgICAgICBhZGQodjpWZWN0b3IzKTp0aGlzO1xyXG4gICAgICAgICAgICBzZXRYKHY6bnVtYmVyKTp0aGlzXHJcbiAgICAgICAgICAgIHNldFkodjpudW1iZXIpOnRoaXNcclxuICAgICAgICAgICAgc2V0Wih2Om51bWJlcik6dGhpc1xyXG4gICAgICAgICAgICBkaXN0YW5jZVRvKHY6VmVjdG9yMyk6bnVtYmVyLFxyXG4gICAgICAgICAgICBkaXN0YW5jZVRvU3F1YXJlZCh2OlZlY3RvcjMpOm51bWJlcixcclxuICAgICAgICAgICAgc3ViKHY6VmVjdG9yMyk6dGhpc1xyXG4gICAgICAgICAgICBzZXQoeDpudW1iZXIseTpudW1iZXIsejpudW1iZXIpO1xyXG4gICAgICAgICAgICBzZXRMZW5ndGgodjpudW1iZXIpOnRoaXM7XHJcbiAgICAgICAgICAgIG5vcm1hbGl6ZSgpOnRoaXNcclxuICAgICAgICAgICAgbmVnYXRlKCk6dGhpc1xyXG4gICAgICAgICAgICBjbG9uZSgpOlZlY3RvcjM7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBwbHVzKHY6VmVjdG9yMyk6VmVjdG9yM1xyXG4gICAgICAgICAgICBtaW51cyh2OlZlY3RvcjMpOlZlY3RvcjNcclxuICAgICAgICAgICAgc2NhbGUodjpudW1iZXIpOlZlY3RvcjNcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgbmFtZXNwYWNlIGxheWEudXRpbHN7XHJcbiAgICAgICAgaW50ZXJmYWNlIFRpbWVye1xyXG4gICAgICAgICAgICByZWFkb25seSBkZWx0YVNlYzogbnVtYmVyO1xyXG4gICAgICAgICAgICByZWFkb25seSBjdXJyVGltZXJTZWM6bnVtYmVyO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgbmFtZXNwYWNlIGxheWEuZGlzcGxheXtcclxuICAgICAgICBpbnRlcmZhY2UgTm9kZXtcclxuICAgICAgICAgICAgZ2V0Q29tcG9uZW50PFQ+KGE6KG5ldygpPT5UKSk6VFxyXG4gICAgICAgICAgICBhZGRDb21wb25lbnQ8VD4oYToobmV3KCk9PlQpKTpUXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBcclxuICAgIG5hbWVzcGFjZSBsYXlhLmQzLmNvcmV7XHJcbiAgICAgICAgaW50ZXJmYWNlIFNwcml0ZTNEe1xyXG4gICAgICAgICAgICBTZXRBY3RpdmUoYm86Ym9vbGVhbik6dm9pZFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4gICAgXHJcbk9iamVjdC5EZXN0cm95ID0gZnVuY3Rpb24ob2I6TGF5YS5TcHJpdGUzRCxkZWxheVNlYzpudW1iZXIgPSAwKXtcclxuICAgIGlmKCFvYikgcmV0dXJuO1xyXG5cclxuICAgIGlmKGRlbGF5U2VjID4gMCl7XHJcbiAgICAgICAgc2V0VGltZW91dCgodCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBvYi5kZXN0cm95KGZhbHNlKTtcclxuICAgICAgICAgICAgdC5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgfSwgZGVsYXlTZWMqMTAwMCxvYik7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICBvYi5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgLy8gb2IuZGVzdHJveShmYWxzZSk7XHJcbiAgICB9XHJcbn1cclxuIFxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoTGF5YS5RdWF0ZXJuaW9uLnByb3RvdHlwZSwgXCJldWxlckFuZ2xlc1wiLCB7XHJcblx0Z2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbGV0IG91dCA9IG5ldyBMYXlhLlZlY3RvcjMoKTtcclxuICAgICAgICB0aGlzLmdldFlhd1BpdGNoUm9sbChvdXQpO1xyXG5cdFx0cmV0dXJuIG91dCBcclxuXHR9LFxyXG5cdHNldDogZnVuY3Rpb24gKHZhbHVlOkxheWEuVmVjdG9yMykge1xyXG5cdFx0TGF5YS5RdWF0ZXJuaW9uLmNyZWF0ZUZyb21ZYXdQaXRjaFJvbGwodmFsdWUueCx2YWx1ZS55LHZhbHVlLnosdGhpcyk7XHJcblx0fSxcclxuXHRlbnVtZXJhYmxlOiB0cnVlLFxyXG5cdGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG59KTtcclxuXHJcbkxheWEuVmVjdG9yMy51cCA9IG5ldyBMYXlhLlZlY3RvcjMoMCwgMSwgMClcclxuTGF5YS5WZWN0b3IzLmRvd24gPSBuZXcgTGF5YS5WZWN0b3IzKDAsLTEsMCk7XHJcbkxheWEuVmVjdG9yMy5sZWZ0ID0gbmV3IExheWEuVmVjdG9yMygtMSwgMCwgMClcclxuTGF5YS5WZWN0b3IzLnJpZ2h0ID0gbmV3IExheWEuVmVjdG9yMygxLCAwLCAwKVxyXG5MYXlhLlZlY3RvcjMuZm9yd2FyZCA9IG5ldyBMYXlhLlZlY3RvcjMoMCwgMCwgMSlcclxuTGF5YS5WZWN0b3IzLmJhY2sgPSBuZXcgTGF5YS5WZWN0b3IzKDAsIDAsIC0xKVxyXG5MYXlhLlZlY3RvcjMuemVybyA9IG5ldyBMYXlhLlZlY3RvcjMoMCwgMCwgMClcclxuTGF5YS5WZWN0b3IzLm9uZSA9IG5ldyBMYXlhLlZlY3RvcjMoMSwgMSwgMSlcclxuXHJcbkxheWEuVmVjdG9yMy5wcm90b3R5cGUubGVuZ3RoID0gZnVuY3Rpb24oKXtcclxuICAgIHJldHVybiBNYXRoLnNxcnQoIHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSArIHRoaXMueiAqIHRoaXMueiApO1xyXG59XHJcblxyXG5MYXlhLlZlY3RvcjMucHJvdG90eXBlLm11bHRpcGx5U2NhbGFyID0gZnVuY3Rpb24oc2NhbGFyOm51bWJlcil7XHJcbiAgICB0aGlzLnggKj0gc2NhbGFyO1xyXG4gICAgdGhpcy55ICo9IHNjYWxhcjtcclxuICAgIHRoaXMueiAqPSBzY2FsYXI7XHJcbiAgICByZXR1cm4gdGhpc1xyXG59XHJcbkxheWEuVmVjdG9yMy5wcm90b3R5cGUuZGl2aWRlU2NhbGFyID0gZnVuY3Rpb24oc2NhbGFyOm51bWJlcil7XHJcbiAgICByZXR1cm4gdGhpcy5tdWx0aXBseVNjYWxhciggMSAvIHNjYWxhciApXHJcbn1cclxuTGF5YS5WZWN0b3IzLnByb3RvdHlwZS5jbGFtcExlbmd0aCA9IGZ1bmN0aW9uKG1pbjpudW1iZXIsbWF4Om51bWJlcil7XHJcbiAgICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGgoKTtcclxuICAgIHJldHVybiB0aGlzLmRpdmlkZVNjYWxhciggbGVuZ3RoIHx8IDEgKS5tdWx0aXBseVNjYWxhciggTWF0aC5tYXgoIG1pbiwgTWF0aC5taW4oIG1heCwgbGVuZ3RoICkgKSApO1xyXG59XHJcbkxheWEuVmVjdG9yMy5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24odjpMYXlhLlZlY3RvcjMpe1xyXG4gICAgdGhpcy54ICs9IHYueDtcclxuICAgIHRoaXMueSArPSB2Lnk7XHJcbiAgICB0aGlzLnogKz0gdi56O1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbn1cclxuTGF5YS5WZWN0b3IzLnByb3RvdHlwZS5zdWIgPSBmdW5jdGlvbih2OkxheWEuVmVjdG9yMyl7XHJcbiAgICB0aGlzLnggLT0gdi54O1xyXG4gICAgdGhpcy55IC09IHYueTtcclxuICAgIHRoaXMueiAtPSB2Lno7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbn1cclxuXHJcbkxheWEuVmVjdG9yMy5wcm90b3R5cGUuc2V0WCA9IGZ1bmN0aW9uKHY6bnVtYmVyKXtcclxuICAgIHRoaXMueCA9IHY7XHJcbiAgICByZXR1cm4gdGhpcztcclxufVxyXG5MYXlhLlZlY3RvcjMucHJvdG90eXBlLnNldFkgPSBmdW5jdGlvbih2Om51bWJlcil7XHJcbiAgICB0aGlzLnkgPSB2O1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbn1cclxuTGF5YS5WZWN0b3IzLnByb3RvdHlwZS5zZXRaID0gZnVuY3Rpb24odjpudW1iZXIpe1xyXG4gICAgdGhpcy56ID0gdjtcclxuICAgIHJldHVybiB0aGlzO1xyXG59XHJcblxyXG5MYXlhLlZlY3RvcjMucHJvdG90eXBlLmRpc3RhbmNlVG8gPSBmdW5jdGlvbih2OkxheWEuVmVjdG9yMyl7XHJcbiAgICByZXR1cm4gTWF0aC5zcXJ0KCB0aGlzLmRpc3RhbmNlVG9TcXVhcmVkKCB2ICkgKTtcclxufVxyXG5MYXlhLlZlY3RvcjMucHJvdG90eXBlLmRpc3RhbmNlVG9TcXVhcmVkID0gZnVuY3Rpb24gKHY6TGF5YS5WZWN0b3IzICkge1xyXG4gICAgdmFyIGR4ID0gdGhpcy54IC0gdi54O1xyXG4gICAgdmFyIGR5ID0gdGhpcy55IC0gdi55OyBcclxuICAgIHZhciBkeiA9IHRoaXMueiAtIHYuejtcclxuICAgIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeSArIGR6ICogZHo7XHJcbn1cclxuTGF5YS5WZWN0b3IzLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbih4Om51bWJlcix5Om51bWJlcix6Om51bWJlcil7XHJcbiAgICB0aGlzLnggPSB4O1xyXG4gICAgdGhpcy55ID0geTtcclxuICAgIHRoaXMueiA9IHo7XHJcbiAgICByZXR1cm4gdGhpcztcclxufVxyXG5cclxuTGF5YS5WZWN0b3IzLnByb3RvdHlwZS5ub3JtYWxpemUgPSBmdW5jdGlvbigpe1xyXG4gICAgcmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKCB0aGlzLmxlbmd0aCgpIHx8IDEgKTsgICBcclxufVxyXG5MYXlhLlZlY3RvcjMucHJvdG90eXBlLm5lZ2F0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMueCA9IC0gdGhpcy54O1xyXG4gICAgdGhpcy55ID0gLSB0aGlzLnk7XHJcbiAgICB0aGlzLnogPSAtIHRoaXMuejtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxufVxyXG5cclxuTGF5YS5WZWN0b3IzLnByb3RvdHlwZS5zZXRMZW5ndGggPSBmdW5jdGlvbiAodjpudW1iZXIpe1xyXG4gICAgcmV0dXJuIHRoaXMubm9ybWFsaXplKCkubXVsdGlwbHlTY2FsYXIoIHYgKTtcclxufVxyXG5cclxuTGF5YS5WZWN0b3IzLnByb3RvdHlwZS5wbHVzID0gZnVuY3Rpb24odjpMYXlhLlZlY3RvcjMpe1xyXG4gICAgcmV0dXJuIG5ldyBMYXlhLlZlY3RvcjModGhpcy54K3YueCx0aGlzLnkrdi55LHRoaXMueit2LnopO1xyXG59XHJcblxyXG5MYXlhLlZlY3RvcjMucHJvdG90eXBlLm1pbnVzID0gZnVuY3Rpb24odjpMYXlhLlZlY3RvcjMpe1xyXG4gICAgcmV0dXJuIG5ldyBMYXlhLlZlY3RvcjModGhpcy54LXYueCx0aGlzLnktdi55LHRoaXMuei12LnopOztcclxufVxyXG5MYXlhLlZlY3RvcjMucHJvdG90eXBlLnNjYWxlID0gZnVuY3Rpb24odjpudW1iZXIpe1xyXG4gICAgcmV0dXJuIG5ldyBMYXlhLlZlY3RvcjModGhpcy54KnYsdGhpcy55KnYsdGhpcy56KnYpOztcclxufVxyXG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KExheWEuVmVjdG9yMy5wcm90b3R5cGUsICdhbmdsZScsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5hdGFuMih0aGlzLnosIHRoaXMueClcclxuICAgIH0sXHJcblxyXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICB0aGlzLnggPSBNYXRoLmNvcyh2YWx1ZSkgKiB0aGlzLmxlbmd0aCgpXHJcbiAgICAgICAgdGhpcy56ID0gTWF0aC5zaW4odmFsdWUpICogdGhpcy5sZW5ndGgoKVxyXG4gICAgfVxyXG59KTtcclxuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShsYXlhLnV0aWxzLlRpbWVyLnByb3RvdHlwZSwgJ2RlbHRhU2VjJywge1xyXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRlbHRhLzEwMDBcclxuICAgIH1cclxufSk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShsYXlhLnV0aWxzLlRpbWVyLnByb3RvdHlwZSwgJ2N1cnJUaW1lclNlYycsIHtcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jdXJyVGltZXIvMTAwMFxyXG4gICAgfVxyXG59KTtcclxuXHJcbmxheWEuZDMuY29yZS5TcHJpdGUzRC5wcm90b3R5cGUuU2V0QWN0aXZlID0gZnVuY3Rpb24oYm86Ym9vbGVhbil7XHJcbiAgICB0aGlzLmFjdGl2ZSA9IGJvO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7fTsiLCJleHBvcnQgbmFtZXNwYWNlIExheWFVdGlscyB7XG5cdGV4cG9ydCBmdW5jdGlvbiBnZXRDaGlsZEJ5TmFtZV8obm9kZSwgbmFtZSl7XG5cdFx0bGV0IG5hbWVzID0gKFwiXCIgKyBuYW1lKS5zcGxpdChcIi9cIilcblx0XHRsZXQgY2hpbGQgPSBub2RlXG5cdFx0Zm9yIChsZXQgaSA9IDAgOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspe1xuXHRcdFx0Y2hpbGQgPSBjaGlsZC5nZXRDaGlsZEJ5TmFtZShuYW1lc1tpXSlcblx0XHRcdGlmIChjaGlsZCA9PSBudWxsKSByZXR1cm4gbnVsbDtcblx0XHR9XG5cdFx0cmV0dXJuIGNoaWxkXG5cdH1cblxuXHRleHBvcnQgZnVuY3Rpb24gZ2V0QWxsTWF0ZXJpYWxzXyhvYmo6TGF5YS5NZXNoU3ByaXRlM0QpOkxheWEuQmxpbm5QaG9uZ01hdGVyaWFsW117XG5cdFx0bGV0IHJlc3VsdCA9IFtdO1xuXHRcdGxldCBhcnIgPSBbb2JqXTtcblx0XHRmb3IobGV0IGk9MDtpPGFyci5sZW5ndGg7aSsrKXtcblx0XHRcdGxldCB2ID0gYXJyW2ldO1xuXHRcdFx0aWYodi5tZXNoUmVuZGVyZXIpe1xuXHRcdFx0XHRyZXN1bHQucHVzaCguLi52Lm1lc2hSZW5kZXJlci5tYXRlcmlhbHMpO1xuXHRcdFx0fVxuXHRcdFx0Zm9yKGxldCBuPTA7bjx2Lm51bUNoaWxkcmVuO24rKyl7XG5cdFx0XHRcdGFyci5wdXNoKHYuZ2V0Q2hpbGRBdChuKSBhcyBhbnkpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0ZXhwb3J0IGZ1bmN0aW9uIHNldE1lc2hUcmFuc3BhcmVudF8ob2JqOkxheWEuTWVzaFNwcml0ZTNELGJvOmJvb2xlYW4pe1xuXHRcdGxldCBtYXRlcmlhbHMgPSBMYXlhVXRpbHMuZ2V0QWxsTWF0ZXJpYWxzXyhvYmopO1xuXHRcdGZvcihsZXQgbSBvZiBtYXRlcmlhbHMpe1xuXHRcdFx0bS5yZW5kZXJNb2RlID0gYm8/TGF5YS5CbGlublBob25nTWF0ZXJpYWwuUkVOREVSTU9ERV9UUkFOU1BBUkVOVDpMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbC5SRU5ERVJNT0RFX09QQVFVRTtcblx0XHRcdG0uYWxiZWRvQ29sb3IgPSBuZXcgTGF5YS5WZWN0b3I0KDEsMSwxLGJvPzAuNToxKTtcblx0XHR9XG5cdH1cblxuXHRleHBvcnQgZnVuY3Rpb24gZG9EZXN0cm95XyhtZXNoOkxheWEuTWVzaFNwcml0ZTNEKSB7XG5cdFx0TGF5YS50aW1lci5mcmFtZU9uY2UoMSwgdGhpcywgZnVuY3Rpb24gKCkge1xuXHRcdFx0bnVsbCAhPSBtZXNoICYmIG1lc2guZGVzdHJveSgpXG5cdFx0fSlcblx0fVxuXG5cdGV4cG9ydCBmdW5jdGlvbiBhZGRWM18odCwgZSkge1xuXHRcdGxldCBpID0gbmV3IExheWEuVmVjdG9yMztcblx0XHRyZXR1cm4gTGF5YS5WZWN0b3IzLmFkZCh0LCBlLCBpKSwgaVxuXHR9XG5cblx0ZXhwb3J0IGZ1bmN0aW9uIHN1YlYzXyh0LCBlKSB7XG5cdFx0bGV0IGkgPSBuZXcgTGF5YS5WZWN0b3IzO1xuXHRcdHJldHVybiBMYXlhLlZlY3RvcjMuc3VidHJhY3QodCwgZSwgaSksIGlcblx0fVxuXG5cdGV4cG9ydCBmdW5jdGlvbiBtdWxWM18odCwgZSkge1xuXHRcdGxldCBpID0gbmV3IExheWEuVmVjdG9yMztcblx0XHRyZXR1cm4gTGF5YS5WZWN0b3IzLnNjYWxlKHQsIGUsIGkpLCBpXG5cdH1cblxuXHRleHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplVjNfKHQpIHtcblx0XHRsZXQgZSA9IG5ldyBMYXlhLlZlY3RvcjM7XG5cdFx0cmV0dXJuIExheWEuVmVjdG9yMy5ub3JtYWxpemUodCwgZSksIGVcblx0fVxuXG5cdGV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVEcmllY3Rpb25fKGEsYil7XG5cdFx0bGV0IGUgPSBuZXcgTGF5YS5WZWN0b3IzO1xuXHRcdExheWEuVmVjdG9yMy5zdWJ0cmFjdChhLGIsZSk7XG5cdFx0TGF5YS5WZWN0b3IzLm5vcm1hbGl6ZShlLCBlKVxuXHRcdHJldHVybiBlO1xuXHR9XG5cblx0ZXhwb3J0IGZ1bmN0aW9uIG1vdmVCeV8ocG9zdGlvbixkaXJlY3Rpb24sbGVuKXtcblx0XHRsZXQgdG1wID0gbmV3IExheWEuVmVjdG9yMztcblx0XHRMYXlhLlZlY3RvcjMuc2NhbGUoZGlyZWN0aW9uLGxlbix0bXApO1xuXHRcdExheWEuVmVjdG9yMy5hZGQocG9zdGlvbix0bXAsdG1wKVxuXHRcdFxuXHRcdHJldHVybiB0bXA7XG5cdH1cblx0XG5cdGV4cG9ydCBjb25zdCBVUCA9IG5ldyBMYXlhLlZlY3RvcjMoMCwxLDApO1xuXHRleHBvcnQgY29uc3QgRE9XTiA9IG5ldyBMYXlhLlZlY3RvcjMoMCwtMSwwKTtcblxuXHQvLyByZXBsYWNlIExheWEuUXVhdGVybmlvbi5nZXRZYXdQaXRjaFJvbGxcblx0ZXhwb3J0IGZ1bmN0aW9uIFF1YXRlcm5pb25Ub0V1bGVyXyhxOkxheWEuUXVhdGVybmlvbix2OkxheWEuVmVjdG9yMykgXG5cdHsgXG5cdFx0di54ID0gTWF0aC5hdGFuMiBcblx0XHQoIFxuXHRcdFx0MiAqIHEueSAqIHEudyAtIDIgKiBxLnggKiBxLnosICBcblx0XHRcdDEgLSAyKk1hdGgucG93KHEueSwgMikgLSAyKk1hdGgucG93KHEueiwgMikgXG5cdFx0KTsgXG5cblx0XHR2LnogPSBNYXRoLmFzaW4gXG5cdFx0KCBcblx0XHRcdDIqcS54KnEueSArIDIqcS56KnEudyBcblx0XHQpOyBcblxuXHRcdHYueSA9IE1hdGguYXRhbjIgXG5cdFx0KCBcblx0XHRcdDIqcS54KnEudy0yKnEueSpxLnosIFxuXHRcdFx0MSAtIDIqTWF0aC5wb3cocS54LCAyKSAtIDIqTWF0aC5wb3cocS56LCAyKSBcblx0XHQpOyBcblxuXHRcdGlmKHEueCpxLnkgKyBxLnoqcS53ID09IDAuNSkgXG5cdFx0eyBcblx0XHRcdHYueCA9ICgyICogTWF0aC5hdGFuMihxLngscS53KSk7IFxuXHRcdFx0di55ID0gMDsgICAgIFxuXHRcdH0gXG5cblx0XHRlbHNlIGlmKHEueCpxLnkgKyBxLnoqcS53ID09IC0wLjUpIFxuXHRcdHsgXG5cdFx0XHR2LnggPSAoLTIgKiBNYXRoLmF0YW4yKHEueCwgcS53KSk7IFxuXHRcdFx0di55ID0gMDsgXG5cdFx0fSBcblx0XHRyZXR1cm4gdjsgXG5cdH1cblxuXHRleHBvcnQgZnVuY3Rpb24gY29udmVydENvbG9yXyh2YWx1ZTpzdHJpbmcpOkxheWEuVmVjdG9yNHtcblx0XHRsZXQgdiA9IG5ldyBMYXlhLlZlY3RvcjQoKTtcblx0XHRsZXQgaGV4ID0gdmFsdWUuc2xpY2UoMSk7XG5cdFx0bGV0IGNvbG9yID0gcGFyc2VJbnQoaGV4LDE2KTtcblxuXHRcdC8vIGxldCByID0gdmFsdWUuc2xpY2UoMSkuc3BsaXQoXCJcIik7XG5cdFx0Ly8gbGV0IG51bXMgPSBbXTtcblx0XHQvLyB3aGlsZShyLmxlbmd0aD4yKXtcblx0XHQvLyBcdGxldCBhID0gcGFyc2VJbnQoci5zcGxpY2UoMCwyKS5qb2luKFwiXCIpLDE2KS8yNTU7XG5cdFx0Ly8gXHRudW1zLnB1c2goYSk7XG5cdFx0Ly8gfVxuXHRcdC8vIHdoaWxlKG51bXMubGVuZ3RoIDwzKXtcblx0XHQvLyBcdG51bXMudW5zaGlmdCgwKTtcblx0XHQvLyB9XG5cdFx0Ly8gaWYobnVtcy5sZW5ndGggPCA0KXtcblx0XHQvLyBcdG51bXMudW5zaGlmdCgxKTtcblx0XHQvLyB9XHRcblx0XHR2LncgPSBoZXgubGVuZ3RoPjY/KChjb2xvciA+PiAyNCkgJiAweGZmKS8yNTU6MTsgLy9hXG5cdFx0di54ID0gKChjb2xvciA+PiAxNikgJiAweGZmKS8yNTU7IC8vclxuXHRcdHYueSA9ICgoY29sb3IgPj4gOCkgJiAweGZmKS8yNTU7Ly9nXG5cdFx0di56ID0gKGNvbG9yICYgMHhmZikvMjU1Ly9iXG5cblx0XHRyZXR1cm4gdjtcblx0fVxuXG5cdGV4cG9ydCBmdW5jdGlvbiB3YWxrRGlzcGxheUxpc3QocGFyZW50OkxheWEuTm9kZSx2YWxpZGVGdW4/Oih0YXJnZXQ6TGF5YS5Ob2RlKT0+Ym9vbGVhbik6TGF5YS5Ob2Rle1xuXHRcdGxldCB0YXJnZXQgPSBudWxsO1xuXHRcdGxldCBhcnI6TGF5YS5Ob2RlW10gPSBbcGFyZW50XTtcblx0XHRmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgYXJyLmxlbmd0aDsgaW5kZXgrKykge1xuXHRcdFx0dmFyIGVsZW1lbnQgPSBhcnJbaW5kZXhdO1xuXHRcdFx0aWYodmFsaWRlRnVuICYmIHZhbGlkZUZ1bihlbGVtZW50KSl7XG5cdFx0XHRcdHRhcmdldCA9IGVsZW1lbnQ7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0Zm9yKGxldCBpPTA7aTxlbGVtZW50Lm51bUNoaWxkcmVuO2krKyl7XG5cdFx0XHRcdGFyci5wdXNoKGVsZW1lbnQuZ2V0Q2hpbGRBdChpKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiB0YXJnZXQ7XG5cdH1cblxuXHRleHBvcnQgZnVuY3Rpb24gY3JlYXRlUmVzQXN5bmModXJsOnN0cmluZyxvblByb2dyZXNzPzoocDpudW1iZXIpPT52b2lkKXtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0+e1xuXHRcdFx0TGF5YS5sb2FkZXIuY3JlYXRlKHVybCxMYXlhLkhhbmRsZXIuY3JlYXRlKG51bGwsKCk9Pntcblx0XHRcdFx0aWYoQXJyYXkuaXNBcnJheSh1cmwpKXtcblx0XHRcdFx0XHRsZXQgYXJyID0gdXJsLm1hcCh2PT5MYXlhLmxvYWRlci5nZXRSZXMoKHYudXJsP3YudXJsOnYpIHx8IHVybCkpO1xuXHRcdFx0XHRcdHJlc29sdmUoYXJyKTtcblx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdFx0bGV0IGl0ZW0gPSBMYXlhLmxvYWRlci5nZXRSZXModXJsKTtcblx0XHRcdFx0XHRpZihpdGVtKXtcblx0XHRcdFx0XHRcdHJlc29sdmUoaXRlbSk7XG5cdFx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdFx0XHRyZWplY3QoXCJjcmVhdGUgcmVzIGFzeW5jIGZhaWxlZFwiKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pLG5ldyBMYXlhLkhhbmRsZXIobnVsbCxvblByb2dyZXNzKSlcblx0XHR9KTtcblx0fVxuXHRleHBvcnQgZnVuY3Rpb24gbG9hZFJlc0FzeW5jKHVybDphbnkgfCBhbnlbXSxvblByb2dyZXNzPzoocDpudW1iZXIpPT52b2lkKXtcblx0XHRyZXR1cm4gbmV3IFByb21pc2U8YW55PigocmVzb2x2ZSxyZWplY3QpPT57XG5cdFx0XHRMYXlhLmxvYWRlci5sb2FkKHVybCxMYXlhLkhhbmRsZXIuY3JlYXRlKG51bGwsKCk9Pntcblx0XHRcdFx0aWYoQXJyYXkuaXNBcnJheSh1cmwpKXtcblx0XHRcdFx0XHRsZXQgYXJyID0gdXJsLm1hcCh2PT5MYXlhLmxvYWRlci5nZXRSZXMoKHYudXJsP3YudXJsOnYpIHx8IHVybCkpO1xuXHRcdFx0XHRcdHJlc29sdmUoYXJyKTtcblx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdFx0bGV0IGl0ZW0gPSBMYXlhLmxvYWRlci5nZXRSZXModXJsKTtcblx0XHRcdFx0XHRpZihpdGVtKXtcblx0XHRcdFx0XHRcdHJlc29sdmUoaXRlbSk7XG5cdFx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdFx0XHRyZWplY3QoXCJsb2FkIHJlcyBhc3luYyBmYWlsZWRcIik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KSxuZXcgTGF5YS5IYW5kbGVyKG51bGwsb25Qcm9ncmVzcykpXG5cdFx0fSk7XG5cdH1cblxuXHRleHBvcnQgZnVuY3Rpb24gdHdlZW4odGFyZ2V0OiBhbnksIHByb3BzOiBhbnksIGR1cmF0aW9uOiBudW1iZXIsb3B0Pzp7ZWFzZT86IEZ1bmN0aW9uLCBkZWxheT86IG51bWJlciwgY292ZXJCZWZvcmU/OiBib29sZWFuLCBhdXRvUmVjb3Zlcj86IGJvb2xlYW59KXtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0+e1xuXHRcdFx0b3B0ID0gcHJvcHMgfHwge31cblx0XHRcdExheWEuVHdlZW4udG8odGFyZ2V0LHByb3BzLGR1cmF0aW9uLG9wdC5lYXNlLExheWEuSGFuZGxlci5jcmVhdGUodGhpcywoKT0+e1xuXHRcdFx0XHRyZXNvbHZlKCk7XG5cdFx0XHR9KSxvcHQuZGVsYXksb3B0LmNvdmVyQmVmb3JlLG9wdC5hdXRvUmVjb3Zlcilcblx0XHR9KVxuXHR9XG5cblx0ZXhwb3J0IGZ1bmN0aW9uIHdhaXQobWlsbHNlY29uZHM6bnVtYmVyKXtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZT0+c2V0VGltZW91dChyZXNvbHZlLCBtaWxsc2Vjb25kcykpXG5cdH1cblxufVxuXG5cbiIsImludGVyZmFjZSBJVXBkYXRlciB7XG4gICAgb25VcGRhdGUoKTtcbn1cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVwZGF0ZXIge1xuXG4gICAgcHJpdmF0ZSBfbGlzdDogSVVwZGF0ZXJbXSA9IFtdO1xuICAgIHByaXZhdGUgaXNTdGFydGVkID0gZmFsc2U7XG5cbiAgICBhZGQob2JqOiBJVXBkYXRlcikge1xuICAgICAgICBpZiAodGhpcy5fbGlzdC5pbmRleE9mKG9iaikgPiAtMSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9saXN0LnB1c2gob2JqKTtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5pc1N0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgTGF5YS50aW1lci5mcmFtZUxvb3AoMSwgdGhpcywgdGhpcy5vblVwZGF0ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBybShvYmo6IElVcGRhdGVyKSB7XG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMuX2xpc3QuaW5kZXhPZihvYmopO1xuICAgICAgICBpZiAoaW5kZXggPT0gLTEpIHJldHVybjtcblxuICAgICAgICBpZiAodGhpcy5fZHVyaW5nVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9saXN0ID0gdGhpcy5fbGlzdC5jb25jYXQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9saXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZHVyaW5nVXBkYXRlID0gZmFsc2U7XG4gICAgb25VcGRhdGUoKSB7XG4gICAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICAgIGxldCBsaXN0ID0gdGhpcy5fbGlzdDtcblxuICAgICAgICB0aGlzLl9kdXJpbmdVcGRhdGUgPSB0cnVlO1xuICAgICAgICBmb3IgKGxldCBvYmogb2YgbGlzdCkge1xuICAgICAgICAgICAgb2JqLm9uVXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZHVyaW5nVXBkYXRlID0gZmFsc2U7XG4gICAgfVxufSIsImV4cG9ydCBuYW1lc3BhY2UgVXRpbHN7XHJcbiAgICBleHBvcnQgZnVuY3Rpb24gd2FpdChtaWxsc2Vjb25kczpudW1iZXIpe1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlPT5zZXRUaW1lb3V0KHJlc29sdmUsbWlsbHNlY29uZHMpKTtcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBFZmZlY3Rcclxue1xyXG5cdHByaXZhdGUgc3RhcnQ6Ym9vbGVhbjtcclxuXHJcblx0cHJpdmF0ZSBuZXh0OmJvb2xlYW47XHJcblxyXG5cdHByaXZhdGUgdGltZVN0YXJ0Om51bWJlcjtcclxuXHJcblx0cHJpdmF0ZSBlZmZlY3RUaW1lOm51bWJlciA9IC0xO1xyXG5cclxuXHRwcml2YXRlIHRhcmdldE9iak5hbWU6c3RyaW5nO1xyXG5cclxuXHRwcml2YXRlIHRhcmdldDpHYW1lT2JqZWN0O1xyXG5cclxuXHRwcml2YXRlIHN1YlRhcmdldDpHYW1lT2JqZWN0O1xyXG5cclxuXHRwdWJsaWMgZ2V0IGlzU3RhcnRlZF8oKTpib29sZWFue1xyXG5cdFx0cmV0dXJuIHRoaXMuc3RhcnQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IoZnhUaW1lOm51bWJlcixfbmV4dDpib29sZWFuID0gdHJ1ZSlcclxuXHR7XHJcblx0XHR0aGlzLmVmZmVjdFRpbWUgPSBmeFRpbWU7XHJcblx0XHR0aGlzLm5leHQgPSAhIV9uZXh0O1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldENvZWZmXygpOm51bWJlclxyXG5cdHtcclxuXHRcdGlmICh0aGlzLmVmZmVjdFRpbWUgPT0gLTEpXHJcblx0XHR7XHJcblx0XHRcdHJldHVybiAwO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIE1hdGguc2luKE1hdGguY2xhbXAodGhpcy5nZXRMaWZlVGltZV8oKSAvIHRoaXMuZWZmZWN0VGltZSwgMCwgMSkgLyAyICogTWF0aC5QSSk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3RhcnRfKClcclxuXHR7XHJcblx0XHR0aGlzLnN0YXJ0ID0gdHJ1ZTtcclxuXHRcdHRoaXMudGltZVN0YXJ0ID0gTGF5YS50aW1lci5jdXJyVGltZXJTZWM7XHJcblx0XHR0aGlzLm9uU3RhcnRfKCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgaXNFbmRfKClcclxuXHR7XHJcblx0XHRyZXR1cm4gdGhpcy5nZXRMaWZlVGltZV8oKSA+PSB0aGlzLmVmZmVjdFRpbWU7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgaXNOZXh0XygpXHJcblx0e1xyXG5cdFx0cmV0dXJuIHRoaXMubmV4dDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRMaWZlVGltZV8oKVxyXG5cdHtcclxuXHRcdGlmICghdGhpcy5zdGFydClcclxuXHRcdHtcclxuXHRcdFx0cmV0dXJuIDA7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gTGF5YS50aW1lci5jdXJyVGltZXJTZWMgLSB0aGlzLnRpbWVTdGFydDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRUYXJnZXRPYmpfKG9iajpHYW1lT2JqZWN0KVxyXG5cdHtcclxuXHRcdHRoaXMudGFyZ2V0ID0gb2JqO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFRhcmdldE9ial8oKVxyXG5cdHtcclxuXHRcdHJldHVybiB0aGlzLnRhcmdldDtcclxuXHR9XHJcblxyXG5cclxuXHRwdWJsaWMgdXBkYXRlXygpXHJcblx0e1xyXG5cdH1cclxuXHJcblx0cHVibGljIG9uU3RhcnRfKClcclxuXHR7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCB7RWZmZWN0fSBmcm9tIFwiLi9FZmZlY3RcIjtcclxuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSAnLi4vLi4vY29yZS9FbnRpdHknO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVmZmVjdFByb2MgZXh0ZW5kcyBFbnRpdHlcclxue1xyXG5cdHByaXZhdGUgbGlzdEVmZmVjdHM6RWZmZWN0W10gPSBbXTtcclxuXHJcblx0cHVibGljIEFkZEVmZmVjdCggZng6RWZmZWN0KVxyXG5cdHtcclxuXHRcdHRoaXMubGlzdEVmZmVjdHMucHVzaChmeCk7XHJcblx0XHRmeC5zZXRUYXJnZXRPYmpfKHRoaXMuYmFzZSk7XHJcblx0XHRyZXR1cm4gZng7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgQmFja0VmZmVjdCgpXHJcblx0e1xyXG5cdFx0aWYgKHRoaXMubGlzdEVmZmVjdHMubGVuZ3RoID4gMClcclxuXHRcdHtcclxuXHRcdFx0cmV0dXJuIHRoaXMubGlzdEVmZmVjdHNbdGhpcy5saXN0RWZmZWN0cy5sZW5ndGggLSAxXTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHJcblx0cHVibGljIENsZWFyRWZmZWN0cygpXHJcblx0e1xyXG5cdFx0dGhpcy5saXN0RWZmZWN0cy5sZW5ndGggPSAwO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGhhc0VmZmVjdHNfKClcclxuXHR7XHJcblx0XHRyZXR1cm4gdGhpcy5saXN0RWZmZWN0cy5sZW5ndGggPiAwO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBVcGRhdGVFZmZlY3RzKClcclxuXHR7XHJcblx0XHRmb3IgKGxldCBpOm51bWJlciA9IDA7IGkgPCB0aGlzLmxpc3RFZmZlY3RzLmxlbmd0aDsgaSsrKVxyXG5cdFx0e1xyXG5cdFx0XHRsZXQgZWZmZWN0ID0gdGhpcy5saXN0RWZmZWN0c1tpXTtcclxuXHRcdFx0aWYgKCFlZmZlY3QuaXNTdGFydGVkXylcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGVmZmVjdC5zdGFydF8oKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlZmZlY3QudXBkYXRlXygpO1xyXG5cdFx0XHRpZiAoZWZmZWN0LmlzRW5kXygpKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dGhpcy5saXN0RWZmZWN0cy5zcGxpY2UoaSwxKTtcclxuXHRcdFx0XHRpLS07XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSBpZiAoIWVmZmVjdC5pc05leHRfKCkpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0b25VcGRhdGUoKVxyXG5cdHtcclxuXHRcdHRoaXMuVXBkYXRlRWZmZWN0cygpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQge0VmZmVjdH0gZnJvbSBcIi4vRWZmZWN0XCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEZ4U2NhbGUgZXh0ZW5kcyBFZmZlY3Rcclxue1xyXG5cdHByaXZhdGUgX2Zyb206TGF5YS5WZWN0b3IzO1xyXG5cclxuXHRwcml2YXRlIF90bzpMYXlhLlZlY3RvcjM7XHJcblxyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IoZnJvbVNjYWxlOkxheWEuVmVjdG9yMywgdG9TY2FsZTpMYXlhLlZlY3RvcjMsIGZ4VGltZTpudW1iZXIsIF9uZXh0OmJvb2xlYW4gPSB0cnVlKVxyXG5cdHtcclxuXHRcdHN1cGVyKGZ4VGltZSwgX25leHQpXHJcblx0XHR0aGlzLl9mcm9tID0gZnJvbVNjYWxlO1xyXG5cdFx0dGhpcy5fdG8gPSB0b1NjYWxlO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSB0bXBfdmVjOkxheWEuVmVjdG9yMyA9IG5ldyBMYXlhLlZlY3RvcjNcclxuXHRwdWJsaWMgdXBkYXRlXygpXHJcblx0e1xyXG5cdFx0bGV0IGNvZWZmOm51bWJlciA9IHRoaXMuZ2V0Q29lZmZfKCk7XHJcblxyXG5cdFx0TGF5YS5WZWN0b3IzLmxlcnAodGhpcy5fZnJvbSx0aGlzLl90byxjb2VmZix0aGlzLnRtcF92ZWMpO1xyXG5cdFx0dGhpcy5nZXRUYXJnZXRPYmpfKCkudHJhbnNmb3JtLmxvY2FsU2NhbGUgPSB0aGlzLnRtcF92ZWM7XHJcblx0fVxyXG59XHJcbiIsImRlY2xhcmUgZ2xvYmFse1xuXHRpbnRlcmZhY2UgU3RyaW5ne1xuXHRcdHN1YnN0aXR1dGUoZGF0YTphbnkpOnRoaXM7XG5cdH1cblx0aW50ZXJmYWNlIEFycmF5PFQ+IHtcblx0XHRyYW5kb20ocm0/OiBib29sZWFuKTogVDtcblx0XHRjaG9pY2UoZnVuPzogKHY6IFQpID0+IG51bWJlcik6IFRcblx0XHR1bmlxdWUoKTogdGhpcztcblx0XHRzb3J0b24oZmllbGQ6IHN0cmluZyB8IHN0cmluZ1tdLCBhc2NlbmRpbmc/OiBib29sZWFuKTogdGhpcztcblx0XHRybShpdGVtOiBUfCgodjpUKT0+Ym9vbGVhbikpOiB0aGlzO1xuXHRcdHNodWZmbGUoKTogdGhpcztcblx0fVxuXHRcblx0aW50ZXJmYWNlIERhdGUge1xuXHRcdGZvcm1hdChmbXQ6IHN0cmluZyk6IHN0cmluZztcblx0fVxuXHRcblx0aW50ZXJmYWNlIERhdGVDb25zdHJ1Y3RvciB7XG5cdFx0d2VlayhvZmZzZXQ/OiBudW1iZXIpOiBudW1iZXI7XG5cdFx0ZGF5cyhvZmZzZXQ/OiBudW1iZXIpOm51bWJlclxuXHR9XG5cdFxuXHRpbnRlcmZhY2UgTWF0aCB7XG5cdFx0cmFkKGRlZ3JlZTogbnVtYmVyKTogbnVtYmVyXG5cdFx0ZGVnKHJhZGlhbjogbnVtYmVyKTogbnVtYmVyXG5cdFx0bm9ybWFsRGVnKGRlZ3JlZTogbnVtYmVyKTogbnVtYmVyO1xuXHRcdHJhbmRJbnQobWluPzogbnVtYmVyLCBtYXg/OiBudW1iZXIpOiBudW1iZXI7XG5cdFx0cmFuZEZsb2F0KG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlcjtcblx0XHRjbGFtcCh2YWx1ZSwgbWluLCBtYXgpOiBudW1iZXI7XG5cdFx0bGVycCh4OiBudW1iZXIsIHk6IG51bWJlciwgdDogbnVtYmVyKTogbnVtYmVyO1xuXHRcdHVkaWQoKTpzdHJpbmdcblx0XHRyYW5kb21TZWVkOm51bWJlcjtcblx0fVxufVxuXG5TdHJpbmcucHJvdG90eXBlLnN1YnN0aXR1dGUgPSBmdW5jdGlvbihkYXRhKXtcblx0cmV0dXJuIHRoaXMucmVwbGFjZSgvXFx7KC4rPylcXH0vaWcsKG1hdGNoLG5hbWUpPT5kYXRhW25hbWVdKTtcbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSxcInJhbmRvbVwiLHtcblx0dmFsdWU6ZnVuY3Rpb24gKHJtKSB7XG5cdFx0aWYgKHRoaXMubGVuZ3RoID09IDApIHJldHVybiBudWxsO1xuXHRcdGxldCBpbmRleCA9IE1hdGguZmxvb3IodGhpcy5sZW5ndGggKiBNYXRoLnJhbmRvbSgpKTtcblx0XHRsZXQgaXRlbSA9IHRoaXNbaW5kZXhdO1xuXHRcdGlmIChybSkgdGhpcy5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdHJldHVybiB0aGlzW2luZGV4XTtcblx0fSxcblx0Y29uZmlndXJhYmxlOiB0cnVlLFxuICAgIHdyaXRhYmxlOiB0cnVlXG59KVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLFwiY2hvaWNlXCIse1xuXHR2YWx1ZTpmdW5jdGlvbiAoZnVuKSB7XG5cdFx0aWYgKHRoaXMubGVuZ3RoID09IDApIHJldHVybiBudWxsO1xuXHRcdGlmIChmdW4gPT0gdm9pZCAwKSBmdW4gPSAodikgPT4gdjtcblx0XHRsZXQgc3VtID0gdGhpcy5yZWR1Y2UoKGEsIGIpID0+IGEgKyBmdW4oYiksIDApICogTWF0aC5yYW5kb20oKTtcblx0XHRsZXQgbGVuID0gdGhpcy5sZW5ndGg7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0bGV0IHcgPSBmdW4odGhpc1tpXSlcblx0XHRcdGlmIChzdW0gPCB3KSByZXR1cm4gdGhpc1tpXTtcblx0XHRcdHN1bSAtPSB3XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzW2xlbiAtIDFdXG5cdH0sXG5cdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0d3JpdGFibGU6IHRydWVcbn0pXG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSxcInVuaXF1ZVwiLHtcblx0dmFsdWU6ZnVuY3Rpb24gKCkge1xuXHRcdGxldCBhcnIgPSBbXTtcblx0XHRsZXQgaSA9IDA7XG5cdFx0d2hpbGUgKGkgPCB0aGlzLmxlbmd0aCkge1xuXHRcdFx0bGV0IGl0ZW0gPSB0aGlzW2ldO1xuXHRcdFx0aWYgKGFyci5pbmRleE9mKHRoaXNbaV0pID49IDApIHtcblx0XHRcdFx0dGhpcy5zcGxpY2UoaSwgMSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRhcnIucHVzaCh0aGlzW2krK10pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHR3cml0YWJsZTogdHJ1ZVxufSlcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSxcInNvcnRvblwiLHtcblx0dmFsdWU6ZnVuY3Rpb24gKGZpZWxkLCBhc2NlbmRpbmcgPSB0cnVlKSB7XG5cdFx0aWYgKHR5cGVvZiBmaWVsZCA9PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRmaWVsZCA9IFtmaWVsZF07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuc29ydCgoYSwgYikgPT4ge1xuXHRcdFx0bGV0IGFzY29yZSA9IDA7IGxldCBic2NvcmUgPSAwO1xuXHRcdFx0bGV0IGxlbiA9IGZpZWxkLmxlbmd0aDtcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdFx0bGV0IGtleSA9IGZpZWxkW2ldO1xuXHRcdFx0XHRhc2NvcmUgKz0gKGFba2V5XSB8fCAwKSAvIDEwMDAwMCAqIChsZW4gLSBpKTtcblx0XHRcdFx0YnNjb3JlICs9IChiW2tleV0gfHwgMCkgLyAxMDAwMDAgKiAobGVuIC0gaSk7XG5cdFx0XHR9XG5cdFx0XHRsZXQgcmVzdWx0ID0gYXNjb3JlID4gYnNjb3JlID8gMSA6IGFzY29yZSA8IGJzY29yZSA/IC0xIDogMFxuXHRcdFx0YXNjZW5kaW5nIHx8IChyZXN1bHQgKj0gLTEpXG5cdFx0XHRyZXR1cm4gcmVzdWx0XG5cdFx0fSlcblx0fSxcblx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHR3cml0YWJsZTogdHJ1ZVxufSlcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSxcInJtXCIse1xuXHR2YWx1ZTpmdW5jdGlvbihpdGVtKXtcblx0XHRsZXQgZnVuID0gdHlwZW9mIGl0ZW0gPT0gXCJmdW5jdGlvblwiID8gaXRlbSA6dj0+dj09aXRlbTtcblx0XHRsZXQgaW5kZXggPSAwO1xuXHRcdHdoaWxlIChpbmRleCA8IHRoaXMubGVuZ3RoKSB7XG5cdFx0XHRsZXQgaXRlbSA9IHRoaXNbaW5kZXhdO1xuXHRcdFx0aWYoZnVuKGl0ZW0pKXtcblx0XHRcdFx0dGhpcy5zcGxpY2UoaW5kZXgsIDEpXG5cdFx0XHRcdHJldHVybiB0aGlzXG5cdFx0XHR9IGVsc2UgeyBpbmRleCsrOyB9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0d3JpdGFibGU6IHRydWVcbn0pO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLFwic2h1ZmZsZVwiLHtcblx0dmFsdWU6ZnVuY3Rpb24gKCkge1xuXHRcdGZvciAobGV0IGkgPSB0aGlzLmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHtcblx0XHRcdGNvbnN0IGogPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoaSArIDEpKTtcblx0XHRcdFt0aGlzW2ldLCB0aGlzW2pdXSA9IFt0aGlzW2pdLCB0aGlzW2ldXTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0d3JpdGFibGU6IHRydWVcbn0pO1xuXG5EYXRlLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbiAoZm10KSB7XG5cdHZhciBvID0ge1xuXHRcdFwiTStcIjogdGhpcy5nZXRNb250aCgpICsgMSwgLy/mnIjku70gXG5cdFx0XCJkK1wiOiB0aGlzLmdldERhdGUoKSwgLy/ml6UgXG5cdFx0XCJoK1wiOiB0aGlzLmdldEhvdXJzKCksIC8v5bCP5pe2IFxuXHRcdFwibStcIjogdGhpcy5nZXRNaW51dGVzKCksIC8v5YiGIFxuXHRcdFwicytcIjogdGhpcy5nZXRTZWNvbmRzKCksIC8v56eSIFxuXHRcdFwicStcIjogTWF0aC5mbG9vcigodGhpcy5nZXRNb250aCgpICsgMykgLyAzKSwgLy/lraPluqYgXG5cdFx0XCJTXCI6IHRoaXMuZ2V0TWlsbGlzZWNvbmRzKCkgLy/mr6vnp5IgXG5cdH07XG5cdGlmICgvKHkrKS8udGVzdChmbXQpKSBmbXQgPSBmbXQucmVwbGFjZShSZWdFeHAuJDEsICh0aGlzLmdldEZ1bGxZZWFyKCkgKyBcIlwiKS5zdWJzdHIoNCAtIFJlZ0V4cC4kMS5sZW5ndGgpKTtcblx0Zm9yICh2YXIgayBpbiBvKVxuXHRcdGlmIChuZXcgUmVnRXhwKFwiKFwiICsgayArIFwiKVwiKS50ZXN0KGZtdCkpIGZtdCA9IGZtdC5yZXBsYWNlKFJlZ0V4cC4kMSwgKFJlZ0V4cC4kMS5sZW5ndGggPT0gMSkgPyAob1trXSkgOiAoKFwiMDBcIiArIG9ba10pLnN1YnN0cigoXCJcIiArIG9ba10pLmxlbmd0aCkpKTtcblx0cmV0dXJuIGZtdDtcbn1cblxuRGF0ZS53ZWVrID0gZnVuY3Rpb24gKG9mZnNldCA9IDI1MjEpIHtcblx0Ly8gc3RhcnQgZnJvbSAxNTI3MTUxNDYyNTI3XG5cdGxldCB0aW1lWm9uZSA9IC03ICogMzYwMCAqIDEwMDA7XG5cdGxldCB3ZWVrID0gfn4oKERhdGUubm93KCkgKyB0aW1lWm9uZSArIDEgKiAyNCAqIDM2MDAgKiAxMDAwKSAvICgyNCAqIDcgKiAzNjAwICogMTAwMCkpIC0gb2Zmc2V0IC0gMTtcblx0cmV0dXJuIHdlZWs7XG59XG5cbkRhdGUuZGF5cyA9IGZ1bmN0aW9uKG9mZnNldD0wKXtcblx0bGV0IHRpbWVab25lID0gLTcgKiAzNjAwICogMTAwMDtcblx0bGV0IGRheXMgPSB+figoRGF0ZS5ub3coKSArIHRpbWVab25lICsgMSAqIDI0ICogMzYwMCAqIDEwMDApIC8gKDI0ICogMzYwMCAqIDEwMDApKSAtIG9mZnNldCAtIDE7XG5cdHJldHVybiBkYXlzO1xufVxuXG5NYXRoLnJhZCA9IGZ1bmN0aW9uIChkZWdyZWUpIHtcblx0cmV0dXJuIGRlZ3JlZSAqIE1hdGguUEkgLyAxODBcbn1cbk1hdGguZGVnID0gZnVuY3Rpb24gKHJhZGlhbikge1xuXHRyZXR1cm4gcmFkaWFuICogMTgwIC8gTWF0aC5QSVxufVxuTWF0aC5ub3JtYWxEZWcgPSBmdW5jdGlvbiAoZGVncmVlKSB7XG5cdGRlZ3JlZSAlPSAzNjA7XG5cdGlmIChkZWdyZWUgPCAwKSBkZWdyZWUgKz0gMzYwO1xuXHRyZXR1cm4gZGVncmVlXG59XG5NYXRoLnJhbmRJbnQgPSBmdW5jdGlvbiAobWluID0gMCwgbWF4ID0gMTApIHtcblx0cmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XG59XG5NYXRoLnJhbmRGbG9hdCA9IGZ1bmN0aW9uKG1pbixtYXgpe1xuXHRsZXQgcCA9IE1hdGgucmFuZEludCgwLDEwMDApO1xuXHRyZXR1cm4gTWF0aC5sZXJwKG1pbixtYXgscC8xMDAwKTtcbn1cblxuTWF0aC5jbGFtcCA9IGZ1bmN0aW9uICh2YWx1ZSwgbWluLCBtYXgpIHtcblx0cmV0dXJuIE1hdGgubWF4KG1pbiwgTWF0aC5taW4odmFsdWUsIG1heCkpO1xufVxuXG5NYXRoLmxlcnAgPSBmdW5jdGlvbiAoeCwgeSwgdCkge1xuXHQvLyByZXR1cm4gKDEgLSB0KSAqIHggKyB0ICogeTtcblx0cmV0dXJuIHggKyAoeSAtIHgpKnRcbn1cblxuTWF0aC51ZGlkID0gZnVuY3Rpb24oKXtcblx0bGV0IHN0YW1wID0gRGF0ZS5ub3coKTtcblx0IGlmICh0eXBlb2YgcGVyZm9ybWFuY2UgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBwZXJmb3JtYW5jZS5ub3cgPT09ICdmdW5jdGlvbicpe1xuICAgICAgICBzdGFtcCArPSBwZXJmb3JtYW5jZS5ub3coKTsgLy91c2UgaGlnaC1wcmVjaXNpb24gdGltZXIgaWYgYXZhaWxhYmxlXG4gICAgfVxuXHRyZXR1cm4gXCJ4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHhcIi5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyIGkgPSAoc3RhbXAgKyAxNiAqIE1hdGgucmFuZG9tKCkpICUgMTYgfCAwO1xuXHRcdHN0YW1wID0gTWF0aC5mbG9vcihzdGFtcCAvIDE2KVxuXHRcdHJldHVybiAoXCJ4XCIgPT0gZSA/IGkgOiAoaSAmIDB4MyB8IDB4OCkpLnRvU3RyaW5nKDE2KVxuXHR9KVxufVxuXG5cbiFmdW5jdGlvbigpOmFueXtcblx0bGV0IF93XyA9IDA7XG5cdGxldCBfel8gPSA5ODc2NTQzMjE7XG5cdGxldCBtYXNrID0gMHhmZmZmZmZmZjtcblx0ZnVuY3Rpb24gcmFuZG9tKClcblx0e1xuXHRcdF96XyA9ICgzNjk2OSAqIChfel8gJiA2NTUzNSkgKyAoX3pfID4+IDE2KSkgJiBtYXNrO1xuXHRcdF93XyA9ICgxODAwMCAqIChfd18gJiA2NTUzNSkgKyAoX3dfID4+IDE2KSkgJiBtYXNrO1xuXHRcdHZhciByZXN1bHQgPSAoKF96XyA8PCAxNikgKyBfd18pICYgbWFzaztcblx0XHRyZXN1bHQgLz0gNDI5NDk2NzI5Njtcblx0XHRyZXR1cm4gcmVzdWx0ICsgMC41O1xuXHR9XG5cblx0bGV0IG9yaWdpbl9yYW5kb20gPSBNYXRoLnJhbmRvbTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdGgsIFwicmFuZG9tU2VlZFwiLCB7XG5cdFx0Z2V0OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gX3dfO1xuXHRcdH0sXG5cdFx0c2V0OiBmdW5jdGlvbiAoc2VlZDpudW1iZXIpIHtcblx0XHRcdGlmKCEhK3NlZWQpe1xuXHRcdFx0XHRfd18gPSBzZWVkO1xuXHRcdFx0XHRNYXRoLnJhbmRvbSA9IHJhbmRvbTtcblx0XHRcdH1lbHNle1xuXHRcdFx0XHRfd18gPSAwO1xuXHRcdFx0XHRNYXRoLnJhbmRvbSA9IG9yaWdpbl9yYW5kb207XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHR9KTtcbn0oKVxuXG5leHBvcnQgZGVmYXVsdCB7fTsiLCJpbXBvcnQgeyBFbWl0ZXIgfSBmcm9tIFwiLi4vRW1pdGVyXCI7XG5cbi8qKlxuICogQXV0aG9yOnRlcnJhblxuICogRW1haWw6dGVycmFuLnRpYW5AZm94bWFpbC5jb21cbiAqIFxuICogVGltZTrkuIvljYg0OjUwIDIwMTblubQxMuaciDI55pelXG4qKi9cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEZhY2FkZSB7XG5cdHN0YXRpYyBpbnN0OkZhY2FkZTtcblxuXHRwcml2YXRlIF9jb21tYW5kcyA9IHt9O1xuXHRwcml2YXRlIF9yZXNwb25kZXJzID0gW107XG5cblx0cHJpdmF0ZSBlbWl0ZXI6RW1pdGVyO1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHQvLyBpZihGYWNhZGUuaW5zdCkgdGhyb3cgXCJzaW5nbGV0b24gZXJyb3JcIjtcblx0XHRGYWNhZGUuaW5zdCA9IHRoaXM7XG5cblx0XHR0aGlzLmVtaXRlciA9IG5ldyBFbWl0ZXIoKTtcblx0fVxuXG5cdHB1YmxpYyByZWdpc3RDb21tYW5kKG5hbWU6c3RyaW5nfG51bWJlcixjbWQ6bmV3KCk9PklDb21tYW5kKXtcblx0XHRpZih0aGlzLl9jb21tYW5kc1tuYW1lXSkgdGhyb3cgXCJjbWQgaGFzIGJlZW4gcmVnaXN0ZWQgYWxyZWFkeSEhIVwiO1xuXHRcdCBcblx0XHRsZXQgaWQgPSB0aGlzLmVtaXRlci5vbihuYW1lLChkYXRhKT0+e1xuXHRcdFx0KG5ldyBjbWQoKSBhcyBJQ29tbWFuZCkuZXhjdXRlKGRhdGEsbmFtZSk7XG5cdFx0fSlcblxuXHRcdHRoaXMuX2NvbW1hbmRzW25hbWVdID0gaWQ7IFxuXHR9XG5cblx0cHVibGljIHVucmVnaXN0Q29tbWFuZChuYW1lOnN0cmluZ3xudW1iZXIpe1xuXHRcdGxldCBpZCA9IHRoaXMuX2NvbW1hbmRzW25hbWVdO1xuXHRcdGlmKGlkKXtcblx0XHRcdHRoaXMuZW1pdGVyLnJtKGlkLG5hbWUpO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyByZWdpc3RSZXNwb25zZXIocmVzOklSZXNwb25kZXIpe1xuXHRcdGlmKHRoaXMuX3Jlc3BvbmRlcnMuc29tZShpdGVtPT5pdGVtLnJlcyA9PSByZXMpKVxuXHRcdFx0dGhyb3cgXCJ0aGlzIHJlc3BvbnNlciBoYXMgYmVlbiByZWdpc3RlZCBhbHJlYWR5IVwiXG5cblx0XHRsZXQgYXJyID0gcmVzLmxpc3RSZXNwb25zZSgpO1xuXHRcdGxldCBpZHMgPSBbXTtcblx0XHRmb3IobGV0IG5hbWUgb2YgYXJyKXtcblx0XHRcdGxldCBpZCA9IHRoaXMuZW1pdGVyLm9uKG5hbWUsKGRhdGEpPT57XG5cdFx0XHRcdHJlcy5kb1Jlc3BvbnNlKG5hbWUsZGF0YSk7XG5cdFx0XHR9KVxuXHRcdFx0aWRzLnB1c2goe25hbWUsaWR9KVxuXHRcdH1cblx0XHR0aGlzLl9yZXNwb25kZXJzLnB1c2goe3JlcyxpZHN9KTtcblx0fVxuXG5cdHB1YmxpYyB1bnJlZ2lzdFJlc3BvbnNlcihyZXM6SVJlc3BvbmRlcil7XG5cdFx0Zm9yKGxldCBpdGVtIG9mIHRoaXMuX3Jlc3BvbmRlcnMpe1xuXHRcdFx0aWYoaXRlbS5yZXMgPT0gcmVzKXtcblx0XHRcdFx0bGV0IGlkcyA9IGl0ZW0uaWRzO1xuXHRcdFx0XHRmb3IgKGxldCB2YWx1ZSBvZiBpZHMpe1xuXHRcdFx0XHRcdHRoaXMuZW1pdGVyLnJtKHZhbHVlLmlkLHZhbHVlLm5hbWUpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuX3Jlc3BvbmRlcnMuc3BsaWNlKHRoaXMuX3Jlc3BvbmRlcnMuaW5kZXhPZihpdGVtKSwxKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblxuXHRwdWJsaWMgbm90aWZ5KG5hbWUsZGF0YT8pe1xuXHRcdHJldHVybiB0aGlzLmVtaXRlci5lbWl0KG5hbWUsZGF0YSk7XG5cdH1cblx0XG5cdGRpc3Bvc2UoKXtcblx0XHR0aGlzLmVtaXRlci5ybWFsbCgpO1xuXHRcdHRoaXMuX3Jlc3BvbmRlcnMubGVuZ3RoID0gMDtcblx0fVxufSIsIlxyXG5leHBvcnQgY2xhc3MgQmFzZVZpZXcgZXh0ZW5kcyBMYXlhLkV2ZW50RGlzcGF0Y2hlciB7XHJcblxyXG4gICAgYXV0b0Nsb3NlID0gdHJ1ZTsvL+iHquWKqOWFs+mXrVxyXG4gICAgbW9kYWwgPSB0cnVlOy8v6buR6Imy6IOM5pmvXHJcbiAgICBtb2RhbEFscGhhID0gLjc7XHJcbiAgICBhbmltYXRlSW4gPSB0cnVlOy8v5YiH5o2i5Yqo55S7XHJcbiAgICBmdWxsc2NyZWVuID0gdHJ1ZTtcclxuICAgIGNlbnRlciA9IHRydWU7XHJcbiAgICBkZXB0aCA9IDA7XHJcblxyXG4gICAgcGFyZW50OiBMYXlhLk5vZGU7XHJcblxyXG4gICAgY29uc3RydWN0b3IocmVhZG9ubHkgdmlldzogTGF5YS5TY2VuZSkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdmlldyAmJiAodmlld1tcIm93bmVyX1wiXSA9IHRoaXMpO1xyXG4gICAgICAgIHZpZXcgJiYgdmlldy5vbmNlKExheWEuRXZlbnQuQURERUQsIHRoaXMsIHRoaXMub25BZGQpO1xyXG4gICAgICAgIHZpZXcgJiYgdmlldy5vbmNlKExheWEuRXZlbnQuUkVTSVpFLCB0aGlzLCB0aGlzLm9uUmVzaXplKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkFkZCgpIHtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBvblJlc2l6ZSgpIHtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBvbkVudGVyKCkge1xyXG4gICAgICAgIHRoaXMucGFyZW50LmFkZENoaWxkKHRoaXMudmlldyk7XHJcbiAgICB9XHJcbiAgICBvbkV4aXQoKSB7XHJcbiAgICAgICAgdGhpcy52aWV3LnJlbW92ZVNlbGYoKTtcclxuICAgIH1cclxuXHJcbiAgICBvblJlYWR5KCkgeyAvL2FmdGVyIHRoZSBlbnRlciBlZmZlY3RcclxuXHJcbiAgICB9XHJcblxyXG4gICAgbGlzdFJlc3BvbnNlKCk6IG51bWJlcltdIHtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcblxyXG4gICAgZG9SZXNwb25zZShuYW1lOiBudW1iZXIsIGRhdGE/OiBhbnkpIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZmFkZUluKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgdGhpcy52aWV3LmFscGhhID0gMDtcclxuICAgICAgICByZXR1cm4gTGF5YS5Ud2Vlbi50byh0aGlzLnZpZXcsIHtcclxuICAgICAgICAgICAgYWxwaGE6IDFcclxuICAgICAgICB9LCA0MDAsIExheWEuRWFzZS5xdWFkT3V0LCBuZXcgTGF5YS5IYW5kbGVyKG51bGwsIGNhbGxiYWNrKSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudChMYXlhLkV2ZW50LkNMT1NFKTtcclxuICAgIH1cclxufSIsIlxuZXhwb3J0IGNsYXNzIEJ1c3lJbmRpY2F0b3IgZXh0ZW5kcyBMYXlhLlNwcml0ZSB7XG4gICAgcHJpdmF0ZSBpbWc6TGF5YS5JbWFnZTtcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaW1nID0gbmV3IExheWEuSW1hZ2U7XG4gICAgICAgIHRoaXMuaW1nLnNraW4gPSBcImxvYWRpbmcvaW1nX2J1c3kucG5nXCJcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLmltZyk7XG4gICAgICAgIHRoaXMuaW1nLmFuY2hvclggPSB0aGlzLmltZy5hbmNob3JZID0gMC41XG5cbiAgICAgICAgbGV0IHRpY2tlcjogbnVtYmVyID0gMDtcbiAgICAgICAgdGhpcy5vbmNlKExheWEuRXZlbnQuQURERUQsIG51bGwsICgpID0+IHtcbiAgICAgICAgICAgIGxldCBzdGVwID0gMzYwIC8gODtcblxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aWNrZXIpO1xuICAgICAgICAgICAgdGlja2VyID0gc2V0SW50ZXJ2YWwoKCk9PntcbiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0aW9uICs9IHN0ZXA7XG4gICAgICAgICAgICB9LDEwMClcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5vbmNlKExheWEuRXZlbnQuUkVNT1ZFRCwgbnVsbCwgKCkgPT4ge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aWNrZXIpO1xuICAgICAgICB9KVxuICAgIH1cbn0iLCJpbXBvcnQgeyBCYXNlVmlldyB9IGZyb20gXCIuL0Jhc2VWaWV3XCI7XG5pbXBvcnQgeyBCdXN5SW5kaWNhdG9yIH0gZnJvbSBcIi4vQnVzeUluZGljYXRvclwiO1xuaW1wb3J0IHsgVG9hc3QgfSBmcm9tIFwiLi9Ub2FzdFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEaXJlY3RvciB7XG4gICAgbGF5ZXJOb3RpY2UgPSBuZXcgTGF5YS5TcHJpdGU7XG4gICAgbGF5ZXIgPSBuZXcgTGF5YS5TcHJpdGU7XG4gICAgZ2FtZV9sYXllciA9IG5ldyBMYXlhLlNwcml0ZTtcbiAgICBzdGFnZTNkXyA9IG5ldyBMYXlhLlNwcml0ZTtcblxuICAgIHByaXZhdGUgdHh0X3N0YXR1czpMYXlhLkxhYmVsO1xuICAgIHByaXZhdGUgZnBzOm51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSB2ZXJzaW9uOnN0cmluZyA9IFwiXCI7XG5cbiAgICBwcml2YXRlIG1vZGFsTWFza186IExheWEuU3ByaXRlO1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmxheWVyLnNpemUoTGF5YS5zdGFnZS53aWR0aCwgTGF5YS5zdGFnZS5oZWlnaHQpO1xuICAgICAgICB0aGlzLmxheWVyTm90aWNlLnNpemUoTGF5YS5zdGFnZS53aWR0aCwgTGF5YS5zdGFnZS5oZWlnaHQpO1xuICAgICAgICB0aGlzLmxheWVyTm90aWNlLm1vdXNlVGhyb3VnaCA9IHRoaXMubGF5ZXIubW91c2VUaHJvdWdoID0gdHJ1ZTtcbiAgICAgICAgXG4gICAgICAgIExheWEuc3RhZ2UuYWRkQ2hpbGQodGhpcy5zdGFnZTNkXyk7XG4gICAgICAgIC8vIHRoaXMuZ2FtZV9sYXllci5hY3RpdmUgPSB0cnVlO1xuICAgICAgICBMYXlhLnN0YWdlLmFkZENoaWxkKHRoaXMuZ2FtZV9sYXllcik7XG4gICAgICAgIExheWEuc3RhZ2UuYWRkQ2hpbGQodGhpcy5sYXllcik7XG4gICAgICAgIExheWEuc3RhZ2UuYWRkQ2hpbGQodGhpcy5sYXllck5vdGljZSk7XG5cbiAgICAgICAgdGhpcy5tb2RhbE1hc2tfID0gbmV3IExheWEuU3ByaXRlKCk7XG4gICAgICAgIHRoaXMubW9kYWxNYXNrXy52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMubW9kYWxNYXNrXy5tb3VzZUVuYWJsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLm1vZGFsTWFza18uc2l6ZShMYXlhLnN0YWdlLndpZHRoLCBMYXlhLnN0YWdlLmhlaWdodCk7XG4gICAgICAgIHRoaXMubW9kYWxNYXNrXy5vbihMYXlhLkV2ZW50LkNMSUNLLCBudWxsLCBlID0+IHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmxheWVyLm51bUNoaWxkcmVuIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgICAgICBsZXQgcG5sID0gdGhpcy5sYXllci5nZXRDaGlsZEF0KGkpW1wib3duZXJfXCJdO1xuICAgICAgICAgICAgICAgIGlmIChwbmwgaW5zdGFuY2VvZiBCYXNlVmlldyAmJiBwbmwuYXV0b0Nsb3NlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlVmlldyhwbmwpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9uUmVzaXplKCk7XG5cbiAgICAgICAgdGhpcy5sYXllci5hZGRDaGlsZCh0aGlzLm1vZGFsTWFza18pO1xuXG4gICAgICAgIGxldCB0eHRfdmVyc2lvbiA9IG5ldyBMYXlhLkxhYmVsKCk7XG4gICAgICAgIHR4dF92ZXJzaW9uLmJvdHRvbSA9IDI7XG4gICAgICAgIHR4dF92ZXJzaW9uLnJpZ2h0ID0gNTtcbiAgICAgICAgdHh0X3ZlcnNpb24uZm9udFNpemUgPSAxMjtcbiAgICAgICAgdHh0X3ZlcnNpb24uY29sb3IgPSBcIiNmZmZmZmZcIjtcbiAgICAgICAgdHh0X3ZlcnNpb24uYWxpZ24gPSBcImJvdHRvbVwiO1xuICAgICAgICBMYXlhLnN0YWdlLmFkZENoaWxkKHR4dF92ZXJzaW9uKTtcbiAgICAgICAgdGhpcy50eHRfc3RhdHVzID0gdHh0X3ZlcnNpb247XG5cbiAgICAgICAgbGV0IGxhc3RUaW1lID0gRGF0ZS5ub3coKVxuICAgICAgICBMYXlhLnRpbWVyLmZyYW1lTG9vcCgxLHRoaXMsKCk9PntcbiAgICAgICAgICAgIHRoaXMuZnBzKys7XG4gICAgICAgICAgICBsZXQgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGlmKG5vdyAtIGxhc3RUaW1lPiAxMDAwKXtcbiAgICAgICAgICAgICAgICBsYXN0VGltZSA9IG5vdztcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXR1c0luZm8oKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZwcyA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblJlc2l6ZSgpIHtcbiAgICAgICAgdGhpcy5tb2RhbE1hc2tfLmdyYXBoaWNzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMubW9kYWxNYXNrXy5ncmFwaGljcy5kcmF3UmVjdCgwLCAwLCBMYXlhLnN0YWdlLndpZHRoLCBMYXlhLnN0YWdlLmhlaWdodCwgXCIjMDAwMDAwXCIpO1xuICAgICAgICB0aGlzLm1vZGFsTWFza18uYWxwaGEgPSAuNztcbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZU1vZGFsKCkge1xuICAgICAgICBsZXQgZmluZE1vZGFsID0gZmFsc2U7XG4gICAgICAgIHRoaXMubW9kYWxNYXNrXy5yZW1vdmVTZWxmKClcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMubGF5ZXIubnVtQ2hpbGRyZW4gLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgbGV0IHAgPSB0aGlzLmxheWVyLmdldENoaWxkQXQoaSlbXCJvd25lcl9cIl0gYXMgQmFzZVZpZXc7XG4gICAgICAgICAgICBpZiAocCAmJiBwLm1vZGFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb2RhbE1hc2tfLmFscGhhID0gcC5tb2RhbEFscGhhO1xuICAgICAgICAgICAgICAgIHRoaXMubGF5ZXIuYWRkQ2hpbGRBdCh0aGlzLm1vZGFsTWFza18sIGkpO1xuICAgICAgICAgICAgICAgIGZpbmRNb2RhbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb2RhbE1hc2tfLnZpc2libGUgPSBmaW5kTW9kYWw7XG4gICAgfVxuXG4gICAgdmlld3NfOiBCYXNlVmlld1tdID0gW107XG4gICAgYWRkVmlldyhpbnN0OiBCYXNlVmlldyk6IEJhc2VWaWV3IHtcbiAgICAgICAgaWYgKHRoaXMudmlld3NfLmluZGV4T2YoaW5zdCkgPj0gMCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMudmlld3NfLnB1c2goaW5zdCk7XG4gICAgICAgIGluc3QucGFyZW50ID0gaW5zdC5kZXB0aCA9PSAwID8gdGhpcy5sYXllciA6IHRoaXMubGF5ZXJOb3RpY2U7XG4gICAgICAgIGluc3Qub25FbnRlcigpO1xuICAgICAgICBpbnN0Lm9uY2UoTGF5YS5FdmVudC5DTE9TRSwgbnVsbCwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVWaWV3KGluc3QpO1xuICAgICAgICB9KVxuICAgICAgICBpZiAoaW5zdC5mdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICBpbnN0LnZpZXcuaGVpZ2h0ID0gTGF5YS5zdGFnZS5oZWlnaHQ7XG4gICAgICAgICAgICBpbnN0LnZpZXcud2lkdGggPSBMYXlhLnN0YWdlLndpZHRoXG4gICAgICAgIH1cblxuICAgICAgICBpbnN0Lm1vZGFsICYmIHRoaXMudXBkYXRlTW9kYWwoKTtcbiAgICAgICAgaW5zdC5jZW50ZXIgJiYgdGhpcy5jZW50ZXJWaWV3KGluc3Qudmlldyk7XG5cbiAgICAgICAgaWYgKCFpbnN0LmFuaW1hdGVJbikge1xuICAgICAgICAgICAgaW5zdC5vblJlYWR5KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbnN0LnZpZXcudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgTGF5YS50aW1lci5vbmNlKDAsIG51bGwsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpbnN0LnZpZXcudmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaW5zdC5mYWRlSW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpbnN0Lm9uUmVhZHkoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbnN0O1xuICAgIH1cblxuICAgIHJlbW92ZVZpZXcoaW5zdDogQmFzZVZpZXcpIHtcbiAgICAgICAgdGhpcy52aWV3c18uc3BsaWNlKHRoaXMudmlld3NfLmluZGV4T2YoaW5zdCksIDEpO1xuICAgICAgICBpbnN0Lm9uRXhpdCgpO1xuICAgICAgICBpbnN0Lm1vZGFsICYmIHRoaXMudXBkYXRlTW9kYWwoKTtcbiAgICB9XG5cbiAgICByZW1vdmVBbGwoKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy52aWV3c18ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGxldCBpbnN0ID0gdGhpcy52aWV3c19baV07XG4gICAgICAgICAgICBpbnN0Lm9uRXhpdCgpO1xuICAgICAgICAgICAgaW5zdC5tb2RhbCAmJiB0aGlzLnVwZGF0ZU1vZGFsKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWV3c18uc3BsaWNlKDApO1xuICAgIH1cblxuICAgIGdldFZpZXc8VD4oY2xzOiBuZXcgKC4uLmFyZ3MpID0+IFQpIHtcbiAgICAgICAgZm9yIChsZXQgdmlldyBvZiB0aGlzLnZpZXdzXykge1xuICAgICAgICAgICAgaWYgKHZpZXcgaW5zdGFuY2VvZiBjbHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmlldztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNlbnRlclZpZXcoaW5zdDogbGF5YS5kaXNwbGF5LlNwcml0ZSkge1xuICAgICAgICBpbnN0LnggPSAoTGF5YS5zdGFnZS53aWR0aCAtIGluc3Qud2lkdGgpICogLjVcbiAgICAgICAgaW5zdC55ID0gKExheWEuc3RhZ2UuaGVpZ2h0IC0gaW5zdC5oZWlnaHQpICogLjVcbiAgICB9XG5cbiAgICBwcml2YXRlIF9idXN5Q291bnQgPSAwO1xuICAgIHByaXZhdGUgX2J1c3lJbnN0OiBCdXN5SW5kaWNhdG9yO1xuICAgIHByaXZhdGUgX2J1c3lfdGltZXIgPSAwO1xuICAgIGJ1c3koKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9idXN5X3RpbWVyKTtcbiAgICAgICAgc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgdGhpcy5fYnVzeUNvdW50ID0gMDtcbiAgICAgICAgICAgIHRoaXMudW5idXN5KCk7XG4gICAgICAgIH0sMTAwMDApXG5cbiAgICAgICAgaWYgKHRoaXMuX2J1c3lDb3VudCsrID09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2J1c3lJbnN0ID0gbmV3IEJ1c3lJbmRpY2F0b3IoKTtcbiAgICAgICAgICAgIHRoaXMuX2J1c3lJbnN0LnggPSBMYXlhLnN0YWdlLndpZHRoICogLjVcbiAgICAgICAgICAgIHRoaXMuX2J1c3lJbnN0LnkgPSBMYXlhLnN0YWdlLmhlaWdodCAqIC41XG4gICAgICAgICAgICB0aGlzLmxheWVyTm90aWNlLmFkZENoaWxkKHRoaXMuX2J1c3lJbnN0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1bmJ1c3koKSB7XG4gICAgICAgIGlmICgtLXRoaXMuX2J1c3lDb3VudCA8PSAwICYmIHRoaXMuX2J1c3lJbnN0KSB7XG4gICAgICAgICAgICB0aGlzLl9idXN5SW5zdC5yZW1vdmVTZWxmKClcbiAgICAgICAgICAgIHRoaXMuX2J1c3lJbnN0ID0gbnVsbFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfdG9hc3RDb3V0ID0gMDtcbiAgICBwcml2YXRlIF90b2FzdFBvb2wgPSBbXTtcbiAgICB0b2FzdChjb250ZW50OiBzdHJpbmcsIGljb24/OiBzdHJpbmcpe1xuICAgICAgICBsZXQgdCA9IHRoaXMuX3RvYXN0UG9vbC5sZW5ndGg+MD90aGlzLl90b2FzdFBvb2wucG9wKCk6bmV3IFRvYXN0KCk7XG4gICAgICAgIHRoaXMubGF5ZXJOb3RpY2UuYWRkQ2hpbGQodCk7XG4gICAgICAgIHQuc2V0RGF0YShjb250ZW50LCBpY29uKTtcbiAgICAgICAgXG4gICAgICAgIHQuYWxwaGEgPSAwO1xuICAgICAgICB0LnggPSBMYXlhLnN0YWdlLndpZHRoICogLjVcbiAgICAgICAgdC55ID0gTGF5YS5zdGFnZS5oZWlnaHQgKiAuNSArIDEwMDtcbiAgICAgICAgbGV0IHRsID0gbmV3IExheWEuVGltZUxpbmUoKTtcbiAgICAgICAgdGwuYWRkTGFiZWwoXCIxXCIsIHRoaXMuX3RvYXN0Q291dCo1MDApLnRvKHQsIHsgeTogdC55IC0gMTAwLCBhbHBoYTogMSB9LCA2MDAsIExheWEuRWFzZS5xdWFkT3V0KVxuICAgICAgICAuYWRkTGFiZWwoXCIyXCIsIDYwMCkudG8odCwgeyB5OiB0LnkgLSAyMDAsIGFscGhhOiAwIH0sIDYwMCwgTGF5YS5FYXNlLnF1YWRJbilcbiAgICAgICAgdGwub24oTGF5YS5FdmVudC5DT01QTEVURSwgdGhpcywgKCk9PntcbiAgICAgICAgICAgIHRoaXMuX3RvYXN0Q291dC0tO1xuICAgICAgICAgICAgdC5yZW1vdmVTZWxmKCk7XG4gICAgICAgICAgICB0aGlzLl90b2FzdFBvb2wucHVzaCh0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRsLnBsYXkoKTtcbiAgICAgICAgdGhpcy5fdG9hc3RDb3V0Kys7XG4gICAgfVxuXG4gICAgc2V0VmVyc2lvbih2ZXJzaW9uOnN0cmluZyl7XG4gICAgICAgIHRoaXMudmVyc2lvbiA9IHZlcnNpb247XG4gICAgfVxuXG4gICAgdXBkYXRlU3RhdHVzSW5mbygpe1xuICAgICAgICB0aGlzLnR4dF9zdGF0dXMudGV4dCA9IGAke3RoaXMudmVyc2lvbn0gJHt0aGlzLmZwc31gO1xuICAgIH1cbn0iLCJcbmV4cG9ydCBjbGFzcyBUb2FzdCBleHRlbmRzIExheWEuU3ByaXRlIHtcbiAgICBwcml2YXRlIHR4dDogTGF5YS5MYWJlbDtcbiAgICBwcml2YXRlIGJnOiBMYXlhLkltYWdlO1xuICAgIHByaXZhdGUgaWNvbjogTGF5YS5JbWFnZTtcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKClcblxuICAgICAgICBsZXQgYmcgPSB0aGlzLmJnID0gbmV3IExheWEuSW1hZ2UoXCJsb2FkaW5nL2JnX3RvYXN0LnBuZ1wiKTtcbiAgICAgICAgYmcuYW5jaG9yWCA9IC41O1xuICAgICAgICBiZy5hbmNob3JZID0gLjU7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQoYmcpO1xuXG4gICAgICAgIHRoaXMudHh0ID0gbmV3IExheWEuTGFiZWwoKTtcbiAgICAgICAgdGhpcy50eHQueSA9IDQ7XG4gICAgICAgIHRoaXMudHh0LmNvbG9yID0gXCIjZmZmZmZmXCJcbiAgICAgICAgdGhpcy50eHQuYW5jaG9yWCA9IC41O1xuICAgICAgICB0aGlzLnR4dC5hbmNob3JZID0gLjU7XG4gICAgICAgIHRoaXMudHh0LmJvbGQgPSB0cnVlO1xuICAgICAgICB0aGlzLnR4dC5mb250U2l6ZSA9IDM4O1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMudHh0KTtcblxuICAgICAgICB0aGlzLmljb24gPSBuZXcgTGF5YS5JbWFnZSgpO1xuICAgICAgICB0aGlzLmljb24ud2lkdGggPSB0aGlzLmljb24uaGVpZ2h0ID0gMzA7XG4gICAgICAgIHRoaXMuaWNvbi5waXZvdCgxNSwgOCk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5pY29uKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0RGF0YShjb250ZW50OiBzdHJpbmcsIGljb246IHN0cmluZyk6IHZvaWQge1xuICAgICAgICB0aGlzLnR4dC50ZXh0ID0gY29udGVudDtcblxuICAgICAgICBpZiAodGhpcy50eHQud2lkdGggPiB0aGlzLmJnLndpZHRoKVxuICAgICAgICAgICAgdGhpcy5iZy5zY2FsZVggPSB0aGlzLnR4dC53aWR0aCAvIHRoaXMuYmcud2lkdGg7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuYmcuc2NhbGVYID0gMTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuaWNvbi5za2luID0gaWNvbiB8fCBcIlwiO1xuICAgICAgICB0aGlzLmljb24ueCA9IHRoaXMudHh0LndpZHRoICogLS41IC0gdGhpcy5pY29uLndpZHRoICogLjVcbiAgICB9XG59IiwiaW1wb3J0IHtFbnRpdHl9IGZyb20gXCIuLi9jb3JlL0VudGl0eVwiO1xyXG5pbXBvcnQge0NvbG9yfSBmcm9tIFwiLi4vY29yZS9Db2xvclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJHQ29sb3IgZXh0ZW5kcyBFbnRpdHlcclxue1xyXG5cdHByaXZhdGUgX2MxOkNvbG9yID0gQ29sb3Iud2hpdGU7XHJcblx0cHJpdmF0ZSBfYzI6Q29sb3IgPSBDb2xvci53aGl0ZTtcclxuXHJcblx0cHJpdmF0ZSBfbl9jMTpDb2xvcjtcclxuXHRwcml2YXRlIF9uX2MyOkNvbG9yO1xyXG5cclxuXHRwcml2YXRlIF90aW1lUmVtYWluOm51bWJlciA9IDA7XHJcblxyXG5cdHByaXZhdGUgX3RpbWVUb3RhbDpudW1iZXIgPSAwO1xyXG5cclxuXHRvbkF3YWtlKClcclxuXHR7XHJcblx0XHR0aGlzLnNldENvbG9yXyh0aGlzLl9jMSwgdGhpcy5fYzIpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzZXRDb2xvcl8oYzE6Q29sb3IsIGMyOkNvbG9yKVxyXG5cdHtcclxuXHRcdGxldCBzdHIgPSBgbGluZWFyLWdyYWRpZW50KCB0byBib3R0b20sICR7YzEuZ2V0UkdCSGV4U3RyaW5nKCl9LCAke2MyLmdldFJHQkhleFN0cmluZygpfSlgO1xyXG5cdFx0ZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kID0gc3RyO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGNoYW5nZUNvbG9yXyhjMTpDb2xvciwgYzI6Q29sb3IsIHRpbWU6bnVtYmVyID0gMClcclxuXHR7XHJcblx0XHR0aGlzLl9uX2MxID0gYzE7XHJcblx0XHR0aGlzLl9uX2MyID0gYzI7XHJcblx0XHRpZiAodGltZSA9PSAwKVxyXG5cdFx0e1xyXG5cdFx0XHR0aGlzLl9jMSA9IHRoaXMuX25fYzE7XHJcblx0XHRcdHRoaXMuX2MyID0gdGhpcy5fbl9jMjtcclxuXHRcdFx0dGhpcy5zZXRDb2xvcl8odGhpcy5fYzEsIHRoaXMuX2MyKTtcclxuXHRcdH1cclxuXHRcdGVsc2VcclxuXHRcdHtcclxuXHRcdFx0dGhpcy5fdGltZVJlbWFpbiA9IHRpbWU7XHJcblx0XHRcdHRoaXMuX3RpbWVUb3RhbCA9IHRpbWU7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRvblVwZGF0ZSgpXHJcblx0e1xyXG5cdFx0aWYgKHRoaXMuX3RpbWVSZW1haW4gPiAwKVxyXG5cdFx0e1xyXG5cdFx0XHRsZXQgdDpudW1iZXIgPSAxIC0gKCh0aGlzLl90aW1lVG90YWwgPT0gMCkgPyAwIDogTWF0aC5jbGFtcCh0aGlzLl90aW1lUmVtYWluIC8gdGhpcy5fdGltZVRvdGFsLDAsMSkpO1xyXG5cdFx0XHRsZXQgYzpDb2xvciA9IENvbG9yLkxlcnAodGhpcy5fYzEsIHRoaXMuX25fYzEsIHQpO1xyXG5cdFx0XHRsZXQgYzI6Q29sb3IgPSBDb2xvci5MZXJwKHRoaXMuX2MyLCB0aGlzLl9uX2MyLCB0KTtcclxuXHRcdFx0dGhpcy5fdGltZVJlbWFpbiAtPSBMYXlhLnRpbWVyLmRlbHRhU2VjXHJcblx0XHRcdGlmICh0aGlzLl90aW1lUmVtYWluIDw9IDApXHJcblx0XHRcdHtcclxuXHRcdFx0XHR0aGlzLl9jMSA9IHRoaXMuX25fYzE7XHJcblx0XHRcdFx0dGhpcy5fYzIgPSB0aGlzLl9uX2MyO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMuc2V0Q29sb3JfKGMsIGMyKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IHtTb3VuZH0gZnJvbSBcIi4vU291bmRcIjtcclxuaW1wb3J0IHtFbnRpdHl9IGZyb20gXCIuLi9jb3JlL0VudGl0eVwiO1xyXG5pbXBvcnQge0NvbG9yfSBmcm9tIFwiLi4vY29yZS9Db2xvclwiO1xyXG5pbXBvcnQgeyBMYXlhVXRpbHMgfSBmcm9tICcuLi9jb3JlL0xheWFVdGlscyc7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEJhbGwgZXh0ZW5kcyBFbnRpdHlcclxue1xyXG5cdHB1YmxpYyBfcHJlZkJhbGxQYXJ0c186R2FtZU9iamVjdDtcclxuXHJcblx0cHJpdmF0ZSBfY29yZVNwaGVyZV86R2FtZU9iamVjdDtcclxuXHJcblx0cHVibGljIF9wYXJ0aWNsZXNfOlBhcnRpY2xlU3lzdGVtO1xyXG5cclxuXHRwdWJsaWMgX3BhcnRzRmlyZV86UGFydGljbGVTeXN0ZW07XHJcblxyXG5cdHB1YmxpYyBfcGFydHNGaXJlU3RhcnRfOlBhcnRpY2xlU3lzdGVtO1xyXG5cclxuXHRwdWJsaWMgX3RyYWlsXzpMYXlhLlRyYWlsU3ByaXRlM0Q7XHJcblxyXG5cdHByaXZhdGUgX2JhbGxQYXJ0c186R2FtZU9iamVjdDtcclxuXHJcblx0cHJpdmF0ZSBfY29sb3JfOkNvbG9yO1xyXG5cclxuXHRwcml2YXRlIF9maXJlTW9kZV86Ym9vbGVhbjtcclxuXHJcblx0cHVibGljIGtpbGxDb3VudGVyXzpudW1iZXI7XHJcblxyXG5cdHB1YmxpYyBnZXQgSXNLaWxsZWQoKTpib29sZWFue1xyXG5cdFx0cmV0dXJuIHRoaXMuX2lzS2lsbGVkXztcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXQgaXNGaXJlTW9kZV8oKTpib29sZWFue1xyXG5cdFx0cmV0dXJuIHRoaXMuX2ZpcmVNb2RlX1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBfbWF0ZXJpYWxfOkxheWEuQmxpbm5QaG9uZ01hdGVyaWFsO1xyXG5cdG9uQXdha2UoKXtcclxuXHRcdGxldCBzcGhlcmUgPSBMYXlhVXRpbHMuZ2V0Q2hpbGRCeU5hbWVfKHRoaXMuYmFzZSxcInNraW5fb3JpZ2luXCIpO1xyXG5cdFx0dGhpcy5fcGFydGljbGVzXyA9IHRoaXMuYmFzZS5nZXRDaGlsZEJ5TmFtZShcInBzX3NwcmF5XCIpIGFzIGFueTtcclxuXHRcdHRoaXMuX3BhcnRzRmlyZV8gPSB0aGlzLmJhc2UuZ2V0Q2hpbGRCeU5hbWUoXCJwc19maXJlXCIpIGFzIGFueTtcclxuXHRcdHRoaXMuX3BhcnRzRmlyZVN0YXJ0XyA9IHRoaXMuYmFzZS5nZXRDaGlsZEJ5TmFtZShcInBzX2ZpcmVfc3RhcnRcIikgYXMgYW55O1xyXG5cdFx0dGhpcy5fdHJhaWxfID0gdGhpcy5iYXNlLmdldENoaWxkQnlOYW1lKFwidHJhaWxcIikgYXMgYW55O1xyXG5cclxuXHRcdHRoaXMuX21hdGVyaWFsXyA9IHNwaGVyZS5tZXNoUmVuZGVyZXIubWF0ZXJpYWwuY2xvbmUoKTtcclxuXHRcdHNwaGVyZS5tZXNoUmVuZGVyZXIubWF0ZXJpYWwgPSB0aGlzLl9tYXRlcmlhbF87XHJcblx0fVxyXG5cclxuXHRvblN0YXJ0KClcclxuXHR7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0RmlyZU1vZGVfKGZtOmJvb2xlYW4pXHJcblx0e1xyXG5cdFx0dGhpcy5fZmlyZU1vZGVfID0gZm07XHJcblx0XHR0aGlzLl90cmFpbF8gJiYgdGhpcy5fdHJhaWxfLlNldEFjdGl2ZSghZm0pO1xyXG5cdFx0aWYgKGZtKVxyXG5cdFx0e1xyXG5cdFx0XHRTb3VuZC5wbGF5KFNvdW5kLmZpcmVfc3RhcnRfKTtcclxuXHRcdFx0dGhpcy5vd25lci50aW1lck9uY2UoMjAwLHRoaXMsKCk9PlNvdW5kLnBsYXkoU291bmQuZmlyZV9sb29wXykpO1xyXG5cdFx0XHR0aGlzLl9wYXJ0c0ZpcmVfICYmIHRoaXMuX3BhcnRzRmlyZV8ucGFydGljbGVTeXN0ZW0ucGxheSgpO1xyXG5cdFx0XHR0aGlzLl9wYXJ0c0ZpcmVTdGFydF8gJiYgdGhpcy5fcGFydHNGaXJlU3RhcnRfLnBhcnRpY2xlU3lzdGVtLnBsYXkoKTtcclxuXHRcdH1cclxuXHRcdGVsc2VcclxuXHRcdHtcclxuXHRcdFx0U291bmQuc3RvcChTb3VuZC5maXJlX2xvb3BfKTtcclxuXHRcdFx0dGhpcy5fcGFydHNGaXJlXyAmJiB0aGlzLl9wYXJ0c0ZpcmVfLnBhcnRpY2xlU3lzdGVtLnN0b3AoKVxyXG5cdFx0fVxyXG5cdFx0bGV0IGNvbXBvbmVudCA9dGhpcy5vd25lci5nZXRDb21wb25lbnQoTGF5YS5QaHlzaWNzQ29sbGlkZXIpO1xyXG5cdFx0aWYgKGNvbXBvbmVudCAhPSBudWxsKVxyXG5cdFx0e1xyXG5cdFx0XHQvLyBjb21wb25lbnQuaXNUcmlnZ2VyID0gZm07XHJcblx0XHRcdGNvbXBvbmVudC5pc1RyaWdnZXIgPSBmbTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBSZXNldCgpXHJcblx0e1xyXG5cdFx0aWYgKHRoaXMuX2JhbGxQYXJ0c18gIT0gbnVsbClcclxuXHRcdHtcclxuXHRcdFx0T2JqZWN0LkRlc3Ryb3kodGhpcy5fYmFsbFBhcnRzXyk7XHJcblx0XHR9XHJcblx0XHR0aGlzLl9iYWxsUGFydHNfID0gbnVsbDtcclxuXHRcdHRoaXMuX2NvcmVTcGhlcmVfICYmIHRoaXMuX2NvcmVTcGhlcmVfLlNldEFjdGl2ZSh0cnVlKTtcclxuXHRcdHRoaXMuX3RyYWlsXyAmJiB0aGlzLl90cmFpbF8uU2V0QWN0aXZlKHRydWUpO1xyXG5cdFx0dGhpcy5raWxsQ291bnRlcl8gPSAwO1xyXG5cdFx0dGhpcy5fZmlyZU1vZGVfID0gZmFsc2U7XHJcblxyXG5cdFx0dGhpcy5faXNLaWxsZWRfID0gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgU2V0Q29sb3IoYzpDb2xvcilcclxuXHR7XHJcblx0XHR0aGlzLl9jb2xvcl8gPSBjO1xyXG5cdFx0dGhpcy5fbWF0ZXJpYWxfLmFsYmVkb0NvbG9yID0gYy50b1Y0KCk7XHJcblx0XHR0aGlzLl9wYXJ0aWNsZXNfLnBhcnRpY2xlU3lzdGVtLnN0YXJ0Q29sb3JDb25zdGFudCA9IGMudG9WNCgpO1xyXG5cdFx0Ly8gKHRoaXMuX3BhcnRpY2xlc18ucGFydGljbGVSZW5kZXJlci5tYXRlcmlhbCBhcyBMYXlhLlNodXJpa2VuUGFydGljbGVNYXRlcmlhbCkuY29sb3IgPSBjLnRvVjQoKTtcclxuXHJcblx0XHQvLyB0aGlzLm93bmVyLkdldENvbXBvbmVudEluQ2hpbGRyZW4oTGF5YS5NZXNoUmVuZGVyZXIpLm1hdGVyaWFsLmNvbG9yID0gYztcclxuXHRcdC8vIHRoaXMuX3BhcnRpY2xlc18uR2V0Q29tcG9uZW50KExheWEuUmVuZGVyKS5tYXRlcmlhbC5jb2xvciA9IGM7XHJcblx0XHQvLyBsZXQgY29tcG9uZW50SW5DaGlsZHJlbjpMYXlhLlRyYWlsUmVuZGVyZXIgPSBHZXRDb21wb25lbnRJbkNoaWxkcmVuKExheWEuVHJhaWxSZW5kZXJlcik7XHJcblx0XHQvLyBjLmEgPSAwLjg7XHJcblx0XHQvLyBjb21wb25lbnRJbkNoaWxkcmVuLnN0YXJ0Q29sb3IgPSBjO1xyXG5cdFx0aWYodGhpcy5fdHJhaWxfKXtcclxuXHRcdFx0KHRoaXMuX3RyYWlsXy50cmFpbFJlbmRlcmVyLm1hdGVyaWFsIGFzIExheWEuVHJhaWxNYXRlcmlhbCkuY29sb3IgPSBjLnRvVjQoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBHZXRDb2xvcigpXHJcblx0e1xyXG5cdFx0cmV0dXJuIHRoaXMuX2NvbG9yXztcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBSdW5QYXJ0aWNsZXMoKVxyXG5cdHtcclxuXHRcdC8vIHJldHVybjtcclxuXHJcblx0XHQvLyBsZXQgZ2FtZU9iamVjdDpMYXlhLlNodXJpS2VuUGFydGljbGUzRCA9IExheWEuU3ByaXRlM0QuaW5zdGFudGlhdGUodGhpcy5fcGFydGljbGVzXywgdGhpcy5iYXNlLnBhcmVudCkgYXMgYW55O1xyXG5cdFx0dGhpcy5fcGFydGljbGVzXy50cmFuc2Zvcm0ucG9zaXRpb24gPSB0aGlzLmJhc2UudHJhbnNmb3JtLnBvc2l0aW9uLnBsdXMoTGF5YS5WZWN0b3IzLmRvd24uc2NhbGUoMC4xKSkvL3RoaXMuYmFzZS50cmFuc2Zvcm0ucG9zaXRpb24gKyBMYXlhLlZlY3RvcjMuZG93biAqIDAuMTtcclxuXHRcdHRoaXMuX3BhcnRpY2xlc18ucGFydGljbGVTeXN0ZW0ucGxheSgpXHJcblx0fVxyXG5cclxuXHRwcml2YXRlIF9pc0tpbGxlZF8gPSBmYWxzZTtcclxuXHRwdWJsaWMgS2lsbCgpXHJcblx0e1xyXG5cdFx0dGhpcy5SdW5QYXJ0aWNsZXMoKTtcclxuXHRcdC8vIHRoaXMuUnVuUGFydGljbGVzKCk7XHJcblx0XHR0aGlzLl9pc0tpbGxlZF8gPSB0cnVlO1xyXG5cclxuXHRcdGlmICh0aGlzLl9iYWxsUGFydHNfID09IG51bGwpXHJcblx0XHR7XHJcblx0XHRcdHRoaXMuX3RyYWlsXyAmJiB0aGlzLl90cmFpbF8uU2V0QWN0aXZlKGZhbHNlKTtcclxuXHRcdFx0dGhpcy5fY29yZVNwaGVyZV8gJiYgdGhpcy5fY29yZVNwaGVyZV8uU2V0QWN0aXZlKGZhbHNlKTtcclxuXHRcdFx0XHJcblx0XHRcdGlmKHRoaXMuX3ByZWZCYWxsUGFydHNfKXtcclxuXHRcdFx0XHR0aGlzLl9iYWxsUGFydHNfID0gTGF5YS5TcHJpdGUzRC5pbnN0YW50aWF0ZSh0aGlzLl9wcmVmQmFsbFBhcnRzXywgdGhpcy5vd25lcik7XHJcblx0XHRcdFx0dGhpcy5fYmFsbFBhcnRzXy50cmFuc2Zvcm0ubG9jYWxQb3NpdGlvbiA9IExheWEuVmVjdG9yMy56ZXJvO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGZvcihsZXQgaT0gMDtpPHRoaXMuX2JhbGxQYXJ0c18ubnVtQ2hpbGRyZW47aSsrKXtcclxuXHRcdFx0XHRcdGxldCBpdGVtID0gdGhpcy5fYmFsbFBhcnRzXy5nZXRDaGlsZEF0KGkpIGFzIExheWEuTWVzaFNwcml0ZTNEO1xyXG5cdFx0XHRcdFx0KGl0ZW0ubWVzaFJlbmRlcmVyLm1hdGVyaWFsIGFzIExheWEuQmxpbm5QaG9uZ01hdGVyaWFsKS5hbGJlZG9Db2xvciA9IHRoaXMuX2NvbG9yXy50b1Y0KCk7XHJcblx0XHRcdFx0XHRpdGVtLmdldENvbXBvbmVudChMYXlhLlJpZ2lkYm9keTNEKS5saW5lYXJWZWxvY2l0eSA9IExheWEuVmVjdG9yMy51cC5zY2FsZShNYXRoLnJhbmRGbG9hdCgwLjIsIDAuNikpLmFkZChMYXlhLlZlY3RvcjMucmlnaHQuc2NhbGUoTWF0aC5yYW5kRmxvYXQoLTAuNiwgMC42KSkuYWRkKExheWEuVmVjdG9yMy5iYWNrKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIF9ib3R0b206TGF5YS5WZWN0b3IzID0gbmV3IExheWEuVmVjdG9yMztcclxuXHRnZXQgYm90dG9tKCl7XHJcblx0XHR0aGlzLmJhc2UudHJhbnNmb3JtLnBvc2l0aW9uLmNsb25lVG8odGhpcy5fYm90dG9tKTtcclxuXHRcdHRoaXMuX2JvdHRvbS55LT0wLjM7XHJcblx0XHRyZXR1cm4gdGhpcy5fYm90dG9tO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQge0VudGl0eX0gZnJvbSBcIi4uL2NvcmUvRW50aXR5XCI7XHJcbmltcG9ydCB7QmFsbH0gZnJvbSBcIi4vQmFsbFwiO1xyXG5pbXBvcnQge1NvdW5kfSBmcm9tIFwiLi9Tb3VuZFwiO1xyXG5pbXBvcnQge0dhbWV9IGZyb20gXCIuL0dhbWVcIjtcclxuaW1wb3J0IHsgRWZmZWN0UHJvYyB9IGZyb20gJy4uL2NvcmUvZWZmZWN0L0VmZmVjdFByb2MnO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBCYWxsTW92ZXIgZXh0ZW5kcyBFbnRpdHlcclxue1xyXG5cdHByaXZhdGUgX3JhZGl1c186bnVtYmVyID0gMC4yO1xyXG5cclxuXHRwcml2YXRlIF92ZWxvY2l0eV86bnVtYmVyID0gNi45NTtcclxuXHJcblx0cHJpdmF0ZSBfbW92ZVVwXzpib29sZWFuO1xyXG5cclxuXHRwcml2YXRlIF9zdG9wcGVkXzpib29sZWFuO1xyXG5cclxuXHRwcml2YXRlIF9wcmVzc2VkXzpib29sZWFuO1xyXG5cclxuXHRwcml2YXRlIF9raWxsXzpib29sZWFuO1xyXG5cclxuXHRwcml2YXRlIF9tb3ZlVGltZVN0YXJ0XzpudW1iZXIgPSAtMTtcclxuXHJcblx0cHJpdmF0ZSBfd2FsbFRpbWVfOm51bWJlciA9IC0xO1xyXG5cclxuXHRwcml2YXRlIF9yaWdCb2R5XzpSaWdpZGJvZHk7XHJcblxyXG5cdHByaXZhdGUgX2Z4UHJvY186RWZmZWN0UHJvYztcclxuXHJcblx0cHJpdmF0ZSBfanVtcFRpbWVfOm51bWJlcjtcclxuXHJcblx0cHJpdmF0ZSBfbGFzdEp1bXBfOm51bWJlcjtcclxuXHJcblx0cHVibGljIGdldCBtb3ZlVGltZSgpOm51bWJlclxyXG5cdHtcclxuXHRcdGlmICh0aGlzLl9tb3ZlVGltZVN0YXJ0XyA8IDApXHJcblx0XHR7XHJcblx0XHRcdHJldHVybiAtMTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBMYXlhLnRpbWVyLmN1cnJUaW1lclNlYyAtIHRoaXMuX21vdmVUaW1lU3RhcnRfO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGFudGlXYWxsVGltZV8oKTpudW1iZXJ7XHJcblx0XHRyZXR1cm4gTWF0aC5jbGFtcCh0aGlzLm1vdmVUaW1lIC8gMTAsIDAuMSwgMC4xMik7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0IGlzTW92ZWQoKTpib29sZWFue1xyXG5cdFx0cmV0dXJuIHRoaXMuX21vdmVVcF9cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXQgaXNTdG9wcGVkKCk6Ym9vbGVhbntcclxuXHRcdHJldHVybiB0aGlzLl9zdG9wcGVkX1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldCBwb3NfKCk6TGF5YS5WZWN0b3Ize1xyXG5cdFx0bGV0IHJlc3VsdCA9IG5ldyBMYXlhLlZlY3RvcjMoKTtcclxuXHRcdExheWEuVmVjdG9yMy5taW4odGhpcy5taW5Qb3MsIHRoaXMuYmFzZS50cmFuc2Zvcm0ucG9zaXRpb24scmVzdWx0KTtcclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIF90bXBfbWluUG9zOkxheWEuVmVjdG9yMyA9IG5ldyBMYXlhLlZlY3RvcjM7XHJcblx0cHVibGljIGdldCBtaW5Qb3MoKTpMYXlhLlZlY3RvcjN7XHJcblx0XHR0aGlzLkxhc3RLaWxsUG9zLmNsb25lVG8odGhpcy5fdG1wX21pblBvcyk7XHJcblx0XHR0aGlzLl90bXBfbWluUG9zLnkgPSB0aGlzLkxhc3RLaWxsUG9zLnkgKyB0aGlzLl9yYWRpdXNfO1xyXG5cclxuXHRcdHJldHVybiB0aGlzLl90bXBfbWluUG9zO1xyXG5cdH1cclxuXHJcblx0cHVibGljIExhc3RLaWxsUG9zOkxheWEuVmVjdG9yMyA9IG5ldyBMYXlhLlZlY3RvcjM7XHJcblxyXG5cdG9uQXdha2UoKVxyXG5cdHtcclxuXHRcdHRoaXMuX2Z4UHJvY18gPSB0aGlzLm93bmVyLmdldENvbXBvbmVudChFZmZlY3RQcm9jKTtcclxuXHRcdFxyXG5cdFx0dGhpcy5fcmlnQm9keV8gPSB0aGlzLm93bmVyLmdldENvbXBvbmVudChMYXlhLlJpZ2lkYm9keTNEKTtcclxuXHRcdHRoaXMuX3JpZ0JvZHlfLmVuYWJsZWQgPSBmYWxzZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyByZXNldF8odlBvcz86TGF5YS5WZWN0b3IzKVxyXG5cdHtcclxuXHRcdHZQb3MgPSB2UG9zIHx8IExheWEuVmVjdG9yMy56ZXJvO1xyXG5cclxuXHRcdHRoaXMuX2tpbGxfID0gZmFsc2U7XHJcblx0XHR0aGlzLl9tb3ZlVXBfID0gZmFsc2U7XHJcblx0XHR0aGlzLl9zdG9wcGVkXyA9IGZhbHNlO1xyXG5cdFx0dGhpcy5fcHJlc3NlZF8gPSBmYWxzZTtcclxuXHRcdHRoaXMuX3dhbGxUaW1lXyA9IC0xO1xyXG5cdFx0dGhpcy5fbW92ZVRpbWVTdGFydF8gPSAtMTtcclxuXHRcdHRoaXMuX2p1bXBUaW1lXyA9IExheWEudGltZXIuY3VyclRpbWVyU2VjO1xyXG5cdFx0XHJcblx0XHR2UG9zLmNsb25lVG8odGhpcy5MYXN0S2lsbFBvcyk7XHJcblxyXG5cdFx0dGhpcy5fbGFzdEp1bXBfID0gMDtcclxuXHRcdHRoaXMuYmFzZS50cmFuc2Zvcm0ubG9jYWxQb3NpdGlvbiA9IExheWEuVmVjdG9yMy56ZXJvO1xyXG5cdFx0dGhpcy5fcmlnQm9keV8ubGluZWFyVmVsb2NpdHkgPSBMYXlhLlZlY3RvcjMuemVybztcclxuXHRcdHRoaXMuX3JpZ0JvZHlfLmVuYWJsZWQgPSBmYWxzZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBiYWxsV2FsbF8oKVxyXG5cdHtcclxuXHRcdHRoaXMuX3JpZ0JvZHlfLmxpbmVhclZlbG9jaXR5ID0gTGF5YS5WZWN0b3IzLnplcm87XHJcblx0XHR0aGlzLl9yaWdCb2R5Xy5lbmFibGVkID0gZmFsc2U7XHJcblxyXG5cdFx0aWYgKHRoaXMuYmFzZS5nZXRDb21wb25lbnQoQmFsbCkua2lsbENvdW50ZXJfID4gMClcclxuXHRcdHtcclxuXHRcdFx0dGhpcy5fbW92ZVVwXyA9IGZhbHNlO1xyXG5cdFx0XHR0aGlzLl9zdG9wcGVkXyA9IHRydWU7XHJcblx0XHRcdHRoaXMuX3dhbGxUaW1lXyA9IExheWEudGltZXIuY3VyclRpbWVyU2VjO1xyXG5cdFx0XHR0aGlzLl9qdW1wVGltZV8gPSBMYXlhLnRpbWVyLmN1cnJUaW1lclNlYyArIDAuMDI7XHJcblx0XHR9XHJcblx0XHRlbHNlXHJcblx0XHR7XHJcblx0XHRcdHRoaXMua2lsbF8oKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBtb3ZlVXBfKG1vdmU6Ym9vbGVhbilcclxuXHR7XHJcblx0XHR0aGlzLl9wcmVzc2VkXyA9IG1vdmU7XHJcblx0XHR0aGlzLl9zdG9wcGVkXyA9IGZhbHNlO1xyXG5cdFx0aWYgKHRoaXMuX21vdmVVcF8gIT0gbW92ZSlcclxuXHRcdHtcclxuXHRcdFx0dGhpcy5fbW92ZVVwXyA9IG1vdmU7XHJcblx0XHRcdGlmICghbW92ZSlcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHRoaXMuX21vdmVUaW1lU3RhcnRfID0gLTE7XHJcblx0XHRcdFx0dGhpcy5fcmlnQm9keV8ubGluZWFyVmVsb2NpdHkgPSBMYXlhLlZlY3RvcjMuemVybztcclxuXHRcdFx0XHR0aGlzLl9yaWdCb2R5Xy5lbmFibGVkID0gZmFsc2U7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0dGhpcy5fanVtcFRpbWVfID0gTGF5YS50aW1lci5jdXJyVGltZXJTZWMgKyAwLjE7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dGhpcy5fbW92ZVRpbWVTdGFydF8gPSBMYXlhLnRpbWVyLmN1cnJUaW1lclNlYztcclxuXHRcdFx0XHR0aGlzLl9yaWdCb2R5Xy5saW5lYXJWZWxvY2l0eSA9IExheWEuVmVjdG9yMy5kb3duLnNjYWxlKHRoaXMuX3ZlbG9jaXR5Xyk7XHJcblx0XHRcdFx0dGhpcy5fcmlnQm9keV8uZW5hYmxlZCA9IHRydWU7XHJcblx0XHRcdFx0dGhpcy5iYXNlLmdldENvbXBvbmVudChCYWxsKS5raWxsQ291bnRlcl8gPSAwO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRvblVwZGF0ZSgpXHJcblx0e1xyXG5cdFx0Ly8gcmV0dXJuO1xyXG5cclxuXHRcdGlmICghdGhpcy5fa2lsbF8pXHJcblx0XHR7XHJcblx0XHRcdGlmICh0aGlzLl9zdG9wcGVkXylcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGxldCBudW06bnVtYmVyID0gTGF5YS50aW1lci5jdXJyVGltZXJTZWMgLSB0aGlzLl93YWxsVGltZV87XHJcblx0XHRcdFx0aWYgKHRoaXMuX3ByZXNzZWRfICYmIG51bSA+IHRoaXMuYW50aVdhbGxUaW1lXygpKVxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdHRoaXMua2lsbF8oKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0bGV0IG51bTI6bnVtYmVyID0gTGF5YS50aW1lci5jdXJyVGltZXJTZWMgLSB0aGlzLl9qdW1wVGltZV87XHJcblx0XHRcdFx0aWYgKCF0aGlzLl9wcmVzc2VkXyAmJiBudW0yID49IDApXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0bGV0IG51bTM6bnVtYmVyID0gNjtcclxuXHRcdFx0XHRcdGxldCBudW00Om51bWJlciA9IDEuMTtcclxuXHRcdFx0XHRcdGxldCBudW01Om51bWJlciA9IE1hdGguYWJzKE1hdGguc2luKG51bTIgKiBudW0zKSk7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdGxldCBwb3NpdGlvbjpMYXlhLlZlY3RvcjMgPSB0aGlzLmJhc2UudHJhbnNmb3JtLnBvc2l0aW9uO1xyXG5cdFx0XHRcdFx0cG9zaXRpb24ueSA9IHRoaXMuTGFzdEtpbGxQb3MueSArIHRoaXMuX3JhZGl1c18gKyBudW00ICogbnVtNTtcclxuXHRcdFx0XHRcdHRoaXMuYmFzZS50cmFuc2Zvcm0ucG9zaXRpb24gPSBwb3NpdGlvbjtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Ly8gbGV0IG51bTY6bnVtYmVyID0gTWF0aC5zaW4obnVtMiAqIG51bTMgKiAyKSAqIDAuMTU7XHJcblx0XHRcdFx0XHQvLyBsZXQgYjpMYXlhLlZlY3RvcjMgPSBMYXlhLlZlY3RvcjMucmlnaHQuc2NhbGUobnVtNikuYWRkKExheWEuVmVjdG9yMy5mb3J3YXJkLnNjYWxlKG51bTYpKS5hZGQoTGF5YS5WZWN0b3IzLnVwLnNjYWxlKDAgLSBudW02KSk7XHJcblx0XHRcdFx0XHQvLyB0aGlzLmJhc2UudHJhbnNmb3JtLmxvY2FsU2NhbGUgPSBMYXlhLlZlY3RvcjMub25lLnBsdXMoYik7XHJcblx0XHRcdFx0XHRpZiAoTGF5YS50aW1lci5jdXJyVGltZXJTZWMgLSB0aGlzLl9sYXN0SnVtcF8gPiAwLjIgJiYgbnVtNSA8IDAuMSlcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0dGhpcy5fbGFzdEp1bXBfID0gTGF5YS50aW1lci5jdXJyVGltZXJTZWM7XHJcblx0XHRcdFx0XHRcdGFwcC52aWJyYXRlKDUwMCk7XHJcblx0XHRcdFx0XHRcdFNvdW5kLnBsYXkoU291bmQuanVtcF8pO1xyXG5cdFx0XHRcdFx0XHR0aGlzLmJhc2UuZ2V0Q29tcG9uZW50KEJhbGwpLlJ1blBhcnRpY2xlcygpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBraWxsXygpXHJcblx0e1xyXG5cdFx0dGhpcy5fa2lsbF8gPSB0cnVlO1xyXG5cdFx0R2FtZS5pbnN0Xy5vbkNyYXNoXygpO1xyXG5cdFx0dGhpcy5iYXNlLmdldENvbXBvbmVudChCYWxsKS5LaWxsKCk7XHJcblxyXG5cdFx0dGhpcy5fcmlnQm9keV8ubGluZWFyVmVsb2NpdHkgPSBMYXlhLlZlY3RvcjMuemVybztcclxuXHRcdHRoaXMuX3JpZ0JvZHlfLmVuYWJsZWQgPSBmYWxzZTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IHtFbnRpdHl9IGZyb20gXCIuLi9jb3JlL0VudGl0eVwiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBGaXJlQmFsbFByb2MgZXh0ZW5kcyBFbnRpdHlcclxue1xyXG5cdHB1YmxpYyBfa2lsbHNUb1N0YXJ0XzpudW1iZXIgPSAxMDtcclxuXHJcblx0cHVibGljIF9maWxsU3BlZWRfOm51bWJlciA9IDAuMDU7XHJcblxyXG5cdHB1YmxpYyBfdW5maWxsU3BlZWRfOm51bWJlciA9IDAuMjU7XHJcblxyXG5cdHB1YmxpYyBfZmlyZVNwZWVkXzpudW1iZXIgPSAwLjQ7XHJcblxyXG5cdHByaXZhdGUgX251bUtpbGxzXzpudW1iZXIgPSAwO1xyXG5cclxuXHRwcml2YXRlIF9maXJlRmlsbF86bnVtYmVyID0gMDtcclxuXHJcblx0cHJpdmF0ZSBfYWNjRmlyZV86Ym9vbGVhbiA9IGZhbHNlO1xyXG5cclxuXHRwcml2YXRlIF9maXJlXzpib29sZWFuID0gZmFsc2U7XHJcbiBcclxuXHRvblN0YXJ0KClcclxuXHR7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgcmVzZXRfKClcclxuXHR7XHJcblx0XHR0aGlzLl9udW1LaWxsc18gPSAwO1xyXG5cdFx0dGhpcy5fYWNjRmlyZV8gPSBmYWxzZTtcclxuXHRcdHRoaXMuX2ZpcmVfID0gZmFsc2U7XHJcblx0XHR0aGlzLl9maXJlRmlsbF8gPSAwO1xyXG5cdH1cclxuXHJcblx0cHVibGljIG9uS2lsbEJyaWNrXygpXHJcblx0e1xyXG5cdFx0dGhpcy5fbnVtS2lsbHNfKys7XHJcblx0XHRpZiAodGhpcy5fbnVtS2lsbHNfID4gdGhpcy5fa2lsbHNUb1N0YXJ0XyAmJiAhdGhpcy5fYWNjRmlyZV8gJiYgIXRoaXMuX2ZpcmVfKVxyXG5cdFx0e1xyXG5cdFx0XHR0aGlzLl9hY2NGaXJlXyA9IHRydWU7XHJcblx0XHRcdHRoaXMuX2ZpcmVGaWxsXyArPSB0aGlzLl9maWxsU3BlZWRfO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHRoaXMuX2FjY0ZpcmVfKVxyXG5cdFx0e1xyXG5cdFx0XHR0aGlzLl9maXJlRmlsbF8gKz0gdGhpcy5fZmlsbFNwZWVkXztcclxuXHRcdFx0aWYgKHRoaXMuX2ZpcmVGaWxsXyA+PSAxKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dGhpcy5fYWNjRmlyZV8gPSBmYWxzZTtcclxuXHRcdFx0XHR0aGlzLl9maXJlXyA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5fZmlyZUZpbGxfID0gTWF0aC5jbGFtcCh0aGlzLl9maXJlRmlsbF8sMCwxKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRGaWxsXygpXHJcblx0e1xyXG5cdFx0cmV0dXJuIHRoaXMuX2ZpcmVGaWxsXztcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBpc0FjY0ZpcmVfKClcclxuXHR7XHJcblx0XHRyZXR1cm4gdGhpcy5fYWNjRmlyZV87XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgaXNGaXJlXygpXHJcblx0e1xyXG5cdFx0cmV0dXJuIHRoaXMuX2ZpcmVfO1xyXG5cdH1cclxuXHJcblx0b25VcGRhdGUoKVxyXG5cdHtcclxuXHRcdGlmICh0aGlzLl9maXJlRmlsbF8gPiAwKVxyXG5cdFx0e1xyXG5cdFx0XHRpZiAodGhpcy5fZmlyZV8pXHJcblx0XHRcdHtcclxuXHRcdFx0XHR0aGlzLl9maXJlRmlsbF8gLT0gTGF5YS50aW1lci5kZWx0YVNlYyAqIHRoaXMuX2ZpcmVTcGVlZF87XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dGhpcy5fZmlyZUZpbGxfIC09IExheWEudGltZXIuZGVsdGFTZWMgKiB0aGlzLl91bmZpbGxTcGVlZF87XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHRoaXMuX2ZpcmVGaWxsXyA8PSAwKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dGhpcy5fbnVtS2lsbHNfID0gMDtcclxuXHRcdFx0XHR0aGlzLl9hY2NGaXJlXyA9IGZhbHNlO1xyXG5cdFx0XHRcdHRoaXMuX2ZpcmVfID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5fZmlyZUZpbGxfID0gTWF0aC5jbGFtcCh0aGlzLl9maXJlRmlsbF8sMCwxKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IHtFbnRpdHl9IGZyb20gXCIuLi9jb3JlL0VudGl0eVwiO1xyXG5pbXBvcnQge0NvbG9yfSBmcm9tIFwiLi4vY29yZS9Db2xvclwiO1xyXG5pbXBvcnQge0Zsb29yUGFydH0gZnJvbSBcIi4vRmxvb3JQYXJ0XCI7XHJcbmltcG9ydCB7R2FtZX0gZnJvbSBcIi4vR2FtZVwiO1xyXG5pbXBvcnQge1NvdW5kfSBmcm9tIFwiLi9Tb3VuZFwiO1xyXG5pbXBvcnQgeyBFZmZlY3RQcm9jIH0gZnJvbSAnLi4vY29yZS9lZmZlY3QvRWZmZWN0UHJvYyc7XHJcbmltcG9ydCB7IEZ4U2NhbGUgfSBmcm9tICcuLi9jb3JlL2VmZmVjdC9GeFNjYWxlJztcclxuXHJcbmV4cG9ydCBjbGFzcyBGbG9vciBleHRlbmRzIEVudGl0eVxyXG57XHJcblx0cHVibGljIF9udW1QYXJ0c186bnVtYmVyO1xyXG5cclxuXHRwcml2YXRlIF9wYXJ0c186Rmxvb3JQYXJ0W10gPSBbXTtcclxuXHJcblx0cHJpdmF0ZSBfYzFfOkNvbG9yO1xyXG5cclxuXHRwcml2YXRlIF9jMl86Q29sb3I7XHJcblxyXG5cdHByaXZhdGUgX2tpbGxlZF86Ym9vbGVhbjtcclxuXHJcblx0cHVibGljIGdldCBpc0tpbGxlZF8oKTpib29sZWFue1xyXG5cdFx0cmV0dXJuIHRoaXMuX2tpbGxlZF9cclxuXHR9XHJcblxyXG5cclxuXHRwcml2YXRlIGRlZ3JlZTpudW1iZXIgPSAwO1xyXG5cdGRlZ3JlZU9mZnNldDpudW1iZXIgPSAwO1xyXG5cdG9uQXdha2UoKVxyXG5cdHtcclxuXHRcdHRoaXMuX251bVBhcnRzXyA9ICt0aGlzLmJhc2UubmFtZS5zcGxpdChcIl9cIikucG9wKCk7XHJcblx0XHR0aGlzLmRlZ3JlZSA9IDM2MCAvIHRoaXMuX251bVBhcnRzXztcclxuXHJcblx0XHR0aGlzLmJ1aWxkT2JqXygpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBmaW5kRmlyc3RPYmpfKClcclxuXHR7XHJcblx0XHRmb3IobGV0IGl0ZW0gb2YgdGhpcy5iYXNlLl9jaGlsZHJlbil7XHJcblx0XHRcdHJldHVybiBpdGVtO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGJ1aWxkT2JqXygpXHJcblx0e1xyXG5cdFx0bGV0IGdhbWVPYmplY3Q6TGF5YS5TcHJpdGUzRCA9IHRoaXMuZmluZEZpcnN0T2JqXygpO1xyXG5cdFx0bGV0IG51bTpudW1iZXIgPSAzNjAgLyB0aGlzLl9udW1QYXJ0c187XHJcblxyXG5cdFx0bGV0IGZwID0gZ2FtZU9iamVjdC5hZGRDb21wb25lbnQoRmxvb3JQYXJ0KVxyXG5cdFx0dGhpcy5fcGFydHNfLnB1c2goZnApO1xyXG5cclxuXHRcdC8vIGxldCB0cmFuc2xhdGVNID0gbmV3IExheWEuTWF0cml4NHg0KCk7XHJcblx0XHQvLyBMYXlhLk1hdHJpeDR4NC5jcmVhdGVUcmFuc2xhdGUoZ2FtZU9iamVjdC50cmFuc2Zvcm0ubG9jYWxQb3NpdGlvbi5zY2FsZSgtMSksdHJhbnNsYXRlTSk7XHJcblx0XHQvLyBsZXQgcm90YXRpb25NID0gbmV3IExheWEuTWF0cml4NHg0KCk7XHJcblx0XHQvLyBMYXlhLk1hdHJpeDR4NC5jcmVhdGVSb3RhdGlvblkoTWF0aC5yYWQoLTkwKSxyb3RhdGlvbk0pO1xyXG5cdFx0Ly8gbGV0IHRyYW5zbGF0ZU0xID0gbmV3IExheWEuTWF0cml4NHg0KCk7XHJcblx0XHQvLyBMYXlhLk1hdHJpeDR4NC5jcmVhdGVUcmFuc2xhdGUoZ2FtZU9iamVjdC50cmFuc2Zvcm0ubG9jYWxQb3NpdGlvbix0cmFuc2xhdGVNMSk7XHJcblxyXG5cdFx0Ly8gbGV0IG1hdHJpeCA9IGdhbWVPYmplY3QudHJhbnNmb3JtLmxvY2FsTWF0cml4LmNsb25lKCkgYXMgTGF5YS5NYXRyaXg0eDQ7XHJcblx0XHQvLyBMYXlhLk1hdHJpeDR4NC5tdWx0aXBseShtYXRyaXgsdHJhbnNsYXRlTSxtYXRyaXgpO1xyXG5cdFx0Ly8gTGF5YS5NYXRyaXg0eDQubXVsdGlwbHkobWF0cml4LHJvdGF0aW9uTSxtYXRyaXgpO1xyXG5cdFx0Ly8gTGF5YS5NYXRyaXg0eDQubXVsdGlwbHkobWF0cml4LHRyYW5zbGF0ZU0xLG1hdHJpeCk7XHJcblx0XHQvLyBnYW1lT2JqZWN0LnRyYW5zZm9ybS5sb2NhbE1hdHJpeCA9IG1hdHJpeDtcclxuXHJcblxyXG5cdFx0Zm9yIChsZXQgaTpudW1iZXIgPSAxOyBpIDwgdGhpcy5fbnVtUGFydHNfOyBpKyspXHJcblx0XHR7XHJcblx0XHRcdGxldCBnYW1lT2JqZWN0MiA9IExheWEuU3ByaXRlM0QuaW5zdGFudGlhdGUoZ2FtZU9iamVjdCwgdGhpcy5iYXNlKTtcclxuXHJcblx0XHRcdGxldCB0cmFuc2xhdGVNID0gbmV3IExheWEuTWF0cml4NHg0KCk7XHJcblx0XHRcdExheWEuTWF0cml4NHg0LmNyZWF0ZVRyYW5zbGF0ZShnYW1lT2JqZWN0LnRyYW5zZm9ybS5sb2NhbFBvc2l0aW9uLnNjYWxlKC0xKSx0cmFuc2xhdGVNKTtcclxuXHRcdFx0bGV0IHJvdGF0aW9uTSA9IG5ldyBMYXlhLk1hdHJpeDR4NCgpO1xyXG5cdFx0XHRMYXlhLk1hdHJpeDR4NC5jcmVhdGVSb3RhdGlvblkoTWF0aC5yYWQobnVtKmkpLHJvdGF0aW9uTSk7XHJcblx0XHRcdGxldCB0cmFuc2xhdGVNMSA9IG5ldyBMYXlhLk1hdHJpeDR4NCgpO1xyXG5cdFx0XHRMYXlhLk1hdHJpeDR4NC5jcmVhdGVUcmFuc2xhdGUoZ2FtZU9iamVjdC50cmFuc2Zvcm0ubG9jYWxQb3NpdGlvbix0cmFuc2xhdGVNMSk7XHJcblxyXG5cdFx0XHRsZXQgbWF0cml4ID0gZ2FtZU9iamVjdDIudHJhbnNmb3JtLmxvY2FsTWF0cml4LmNsb25lKCkgYXMgTGF5YS5NYXRyaXg0eDQ7XHJcblx0XHRcdExheWEuTWF0cml4NHg0Lm11bHRpcGx5KG1hdHJpeCx0cmFuc2xhdGVNLG1hdHJpeCk7XHJcblx0XHRcdExheWEuTWF0cml4NHg0Lm11bHRpcGx5KG1hdHJpeCxyb3RhdGlvbk0sbWF0cml4KTtcclxuXHRcdFx0TGF5YS5NYXRyaXg0eDQubXVsdGlwbHkobWF0cml4LHRyYW5zbGF0ZU0xLG1hdHJpeCk7XHJcblxyXG5cdFx0XHRnYW1lT2JqZWN0Mi50cmFuc2Zvcm0ubG9jYWxNYXRyaXggPSBtYXRyaXg7XHJcblxyXG5cdFx0XHRmcCA9IGdhbWVPYmplY3QyLmFkZENvbXBvbmVudChGbG9vclBhcnQpO1xyXG5cdFx0XHR0aGlzLl9wYXJ0c18ucHVzaChmcCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0Q29sb3JzXyhjMTpDb2xvciwgYzI6Q29sb3IpXHJcblx0e1xyXG5cdFx0dGhpcy5fYzFfID0gYzE7XHJcblx0XHR0aGlzLl9jMl8gPSBjMjtcclxuXHRcdGZvciAobGV0IHBhcnQgb2YgdGhpcy5fcGFydHNfKVxyXG5cdFx0e1xyXG5cdFx0XHRwYXJ0LnNldENvbG9yXyhjMSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0TWFza18obWFzazpudW1iZXJbXSwgYzE/OkNvbG9yLCBjMj86Q29sb3IpXHJcblx0e1xyXG5cdFx0dGhpcy5fYzFfID0gYzEgfHwgdGhpcy5fYzFfO1xyXG5cdFx0dGhpcy5fYzJfID0gYzJ8fCB0aGlzLl9jMl87XHJcblxyXG5cdFx0Zm9yIChsZXQgaTpudW1iZXIgPSAwOyBpIDwgbWFzay5sZW5ndGggJiYgaSA8IHRoaXMuX3BhcnRzXy5sZW5ndGg7IGkrKylcclxuXHRcdHtcclxuXHRcdFx0bGV0IGZpZ3VyZVBhcnQgPSB0aGlzLl9wYXJ0c19baV07XHJcblx0XHRcdGlmIChtYXNrW2ldID09IDEpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRmaWd1cmVQYXJ0LnNldFdhbGwoKTtcclxuXHRcdFx0XHRmaWd1cmVQYXJ0LnNldENvbG9yXyh0aGlzLl9jMl8pO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGZpZ3VyZVBhcnQuc2V0Q29sb3JfKHRoaXMuX2MxXyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyB0cmlnZ2VyRW50ZXJfKHBhcnQ6Rmxvb3JQYXJ0KVxyXG5cdHtcclxuXHRcdC8vIGNvbnNvbGUubG9nKFwiX1RyaWdnZXJFbnRlclwiKTtcclxuXHJcblx0XHR0aGlzLmtpbGxNZV8oKTtcclxuXHRcdEdhbWUuaW5zdF8ub25CbG9ja0NyYXNoXygpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNjYWxlRWZmZWN0XygpXHJcblx0e1xyXG5cdFx0bGV0IGxvY2FsU2NhbGU6TGF5YS5WZWN0b3IzID0gdGhpcy5iYXNlLnRyYW5zZm9ybS5sb2NhbFNjYWxlLmNsb25lKCk7XHJcblx0XHRsZXQgdmVjdG9yOkxheWEuVmVjdG9yMyA9IHRoaXMuYmFzZS50cmFuc2Zvcm0ubG9jYWxTY2FsZS5zY2FsZSgxLjIpLnNldFkobG9jYWxTY2FsZS55KTtcclxuXHRcdGxldCBjb21wb25lbnQgPSB0aGlzLmdldENvbXBvbmVudF8oRWZmZWN0UHJvYyk7XHJcblx0XHRpZiAoY29tcG9uZW50ICYmICFjb21wb25lbnQuaGFzRWZmZWN0c18oKSlcclxuXHRcdHtcclxuXHRcdFx0Y29tcG9uZW50LkFkZEVmZmVjdChuZXcgRnhTY2FsZShsb2NhbFNjYWxlLCB2ZWN0b3IsIDAuMSwgZmFsc2UpKTtcclxuXHRcdFx0Y29tcG9uZW50LkFkZEVmZmVjdChuZXcgRnhTY2FsZSh2ZWN0b3IsIGxvY2FsU2NhbGUsIDAuMTUsIGZhbHNlKSk7XHJcblx0XHRcdFNvdW5kLnBsYXkoU291bmQuYmFsbF9icmlja18pO1xyXG5cdFx0fVxyXG5cclxuXHR9XHJcblxyXG5cdHByaXZhdGUga2lsbE1lXygpXHJcblx0e1xyXG5cdFx0dGhpcy5fa2lsbGVkXyA9IHRydWU7XHJcblx0XHRcclxuXHRcdHdoaWxlICh0aGlzLmJhc2UubnVtQ2hpbGRyZW4gPiAwKVxyXG5cdFx0e1xyXG5cdFx0XHRsZXQgaXRlbSA9IHRoaXMuYmFzZS5nZXRDaGlsZEF0KDApIGFzIExheWEuU3ByaXRlM0Q7XHJcblx0XHRcdGxldCB3b3JsZE1hdHJpeDpMYXlhLk1hdHJpeDR4NCA9IGl0ZW0udHJhbnNmb3JtLndvcmxkTWF0cml4O1xyXG5cdFx0XHRpdGVtLnRyYW5zZm9ybS53b3JsZE1hdHJpeC5jbG9uZVRvKHdvcmxkTWF0cml4KTtcclxuXHRcdFx0dGhpcy5iYXNlLnBhcmVudC5wYXJlbnQuYWRkQ2hpbGQoaXRlbSk7XHJcblx0XHRcdGl0ZW0udHJhbnNmb3JtLndvcmxkTWF0cml4ID0gd29ybGRNYXRyaXg7XHJcblxyXG5cdFx0XHRsZXQgYjpudW1iZXIgPSAoaXRlbS50cmFuc2Zvcm0ucG9zaXRpb24ueCA8IDApID8gLTE6IDE7XHJcblx0XHRcdGxldCBjb21wb25lbnQgPSBpdGVtLmdldENvbXBvbmVudChMYXlhLlJpZ2lkYm9keTNEKSBhcyBMYXlhLlJpZ2lkYm9keTNEO1xyXG5cdFx0XHRjb21wb25lbnQuZW5hYmxlZCA9IHRydWU7XHJcblx0XHRcdC8vIGNvbXBvbmVudC5jb25zdHJhaW50cyA9IExheWEuUmlnaWRib2R5Q29uc3RyYWludHMuTm9uZTtcclxuXHRcdFx0Y29tcG9uZW50LmxpbmVhclZlbG9jaXR5ID0gbmV3IExheWEuVmVjdG9yMyhiKjAuNSwxLjUsMC41KS5tdWx0aXBseVNjYWxhcihNYXRoLnJhbmRJbnQoMyw4KSkvL0xheWEuVmVjdG9yMy51cC5wbHVzKGIpLmFkZChMYXlhLlZlY3RvcjMuZm9yd2FyZCkubXVsdGlwbHlTY2FsYXIoNik7XHJcblx0XHRcdGNvbXBvbmVudC5hbmd1bGFyVmVsb2NpdHkgPSBuZXcgTGF5YS5WZWN0b3IzKDAsMCwgYipNYXRoLnJhbmRGbG9hdCgwLE1hdGguUEkvMikpO1xyXG5cclxuXHRcdFx0c2V0VGltZW91dCgoYTpMYXlhLk1lc2hTcHJpdGUzRCk9PntcclxuXHRcdFx0XHRhLmRlc3Ryb3kodHJ1ZSk7XHJcblx0XHRcdH0sMzAwMCxpdGVtKVxyXG5cdFx0fVxyXG5cdFx0dGhpcy5iYXNlLmRlc3Ryb3koKTtcclxuXHR9XHJcblxyXG5cdG9uSGl0XyhvYmo6TGF5YS5TcHJpdGUzRCxzcGluRGVncmVlOm51bWJlcil7XHJcblx0XHQvLyBjb25zb2xlLmxvZyhcInNmc2FmXCIsc3BpbkRlZ3JlZSk7XHJcblx0XHRmb3IobGV0IGk9MDtpIDwgdGhpcy5fcGFydHNfLmxlbmd0aDtpKyspe1xyXG5cdFx0XHRsZXQgcGFydCA9IHRoaXMuX3BhcnRzX1tpXTtcclxuXHRcdFx0bGV0IHN0YXJ0ID0gKGkqdGhpcy5kZWdyZWUgKyBzcGluRGVncmVlICsgTWF0aC5kZWcodGhpcy5kZWdyZWVPZmZzZXQpKSUzNjA7XHJcblx0XHRcdGxldCBlbmQgPSBzdGFydCArIHRoaXMuZGVncmVlO1xyXG5cdFx0XHRpZihzdGFydCA8IDI2OSAmJiBlbmQgPiAyNzEpe1xyXG5cdFx0XHRcdC8vIHBhcnQuU2V0Q29sb3IoQ29sb3Iud2hpdGUpO1xyXG5cdFx0XHRcdHBhcnQub25IaXQob2JqKTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQge0JhbGxNb3Zlcn0gZnJvbSBcIi4vQmFsbE1vdmVyXCI7XHJcbmltcG9ydCB7Q29sb3J9IGZyb20gXCIuLi9jb3JlL0NvbG9yXCI7XHJcbmltcG9ydCB7RW50aXR5fSBmcm9tIFwiLi4vY29yZS9FbnRpdHlcIjtcclxuaW1wb3J0IHtCYWxsfSBmcm9tIFwiLi9CYWxsXCI7XHJcbmltcG9ydCB7U291bmR9IGZyb20gXCIuL1NvdW5kXCI7XHJcbmltcG9ydCB7Rmxvb3JQYXJ0fSBmcm9tIFwiLi9GbG9vclBhcnRcIjtcclxuaW1wb3J0IHtHYW1lfSBmcm9tIFwiLi9HYW1lXCI7XHJcbmltcG9ydCB7IExheWFVdGlscyB9IGZyb20gJy4uL2NvcmUvTGF5YVV0aWxzJztcclxuaW1wb3J0IHtQYWludERvdH0gZnJvbSAnLi9QYWludERvdCc7XHJcbmltcG9ydCB7IEVmZmVjdFByb2MgfSBmcm9tICcuLi9jb3JlL2VmZmVjdC9FZmZlY3RQcm9jJztcclxuaW1wb3J0IHsgRnhTY2FsZSB9IGZyb20gJy4uL2NvcmUvZWZmZWN0L0Z4U2NhbGUnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEZsb29yRmluaXNoIGV4dGVuZHMgRW50aXR5XHJcbntcclxuXHRwdWJsaWMgX3RvcE9ial86TGF5YS5NZXNoU3ByaXRlM0Q7XHJcblxyXG5cdHB1YmxpYyBfdG9wTWF0ZXJpYWxfOkxheWEuQmxpbm5QaG9uZ01hdGVyaWFsO1xyXG5cclxuXHRvbkF3YWtlKClcclxuXHR7XHJcblx0XHR0aGlzLl90b3BPYmpfID0gTGF5YVV0aWxzLmdldENoaWxkQnlOYW1lXyh0aGlzLmJhc2UsXCJ0b3BcIikgYXMgTGF5YS5NZXNoU3ByaXRlM0Q7XHJcblx0XHRcclxuXHRcdHRoaXMuX3RvcE1hdGVyaWFsXyA9IHRoaXMuX3RvcE9ial8ubWVzaFJlbmRlcmVyLm1hdGVyaWFsLmNsb25lKCk7XHJcblx0XHR0aGlzLl90b3BPYmpfLm1lc2hSZW5kZXJlci5tYXRlcmlhbCA9IHRoaXMuX3RvcE1hdGVyaWFsXztcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRDb2xvcl8oY29sOkNvbG9yKVxyXG5cdHtcclxuXHRcdGlmICh0aGlzLl90b3BPYmpfKVxyXG5cdFx0e1xyXG5cdFx0XHR0aGlzLl90b3BNYXRlcmlhbF8uYWxiZWRvQ29sb3IgPSBuZXcgTGF5YS5WZWN0b3I0KGNvbC5yLGNvbC5nLGNvbC5iLGNvbC5hKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzY2FsZUVmZmVjdF8oKVxyXG5cdHtcclxuXHRcdFNvdW5kLnBsYXkoU291bmQuYmFsbF9icmlja18pO1xyXG5cclxuXHRcdC8vIGxldCBsb2NhbFNjYWxlOkxheWEuVmVjdG9yMyA9IHRoaXMuX2NvcmVPYmpfLnRyYW5zZm9ybS5sb2NhbFNjYWxlO1xyXG5cdFx0Ly8gbGV0IHZlY3RvcjpMYXlhLlZlY3RvcjMgPSBsb2NhbFNjYWxlLnNjYWxlKDEuMikuc2V0WShsb2NhbFNjYWxlLnkpO1xyXG5cdFx0Ly8gbGV0IHZlY3RvcjI6TGF5YS5WZWN0b3IzID0gbG9jYWxTY2FsZS5zY2FsZSgwLjkyKS5zZXRZKGxvY2FsU2NhbGUueSk7XHJcblx0XHQvLyBsZXQgdmVjdG9yMzpMYXlhLlZlY3RvcjMgPSBsb2NhbFNjYWxlLnNjYWxlKDEuMDUpLnNldFkobG9jYWxTY2FsZS55KTtcclxuXHRcdC8vIGxldCBjb21wb25lbnQ6RWZmZWN0UHJvYyA9IHRoaXMuX2NvcmVPYmpfLmdldENvbXBvbmVudChFZmZlY3RQcm9jKTtcclxuXHRcdC8vIGlmIChjb21wb25lbnQgJiYgIWNvbXBvbmVudC5IYXNFZmZlY3RzKCkpXHJcblx0XHQvLyB7XHJcblx0XHQvLyBcdGNvbXBvbmVudC5BZGRFZmZlY3QobmV3IEZ4U2NhbGUobG9jYWxTY2FsZSwgdmVjdG9yLCAwLjIsIGZhbHNlKSk7XHJcblx0XHQvLyBcdGNvbXBvbmVudC5BZGRFZmZlY3QobmV3IEZ4U2NhbGUodmVjdG9yLCB2ZWN0b3IyLCAwLjE1LCBmYWxzZSkpO1xyXG5cdFx0Ly8gXHRjb21wb25lbnQuQWRkRWZmZWN0KG5ldyBGeFNjYWxlKHZlY3RvcjIsIHZlY3RvcjMsIDAuMSwgZmFsc2UpKTtcclxuXHRcdC8vIFx0Y29tcG9uZW50LkFkZEVmZmVjdChuZXcgRnhTY2FsZSh2ZWN0b3IzLCBsb2NhbFNjYWxlLCAwLjA2LCBmYWxzZSkpO1xyXG5cdFx0Ly8gXHRTb3VuZC5wbGF5KFNvdW5kLmJhbGxfYnJpY2ssIDApO1xyXG5cdFx0Ly8gfVxyXG5cdH1cclxuXHJcblx0b25IaXQob2JqOkxheWEuU3ByaXRlM0QsZGVncmVlOm51bWJlcil7XHJcblx0XHQvLyBjb25zb2xlLmxvZyhcIkZpbmlzaExpbmUgaGl0Li4uXCIpO1xyXG5cclxuXHRcdGxldCBiYWxsTW92ZXIgPSBvYmouZ2V0Q29tcG9uZW50KEJhbGxNb3ZlcikgYXMgQmFsbE1vdmVyO1xyXG5cclxuXHRcdGxldCBiYWxsID0gb2JqLmdldENvbXBvbmVudChCYWxsKTtcclxuXHRcdGlmIChiYWxsLmlzRmlyZU1vZGVfKVxyXG5cdFx0e1xyXG5cdFx0XHRiYWxsLnNldEZpcmVNb2RlXyhmYWxzZSk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdFBhaW50RG90LkJvcm5JbnEob2JqIGFzIExheWEuU3ByaXRlM0QsIHRoaXMuYmFzZSk7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCB7RW50aXR5fSBmcm9tIFwiLi4vY29yZS9FbnRpdHlcIjtcclxuaW1wb3J0IHtCYWxsTW92ZXJ9IGZyb20gXCIuL0JhbGxNb3ZlclwiO1xyXG5pbXBvcnQge0JhbGx9IGZyb20gXCIuL0JhbGxcIjtcclxuaW1wb3J0IHtGbG9vcn0gZnJvbSBcIi4vRmxvb3JcIjtcclxuaW1wb3J0IHtQYWludERvdH0gZnJvbSBcIi4vUGFpbnREb3RcIjtcclxuaW1wb3J0IHtDb2xvcn0gZnJvbSBcIi4uL2NvcmUvQ29sb3JcIjtcclxuaW1wb3J0IHtHYW1lfSBmcm9tICcuL0dhbWUnO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBGbG9vclBhcnQgZXh0ZW5kcyBFbnRpdHlcclxue1xyXG5cdF93YWxsXzpib29sZWFuID0gZmFsc2U7XHJcblx0b25Bd2FrZSgpe1xyXG5cdFx0dGhpcy5fd2FsbF8gPSBmYWxzZTtcclxuXHRcdHRoaXMuYmFzZS5nZXRDb21wb25lbnQoTGF5YS5SaWdpZGJvZHkzRCkuZW5hYmxlZCA9IGZhbHNlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNldFdhbGwoKVxyXG5cdHtcclxuXHRcdHRoaXMuX3dhbGxfID0gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRDb2xvcl8oYzpDb2xvcilcclxuXHR7XHJcblx0XHQodGhpcy5iYXNlLm1lc2hSZW5kZXJlci5tYXRlcmlhbCBhcyBMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbCkuYWxiZWRvQ29sb3IgPSBjLnRvVjQoKTtcclxuXHR9XHJcblxyXG5cdG9uSGl0KG9iajpMYXlhLlNwcml0ZTNEKXtcclxuXHRcdGxldCBiYWxsTW92ZXIgPSBvYmouZ2V0Q29tcG9uZW50KEJhbGxNb3Zlcik7XHJcblx0XHRpZih0aGlzLl93YWxsXyAmJiBiYWxsTW92ZXIuaXNNb3ZlZCl7XHJcblx0XHRcdHRoaXMuZW50ZXJDb2xsaXNpb24ob2JqKVxyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHRoaXMuZW50ZXJUcmlnZ2VyKG9iaik7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGVudGVyVHJpZ2dlcihvYmo6TGF5YS5TcHJpdGUzRCl7XHJcblx0XHRsZXQgYmFsbE1vdmVyID0gb2JqLmdldENvbXBvbmVudChCYWxsTW92ZXIpO1xyXG5cdFx0bGV0IGJhbGwgPSBvYmouZ2V0Q29tcG9uZW50KEJhbGwpO1xyXG5cdFx0aWYgKGJhbGwuSXNLaWxsZWQpIHJldHVybjtcclxuXHRcdFxyXG5cdFx0aWYgKCFiYWxsTW92ZXIuaXNTdG9wcGVkICYmIGJhbGxNb3Zlci5pc01vdmVkKVxyXG5cdFx0e1xyXG5cdFx0XHRsZXQgZmlndXJlID0gdGhpcy5iYXNlLnBhcmVudC5nZXRDb21wb25lbnQoRmxvb3IpO1xyXG5cdFx0XHRpZiAoZmlndXJlICE9IG51bGwpXHJcblx0XHRcdHtcclxuXHRcdFx0XHQvLyBMYXlhLlZlY3RvcjMubWluKGZpZ3VyZS50cmFuc2Zvcm0ucG9zaXRpb24sIGJhbGxNb3Zlci5MYXN0S2lsbFBvcyxiYWxsTW92ZXIuTGFzdEtpbGxQb3MpO1xyXG5cdFx0XHRcdGZpZ3VyZS50cmlnZ2VyRW50ZXJfKHRoaXMpO1xyXG5cdFx0XHRcdCsrYmFsbC5raWxsQ291bnRlcl87XHJcblx0XHRcdFx0R2FtZS5pbnN0Xy5fc3RhY2tCdWlsZGVyXy50b3BGaWd1cmVQb3NfKCkuY2xvbmVUbyhiYWxsTW92ZXIuTGFzdEtpbGxQb3MpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGVsc2VcclxuXHRcdHtcclxuXHRcdFx0UGFpbnREb3QuQm9ybklucShvYmogYXMgTGF5YS5TcHJpdGUzRCwgdGhpcy5iYXNlKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZW50ZXJDb2xsaXNpb24ob2JqOkxheWEuU3ByaXRlM0Qpe1xyXG5cdFx0bGV0IGJhbGxNb3ZlciA9IG9iai5nZXRDb21wb25lbnQoQmFsbE1vdmVyKTtcclxuXHRcdGlmICh0aGlzLl93YWxsXyAmJiBiYWxsTW92ZXIuaXNNb3ZlZClcclxuXHRcdHtcclxuXHRcdFx0bGV0IGJhbGwgPSBiYWxsTW92ZXIuZ2V0Q29tcG9uZW50XyhCYWxsKSBhcyBCYWxsO1xyXG5cdFx0XHRpZiAoYmFsbC5pc0ZpcmVNb2RlXylcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHRoaXMuZW50ZXJUcmlnZ2VyKG9iaik7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0bGV0IGZpZ3VyZTpGbG9vciA9IHRoaXMuYmFzZS5wYXJlbnQuZ2V0Q29tcG9uZW50KEZsb29yKTtcclxuXHRcdFx0XHRpZiAoIWZpZ3VyZS5pc0tpbGxlZF8pXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRmaWd1cmUuc2NhbGVFZmZlY3RfKCk7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdGJhbGxNb3Zlci5iYWxsV2FsbF8oKTtcclxuXHRcdFx0XHRcdFBhaW50RG90LkJvcm5JbnEob2JqLCB0aGlzLmJhc2UpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQge0JhbGx9IGZyb20gXCIuL0JhbGxcIjtcclxuaW1wb3J0IHtFbnRpdHl9IGZyb20gXCIuLi9jb3JlL0VudGl0eVwiO1xyXG5pbXBvcnQge0JhbGxNb3Zlcn0gZnJvbSBcIi4vQmFsbE1vdmVyXCI7XHJcbmltcG9ydCB7RmlyZUJhbGxQcm9jfSBmcm9tIFwiLi9GaXJlQmFsbFByb2NcIjtcclxuaW1wb3J0IHtCR0NvbG9yfSBmcm9tIFwiLi9CR0NvbG9yXCI7XHJcbmltcG9ydCB7U2tpbn0gZnJvbSBcIi4vU2tpblwiO1xyXG5pbXBvcnQge0dhbWVTdGF0c30gZnJvbSBcIi4vR2FtZVN0YXRzXCI7XHJcbmltcG9ydCB7Q29sb3J9IGZyb20gXCIuLi9jb3JlL0NvbG9yXCI7XHJcbmltcG9ydCB7U291bmR9IGZyb20gXCIuL1NvdW5kXCI7XHJcbmltcG9ydCB7VUlDZW50ZXJ9IGZyb20gXCIuL1VJQ2VudGVyXCI7XHJcbmltcG9ydCB7IExheWFVdGlscyB9IGZyb20gJy4uL2NvcmUvTGF5YVV0aWxzJztcclxuaW1wb3J0IHtQYWludERvdH0gZnJvbSAnLi9QYWludERvdCc7XHJcbmltcG9ydCB7IEdhbWVIZWxwZXIgfSBmcm9tICcuLi9jb3JlL0dhbWVIZWxwZXInO1xyXG5pbXBvcnQgeyBTaGFyZUhlbHBlciB9IGZyb20gJy4uL3NoYXJlL1NoYXJlSGVscGVyJztcclxuaW1wb3J0IHtTdGFja1Rvd2VyfSBmcm9tICcuL1N0YWNrVG93ZXInO1xyXG5pbXBvcnQgeyBFZmZlY3RQcm9jIH0gZnJvbSAnLi4vY29yZS9lZmZlY3QvRWZmZWN0UHJvYyc7XHJcbmltcG9ydCB7IEZsb29yIH0gZnJvbSAnLi9GbG9vcic7XHJcbmltcG9ydCB7IEZsb29yRmluaXNoIH0gZnJvbSAnLi9GbG9vckZpbmlzaCc7XHJcbmltcG9ydCB7IENvbnN0YW50IH0gZnJvbSAnLi4vQ29uc3RhbnQnO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lIGV4dGVuZHMgRW50aXR5XHJcbntcclxuXHRwdWJsaWMgX3VpXzpVSUNlbnRlcjtcclxuXHJcblx0Ly9UT0RPOmRpcmVjdGlvblxyXG5cdHB1YmxpYyBfY2FtZXJhXzpMYXlhLkNhbWVyYTtcclxuXHJcblx0cHVibGljIF9iYWxsTW92ZXJfOkJhbGxNb3ZlciA7XHJcblxyXG5cdHB1YmxpYyBfYmFsbF86QmFsbCA7XHJcblxyXG5cdHB1YmxpYyBfc3RhY2tCdWlsZGVyXzpTdGFja1Rvd2VyO1xyXG5cclxuXHRwdWJsaWMgX2JnXzpCR0NvbG9yIDtcclxuXHJcblx0cHJpdmF0ZSBfZmlyZV86RmlyZUJhbGxQcm9jIDtcclxuXHJcblx0cHJpdmF0ZSBfbnVtQnJpY2tzXzpudW1iZXI7XHJcblxyXG5cdHByaXZhdGUgX251bUtpbGxlZF86bnVtYmVyO1xyXG5cclxuXHRwcml2YXRlIF9iQ29udGludWVfOmJvb2xlYW47XHJcblxyXG5cdHByaXZhdGUgX3BpdGNoXzpudW1iZXIgPSAxO1xyXG5cclxuXHRwcml2YXRlIF9zdGFydFBvc186TGF5YS5WZWN0b3IzO1xyXG5cclxuXHRwcml2YXRlIF9maW5pc2hlZF86Ym9vbGVhbjtcclxuXHRnZXQgaXNGaW5pc2hlZCgpe3JldHVybiB0aGlzLl9maW5pc2hlZF99O1xyXG5cdGdldCBpc0RlYWQoKXtyZXR1cm4gdGhpcy5fYmFsbF8uSXNLaWxsZWR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZTpHYW1lO1xyXG5cdHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RfKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlfVxyXG5cclxuXHRjb25zdHJ1Y3RvcigpXHJcblx0e1xyXG5cdFx0c3VwZXIoKTtcclxuXHRcdEdhbWUuX2luc3RhbmNlID0gdGhpcztcclxuXHR9XHJcblxyXG5cclxuXHRwcml2YXRlIF9wc193aW46TGF5YS5TaHVyaUtlblBhcnRpY2xlM0Q7XHJcblx0b25Bd2FrZSgpXHJcblx0e1xyXG5cdFx0bGV0IHNoYXBlcyA9IFtdO1xyXG5cdFx0bGV0IGZpZ3VyZV9sYXllcjpMYXlhLk1lc2hTcHJpdGUzRCA9IExheWFVdGlscy5nZXRDaGlsZEJ5TmFtZV8odGhpcy5vd25lcixcIkxpYnJhcnkvc2hhcGVzXCIpO1xyXG5cdFx0Zm9yKGxldCBpPTA7aTxmaWd1cmVfbGF5ZXIubnVtQ2hpbGRyZW47aSsrKXtcclxuXHRcdFx0bGV0IGl0ZW0gPSBmaWd1cmVfbGF5ZXIuZ2V0Q2hpbGRBdChpKSBhcyBMYXlhLk1lc2hTcHJpdGUzRDtcclxuXHRcdFx0Ly8gaXRlbS5yZW1vdmVTZWxmKCk7XHJcblx0XHRcdHNoYXBlcy5wdXNoKGl0ZW0pO1xyXG5cdFx0fVxyXG5cdFx0ZmlndXJlX2xheWVyLnJlbW92ZUNoaWxkcmVuKCk7XHJcblx0XHRmaWd1cmVfbGF5ZXIucmVtb3ZlU2VsZigpO1xyXG5cdFx0dGhpcy5fc2hhcmVfbGlzdCA9IHNoYXBlcztcclxuXHJcblx0XHRcclxuXHRcdGxldCBpbnFfcHJlZmFiID0gTGF5YVV0aWxzLmdldENoaWxkQnlOYW1lXyh0aGlzLmJhc2UsXCJMaWJyYXJ5L3BhaW50XCIpIGFzIExheWEuTWVzaFNwcml0ZTNEO1xyXG5cdFx0UGFpbnREb3QuaW5xX3Byb2ZlYiA9IGlucV9wcmVmYWI7XHJcblx0XHRpbnFfcHJlZmFiLnJlbW92ZVNlbGYoKTtcclxuXHRcdFxyXG5cdFx0dGhpcy5fc3RhY2tCdWlsZGVyXyA9IHRoaXMuYmFzZS5hZGRDb21wb25lbnQoU3RhY2tUb3dlcik7XHJcblx0XHR0aGlzLl9zdGFja0J1aWxkZXJfLl9vYmpfY3lsaW5kZXIgPSBMYXlhVXRpbHMuZ2V0Q2hpbGRCeU5hbWVfKHRoaXMub3duZXIsXCJHYW1lL3N0YWNrL2N5bGluZGVyXCIpO1xyXG5cdFx0dGhpcy5fc3RhY2tCdWlsZGVyXy5vYmpfY29uXyA9IExheWFVdGlscy5nZXRDaGlsZEJ5TmFtZV8odGhpcy5vd25lcixcIkdhbWUvc3RhY2svZmxvb3JzXCIpO1xyXG5cclxuXHRcdHRoaXMuX3N0YWNrQnVpbGRlcl8ucHJlZmFiX2ZpbmlzaF8gPSBMYXlhVXRpbHMuZ2V0Q2hpbGRCeU5hbWVfKHRoaXMub3duZXIsXCJMaWJyYXJ5L2Zsb29yX2ZpbmlzaFwiKTtcclxuXHRcdHRoaXMuX3N0YWNrQnVpbGRlcl8ucHJlZmFiX2ZpbmlzaF8ucmVtb3ZlU2VsZigpO1xyXG5cclxuXHRcdHRoaXMuX3BzX3dpbiA9IExheWFVdGlscy5nZXRDaGlsZEJ5TmFtZV8odGhpcy5vd25lcixcIkdhbWUvcHNfd2luXCIpO1xyXG5cclxuXHRcdHRoaXMuX2NhbWVyYV8gPSBMYXlhVXRpbHMuZ2V0Q2hpbGRCeU5hbWVfKHRoaXMub3duZXIsXCJHYW1lL2NhbWVyYV93YXBwZXJcIikgYXMgTGF5YS5DYW1lcmE7XHJcblx0XHQodGhpcy5fY2FtZXJhXy5nZXRDaGlsZEJ5TmFtZShcImNhbWVyYVwiKSBhcyBMYXlhLkNhbWVyYSkuY2xlYXJDb2xvciA9IG5ldyBMYXlhLlZlY3RvcjQoMCwgMCwgMCwgMClcclxuXHJcblx0XHRsZXQgYmFsbE9iaiA9IExheWFVdGlscy5nZXRDaGlsZEJ5TmFtZV8odGhpcy5iYXNlLFwiR2FtZS9iYWxsXCIpIGFzIExheWEuTWVzaFNwcml0ZTNEIC8vdGhpcy5iYXNlLmdldENoaWxkQnlOYW1lXHJcblx0XHRiYWxsT2JqLmFkZENvbXBvbmVudChFZmZlY3RQcm9jKTtcclxuXHRcdHRoaXMuX2JhbGxNb3Zlcl8gPSBiYWxsT2JqLmFkZENvbXBvbmVudChCYWxsTW92ZXIpO1xyXG5cdFx0dGhpcy5fYmFsbF8gPSBiYWxsT2JqLmFkZENvbXBvbmVudChCYWxsKTtcclxuXHRcdHRoaXMuX2JnXyA9IHRoaXMub3duZXIuYWRkQ29tcG9uZW50KEJHQ29sb3IpO1xyXG5cdFx0XHJcblx0XHRcclxuXHRcdHRoaXMuX2ZpcmVfID0gdGhpcy5iYXNlLmFkZENvbXBvbmVudChGaXJlQmFsbFByb2MpO1xyXG5cclxuXHRcdHRoaXMuX3N0YXJ0UG9zXyA9IHRoaXMuX2JhbGxNb3Zlcl8udHJhbnNmb3JtLnBvc2l0aW9uO1xyXG5cdFx0dGhpcy5fdWlfID0gbmV3IFVJQ2VudGVyKCk7XHJcblx0XHR0aGlzLl91aV8uZ2FtZV8gPSB0aGlzO1xyXG5cclxuXHRcdFNvdW5kLnByZWxvYWQoKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgX3NoYXJlX2xpc3Q6TGF5YS5NZXNoU3ByaXRlM0RbXTtcclxuXHRwcml2YXRlIGdldFNoYXBlXyhsZXZlbDpudW1iZXIpXHJcblx0e1xyXG5cdFx0cmV0dXJuIHRoaXMuX3NoYXJlX2xpc3RbbGV2ZWwgJSB0aGlzLl9zaGFyZV9saXN0Lmxlbmd0aF07XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIF9za2luX2xpc3Q6U2tpbltdO1xyXG5cdHByaXZhdGUgZ2V0U2tpbl8obGV2ZWw6bnVtYmVyKXtcclxuXHRcdGlmKCRzeXNfcHJlZmVyX3NraW4ubGVuZ3RoID4gMCkgcmV0dXJuIFNraW4uY3JlYXRlLmFwcGx5KG51bGwsJHN5c19wcmVmZXJfc2tpbik7XHJcblx0XHRcclxuXHRcdGlmKCF0aGlzLl9za2luX2xpc3Qpe1xyXG5cdFx0XHR0aGlzLl9za2luX2xpc3QgPSAkc3lzX3NraW5zLm1hcChjb2xvcnM9PlNraW4uY3JlYXRlLmFwcGx5KG51bGwsY29sb3JzKSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcy5fc2tpbl9saXN0W2xldmVsICUgdGhpcy5fc2tpbl9saXN0Lmxlbmd0aF1cclxuXHR9XHJcblxyXG5cdG9uU3RhcnQoKVxyXG5cdHtcclxuXHRcdHRoaXMucmVzdGFydF8oKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgX3NwaW5EZWdyZWVfOm51bWJlciA9IDA7XHJcblx0cHJpdmF0ZSBfc3BpblJvdGF0aW9uXzpMYXlhLlZlY3RvcjMgPSBuZXcgTGF5YS5WZWN0b3IzKCk7XHJcblx0b25VcGRhdGUoKVxyXG5cdHtcdFxyXG5cdFx0Ly8gcmV0dXJuO1xyXG5cclxuXHRcdHRoaXMuX3VpXy5fZ2FtZVVJXy51cGRhdGVGaXJlQmFyXyh0aGlzLl9maXJlXy5nZXRGaWxsXygpKTtcclxuXHRcdHRoaXMuX3VpXy5fZ2FtZVVJXy5zaG93RmlyZUJhcl8odGhpcy5fZmlyZV8uaXNGaXJlXygpIHx8IHRoaXMuX2ZpcmVfLmlzQWNjRmlyZV8oKSwgdGhpcy5fZmlyZV8uaXNGaXJlXygpKTtcclxuXHRcdHRoaXMuX3VpXy5fZ2FtZVVJXy5zaG93V2FybmluZ0ZpcmVfKHRoaXMuX2ZpcmVfLmlzRmlyZV8oKSAmJiB0aGlzLl9maXJlXy5nZXRGaWxsXygpIDwgMC4yKTtcclxuXHRcdHRoaXMuX3VpXy5fZ2FtZVVJXy5vblVwZGF0ZSgpO1xyXG5cclxuXHRcdGlmICghdGhpcy5fZmlyZV8uaXNGaXJlXygpICYmIHRoaXMuX2JhbGxfLmlzRmlyZU1vZGVfKVxyXG5cdFx0e1xyXG5cdFx0XHR0aGlzLl9iYWxsXy5zZXRGaXJlTW9kZV8oZmFsc2UpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuZml4ZWRVcGRhdGVfKCk7XHJcblxyXG5cdFx0bGV0IHJvdGF0ZURlbHRhID0gTGF5YS50aW1lci5kZWx0YVNlYyAqIE1hdGguZGVnKDEuMSk7XHJcblx0XHR0aGlzLl9zcGluRGVncmVlXyArPSByb3RhdGVEZWx0YVxyXG5cdFx0dGhpcy5fc3BpblJvdGF0aW9uXy5zZXRZKHJvdGF0ZURlbHRhKTtcclxuXHRcdHRoaXMuX3N0YWNrQnVpbGRlcl8ub2JqX2Nvbl8udHJhbnNmb3JtLnJvdGF0ZSh0aGlzLl9zcGluUm90YXRpb25fLHRydWUsZmFsc2UpXHJcblxyXG5cdFx0dGhpcy5oaXRUZXN0KCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGhpdFRlc3QoKXtcclxuXHRcdGlmKHRoaXMuX2JhbGxfLklzS2lsbGVkKSByZXR1cm47XHJcblxyXG5cdFx0bGV0IG9ic3RhY2xlID0gdGhpcy5fc3RhY2tCdWlsZGVyXy50b3BGbG9vcl8oKTtcclxuXHRcdGlmKCFvYnN0YWNsZSkgcmV0dXJuO1xyXG5cclxuXHRcdGlmKHRoaXMuX2JhbGxfLmJvdHRvbS55ID4gb2JzdGFjbGUudHJhbnNmb3JtLnBvc2l0aW9uLnkpe1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IGZpZ3VyZSA9IG9ic3RhY2xlLmdldENvbXBvbmVudChGbG9vcilcclxuXHRcdGlmKGZpZ3VyZSl7XHJcblx0XHRcdGZpZ3VyZS5vbkhpdF8odGhpcy5fYmFsbF8uYmFzZSx0aGlzLl9zcGluRGVncmVlXylcdFxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IGZpbnNpc2ggPSBvYnN0YWNsZS5nZXRDb21wb25lbnQoRmxvb3JGaW5pc2gpXHJcblx0XHRpZihmaW5zaXNoKXtcclxuXHRcdFx0Zmluc2lzaC5vbkhpdCh0aGlzLl9iYWxsXy5iYXNlLHRoaXMuX3NwaW5EZWdyZWVfKVxyXG5cdFx0XHRpZighdGhpcy5fZmluaXNoZWRfKXtcclxuXHRcdFx0XHR0aGlzLm9uRmluaXNoXygpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cclxuXHRwdWJsaWMgcmVzdGFydF8oKVxyXG5cdHtcclxuXHRcdGNvbnNvbGUubG9nKFwicmVzdGFydF8gLi4uLlwiKVxyXG5cdFx0dGhpcy5fcGl0Y2hfID0gMDtcclxuXHRcdHRoaXMuX251bUtpbGxlZF8gPSAwO1xyXG5cdFx0dGhpcy5fYkNvbnRpbnVlXyA9IGZhbHNlO1xyXG5cdFx0dGhpcy5fZmluaXNoZWRfID0gZmFsc2U7XHJcblxyXG5cdFx0dGhpcy5fYmFsbE1vdmVyXy50cmFuc2Zvcm0ucG9zaXRpb24gPSB0aGlzLl9zdGFydFBvc187XHJcblx0XHR0aGlzLl9iYWxsTW92ZXJfLnJlc2V0XygpO1xyXG5cdFx0dGhpcy5fYmFsbF8uUmVzZXQoKTtcclxuXHRcdHRoaXMuX2JhbGxfLnNldEZpcmVNb2RlXyhmYWxzZSk7XHJcblx0XHRsZXQgc2hhcGU6R2FtZU9iamVjdCA9IHRoaXMuZ2V0U2hhcGVfKEdhbWVTdGF0cy5pbnN0Xy5sZXZlbCk7XHJcblx0XHRsZXQgc2tpbjpTa2luID0gdGhpcy5nZXRTa2luXyhHYW1lU3RhdHMuaW5zdF8ubGV2ZWwpO1xyXG5cdFx0dGhpcy5fbnVtQnJpY2tzXyA9IHRoaXMuX3N0YWNrQnVpbGRlcl8uYnVpbGRfKEdhbWVTdGF0cy5pbnN0Xy5sZXZlbCwgc2tpbiwgc2hhcGUpO1xyXG5cdFx0dGhpcy5fdWlfLl9nYW1lVUlfLnNob3dGaXJlQmFyXyhmYWxzZSk7XHJcblx0XHR0aGlzLl9iZ18uY2hhbmdlQ29sb3JfKHNraW4uYmdfdG9wLCBza2luLmJnX2JvdHRvbSwwKTtcclxuXHRcdHRoaXMuX2JhbGxfLlNldENvbG9yKHNraW4uYmFsbF9jb2xvcik7XHJcblx0XHR0aGlzLl91aV8uX2dhbWVVSV8uc2V0Q29sb3JfKHNraW4uYmFsbF9jb2xvcik7XHJcblx0XHR0aGlzLl9jYW1lcmFfLnRyYW5zZm9ybS5wb3NpdGlvbiA9IExheWEuVmVjdG9yMy56ZXJvO1xyXG5cclxuXHRcdHRoaXMuX3NwaW5EZWdyZWVfID0gMDtcclxuXHRcdHRoaXMuX3N0YWNrQnVpbGRlcl8ub2JqX2Nvbl8udHJhbnNmb3JtLmxvY2FsUm90YXRpb24gPSBuZXcgTGF5YS5RdWF0ZXJuaW9uO1xyXG5cdFx0cGxhdGZvcm0ubG9nKENvbnN0YW50LkFuYWx5dGljcy5sZXZlbF9iZWdpbix7bGV2ZWw6R2FtZVN0YXRzLmluc3RfLmxldmVsfSk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgY29udGludWVfKClcclxuXHR7XHJcblx0XHR0aGlzLl9iQ29udGludWVfID0gdHJ1ZTtcclxuXHRcdGxldCB2UG9zOkxheWEuVmVjdG9yMyA9IHRoaXMuX3N0YWNrQnVpbGRlcl8udG9wRmlndXJlUG9zXygpO1xyXG5cdFx0dGhpcy5fYmFsbE1vdmVyXy5yZXNldF8odlBvcyk7XHJcblx0XHR0aGlzLl9iYWxsXy5SZXNldCgpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBmaXhlZFVwZGF0ZV8oKVxyXG5cdHtcclxuXHRcdGlmICh0aGlzLl9udW1LaWxsZWRfID49IDAgJiYgdGhpcy5fbnVtQnJpY2tzXyAtIHRoaXMuX251bUtpbGxlZF8gPiAyKVxyXG5cdFx0e1xyXG5cdFx0XHRsZXQgejpudW1iZXIgPSB0aGlzLl9jYW1lcmFfLnRyYW5zZm9ybS5wb3NpdGlvbi56O1xyXG5cdFx0XHRsZXQgcG9zaXRpb246TGF5YS5WZWN0b3IzID0gbmV3IExheWEuVmVjdG9yM1xyXG5cdFx0XHRMYXlhLlZlY3RvcjMubGVycCh0aGlzLl9jYW1lcmFfLnRyYW5zZm9ybS5wb3NpdGlvbiwgdGhpcy5fYmFsbE1vdmVyXy5wb3NfLCAwLjEscG9zaXRpb24pO1xyXG5cdFx0XHRwb3NpdGlvbi56ID0gejtcclxuXHRcdFx0cG9zaXRpb24ueCA9IDA7XHJcblx0XHRcdHRoaXMuX2NhbWVyYV8udHJhbnNmb3JtLnBvc2l0aW9uID0gcG9zaXRpb247XHJcblx0XHR9XHJcblx0XHR0aGlzLl9waXRjaF8gLT0gMC4wMTE7XHJcblx0XHRpZiAodGhpcy5fcGl0Y2hfIDwgMSlcclxuXHRcdHtcclxuXHRcdFx0dGhpcy5fcGl0Y2hfID0gMTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBvbkNyYXNoXygpXHJcblx0e1xyXG5cdFx0U291bmQucGxheShTb3VuZC5nYW1lX292ZXJfKTtcclxuXHRcdGFwcC52aWJyYXRlKDE1MDApO1xyXG5cdFx0dGhpcy5fdWlfLnNob3dHYW1lT3Zlcl8oIXRoaXMuX2JDb250aW51ZV8gJiYgdGhpcy5fbnVtS2lsbGVkXyA+IDEwLCBHYW1lU3RhdHMuaW5zdF8uc2NvcmVzKTtcclxuXHRcdHRoaXMuX2ZpcmVfLnJlc2V0XygpO1xyXG5cdFx0R2FtZVN0YXRzLmluc3RfLmJlc3Rfc2NvcmUgPSBHYW1lU3RhdHMuaW5zdF8uc2NvcmVzO1xyXG5cdFx0R2FtZVN0YXRzLmluc3RfLnNjb3JlcyA9IDA7XHJcblxyXG5cdFx0cGxhdGZvcm0uc2V0SGlnaHRTY29yZShHYW1lU3RhdHMuaW5zdF8uYmVzdF9zY29yZSk7XHJcblx0XHRTaGFyZUhlbHBlci5zZW5kU2NvcmUoR2FtZVN0YXRzLmluc3RfLmJlc3Rfc2NvcmUpO1xyXG5cclxuXHRcdHBsYXRmb3JtLmxvZyhDb25zdGFudC5BbmFseXRpY3MubGV2ZWxfZW5kLHtyZXN1bHQ6MCxsZXZlbDpHYW1lU3RhdHMuaW5zdF8ubGV2ZWx9KTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBvbkZpbmlzaF8oKVxyXG5cdHtcclxuXHRcdGlmICh0aGlzLl9maW5pc2hlZF8pIHJldHVybjtcclxuXHRcdHRoaXMuX3BzX3dpbi50cmFuc2Zvcm0ucG9zaXRpb24gPSB0aGlzLl9zdGFja0J1aWxkZXJfLnRvcEZpZ3VyZVBvc18oKTtcclxuXHRcdHRoaXMuX3BzX3dpbi5wYXJ0aWNsZVN5c3RlbS5wbGF5KCk7XHJcblx0XHRcclxuXHRcdHRoaXMub25QcmVzc18oZmFsc2UpXHJcblxyXG5cdFx0dGhpcy5fZmluaXNoZWRfID0gdHJ1ZTtcclxuXHRcdGFwcC52aWJyYXRlKDEwMDApO1xyXG5cdFx0U291bmQucGxheShTb3VuZC5nYW1lX2NvbXBsXyk7XHJcblx0XHR0aGlzLl91aV8uc2hvd1dpbl8oR2FtZVN0YXRzLmluc3RfLmxldmVsKTtcclxuXHRcdHRoaXMuX2ZpcmVfLnJlc2V0XygpO1xyXG5cclxuXHRcdHBsYXRmb3JtLmhhc0lBRCgpICYmIHBsYXRmb3JtLnNob3dJQUQoXCJsZXZlbF9maW5pc2hcIik7XHJcblxyXG5cdFx0R2FtZVN0YXRzLmluc3RfLmJlc3Rfc2NvcmUgPSBHYW1lU3RhdHMuaW5zdF8uc2NvcmVzO1xyXG5cdFx0cGxhdGZvcm0uc2V0SGlnaHRTY29yZShHYW1lU3RhdHMuaW5zdF8uYmVzdF9zY29yZSk7XHJcblx0XHRcclxuXHRcdHBsYXRmb3JtLmxvZyhDb25zdGFudC5BbmFseXRpY3MubGV2ZWxfZW5kLHtyZXN1bHQ6MSxsZXZlbDpHYW1lU3RhdHMuaW5zdF8ubGV2ZWx9KTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBvblByZXNzXyhwcmVzc2VkOmJvb2xlYW4pXHJcblx0e1xyXG5cdFx0aWYgKHByZXNzZWQpXHJcblx0XHR7XHJcblx0XHRcdGlmKHRoaXMuaXNGaW5pc2hlZCB8fCB0aGlzLmlzRGVhZCkgcmV0dXJuO1xyXG5cdFx0XHR0aGlzLl91aV8uc2hvd01haW5NZW51XyhmYWxzZSk7XHJcblx0XHR9XHJcblx0XHR0aGlzLl9iYWxsTW92ZXJfLm1vdmVVcF8ocHJlc3NlZCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgb25CbG9ja0NyYXNoXygpXHJcblx0e1xyXG5cdFx0U291bmQucGxheVBpdGNoXyhTb3VuZC5icmlja18sIHRoaXMuX3BpdGNoXyk7XHJcblx0XHRhcHAudmlicmF0ZSg1MDApO1xyXG5cdFx0dGhpcy5fcGl0Y2hfICs9IDAuMDY7XHJcblx0XHR0aGlzLl9udW1LaWxsZWRfKys7XHJcblx0XHRpZiAoIXRoaXMuX2ZpcmVfLmlzRmlyZV8oKSlcclxuXHRcdHtcclxuXHRcdFx0bGV0IG51bTpudW1iZXIgPSArK0dhbWVTdGF0cy5pbnN0Xy5zY29yZXM7XHJcblx0XHR9XHJcblx0XHRlbHNlXHJcblx0XHR7XHJcblx0XHRcdEdhbWVTdGF0cy5pbnN0Xy5zY29yZXMgKz0gMjtcclxuXHRcdH1cclxuXHRcdHRoaXMuX3VpXy5fZ2FtZVVJXy51cGRhdGVVSV8odGhpcy5fbnVtS2lsbGVkXyAvIHRoaXMuX251bUJyaWNrc18sIEdhbWVTdGF0cy5pbnN0Xy5zY29yZXMpO1xyXG5cdFx0dGhpcy5fc3RhY2tCdWlsZGVyXy51cGRhdGVWaXNpYmxlXygpO1xyXG5cdFx0dGhpcy5fZmlyZV8ub25LaWxsQnJpY2tfKCk7XHJcblx0XHRpZiAodGhpcy5fZmlyZV8uaXNGaXJlXygpKVxyXG5cdFx0e1xyXG5cdFx0XHRpZiAoIXRoaXMuX2JhbGxfLmlzRmlyZU1vZGVfKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dGhpcy5fYmFsbF8uc2V0RmlyZU1vZGVfKHRydWUpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRlbHNlIGlmICh0aGlzLl9iYWxsXy5pc0ZpcmVNb2RlXylcclxuXHRcdHtcclxuXHRcdFx0dGhpcy5fYmFsbF8uc2V0RmlyZU1vZGVfKGZhbHNlKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIEdhbWVTdGF0c3tcbiAgICBwcml2YXRlIHN0YXRpYyBfaW5zdDpHYW1lU3RhdHM7XG4gICAgc3RhdGljIGdldCBpbnN0Xygpe1xuICAgICAgICBpZighR2FtZVN0YXRzLl9pbnN0KXtcbiAgICAgICAgICAgIEdhbWVTdGF0cy5faW5zdCA9IG5ldyBHYW1lU3RhdHM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEdhbWVTdGF0cy5faW5zdFxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIEdhbWVTdGF0cy5faW5zdCA9IHRoaXM7XG4gICAgfVxuXG4gICAgZ2V0IGxldmVsKCl7XG4gICAgICAgIHJldHVybiBwbGF0Zm9ybS5yZW1vdGVEYXRhLmxldmVsO1xuICAgIH1cbiAgICBzZXQgbGV2ZWwodjpudW1iZXIpe1xuICAgICAgICBwbGF0Zm9ybS5yZW1vdGVEYXRhLmxldmVsID0gdjtcbiAgICAgICAgcGxhdGZvcm0ucmVtb3RlRGF0YS5pc0RpcnR5ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBnZXQgYmVzdF9zY29yZSgpe1xuICAgICAgICByZXR1cm4gcGxhdGZvcm0ucmVtb3RlRGF0YS5iZXN0X3Njb3JlO1xuICAgIH1cbiAgICBzZXQgYmVzdF9zY29yZSh2Om51bWJlcil7XG4gICAgICAgIGlmKHYgPD0gcGxhdGZvcm0ucmVtb3RlRGF0YS5iZXN0X3Njb3JlKSByZXR1cm47XG5cbiAgICAgICAgcGxhdGZvcm0ucmVtb3RlRGF0YS5iZXN0X3Njb3JlID0gdjtcbiAgICAgICAgcGxhdGZvcm0ucmVtb3RlRGF0YS5pc0RpcnR5ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBzY29yZXM6bnVtYmVyID0gMDtcblxufSIsImltcG9ydCB7RW50aXR5fSBmcm9tIFwiLi4vY29yZS9FbnRpdHlcIjtcclxuaW1wb3J0IHtDb2xvcn0gZnJvbSBcIi4uL2NvcmUvQ29sb3JcIjtcclxuaW1wb3J0IHtCYWxsTW92ZXJ9IGZyb20gJy4vQmFsbE1vdmVyJztcclxuaW1wb3J0IHtCYWxsfSBmcm9tICcuL0JhbGwnO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBQYWludERvdCBleHRlbmRzIEVudGl0eVxyXG57XHJcblx0cHJpdmF0ZSBfbGlmZVRpbWVfOm51bWJlciA9IDM7XHJcblx0XHJcblx0cHJpdmF0ZSBfdGltZV86bnVtYmVyID0gMDtcclxuXHRcclxuXHRwcml2YXRlIF9jb2xvcl86Q29sb3I7XHJcblx0XHJcblx0cHJpdmF0ZSBfbWF0ZXJpYWxfOkxheWEuQmxpbm5QaG9uZ01hdGVyaWFsO1xyXG5cdG9uQXdha2UoKVxyXG5cdHtcclxuXHRcdHRoaXMuX2xpZmVUaW1lXyA9IE1hdGgucmFuZEludCgxNSwgMjUpO1xyXG5cdFx0T2JqZWN0LkRlc3Ryb3kodGhpcy5iYXNlLCB0aGlzLl9saWZlVGltZV8gKyAwLjEpO1xyXG5cdFx0XHJcblx0XHRsZXQgZGlzcGxheSA9IHRoaXMuYmFzZS5nZXRDaGlsZEJ5TmFtZShcIlF1YWRcIikgYXMgTGF5YS5NZXNoU3ByaXRlM0Q7XHJcblx0XHR0aGlzLl9tYXRlcmlhbF8gPSBkaXNwbGF5Lm1lc2hSZW5kZXJlci5tYXRlcmlhbC5jbG9uZSgpO1xyXG5cdFx0ZGlzcGxheS5tZXNoUmVuZGVyZXIubWF0ZXJpYWwgPSB0aGlzLl9tYXRlcmlhbF87XHJcblx0fVxyXG5cdFxyXG5cdHB1YmxpYyBidWlsZF8oYzpDb2xvcilcclxuXHR7XHJcblx0XHR0aGlzLl9jb2xvcl8gPSBjO1xyXG5cdFx0dGhpcy5fbWF0ZXJpYWxfLmFsYmVkb0NvbG9yID0gdGhpcy5fY29sb3JfLnRvVjQoKTtcclxuXHR9XHJcblx0XHJcblx0b25VcGRhdGUoKVxyXG5cdHtcclxuXHRcdHRoaXMuX3RpbWVfICs9IExheWEudGltZXIuZGVsdGFTZWM7XHJcblx0XHRsZXQgYTpudW1iZXIgPSAxIC0gTWF0aC5jbGFtcCh0aGlzLl90aW1lXyAvIHRoaXMuX2xpZmVUaW1lXywwLDEpO1xyXG5cdFx0Ly8gbGV0IGNvbG9yOkNvbG9yID0gdGhpcy5fY29sb3JfO1xyXG5cdFx0Ly8gY29sb3IuYSA9IGE7XHJcblx0XHQvLyB0aGlzLl9tYXRlcmlhbF8uYWxiZWRvQ29sb3IgPSB0aGlzLl9jb2xvcl8udG9WNCgpO1xyXG5cdFx0dGhpcy5fbWF0ZXJpYWxfLmFsYmVkb0NvbG9yQSA9IGE7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgaW5xX3Byb2ZlYjpMYXlhLk1lc2hTcHJpdGUzRDtcclxuXHRwdWJsaWMgc3RhdGljIEJvcm5JbnEob3RoZXI6TGF5YS5TcHJpdGUzRCwgcGFyZW50OkxheWEuU3ByaXRlM0QpXHJcblx0e1xyXG5cdFx0bGV0IHByZWZhYiA9IFBhaW50RG90LmlucV9wcm9mZWI7XHJcblx0XHRpZighcHJlZmFiKSByZXR1cm47XHJcblx0XHRsZXQgYm0gPSBvdGhlci5nZXRDb21wb25lbnQoQmFsbE1vdmVyKTtcclxuXHRcdGlmIChibSAmJiBibS5pc01vdmVkKSByZXR1cm47XHJcblxyXG5cdFx0bGV0IGJhbGwgPSBvdGhlci5nZXRDb21wb25lbnQoQmFsbCk7XHJcblx0XHRsZXQgZ2FtZU9iamVjdDpHYW1lT2JqZWN0ID0gTGF5YS5TcHJpdGUzRC5pbnN0YW50aWF0ZShwcmVmYWIsIHBhcmVudCk7XHJcblx0XHRcclxuXHRcdGxldCBwb3NpdGlvbjpMYXlhLlZlY3RvcjMgPSBiYWxsLmJvdHRvbTtcclxuXHRcdGdhbWVPYmplY3QudHJhbnNmb3JtLnBvc2l0aW9uID0gbmV3IExheWEuVmVjdG9yMyhwb3NpdGlvbi54LHBhcmVudC50cmFuc2Zvcm0ucG9zaXRpb24ueSswLjAxLHBvc2l0aW9uLnopO1xyXG5cdFx0Z2FtZU9iamVjdC50cmFuc2Zvcm0ubG9jYWxTY2FsZSA9IExheWEuVmVjdG9yMy5vbmUuc2NhbGUoTWF0aC5yYW5kRmxvYXQoMSwgMikpO1xyXG5cclxuXHRcdGdhbWVPYmplY3QudHJhbnNmb3JtLnJvdGF0ZShuZXcgTGF5YS5WZWN0b3IzKDAsTWF0aC5yYW5kSW50KDAsMzAwKSwwKSx0cnVlLGZhbHNlKVxyXG5cdFx0XHJcblx0XHRsZXQgaW5xRG90ID0gZ2FtZU9iamVjdC5hZGRDb21wb25lbnQoUGFpbnREb3QpO1xyXG5cdFx0aW5xRG90LmJ1aWxkXyhvdGhlci5nZXRDb21wb25lbnQoQmFsbCkuR2V0Q29sb3IoKSk7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCB7IENvbG9yIH0gZnJvbSBcIi4uL2NvcmUvQ29sb3JcIjtcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNvbG9yKGhleDogbnVtYmVyKSB7XHJcblx0bGV0IGNvbG9yID0gbmV3IENvbG9yKCk7XHJcblx0Y29sb3Iuc2V0SGV4KGhleCk7XHJcblx0Y29sb3IuYSA9IDE7XHJcblxyXG5cdHJldHVybiBjb2xvcjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFNraW4ge1xyXG5cdHB1YmxpYyBiZ190b3A6IENvbG9yO1xyXG5cclxuXHRwdWJsaWMgYmdfYm90dG9tOiBDb2xvcjtcclxuXHJcblx0cHVibGljIGNvbFdhbGw6IENvbG9yO1xyXG5cclxuXHRwdWJsaWMgYmFsbF9jb2xvcjogQ29sb3I7XHJcblxyXG5cdHB1YmxpYyBmbG9vcl90b3A6IENvbG9yO1xyXG5cclxuXHRwdWJsaWMgZmxvb3JfYm90dG9tOiBDb2xvcjtcclxuXHJcblx0c3RhdGljIGNyZWF0ZShjb2xCYWxsLCBjb2xCRzEsIGNvbEJHMiwgY29sT2JqMSwgY29sT2JqMiwgY29sV2FsbCkge1xyXG5cdFx0bGV0IHNraW4gPSBuZXcgU2tpbigpO1xyXG5cdFx0c2tpbi5iYWxsX2NvbG9yID0gY3JlYXRlQ29sb3IoY29sQmFsbCk7XHJcblx0XHRza2luLmJnX3RvcCA9IGNyZWF0ZUNvbG9yKGNvbEJHMSk7XHJcblx0XHRza2luLmJnX2JvdHRvbSA9IGNyZWF0ZUNvbG9yKGNvbEJHMik7XHJcblx0XHRza2luLmZsb29yX3RvcCA9IGNyZWF0ZUNvbG9yKGNvbE9iajEpO1xyXG5cdFx0c2tpbi5mbG9vcl9ib3R0b20gPSBjcmVhdGVDb2xvcihjb2xPYmoyKTtcclxuXHRcdHNraW4uY29sV2FsbCA9IGNyZWF0ZUNvbG9yKGNvbFdhbGwpO1xyXG5cclxuXHRcdHJldHVybiBza2luO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQge0VudGl0eX0gZnJvbSBcIi4uL2NvcmUvRW50aXR5XCI7XHJcbmltcG9ydCB7SG93bCwgSG93bGVyfSBmcm9tICdob3dsZXInO1xyXG5cclxuXHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIFNvdW5kXHJcbntcclxuXHRleHBvcnQgbGV0IGp1bXBfOnN0cmluZyA9IFwiYXVkaW8vYnJpY2tcIjtcclxuXHRleHBvcnQgbGV0IGJhbGxfYnJpY2tfOnN0cmluZyA9IFwiYXVkaW8vYmFsbF9icmlja1wiO1xyXG5cdGV4cG9ydCBsZXQgZ2FtZV9vdmVyXzpzdHJpbmcgPSBcImF1ZGlvL2dhbWVfb3ZlclwiO1xyXG5cdGV4cG9ydCBsZXQgZ2FtZV9jb21wbF86c3RyaW5nID0gXCJhdWRpby9nYW1lX2NvbXBsXCI7XHJcblx0ZXhwb3J0IGxldCBicmlja186c3RyaW5nID0gXCJhdWRpby9icmlja1wiO1xyXG5cdGV4cG9ydCBsZXQgZmlyZV9zdGFydF86c3RyaW5nID0gXCJhdWRpby9maXJlX3N0YXJ0XCI7XHJcblx0ZXhwb3J0IGxldCBmaXJlX2xvb3BfOnN0cmluZyA9IFwiYXVkaW8vZmlyZV9sb29wXCI7XHJcblxyXG5cdGV4cG9ydCBmdW5jdGlvbiBwcmVsb2FkKCl7XHJcblx0XHRbXHJcblx0XHRcdGp1bXBfLGJhbGxfYnJpY2tfLGdhbWVfb3Zlcl8sZ2FtZV9jb21wbF8sYnJpY2tfLGZpcmVfc3RhcnRfLGZpcmVfbG9vcF9cclxuXHRcdF0uZm9yRWFjaCh2PT5nZXRIb3dsKHYpKTtcclxuXHR9XHJcblxyXG5cdGxldCBob3dsTWFwOntba2V5OnN0cmluZ106SG93bH0gPSB7fTtcclxuXHRmdW5jdGlvbiBnZXRIb3dsKG5hbWU6c3RyaW5nKXtcclxuXHRcdGxldCBob3dsZXIgPSBob3dsTWFwW25hbWVdIHx8IChob3dsTWFwW25hbWVdID0gbmV3IEhvd2woe1xyXG5cdFx0XHRvbmxvYWRlcnJvcjooZSxtc2cpPT57XHJcblx0XHRcdFx0Y29uc29sZS5sb2coXCJhdWRpbyBlcnJvcjpcIituYW1lLG1zZylcclxuXHRcdFx0fSxcclxuXHRcdFx0c3JjOltuYW1lK1wiLndlYm1cIixuYW1lK1wiLm1wM1wiXS8vXCIud2VibVwiXHJcblx0XHR9KSlcclxuXHJcblx0XHRyZXR1cm4gaG93bGVyO1xyXG5cdH1cclxuXHJcblx0ZXhwb3J0IGZ1bmN0aW9uIHNldE11dGUobXV0ZTpib29sZWFuKVxyXG5cdHtcclxuXHRcdEhvd2xlci5tdXRlKG11dGUpO1xyXG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJzb3VuZF9tdXRlXCIsbXV0ZT9cInRydWVcIjpcImZhbHNlXCIpO1xyXG5cdFx0cmV0dXJuIG11dGU7XHJcblx0fVxyXG5cclxuXHRleHBvcnQgZnVuY3Rpb24gZ2V0TWV1dGUoKXtcclxuXHRcdHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInNvdW5kX211dGVcIikgIT0gXCJmYWxzZVwiXHJcblx0fVxyXG5cclxuXHRleHBvcnQgZnVuY3Rpb24gcGxheShuYW1lOnN0cmluZyk6Ym9vbGVhblxyXG5cdHtcclxuXHRcdGxldCBob3dsZXIgPSBnZXRIb3dsKG5hbWUpO1xyXG5cdFx0aG93bGVyLnBsYXkoKTtcclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxuXHJcblx0ZXhwb3J0IGZ1bmN0aW9uIHBsYXlQaXRjaF8obmFtZTpzdHJpbmcsIHBpdGNoOm51bWJlcilcclxuXHR7XHJcblx0XHRsZXQgaG93bGVyID0gZ2V0SG93bChuYW1lKTtcclxuXHRcdGxldCBpZCA9IGhvd2xlci5wbGF5KCk7XHJcblx0XHRob3dsZXIucmF0ZShwaXRjaCxpZClcclxuXHR9XHJcblxyXG5cdGV4cG9ydCBmdW5jdGlvbiBzdG9wKG5hbWU6c3RyaW5nKVxyXG5cdHtcclxuXHRcdGxldCBob3dsZXIgPSBnZXRIb3dsKG5hbWUpO1xyXG5cdFx0aG93bGVyLnN0b3AoKTtcclxuXHRcdFxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcbiIsIlxyXG5leHBvcnQgY2xhc3MgU3RhY2tTZXR0aW5nXHJcbntcclxuXHRwdWJsaWMgbGVuZ3RoOm51bWJlciA9IDQwO1xyXG5cclxuXHRwdWJsaWMgc3RhcnRFbXB0eTpudW1iZXIgPSA1O1xyXG5cclxuXHRwdWJsaWMgZmlsbE1haW46bnVtYmVyID0gMTA7XHJcblxyXG5cdHB1YmxpYyBzZWN0b3JGaWxsOm51bWJlciA9IDUwO1xyXG5cclxuXHRwdWJsaWMgc2VjdG9yTGVuTWluOm51bWJlciA9IDY7XHJcblxyXG5cdHB1YmxpYyBzZWN0b3JMZW5NYXg6bnVtYmVyID0gMjA7XHJcblxyXG5cdHB1YmxpYyBzZWN0b3JMZW5SYW5kb206bnVtYmVyID0gNTtcclxuXHJcblx0c3RhdGljIGNyZWF0ZShsZW5ndGgsZmlsbE1haW4sc2VjdG9yRmlsbCxzZWN0b3JMZW5NYXgsc2VjdG9yTGVuTWluLHNlY3RvckxlblJhbmRvbSxzdGFydEVtcHR5KXtcclxuXHRcdGxldCBvYmogPSBuZXcgU3RhY2tTZXR0aW5nKCk7XHJcblx0XHRvYmoubGVuZ3RoID0gbGVuZ3RoO1xyXG5cdFx0b2JqLmZpbGxNYWluID0gZmlsbE1haW47XHJcblx0XHRvYmouc2VjdG9yRmlsbCA9IHNlY3RvckZpbGw7XHJcblx0XHRvYmouc2VjdG9yTGVuTWF4ID0gc2VjdG9yTGVuTWF4O1xyXG5cdFx0b2JqLnNlY3Rvckxlbk1pbiA9IHNlY3Rvckxlbk1pbjtcclxuXHRcdG9iai5zZWN0b3JMZW5SYW5kb20gPSBzZWN0b3JMZW5SYW5kb207XHJcblx0XHRvYmouc3RhcnRFbXB0eSA9IHN0YXJ0RW1wdHk7XHJcblxyXG5cdFx0cmV0dXJuIG9ialxyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQge0VudGl0eX0gZnJvbSBcIi4uL2NvcmUvRW50aXR5XCI7XHJcbmltcG9ydCB7U3RhY2tTZXR0aW5nfSBmcm9tIFwiLi9TdGFja1NldHRpbmdcIjtcclxuaW1wb3J0IHtTa2lufSBmcm9tIFwiLi9Ta2luXCI7XHJcbmltcG9ydCB7Q29sb3J9IGZyb20gXCIuLi9jb3JlL0NvbG9yXCI7XHJcbmltcG9ydCB7Rmxvb3JGaW5pc2h9IGZyb20gJy4vRmxvb3JGaW5pc2gnO1xyXG5pbXBvcnQgeyBFZmZlY3RQcm9jIH0gZnJvbSAnLi4vY29yZS9lZmZlY3QvRWZmZWN0UHJvYyc7XHJcbmltcG9ydCB7IEZsb29yIH0gZnJvbSAnLi9GbG9vcic7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFN0YWNrVG93ZXIgZXh0ZW5kcyBFbnRpdHlcclxue1xyXG5cdHB1YmxpYyBfcHJlZkJyaWNrXzpHYW1lT2JqZWN0O1xyXG5cclxuXHRwdWJsaWMgcHJlZmFiX2ZpbmlzaF86R2FtZU9iamVjdDtcclxuXHJcblx0cHVibGljIF9vYmpfY3lsaW5kZXI6R2FtZU9iamVjdDtcclxuXHJcblx0cHVibGljIG9ial9jb25fOkxheWEuU3ByaXRlM0Q7XHJcblxyXG5cdHB1YmxpYyBfc2VsZWN0TGV2ZWxfOm51bWJlciA9IC0xO1xyXG5cclxuXHRwdWJsaWMgX29mZnNldF86bnVtYmVyID0gMC4zMztcclxuXHJcblx0cHVibGljIF9yb3RhdGVTdGVwXzpudW1iZXIgPSAtMC4wNTtcclxuXHJcblx0cHVibGljIF9zZXR0aW5nc186U3RhY2tTZXR0aW5nW10gPSBbXHJcblx0XHRTdGFja1NldHRpbmcuY3JlYXRlKDYwLDEwLDIwLDE2LDgsMTAsMiksXHJcblx0XHRTdGFja1NldHRpbmcuY3JlYXRlKDY4LDIwLDM1LDE2LDUsMTAsMiksXHJcblx0XHRTdGFja1NldHRpbmcuY3JlYXRlKDc1LDI1LDQwLDE4LDgsNCwzKSxcclxuXHRcdFN0YWNrU2V0dGluZy5jcmVhdGUoODAsNjAsNDIsMjAsMTAsMiwyKSxcclxuXHRcdFN0YWNrU2V0dGluZy5jcmVhdGUoODAsODAsNSwxNCw2LDMsMyksXHJcblx0XHRTdGFja1NldHRpbmcuY3JlYXRlKDgyLDUwLDcwLDIwLDE0LDgsMiksXHJcblx0XHRTdGFja1NldHRpbmcuY3JlYXRlKDkwLDUsNzUsMTgsMTAsOCwwKSxcclxuXHRcdFN0YWNrU2V0dGluZy5jcmVhdGUoOTYsODAsNzAsMjYsMTIsNCwxKSxcclxuXHRcdFN0YWNrU2V0dGluZy5jcmVhdGUoMTAwLDkwLDQwLDI1LDEyLDUsMSlcclxuXHRdO1xyXG5cdFxyXG5cdHB1YmxpYyBfc2VldGluZ3NMb29wXzpTdGFja1NldHRpbmdbXSA9IFtcclxuXHRcdFN0YWNrU2V0dGluZy5jcmVhdGUoMTAwLDY1LDc1LDIwLDEwLDUsMSksXHJcblx0XHRTdGFja1NldHRpbmcuY3JlYXRlKDEwMCw4MCw1MCwzMCwxNSw4LDApLFxyXG5cdFx0U3RhY2tTZXR0aW5nLmNyZWF0ZSgxMDAsODAsODAsMzAsMjAsMSwyKSxcclxuXHRcdFN0YWNrU2V0dGluZy5jcmVhdGUoMTAwLDkwLDE1LDE0LDYsMywwKSxcclxuXHRdO1xyXG5cclxuXHRwcml2YXRlIF9tYXNrXzpudW1iZXJbXSA9IFtdO1xyXG5cclxuXHRwcml2YXRlIF9jdXJyU2hhcGVfOkdhbWVPYmplY3Q7XHJcblxyXG5cdG9uQXdha2UoKVxyXG5cdHtcclxuXHRcdGZvciAobGV0IGk6bnVtYmVyID0gMDsgaSA8IDEwOyBpKyspXHJcblx0XHR7XHJcblx0XHRcdHRoaXMuX21hc2tfLnB1c2goMCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgY2xlYXJfKClcclxuXHR7XHJcblx0XHQvLyB0aGlzLl9vYmpDb3JlXy5yZW1vdmVDaGlsZHJlbigpO1xyXG5cdFx0dGhpcy5vYmpfY29uXy5kZXN0cm95Q2hpbGRyZW4oKVxyXG5cdFx0XHJcblx0XHQvLyB0aGlzLl9vYmpDb3JlXy5kZXN0cm95Q2hpbGRyZW4oKTtcclxuXHRcdC8vIGZvcihsZXQgaT0wO2kgPHRoaXMuX29iakNvcmVfLm51bUNoaWxkcmVuO2krKyl7XHJcblx0XHQvLyBcdGxldCBpdGVtICA9IHRoaXMuX29iakNvcmVfLmdldENoaWxkQXQoaSk7XHJcblx0XHQvLyBcdGl0ZW0uZGVzdHJveUNoaWxkcmVuKClcclxuXHRcdC8vIH1cclxuXHRcdC8vIGZvcmVhY2ggKFRyYW5zZm9ybSBpdGVtIGluIHRoaXMuX29iakNvcmVfLnRyYW5zZm9ybSlcclxuXHRcdC8vIHtcclxuXHRcdC8vIFx0T2JqZWN0LkRlc3Ryb3koaXRlbS5nYW1lT2JqZWN0KTtcclxuXHRcdC8vIH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBidWlsZF8oaUxldmVsOm51bWJlciwgc2tpbjpTa2luICwgc2hhcGU6R2FtZU9iamVjdClcclxuXHR7XHJcblx0XHR0aGlzLl9jdXJyU2hhcGVfID0gc2hhcGU7XHJcblx0XHR0aGlzLmNsZWFyXygpO1xyXG5cdFx0bGV0IHNldHRpbmdzID0gdGhpcy5nZXRTZXR0aW5nXyhpTGV2ZWwpO1xyXG5cdFx0bGV0IHBvczpMYXlhLlZlY3RvcjMgPSBMYXlhLlZlY3RvcjMuemVybztcclxuXHRcdGlmIChzZXR0aW5ncy5zdGFydEVtcHR5ID4gMClcclxuXHRcdHtcclxuXHRcdFx0dGhpcy5idWlsZFNlY3Rvcl8oMCwgc2V0dGluZ3Muc3RhcnRFbXB0eSwgc2V0dGluZ3MubGVuZ3RoLCBpTGV2ZWwsIDAsIHNraW4uZmxvb3JfdG9wLCBza2luLmZsb29yX2JvdHRvbSwgc2tpbi5jb2xXYWxsKTtcclxuXHRcdH1cclxuXHRcdGxldCBudW06bnVtYmVyO1xyXG5cdFx0bGV0IGEyOm51bWJlcjtcclxuXHRcdGZvciAobnVtID0gc2V0dGluZ3Muc3RhcnRFbXB0eTsgbnVtIDwgc2V0dGluZ3MubGVuZ3RoOyBudW0gKz0gYTIpXHJcblx0XHR7XHJcblx0XHRcdGEyID0gTWF0aC5yYW5kSW50KDAsIHNldHRpbmdzLnNlY3RvckxlblJhbmRvbSk7XHJcblx0XHRcdGEyID0gTWF0aC5taW4oYTIsIHNldHRpbmdzLmxlbmd0aCAtIG51bSk7XHJcblx0XHRcdGlmIChhMiA+IDApXHJcblx0XHRcdHtcclxuXHRcdFx0XHRwb3MgPSB0aGlzLmJ1aWxkU2VjdG9yXyhudW0sIGEyLCBzZXR0aW5ncy5sZW5ndGgsIGlMZXZlbCwgc2V0dGluZ3MuZmlsbE1haW4sIHNraW4uZmxvb3JfdG9wLCBza2luLmZsb29yX2JvdHRvbSwgc2tpbi5jb2xXYWxsKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRudW0gKz0gYTI7XHJcblx0XHRcdGEyID0gTWF0aC5yYW5kSW50KHNldHRpbmdzLnNlY3Rvckxlbk1pbiwgc2V0dGluZ3Muc2VjdG9yTGVuTWF4KTtcclxuXHRcdFx0YTIgPSBNYXRoLm1pbihhMiwgc2V0dGluZ3MubGVuZ3RoIC0gbnVtKTtcclxuXHRcdFx0aWYgKGEyID4gMClcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHBvcyA9IHRoaXMuYnVpbGRTZWN0b3JfKG51bSwgYTIsIHNldHRpbmdzLmxlbmd0aCwgaUxldmVsLCBzZXR0aW5ncy5zZWN0b3JGaWxsLCBza2luLmZsb29yX3RvcCwgc2tpbi5mbG9vcl9ib3R0b20sIHNraW4uY29sV2FsbCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHRoaXMuY3JlYXRlRmluaXNoXyhwb3MucGx1cyhMYXlhLlZlY3RvcjMuZG93bi5zY2FsZSh0aGlzLl9vZmZzZXRfICogMSkpICwgQ29sb3IuTGVycChDb2xvci53aGl0ZSwgc2tpbi5iYWxsX2NvbG9yLCAwLjQpKTtcclxuXHRcdGxldCBkOm51bWJlciA9IChzZXR0aW5ncy5sZW5ndGggKyA0KSAqIHRoaXMuX29mZnNldF87XHJcblx0XHR0aGlzLl9vYmpfY3lsaW5kZXIudHJhbnNmb3JtLmxvY2FsU2NhbGUgPSBMYXlhLlZlY3RvcjMudXAuc2NhbGUoZCAvIDIpLmFkZChMYXlhLlZlY3RvcjMucmlnaHQpLmFkZChMYXlhLlZlY3RvcjMuZm9yd2FyZCk7XHJcblx0XHR0aGlzLl9vYmpfY3lsaW5kZXIudHJhbnNmb3JtLmxvY2FsUG9zaXRpb24gPSBMYXlhLlZlY3RvcjMuZG93bi5zY2FsZShkIC8gMikuYWRkKExheWEuVmVjdG9yMy51cC5zY2FsZSh0aGlzLl9vZmZzZXRfICogMykpO1xyXG5cdFx0cmV0dXJuIHNldHRpbmdzLmxlbmd0aDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYnVpbGRTZWN0b3JfKGk6bnVtYmVyLCBsZW46bnVtYmVyLCBmdWxsTGVuOm51bWJlciwgbGV2ZWxOdW06bnVtYmVyLCBmaWxsOm51bWJlciwgYzE6Q29sb3IsIGMyOkNvbG9yLCBjVzpDb2xvcik6TGF5YS5WZWN0b3IzXHJcblx0e1xyXG5cdFx0bGV0IHJlc3VsdDpMYXlhLlZlY3RvcjMgPSBMYXlhLlZlY3RvcjMuemVybztcclxuXHRcdGxldCBudW1QYXJ0czpudW1iZXIgPSArdGhpcy5fY3VyclNoYXBlXy5uYW1lLnNwbGl0KFwiX1wiKS5wb3AoKS8vdGhpcy5fY3VyclNoYXBlXy5nZXRDb21wb25lbnQoRmlndXJlKS5fbnVtUGFydHNfO1xyXG5cdFx0dGhpcy5maWxsV2FsbF8odGhpcy5fbWFza18sIG51bVBhcnRzLCBmaWxsLCBpIC8gZnVsbExlbik7XHJcblx0XHRsZXQgbnVtOm51bWJlciA9IE1hdGgucmFuZEludCgwLCAzKTtcclxuXHRcdGZvciAobGV0IGo6bnVtYmVyID0gMDsgaiA8IGxlbjsgaisrKVxyXG5cdFx0e1xyXG5cdFx0XHRsZXQgYzM6Q29sb3IgPSBDb2xvci5MZXJwKGMxLCBjMiwgaSAvIChmdWxsTGVuIC0gMSkpO1xyXG5cdFx0XHRsZXQgZmlndXJlID0gdGhpcy5jcmVhdGVGbG9vcl8oTGF5YS5WZWN0b3IzLmRvd24uc2NhbGUoaSAqIHRoaXMuX29mZnNldF8pLCBpICogdGhpcy5fcm90YXRlU3RlcF8pO1xyXG5cdFx0XHRpZiAobnVtID09IDApXHJcblx0XHRcdHtcclxuXHRcdFx0XHRpZiAoTWF0aC5yYW5kSW50KDAsIDEwMCkgPCA2MClcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRmaWd1cmUuc2V0TWFza18odGhpcy5fbWFza18sIGMzLCBjVyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRmaWd1cmUuc2V0Q29sb3JzXyhjMywgY1cpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIGlmIChqICUgbnVtID09IDApXHJcblx0XHRcdHtcclxuXHRcdFx0XHRmaWd1cmUuc2V0TWFza18odGhpcy5fbWFza18sIGMzLCBjVyk7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZmlndXJlLnNldENvbG9yc18oYzMsIGNXKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXN1bHQgPSBmaWd1cmUudHJhbnNmb3JtLmxvY2FsUG9zaXRpb247XHJcblx0XHRcdGZpZ3VyZS5vd25lci5hY3RpdmUgPSAoaSA8IDIwKTtcclxuXHRcdFx0Ly9UT0RPOiBhZGQgc2NhbGU7XHJcblx0XHRcdC8vIGxldCBzY2FsZSA9IHRoaXMuR2V0U2NhbGUoaSwgZnVsbExlbiwgbGV2ZWxOdW0pO1xyXG5cdFx0XHQvLyBjb25zb2xlLmxvZyhzY2FsZSk7XHJcblx0XHRcdC8vIGZpZ3VyZS50cmFuc2Zvcm0ubG9jYWxTY2FsZSA9IExheWEuVmVjdG9yMy5vbmUuc2NhbGUoc2NhbGUpO1xyXG5cdFx0XHRpKys7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBjcmVhdGVGbG9vcl8ocG9zOkxheWEuVmVjdG9yMywgcm90YXRlOm51bWJlcik6Rmxvb3JcclxuXHR7XHJcblx0XHRsZXQgZmlndXJlT2JqOkxheWEuU3ByaXRlM0QgPSBMYXlhLlNwcml0ZTNELmluc3RhbnRpYXRlKCh0aGlzLl9wcmVmQnJpY2tfICE9IG51bGwpID8gdGhpcy5fcHJlZkJyaWNrXyA6IHRoaXMuX2N1cnJTaGFwZV8sIHRoaXMub2JqX2Nvbl8pO1xyXG5cdFx0ZmlndXJlT2JqLnRyYW5zZm9ybS5sb2NhbFBvc2l0aW9uID0gcG9zO1xyXG5cdFx0bGV0IHF1YXRlcm5pb24gPSBuZXcgTGF5YS5RdWF0ZXJuaW9uO1xyXG5cdFx0TGF5YS5RdWF0ZXJuaW9uLmNyZWF0ZUZyb21ZYXdQaXRjaFJvbGwocm90YXRlLCAwLCAwLHF1YXRlcm5pb24pO1xyXG5cdFx0ZmlndXJlT2JqLnRyYW5zZm9ybS5sb2NhbFJvdGF0aW9uID0gcXVhdGVybmlvbjtcclxuXHRcdGxldCBmaWd1cmUgPSBmaWd1cmVPYmouYWRkQ29tcG9uZW50KEZsb29yKTtcclxuXHRcdGZpZ3VyZS5kZWdyZWVPZmZzZXQgPSByb3RhdGU7XHJcblx0XHRmaWd1cmVPYmouYWRkQ29tcG9uZW50KEVmZmVjdFByb2MpO1xyXG5cdFx0XHJcblx0XHRyZXR1cm4gZmlndXJlOyBcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgY3JlYXRlRmluaXNoXyhwb3M6TGF5YS5WZWN0b3IzLCBjb2w6Q29sb3IpXHJcblx0e1xyXG5cdFx0bGV0IGdhbWVPYmplY3Q6TGF5YS5TcHJpdGUzRCA9IExheWEuU3ByaXRlM0QuaW5zdGFudGlhdGUodGhpcy5wcmVmYWJfZmluaXNoXywgdGhpcy5vYmpfY29uXyk7XHJcblx0XHRnYW1lT2JqZWN0LnRyYW5zZm9ybS5sb2NhbFBvc2l0aW9uID0gcG9zO1xyXG5cdFx0bGV0IGNvbXBvbmVudCA9IGdhbWVPYmplY3QuYWRkQ29tcG9uZW50KEZsb29yRmluaXNoKTtcclxuXHRcdGlmIChjb21wb25lbnQpXHJcblx0XHR7XHJcblx0XHRcdGNvbXBvbmVudC5zZXRDb2xvcl8oY29sKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0U2V0dGluZ18oaTpudW1iZXIpOlN0YWNrU2V0dGluZ1xyXG5cdHtcclxuXHRcdGlmICh0aGlzLl9zZWxlY3RMZXZlbF8gPj0gMClcclxuXHRcdHtcclxuXHRcdFx0aWYgKHRoaXMuX3NlbGVjdExldmVsXyA8IHRoaXMuX3NldHRpbmdzXy5sZW5ndGgpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5fc2V0dGluZ3NfW3RoaXMuX3NlbGVjdExldmVsX107XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHRoaXMuX3NlZXRpbmdzTG9vcF9bdGhpcy5fc2VsZWN0TGV2ZWxfIC0gdGhpcy5fc2V0dGluZ3NfLmxlbmd0aF07XHJcblx0XHR9XHJcblx0XHRpZiAoaSA8IHRoaXMuX3NldHRpbmdzXy5sZW5ndGggKiAyKVxyXG5cdFx0e1xyXG5cdFx0XHQvLyBjb25zb2xlLndhcm4oXCJTTj0gXCIgKyBNYXRoLmZsb29yKGkgLyAyKSAlIHRoaXMuX3NldHRpbmdzXy5sZW5ndGgpO1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5fc2V0dGluZ3NfW01hdGguZmxvb3IoaSAvIDIpICUgdGhpcy5fc2V0dGluZ3NfLmxlbmd0aF07XHJcblx0XHR9XHJcblx0XHRpIC09IHRoaXMuX3NldHRpbmdzXy5sZW5ndGggKiAyO1xyXG5cdFx0Ly8gY29uc29sZS53YXJuKFwiU04yPSBcIiArIGkgJSB0aGlzLl9zZWV0aW5nc0xvb3BfLmxlbmd0aCk7XHJcblx0XHRsZXQgcm9hZFNldHRpbmdzID0gdGhpcy5fc2VldGluZ3NMb29wX1tpICUgdGhpcy5fc2VldGluZ3NMb29wXy5sZW5ndGhdO1xyXG5cdFx0cm9hZFNldHRpbmdzLmxlbmd0aCA9IE1hdGguY2xhbXAoMTAwICsgaSAqIDIsIDEwMCwgMjAwKTtcclxuXHRcdHJldHVybiByb2FkU2V0dGluZ3M7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGZpbGxXYWxsXyhsaXN0Om51bWJlcltdLCBjb3VudDpudW1iZXIsIHBlcmNGaWxsOm51bWJlciwgZGVwdGg6bnVtYmVyKVxyXG5cdHtcclxuXHRcdGxldCBudW06bnVtYmVyID0gMDtcclxuXHRcdGZvciAobGV0IGk6bnVtYmVyID0gMDsgaSA8IGNvdW50OyBpKyspXHJcblx0XHR7XHJcblx0XHRcdGxpc3RbaV0gPSAoKE1hdGgucmFuZEludCgwLCAxMDApIDwgcGVyY0ZpbGwpID8gMSA6IDApO1xyXG5cdFx0XHRudW0gKz0gbGlzdFtpXTtcclxuXHRcdH1cclxuXHRcdGlmIChudW0gPT0gY291bnQpXHJcblx0XHR7XHJcblx0XHRcdG51bS0tO1xyXG5cdFx0XHRsaXN0W01hdGgucmFuZEludCgwLCBjb3VudC0xKV0gPSAwO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGNvdW50IC0gbnVtID09IDEgJiYgY291bnQgPj0gNCAmJiBkZXB0aCA8IDAuNSlcclxuXHRcdHtcclxuXHRcdFx0Ly8gY29uc29sZS5sb2coXCJBREQgUkFORFwiKTtcclxuXHRcdFx0bGV0IGogPSAwO1xyXG5cdFx0XHRmb3IgKGogPSAwOyBqIDwgY291bnQgJiYgbGlzdFtqXSAhPSAwOyBqKyspXHJcblx0XHRcdHtcclxuXHRcdFx0fVxyXG5cdFx0XHRsZXQgbnVtMjpudW1iZXIgPSBqO1xyXG5cdFx0XHRmb3IgKGxldCBrOm51bWJlciA9IDA7IGsgPCAxMDsgaysrKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0aWYgKGogIT0gbnVtMiAmJiBudW0yICE9IGogKyAxICYmIG51bTIgIT0gaiAtIDEpXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdG51bTIgPSBNYXRoLnJhbmRJbnQoMCwgbGlzdC5sZW5ndGgtMSk7XHJcblx0XHRcdH1cclxuXHRcdFx0bGlzdFtudW0yXSA9IDA7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldFNjYWxlXyhpOm51bWJlciwgY291bnQ6bnVtYmVyLCBsZXZlbDpudW1iZXIpXHJcblx0e1xyXG5cdFx0Ly8gbGV0IHNlZWQ6bnVtYmVyID0gTWF0aC5yYW5kb21TZWVkO1xyXG5cdFx0Ly8gTWF0aC5yYW5kb21TZWVkID0gbGV2ZWw7XHJcblx0XHRsZXQgbnVtOm51bWJlciA9IGkgLyBjb3VudDtcclxuXHRcdGxldCBudW0yOm51bWJlciA9IE1hdGgucmFuZEludCgwLCAxMCk7XHJcblx0XHRsZXQgbnVtMzpudW1iZXIgPSBNYXRoLnNpbihNYXRoLnJhbmRGbG9hdCgwLCAzLjE0MTU5Mjc0KSArIG51bSAqIDMuMTQxNTkyNzQgKiBudW0yKTtcclxuXHRcdC8vIE1hdGgucmFuZG9tU2VlZCA9IHNlZWQ7XHJcblx0XHRyZXR1cm4gMSAtIG51bTMgKiAwLjE7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgdXBkYXRlVmlzaWJsZV8oKVxyXG5cdHtcclxuXHRcdGZvcihsZXQgaSA9IDA7aTx0aGlzLm9ial9jb25fLm51bUNoaWxkcmVuO2krKyl7XHJcblx0XHRcdGxldCBpdGVtID0gdGhpcy5vYmpfY29uXy5nZXRDaGlsZEF0KGkpIGFzIExheWEuU3ByaXRlM0Q7XHJcblx0XHRcdGlmKCFpdGVtLmFjdGl2ZSl7XHJcblx0XHRcdFx0aXRlbS5hY3RpdmUgPSB0cnVlO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgdG9wRmlndXJlUG9zXygpOkxheWEuVmVjdG9yM1xyXG5cdHtcclxuXHRcdGZvcihsZXQgaSA9IDA7aTx0aGlzLm9ial9jb25fLm51bUNoaWxkcmVuO2krKyl7XHJcblx0XHRcdGxldCBpdGVtID0gdGhpcy5vYmpfY29uXy5nZXRDaGlsZEF0KGkpIGFzIExheWEuU3ByaXRlM0Q7XHJcblx0XHRcdGlmKGl0ZW0uYWN0aXZlICYmIGl0ZW0ubnVtQ2hpbGRyZW4+MCl7XHJcblx0XHRcdFx0cmV0dXJuIGl0ZW0udHJhbnNmb3JtLnBvc2l0aW9uO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gTGF5YS5WZWN0b3IzLnplcm87XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgdG9wRmxvb3JfKCk6TGF5YS5TcHJpdGUzRHtcclxuXHRcdGZvcihsZXQgaSA9IDA7aTx0aGlzLm9ial9jb25fLm51bUNoaWxkcmVuO2krKyl7XHJcblx0XHRcdGxldCBpdGVtID0gdGhpcy5vYmpfY29uXy5nZXRDaGlsZEF0KGkpIGFzIExheWEuU3ByaXRlM0Q7XHJcblx0XHRcdGlmKGl0ZW0uYWN0aXZlICYmIGl0ZW0ubnVtQ2hpbGRyZW4+MCl7XHJcblx0XHRcdFx0cmV0dXJuIGl0ZW07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQge0dhbWV9IGZyb20gXCIuL0dhbWVcIjtcbmltcG9ydCB7R2FtZVN0YXRzfSBmcm9tIFwiLi9HYW1lU3RhdHNcIjtcbmltcG9ydCB7IHVpIH0gZnJvbSBcIi4uL3VpL2xheWFNYXhVSVwiO1xuXG5pbXBvcnQge0dhbWVVSX0gZnJvbSAnLi4vdmlldy9HYW1lVUknO1xuaW1wb3J0IHtHYW1lT3ZlclVJfSBmcm9tICcuLi92aWV3L0dhbWVPdmVyVUknO1xuaW1wb3J0IHtHYW1lV2luVUl9IGZyb20gJy4uL3ZpZXcvR2FtZVdpblVJJztcbmltcG9ydCB7TWV1blVJfSBmcm9tICcuLi92aWV3L01lbnVVSSc7XG5pbXBvcnQge1JhbmtVSX0gZnJvbSAnLi4vdmlldy9SYW5rVUknO1xuXG5leHBvcnQgY2xhc3MgVUlDZW50ZXJ7XG5cdHB1YmxpYyBfZ2FtZVVJXzpHYW1lVUk7XG5cblx0cHVibGljIGdhbWVfOkdhbWU7XG5cblx0cHVibGljIF9tYWluTWVudV86dWkudmlldy5NZXVuVUk7XG5cblx0cHVibGljIF9nYW1lT3ZlclVJXzpHYW1lT3ZlclVJO1xuXHRwdWJsaWMgX2dhbWVXaW5VSV86R2FtZVdpblVJO1xuXG5cdGNvbnN0cnVjdG9yKClcblx0e1xuXHRcdHRoaXMuX2dhbWVVSV8gPSBuZXcgR2FtZVVJKCk7XG5cdFx0dGhpcy5fbWFpbk1lbnVfID0gbmV3IE1ldW5VSSgpO1xuXHRcdFxuXHRcdGFwcC51aS5nYW1lX2xheWVyLmFkZENoaWxkKHRoaXMuX2dhbWVVSV8pO1xuXHRcdGFwcC51aS5nYW1lX2xheWVyLmFkZENoaWxkKHRoaXMuX21haW5NZW51Xyk7XG5cblx0XHR0aGlzLl9nYW1lT3ZlclVJXyA9IG5ldyBHYW1lT3ZlclVJKCk7XG5cdFx0dGhpcy5fZ2FtZVdpblVJXyA9IG5ldyBHYW1lV2luVUkoKTtcblxuXHRcdHRoaXMuc2hvd01haW5NZW51Xyh0cnVlKTtcblx0fVxuXG5cdG9uQXdha2UoKVxuXHR7XG5cdH1cblxuXHRvblN0YXJ0KClcblx0e1xuXHRcdC8vIERlYnVnT3V0KFwiRklSU1QgbGF1bmNoOiBcIiArICghU3RhdHMuSW5zdGFuY2UuSGFzUGFyYW0oXCJpbml0X2Fkc19kZWxheVwiKSkuVG9TdHJpbmcoKSk7XG5cdFx0Ly8gQW5hbHl0aWNzLkluaXRpYWxpemUoKTtcblx0XHQvLyBGQk1hbi5JbnN0YW5jZS5Jbml0RkIoKTtcblx0XHQvLyBJbnZva2UoXCJJbml0QURTXCIsIFN0YXRzLkluc3RhbmNlLkdldFBhcmFtRmxvYXQoXCJpbml0X2Fkc19kZWxheVwiLCAyZikpO1xuXHRcdC8vIFN0YXRzLkluc3RhbmNlLlNldFBhcmFtKFwiaW5pdF9hZHNfZGVsYXlcIiwgMC4xZik7XG5cdFx0Ly8gU2hvd01haW5NZW51KHRydWUpO1xuXHRcdC8vIEludm9rZVJlcGVhdGluZyhcIldyaXRlRlBTXCIsIDFmLCAwLjVmKTtcblxuXHRcdC8vIHRoaXMuU2hvd01haW5NZW51KHRydWUpO1x0XHRcblx0fVxuXG5cdC8vIHByaXZhdGUgdm9pZCBJbml0QURTKClcblx0Ly8ge1xuXHQvLyBcdGJvb2wgc2hvd0Jhbm5lckF1dG8gPSBTdGF0cy5JbnN0YW5jZS5sZXZlbCA+PSBTdGF0cy5JbnN0YW5jZS5HZXRSZW1vdGVJbnQoXCJhZF9iYW5uZXJfc2hvd19sZXZlbFwiLCAxMCk7XG5cdC8vIFx0QURzLkluaXQoU3RhdHMuSW5zdGFuY2UuYWRzUmVtb3ZlZCA/IEFEVHlwZS5SZXdhcmRlZCA6IEFEVHlwZS5BbGwsIHNob3dCYW5uZXJBdXRvKTtcblx0Ly8gXHRJbnN0YW5jZS5EZWJ1Z091dChcIklOSVQgQURTIC0gU2hvdyBCQU5ORVIgPSBcIiArIHNob3dCYW5uZXJBdXRvLlRvU3RyaW5nKCkpO1xuXHQvLyB9XG5cblx0Ly8gcHJpdmF0ZSB2b2lkIEhhbmRsZUxvZyhzdHJpbmcgbG9nU3RyaW5nLCBzdHJpbmcgc3RhY2tUcmFjZSwgTG9nVHlwZSB0eXBlKVxuXHQvLyB7XG5cdC8vIFx0c3RyaW5nIHN0ciA9IFwibG9nIFwiICsgdHlwZS5Ub1N0cmluZygpWzBdLlRvU3RyaW5nKCk7XG5cdC8vIFx0aWYgKHR5cGUgPT0gTG9nVHlwZS5FeGNlcHRpb24pXG5cdC8vIFx0e1xuXHQvLyBcdFx0c3RyICs9IFwieFwiO1xuXHQvLyBcdH1cblx0Ly8gXHREZWJ1Z091dChzdHIgKyBcIiBcIiArIGxvZ1N0cmluZyk7XG5cdC8vIH1cblxuXHRwdWJsaWMgc2hvd01haW5NZW51XyhzaG93OmJvb2xlYW4pXG5cdHtcblx0XHR0aGlzLl9tYWluTWVudV8udmlzaWJsZSA9IHNob3c7XG5cdH1cblxuXHRwdWJsaWMgc2hvd0dhbWVPdmVyXyhjYW5Db250aW51ZTpib29sZWFuLCBzY29yZXM6bnVtYmVyKVxuXHR7XG5cdFx0dGhpcy5fZ2FtZU92ZXJVSV8uc2hvd18oY2FuQ29udGludWUsIHNjb3JlcywgMCk7XG5cdH1cblxuXHRcblx0cHVibGljIHNob3dXaW5fKGxldmVsOm51bWJlcilcblx0e1xuXHRcdHRoaXMuX2dhbWVXaW5VSV8uc2hvd18obGV2ZWwpO1xuXHR9XG5cblx0cHJpdmF0ZSBfcmFua3ZpZXdfOlJhbmtVSTtcblx0cHVibGljIHNob3dSYW5rKCl7XG5cdFx0aWYoIXRoaXMuX3Jhbmt2aWV3Xyl7XG5cdFx0XHR0aGlzLl9yYW5rdmlld18gPSBuZXcgUmFua1VJKCk7XG5cdFx0fVxuXG5cdFx0bGV0IHZpZXcgPSB0aGlzLl9yYW5rdmlld187XG5cdFx0YXBwLnVpLmdhbWVfbGF5ZXIuYWRkQ2hpbGQodmlldyk7XG5cdFx0dmlldy5vbmNlKExheWEuRXZlbnQuQ0xPU0UsdGhpcywoKT0+e1xuXHRcdFx0dmlldy5yZW1vdmVTZWxmKCk7XG5cdFx0XHR0aGlzLnNob3dNYWluTWVudV8odHJ1ZSk7XG5cdFx0fSlcblx0XHR0aGlzLnNob3dNYWluTWVudV8oZmFsc2UpO1xuXHR9XG5cblx0cHVibGljIGhpZGVSYW5rKCl7XG5cdFx0aWYoIXRoaXMuX3Jhbmt2aWV3XykgcmV0dXJuO1xuXHRcdGlmKHRoaXMuX3Jhbmt2aWV3Xy5oYXNMaXN0ZW5lcihMYXlhLkV2ZW50LkNMT1NFKSl7XG5cdFx0XHR0aGlzLl9yYW5rdmlld18uZXZlbnQoTGF5YS5FdmVudC5DTE9TRSk7XG5cdFx0fWVsc2V7XG5cdFx0XHR0aGlzLl9yYW5rdmlld18ucmVtb3ZlU2VsZigpO1xuXHRcdH1cblx0XHR0aGlzLl9yYW5rdmlld18gPSBudWxsXG5cdH1cblxuXHRwdWJsaWMgb25DbGlja1BsYXlNYWluXygpXG5cdHtcblx0XHR0aGlzLnNob3dNYWluTWVudV8oZmFsc2UpO1xuXHR9XG5cblx0cHVibGljIG9uQ2xpY2tOZXh0XygpXG5cdHtcblx0XHRHYW1lU3RhdHMuaW5zdF8ubGV2ZWwrKztcblx0XHR0aGlzLl9nYW1lV2luVUlfLmhpZGVfKCk7XG5cblx0XHR0aGlzLmdhbWVfLnJlc3RhcnRfKCk7XG5cdFx0XG5cdFx0dGhpcy5fZ2FtZVVJXy51cGRhdGVVSV8oMCwgR2FtZVN0YXRzLmluc3RfLnNjb3Jlcyk7XG5cdFx0dGhpcy5zaG93TWFpbk1lbnVfKHRydWUpO1xuXHR9XG5cblx0cHVibGljIG9uQ2xpY2tSZXN0YXJ0KHdpdGhNZW51OmJvb2xlYW4gPSB0cnVlKVxuXHR7XG5cdFx0dGhpcy5fZ2FtZU92ZXJVSV8uaGlkZV8oKVxuXG5cdFx0dGhpcy5zaG93TWFpbk1lbnVfKHdpdGhNZW51KTtcblx0XHR0aGlzLl9nYW1lVUlfLnVwZGF0ZVVJXygwLCAwKTtcblx0XHR0aGlzLmdhbWVfLnJlc3RhcnRfKCk7XG5cdH1cbn0iLCJpbXBvcnQgeyBFbWl0ZXIgfSBmcm9tICcuLi9jb3JlL0VtaXRlcic7XG5cbi8vIC8qKlxuLy8gICogQXV0aG9yOnRlcnJhblxuLy8gICogRW1haWw6dGVycmFuLnRpYW5AZm94bWFpbC5jb21cbi8vICAqIFxuLy8gICogVGltZTrkuIrljYg5OjU2IDIwMTblubQxMuaciDE35pelXG4vLyAgKiovXG5mdW5jdGlvbiB3YWl0KGR1cmF0aW9uOm51bWJlciwgY2FsbEJhY2sgPyApIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBsZXQgdGltZSA9IDA7XG4gICAgICAgIHRpbWUgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lKTtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIGlmIChjYWxsQmFjaykgY2FsbEJhY2soKTtcbiAgICAgICAgfSwgZHVyYXRpb24pXG4gICAgfSk7XG59XG4vKlxuICAgIEhvdyBpcyBmaWxsIHJhdGUgY2FsY3VsYXRlZD9cbiAgICBGaWxsIHJhdGUgaXMgY2FsY3VsYXRlZCBiYXNlZCBvbiB0b3RhbCBmaWxsZWQgYWRzIG92ZXIgdG90YWwgZWxpZ2libGUgcmVxdWVzdHMuIFNjZW5hcmlvcyB3aGVyZSBhIHJlcXVlc3Qgd2lsbCBub3QgYmUgY291bnRlZCBpbmNsdWRlOlxuXG4gICAgUmVxdWVzdCBmb3IgYW4gYWQgaXMgdG9vIGZyZXF1ZW50LiBGb3IgZXhhbXBsZSwgaWYgeW91IHJlcXVlc3QgYW4gYWQgd2l0aCB0aGUgc2FtZSBwbGFjZW1lbnQgSUQgaW4gbGVzcyB0aGFuIDE1IHNlY29uZCBpbnRlcnZhbHNcbiAgICBJREZBIChpT1MpIG9yIEFkdmVydGlzaW5nIElEIChBbmRyb2lkKSBpcyBub3QgYXZhaWxhYmxlIG9yIGNhbiBub3QgYmUgdXNlZCBmb3IgYWQgZGVsaXZlcnlcbiAgICBGYWNlYm9vayBoYXMgbm90IGJlZW4gaW5zdGFsbGVkIG9uIHRoZSByZXF1ZXN0aW5nIGFwcCBvciB0aGUgdXNlciBoYXMgbm90IGxvZ2dlZCBpbiByZWNlbnRseVxuXG4gICAgaHR0cHM6Ly9kZXZlbG9wZXJzLmZhY2Vib29rLmNvbS9kb2NzL2F1ZGllbmNlLW5ldHdvcmsvdGVzdGluZ1xuKi9cbmNsYXNzIEFkdmVydGlzZSBleHRlbmRzIEVtaXRlciB7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBpZHM6IHN0cmluZ1tdLCBhdXRvUHJlbG9hZCA9IHRydWUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdXBvcnRBRCgpICYmIGF1dG9QcmVsb2FkICYmKHRoaXMucHJlbG9hZEFEKCkpO1xuICAgIH1cblxuICAgIHN1cG9ydEFEKCk6Ym9vbGVhbiB7dGhyb3cgXCJzaG91bGQgYmUgaW1wbGVtZW50ZWQgaW4gc3ViY2xhc3MhXCJ9XG4gICAgZ2V0TmFtZSgpe3Rocm93IFwic2hvdWxkIGJlIGltcGxlbWVudGVkIGluIHN1YmNsYXNzIVwifVxuICAgIFxuICAgIHByb3RlY3RlZCBhc3luYyBnZXRBREluc3RhbmNlQXN5bmMocGxhY2VtZW50SWQ6c3RyaW5nKXtcbiAgICAgICAgLy8gdGhyb3cgXCJzaG91bGQgYmUgaW1wbGVtZW50ZWQgaW4gc3ViY2xhc3MhXCJcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBwcml2YXRlIF9hZEluc3RhbmNlOiBGQkluc3RhbnQuQWRJbnN0YW5jZSA9IG51bGw7XG4gICAgaGFzQUQoKSB7cmV0dXJuICEhdGhpcy5fYWRJbnN0YW5jZX1cblxuICAgIHByaXZhdGUgX2lzU3RhcnQgPSBmYWxzZTtcbiAgICBhc3luYyBwcmVsb2FkQUQoKSB7XG4gICAgICAgIGlmKHRoaXMuX2lzU3RhcnQpIHJldHVybjtcbiAgICAgICAgdGhpcy5faXNTdGFydCA9IHRydWU7XG5cbiAgICAgICAgbGV0IGxhc3RFcnJvciA9IFwiXCI7XG4gICAgICAgIGxldCBhcnIgPSB0aGlzLmlkcy5jb25jYXQoKVxuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGxldCBfdG1wX2luc3Q6RkJJbnN0YW50LkFkSW5zdGFuY2UgPSBudWxsXG4gICAgICAgIHdoaWxlKCFfdG1wX2luc3Qpe1xuICAgICAgICAgICAgbGV0IGluZGV4ID0gaSsrJSBhcnIubGVuZ3RoO1xuICAgICAgICAgICAgdHJ5e1xuICAgICAgICAgICAgICAgIF90bXBfaW5zdCA9IGF3YWl0IHRoaXMuZ2V0QURJbnN0YW5jZUFzeW5jKGFycltpbmRleF0pO1xuICAgICAgICAgICAgICAgIGxhc3RFcnJvciA9IFwiXCI7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYCR7dGhpcy5nZXROYW1lKCl9IGNyZWF0ZSBzdWM6JHtpbmRleH1gKTtcbiAgICAgICAgICAgICAgICBsZXQgcmVsb2FkQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgIHdoaWxlKCF0aGlzLl9hZEluc3RhbmNlICYmIF90bXBfaW5zdCl7XG4gICAgICAgICAgICAgICAgICAgIHRyeXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IF90bXBfaW5zdC5sb2FkQXN5bmMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEVycm9yID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkSW5zdGFuY2UgPSBfdG1wX2luc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJhZF9yZWFkeVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke3RoaXMuZ2V0TmFtZSgpfSBsb2FkIHN1Y2ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUodHJ1ZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0+dGhpcy5vbmNlKFwic2hvd19hZFwiLHJlc29sdmUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fYWRJbnN0YW5jZS5zaG93QXN5bmMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEVycm9yID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYCR7dGhpcy5nZXROYW1lKCl9IHNob3cgc3VjYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcInNob3dfcmVzdWx0XCIse3Jlc3VsdDp0cnVlLGxldmVsOmluZGV4fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v6YeN5paw6I635Y+W5bm/5ZGK5L2NXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkSW5zdGFuY2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdG1wX2luc3QgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Y2F0Y2goZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke3RoaXMuZ2V0TmFtZSgpfSBzaG93IGZhaWxlZCwke2UuY29kZX0sJHtlLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcImFkX2ZhaWxlZFwiLHt0eXBlOnRoaXMuZ2V0TmFtZSgpLHBoYXNlOjIsY29kZTplLmNvZGUsbXNnOmUubWVzc2FnZSxsYXN0RXJyb3J9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEVycm9yID0gYCR7ZS5jb2RlfToyYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwic2hvd19yZXN1bHRcIix7cmVzdWx0OmZhbHNlLGVycjplLGxldmVsOmluZGV4fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGUuY29kZSA9PSBcIkFEU19OT1RfTE9BREVEXCIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/ph43mlrDliqDovb1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkSW5zdGFuY2UgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+mHjee9ruWKoOi9veiuoeaVsFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsb2FkQ291bnQgPSAwOyAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhd2FpdCB3YWl0KDMwICogMTAwMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihlLmNvZGUgPT0gXCJQRU5ESU5HX1JFUVVFU1RcIiB8fCBlLmNvZGUgPT0gXCJVTktOT1dOXCIgfHwgZS5jb2RlID09IFwiUkFURV9MSU1JVEVEXCIvKkNhbiBub3Qgc2hvdyBhZHMgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGdhbWUgc3RhcnRzLiovKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZG8gbm90aGluZyxwZW5uZGluZyBzaG93IHRoaXMgaW5zdGFuY2UgbmV4dCB0aW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+mHjeaWsOiOt+WPluW5v+WRiuS9jVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRJbnN0YW5jZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdG1wX2luc3QgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1jYXRjaChlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke3RoaXMuZ2V0TmFtZSgpfSBsb2FkIGZhaWxlZCwke2UuY29kZX0sJHtlLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJhZF9mYWlsZWRcIix7dHlwZTp0aGlzLmdldE5hbWUoKSxwaGFzZToxLGNvZGU6ZS5jb2RlLG1zZzplLm1lc3NhZ2UsbGFzdEVycm9yfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0RXJyb3IgPSBgJHtlLmNvZGV9OjFgO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUuY29kZSA9PSBcIkFEU19GUkVRVUVOVF9MT0FEXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZCBSZXF1ZXN0cyBhcmUgYmFzZWQgb24gYSBjb21iaW5hdGlvbiBvZjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEZXZpY2UgSURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQbGFjZW1lbnQgSURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEaXNwbGF5IEZvcm1hdCAoQmFubmVyLCBJbnRlcnN0aXRpYWwsIE5hdGl2ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBZb3VyIGFwcGxpY2F0aW9uIHNob3VsZCBhdHRlbXB0IHRvIG1ha2UgYW5vdGhlciByZXF1ZXN0IGFmdGVyIDMwIG1pbnV0ZXMuIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGFsc28gc3VnZ2VzdCBhZGp1c3RpbmcgeW91ciBSZWZyZXNoIFJhdGUgb3IgUmVxdWVzdCBSYXRlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHdhaXQoMzAgKiA2MCAqIDEwMDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKGUuY29kZSA9PSBcIklOVkFMSURfUEFSQU1cIil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/ph43mlrDojrflj5blub/lkYrkvY1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdG1wX2luc3QgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0FEU19OT19GSUxMLE5FVFdPUktfRkFJTFVSRSxVTktOT1dOXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gWW91IGFyZSBub3Qgc3VibWl0dGluZyByZXF1ZXN0cyB0b28gZnJlcXVlbnRseSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAoZm9yIGV4YW1wbGUsIHJlcXVlc3RpbmcgYW4gYWQgZm9yIHRoZSBzYW1lIHBsYWNlbWVudCBJRCBtdWx0aXBsZSB0aW1lcyB3aXRoaW4gYSAxNSBzZWNvbmQgaW50ZXJ2YWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXdhaXQgd2FpdChNYXRoLm1pbigrK3JlbG9hZENvdW50LDQpKjE1ICogMTAwMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB3YWl0KDMxICogMTAwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9Y2F0Y2goZSl7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYCR7dGhpcy5nZXROYW1lKCl9IGNyZWF0ZSBmYWlsZWQsJHtlLmNvZGV9LCR7aW5kZXh9YCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwiYWRfZmFpbGVkXCIse3R5cGU6dGhpcy5nZXROYW1lKCkscGhhc2U6MCxjb2RlOmUuY29kZSxtc2c6ZS5tZXNzYWdlLGxhc3RFcnJvcn0pO1xuICAgICAgICAgICAgICAgIGxhc3RFcnJvciA9IGAke2UuY29kZX06MGA7XG4gICAgICAgICAgICAgICAgaWYoZS5jb2RlID09IFwiQ0xJRU5UX1VOU1VQUE9SVEVEX09QRVJBVElPTlwiIHx8IGUuY29kZSA9PSBcIkFEU19UT09fTUFOWV9JTlNUQU5DRVNcIil7XG4gICAgICAgICAgICAgICAgICAgIC8v5LiN5Zyo6I635Y+W5bm/5ZGKXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF93YXRjaF9jb3VudCA9IDA7XG4gICAgYXN5bmMgc2hvd0FEKHNvdXJjZTpzdHJpbmcpIHtcbiAgICAgICAgaWYoIXRoaXMuaGFzQUQoKSl7XG4gICAgICAgICAgICB0aHJvdyBcIm5vIGFkIHJlYWR5XCI7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGJvID0gdGhpcy5lbWl0KFwic2hvd19hZFwiKTtcbiAgICAgICAgaWYoIWJvKXJldHVybjtcblxuICAgICAgICBibyA9IGF3YWl0IG5ldyBQcm9taXNlPGJvb2xlYW4+KChyZXNvbHZlLHJlamVjdCk9PntcbiAgICAgICAgICAgIHRoaXMub25jZShcInNob3dfcmVzdWx0XCIsKGRhdGE6e3Jlc3VsdDpib29sZWFuLGVycjp7Y29kZTpzdHJpbmcsbWVzc2FnZTpzdHJpbmd9LGxldmVsOm51bWJlcn0pPT57XG4gICAgICAgICAgICAgICAgaWYoZGF0YS5yZXN1bHQpe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoXCJhZF9zaG93XCIse3R5cGU6dGhpcy5nZXROYW1lKCkscmVzdWx0OisrdGhpcy5fd2F0Y2hfY291bnQsbGV2ZWw6ZGF0YS5sZXZlbCxzb3VyY2V9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZGF0YS5yZXN1bHQ/cmVzb2x2ZSgpOnJlamVjdChkYXRhLmVycik7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShkYXRhLmVycj9mYWxzZTp0cnVlKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIGJvO1xuICAgIH1cbn1cblxuXG5leHBvcnQgY2xhc3MgSW50ZXJzdGl0aWFsQUQgZXh0ZW5kcyBBZHZlcnRpc2V7XG4gICAgZ2V0TmFtZSgpe1xuICAgICAgICByZXR1cm4gXCJpYWRcIlxuICAgIH1cbiAgICBzdXBvcnRBRCgpIHtcbiAgICAgICAgbGV0IGFwaXMgPSBGQkluc3RhbnQuZ2V0U3VwcG9ydGVkQVBJcygpO1xuICAgICAgICByZXR1cm4gYXBpcy5pbmRleE9mKFwiZ2V0SW50ZXJzdGl0aWFsQWRBc3luY1wiKSA+IC0xXG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFzeW5jIGdldEFESW5zdGFuY2VBc3luYyhwbGFjZW1lbnRJZDpzdHJpbmcpe1xuICAgICAgICByZXR1cm4gYXdhaXQgRkJJbnN0YW50LmdldEludGVyc3RpdGlhbEFkQXN5bmMocGxhY2VtZW50SWQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJld2FyZGVkVmlkZW9BRCBleHRlbmRzIEFkdmVydGlzZXtcbiAgICBnZXROYW1lKCl7XG4gICAgICAgIHJldHVybiBcInJhZFwiXG4gICAgfVxuICAgIHN1cG9ydEFEKCkge1xuICAgICAgICBsZXQgYXBpcyA9IEZCSW5zdGFudC5nZXRTdXBwb3J0ZWRBUElzKCk7XG4gICAgICAgIHJldHVybiBhcGlzLmluZGV4T2YoXCJnZXRSZXdhcmRlZFZpZGVvQXN5bmNcIikgPiAtMVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBhc3luYyBnZXRBREluc3RhbmNlQXN5bmMocGxhY2VtZW50SWQ6c3RyaW5nKXtcbiAgICAgICAgcmV0dXJuIGF3YWl0IEZCSW5zdGFudC5nZXRSZXdhcmRlZFZpZGVvQXN5bmMocGxhY2VtZW50SWQpO1xuICAgIH0gICBcbn0iLCJpbXBvcnQgeyBFbWl0ZXIgfSBmcm9tIFwiLi4vY29yZS9FbWl0ZXJcIjtcbmltcG9ydCBSYW5rVk8gZnJvbSAnLi9SYW5rVk8nO1xuaW1wb3J0IHsgUmVtb3RlRGF0YSB9IGZyb20gJy4vUmVtb3RlRGF0YSc7XG5pbXBvcnQgUGxheWVyVk8gZnJvbSAnLi9QbGF5ZXJWTyc7XG5cbmV4cG9ydCBjbGFzcyBCYXNlUGxhdGZvcm0gZXh0ZW5kcyBFbWl0ZXJ7XG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgZGVmYXVsdERhdGE6UmVtb3RlRGF0YSl7XG5cdFx0c3VwZXIoKTtcblx0XHRzZXRJbnRlcnZhbCgoKT0+e1xuXHRcdFx0aWYodGhpcy4kcmVtb3RlRGF0YSAmJiB0aGlzLiRyZW1vdGVEYXRhLmlzRGlydHkpe1xuXHRcdFx0XHRkZWxldGUgdGhpcy4kcmVtb3RlRGF0YS5pc0RpcnR5O1xuXHRcdFx0XHR0aGlzLnN5bmNSZW1vdGVEYXRhKCk7XG5cdFx0XHR9XG5cdFx0fSwyMDApO1xuXHR9XG5cdFxuXHRvcHBlbmVudERhdGE6YW55ID0gbnVsbDtcblx0ZW50cnk6c3RyaW5nID0gbnVsbDtcblx0c3dpdGNoX2dhbWVJbmZvOnthcHBJZDpzdHJpbmcsYXBwTmFtZTpzdHJpbmd9ID0gbnVsbFxuXHRiYXR0bGVfaW5mbyA9IG51bGw7XG5cdGlzTmV3UGxheWVyOmJvb2xlYW4gPSB0cnVlO1xuXG5cdHJlYWRvbmx5IHBsYXllckluZm8gPSB7XG5cdFx0XHRwbGF5ZXJJZDpcImkwXCIsXG5cdFx0XHRuYW1lOlwidGVycmFuXCIsXG5cdFx0XHRwaG90bzpcInJlc291cmNlL2RlZmF1bHRfaGVhZC5wbmdcIixcblx0XHRcdHNpZ25hdHVyZTpcIlwiXG5cdFx0fTtcblxuXHRyZWFkb25seSBhcHBJZCA9ICRzeXNfYXBwX2lkXG5cdHJlYWRvbmx5IGFwcE5hbWUgPSAkc3lzX2FwcF9uYW1lO1xuXG5cdHByb3RlY3RlZCBfZnJpZW5kczpQbGF5ZXJWT1tdO1xuXHRnZXRGcmllbmRzKCl7XG5cdFx0cmV0dXJuIHRoaXMuX2ZyaWVuZHM7XG5cdH1cblx0XG5cdGFzeW5jIGluaXRpYWxpemUoKXtcblx0XHR0aGlzLl9mcmllbmRzID0gW107XG5cdH1cblxuICAgIHByb3RlY3RlZCBhc3luYyBwdWxsUmVtb3RlRGF0YSgpe1xuXHRcdGxldCBkYXRhID0gYXdhaXQgdGhpcy5nZXREYXRhKFtcInVzZXJfZGF0YVwiXSk7XG5cdFx0bGV0IG9iaiA9IHt9XG5cdFx0dHJ5e1xuXHRcdFx0b2JqID0gSlNPTi5wYXJzZShkYXRhW1widXNlcl9kYXRhXCJdKSB8fCB7fTtcblx0XHR9Y2F0Y2goZSl7fVxuXHRcdHRoaXMuJHJlbW90ZURhdGEgPSBvYmogYXMgYW55O1xuXHRcdFxuXHRcdGxldCBpc0VtcHR5ID0gdHJ1ZTtcblx0XHRmb3IobGV0IGtleSBpbiB0aGlzLmRlZmF1bHREYXRhKXtcblx0XHRcdGxldCBwcm9wID0ga2V5IGFzIHN0cmluZ1xuXHRcdFx0aWYob2JqW3Byb3BdID09IHZvaWQgMCl7XG5cdFx0XHRcdG9ialtwcm9wXSA9IHRoaXMuZGVmYXVsdERhdGFba2V5XTtcblx0XHRcdH1lbHNle1xuXHRcdFx0XHRpc0VtcHR5ID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0dGhpcy5pc05ld1BsYXllciA9IGlzRW1wdHk7XG5cdH1cblx0XG5cdGFzeW5jIHN5bmNSZW1vdGVEYXRhKGZvcmNlOmJvb2xlYW4gPSBmYWxzZSl7XG5cdFx0YXdhaXQgdGhpcy5zZXREYXRhKHt1c2VyX2RhdGE6SlNPTi5zdHJpbmdpZnkodGhpcy4kcmVtb3RlRGF0YSl9LGZvcmNlKTtcblx0fVxuXG5cdGdldCByZW1vdGVEYXRhKCl7XG5cdFx0IHJldHVybiB0aGlzLiRyZW1vdGVEYXRhXG5cdH1cblxuXHRhc3luYyBjbGVhclJlbW90ZSgpe1xuXHRcdHRoaXMuJHJlbW90ZURhdGEgPSB7fSBhcyBhbnlcblx0XHRhd2FpdCB0aGlzLnN5bmNSZW1vdGVEYXRhKCk7XG5cdH1cblxuXHRzZXRMb2FkaW5nUHJvZ3Jlc3ModmFsdWUpe1xuXHRcdCRzeXNfcHJvZ3Jlc3MgPSB2YWx1ZTtcblx0fVxuXG5cdHByb3RlY3RlZCAkcmVtb3RlRGF0YTpSZW1vdGVEYXRhID0gbnVsbDtcblx0YXN5bmMgc3RhcnRHYW1lKGlhZF9pZHM6c3RyaW5nW10scmFkX2lkczpzdHJpbmdbXSkge1xuXHRcdCRzeXNfcGxhdGZvcm1fc3RhcnRlZCA9IHRydWU7XG5cdFx0XG5cdFx0YXdhaXQgdGhpcy5wdWxsUmVtb3RlRGF0YSgpO1xuXG5cdFx0YXdhaXQgbmV3IFByb21pc2Uocj0+c2V0VGltZW91dChyLDIwMCkpO1xuXHR9XG5cblx0Z2V0V29ybGRFbnRyaWVzKCk6UmFua1ZPW117XG5cdFx0bGV0IGFyciA9IFtdO1xuXHRcdGZvcihsZXQgaSA9IDA7aSA8PSAxMDtpKyspe1xuXHRcdFx0bGV0IHIgPSBuZXcgUmFua1ZPKCk7XG5cdFx0XHRyLmlkID0gXCJpXCIraTtcblx0XHRcdHIubmFtZSA9IFwid29ybGRcIitpO1xuXHRcdFx0ci5waG90byA9IFwicmFuay9kZWZhdWx0X3BvcnRyYWl0LnBuZ1wiLFxuXHRcdFx0ci5yYW5rID0gaSsxLFxuXHRcdFx0ci5zY29yZSA9IGkqMTBcblx0XHRcdGFyci5wdXNoKHIpO1xuXHRcdH1cblx0XHRyZXR1cm4gYXJyO1xuXHR9O1xuXHRhc3luYyBnZXRXb3JsZEVudHJpZXNBc3luYygpe3JldHVybiB0aGlzLmdldFdvcmxkRW50cmllcygpfTtcblxuXHRnZXRXb3JsZEZyaWVuZEVudHJpZXMoKTpSYW5rVk9bXXtcblx0XHRsZXQgYXJyID0gW107XG5cdFx0Zm9yKGxldCBpID0gMDtpIDw9IDEwO2krKyl7XG5cdFx0XHRsZXQgciA9IG5ldyBSYW5rVk8oKTtcblx0XHRcdHIuaWQgPSBcImlcIitpO1xuXHRcdFx0ci5uYW1lID0gXCJib3RcIitpO1xuXHRcdFx0ci5waG90byA9IFwicmFuay9kZWZhdWx0X3BvcnRyYWl0LnBuZ1wiLFxuXHRcdFx0ci5yYW5rID0gaSsxLFxuXHRcdFx0ci5zY29yZSA9IGkqMTBcblx0XHRcdGFyci5wdXNoKHIpO1xuXHRcdH1cblx0XHRyZXR1cm4gYXJyO1xuXHR9O1xuXHRhc3luYyBnZXRXb3JsZEZyaWVuZEVudHJpZXNBc3luYygpe3JldHVybiB0aGlzLmdldFdvcmxkRnJpZW5kRW50cmllcygpfTtcblx0Z2V0V29ybGRIaWdoU2NvcmUoKXtyZXR1cm4gK2xvY2FsU3RvcmFnZS5nZXRJdGVtKFwiaGlnaHRfc2NvcmUxXCIpfHwwfVxuXHRnZXRXb3JsZEVudHJ5KCl7XG5cdFx0bGV0IHJhbmsgPSBuZXcgUmFua1ZPKCk7XG5cdFx0cmFuay5pZCA9IFwiaTBcIjtcblx0XHRyYW5rLm5hbWUgPSBcImJvdDBcIjtcblx0XHRyYW5rLnBob3RvID0gXCJyYW5rL2RlZmF1bHRfcG9ydHJhaXQucG5nXCIsXG5cdFx0cmFuay5zY29yZSA9IDEwMDtcblx0XHRyYW5rLnJhbmsgPSAxO1xuXHRcdHJldHVybiByYW5rO1xuXHR9XG5cblx0Z2V0V2Vla2x5RW50cmllcygpOlJhbmtWT1tde3JldHVybiBbXX07XG5cdGdldFdlZWtseUVudHJpZXNBc3luYygpe3JldHVybiBQcm9taXNlLnJlc29sdmU8UmFua1ZPW10+KFtdKX07XG5cblx0Z2V0V2Vla2x5RnJpZW5kRW50cmllcygpOlJhbmtWT1tde3JldHVybiBbXX07XG5cdGdldFdlZWtseUZyaWVuZEVudHJpZXNBc3luYygpe3JldHVybiBQcm9taXNlLnJlc29sdmU8UmFua1ZPW10+KFtdKX07XG5cdGdldFdlZWtseUhpZ2hTY29yZSgpe3JldHVybiArbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJoaWdodF9zY29yZTFcIil8fDB9XG5cdGdldFdlZWtseUVudHJ5KCl7XG5cdFx0bGV0IHJhbmsgPSBuZXcgUmFua1ZPKCk7XG5cdFx0cmFuay5pZCA9IFwiaTBcIjtcblx0XHRyYW5rLm5hbWUgPSBcImJvdDBcIjtcblx0XHRyYW5rLnBob3RvID0gXCJyZXNvdXJjZS9kZWZhdWx0X2hlYWQucG5nXCIsXG5cdFx0cmFuay5zY29yZSA9IDEwMDtcblx0XHRyYW5rLnJhbmsgPSAxO1xuXHRcdHJldHVybiByYW5rO1xuXHR9XG5cdFxuXHRzZXRIaWdodFNjb3JlKHZhbHVlOm51bWJlcixkYXRhPzphbnkpe1xuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiaGlnaHRfc2NvcmUxXCIsdmFsdWUrXCJcIilcblx0fVxuXG5cdGFzeW5jIGdldERhdGEoa2V5czpzdHJpbmdbXSl7XG5cdFx0bGV0IHJlc3VsdCA9IHt9O1xuXHRcdGZvcihsZXQga2V5IG9mIGtleXMpe1xuXHRcdFx0cmVzdWx0W2tleV0gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0XG5cdH1cblxuXHRhc3luYyBzZXREYXRhKG9iaixmb3JjZTpib29sZWFuID0gZmFsc2Upe1xuXHRcdGZvcihsZXQga2V5IGluIG9iail7XG5cdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksb2JqW2tleV0pO1xuXHRcdH1cblx0fVxuXG5cdGhhc0lBRCgpe3JldHVybiAgdHJ1ZX1cblx0YXN5bmMgc2hvd0lBRChzb3VyY2U9XCJhbnlcIil7cmV0dXJuIHRydWV9XG5cblx0aGFzQUQoKXtyZXR1cm4gIHRydWV9XG5cdGFzeW5jIHNob3dBRChzb3VyY2U9XCJhbnlcIil7cmV0dXJuIHRydWV9XG5cdFxuXHRoYXNSQUQoKSB7cmV0dXJuICB0cnVlfVxuXHRhc3luYyBzaG93UkFEKHNvdXJjZT1cImFueVwiKSB7cmV0dXJuIHRydWV9XG5cblx0YXN5bmMgc2hhcmVBc3luYyhvcHRpb246e1xuXHRcdHRleHQ6c3RyaW5nLFxuXHRcdGltYWdlOnN0cmluZyxcblx0XHR0ZW1wbGF0ZT86c3RyaW5nXG5cdFx0cGF5bG9hZD86YW55XG5cdH0pe31cblxuXHRhc3luYyB1cGRhdGVBc3luYyhvcHRpb246e1xuXHRcdFx0dGV4dDpzdHJpbmcsXG5cdFx0XHRpbWFnZTpzdHJpbmcsXG5cdFx0XHR0ZW1wbGF0ZT86c3RyaW5nLFxuXHRcdFx0Y3RhPzpzdHJpbmcsXG5cdFx0XHRzdHJhdGVneT86c3RyaW5nLFxuXHRcdFx0cGF5bG9hZD86YW55XG5cdFx0fSl7fVxuXHRcdFxuXHRhc3luYyBjaG9vc2VBc3luYyhmaWx0ZXJzPzogQ29udGV4dEZpbHRlcltdLCBtYXhTaXplPzogbnVtYmVyLCBtaW5TaXplPzpudW1iZXIsc291cmNlOnN0cmluZz1cImFueVwiKXtyZXR1cm4gdHJ1ZTt9XG5cdGFzeW5jIGNyZWF0ZUFzeW5jKGlkOnN0cmluZyxzb3VyY2U6c3RyaW5nPVwiYW55XCIpe3JldHVybiB0cnVlO31cblx0YXN5bmMgc3dpdGNoQXN5bmMoY29udGV4dElkOnN0cmluZyxzb3VyY2U6c3RyaW5nPVwiYW55XCIpe3JldHVybiB0cnVlfVxuXG5cdGdldENvbnRleHRJZCgpe3JldHVybiBudWxsfTtcblxuXHRsb2cobmFtZTpzdHJpbmcsZGF0YT86YW55LHZhbHVlU3VtOm51bWJlcj0xKXtcblx0XHRjb25zb2xlLmxvZyhuYW1lLEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcblx0fVxuXHRcblx0YXN5bmMgY3JlYXRlU2hvcnRjdXRBc3luYygpe1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0YXN5bmMgc3Vic2NyaWJlQm90QXN5bmMoKXtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxufSIsImltcG9ydCB7IEJhc2VQbGF0Zm9ybSB9IGZyb20gXCIuL0Jhc2VQbGF0Zm9ybVwiO1xuaW1wb3J0IHsgSW50ZXJzdGl0aWFsQUQsIFJld2FyZGVkVmlkZW9BRCB9IGZyb20gJy4vQWR2ZXJ0aXNlJztcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSAnLi4vY29yZS9VdGlscyc7XG5pbXBvcnQgTGVhZGVyQm9hcmQgZnJvbSAnLi9MZWFkZXJCb2FyZCc7XG5pbXBvcnQgUGxheWVyVk8gZnJvbSAnLi9QbGF5ZXJWTyc7XG5cbmV4cG9ydCBjbGFzcyBGQlBsYXRmb3JtIGV4dGVuZHMgQmFzZVBsYXRmb3Jte1xuXHRwcml2YXRlIF93b3JsZF9sZWFkZXI6TGVhZGVyQm9hcmQ7XG5cdC8vIHByaXZhdGUgX3dlZWt5X2xlYWRlcjpMZWFkZXJCb2FyZDtcblxuXHRwcml2YXRlIF9pYWQ6SW50ZXJzdGl0aWFsQUQ7XG5cdHByaXZhdGUgX3JhZDpSZXdhcmRlZFZpZGVvQUQ7XG5cdFxuICAgIGFzeW5jIGluaXRpYWxpemUoKXtcbiAgICAgICAgLy8gdHJ5e2F3YWl0IEZCSW5zdGFudC5pbml0aWFsaXplQXN5bmMoKX1jYXRjaChlKXtjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShlKSl9XG5cdFx0d2hpbGUoISRzeXNfcGxhdGZvcm1faW5pdGlhbGl6ZWQpe2F3YWl0IG5ldyBQcm9taXNlKHI9PnNldFRpbWVvdXQociwxMDApKX1cblx0XHR0aGlzLl93b3JsZF9sZWFkZXIgPSBuZXcgTGVhZGVyQm9hcmQoXCJud29ybGRcIik7XG5cdFx0Ly8gdGhpcy5fd2Vla3lfbGVhZGVyID0gbmV3IExlYWRlckJvYXJkKFwid2Vla2x5XCIpO1xuXHRcdHRoaXMuZmV0Y2hEYXRhKCk7XG4gICAgfVxuXG5cdHByaXZhdGUgX3NpZ25lZFBsYXllckluZm86c3RyaW5nPVwiXCI7XG5cdHByaXZhdGUgX2lzRGF0ZVJlYWR5ID0gZmFsc2U7XG5cdHByaXZhdGUgX2lzRmV0Y2hpbmcgPSBmYWxzZTtcblx0YXN5bmMgZmV0Y2hEYXRhKCl7XG5cdFx0aWYodGhpcy5faXNEYXRlUmVhZHkpIHJldHVybjtcblxuXHRcdGlmKHRoaXMuX2lzRmV0Y2hpbmcpe1xuXHRcdFx0YXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0+e1xuXHRcdFx0XHR0aGlzLm9uY2UoXCJkYXRhX3JlYWR5XCIscmVzb2x2ZSlcblx0XHRcdH0pXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHRyeXtcblx0XHRcdHRoaXMuX2lzRmV0Y2hpbmcgPSB0cnVlO1xuXHRcdFx0YXdhaXQgUHJvbWlzZS5hbGwoXG5cdFx0XHRcdFtcdFxuXHRcdFx0XHRcdEZCSW5zdGFudC5wbGF5ZXIuZ2V0U2lnbmVkUGxheWVySW5mb0FzeW5jKFwia2N1ZlwiKS50aGVuKHY9PnRoaXMuX3NpZ25lZFBsYXllckluZm89di5nZXRTaWduYXR1cmUoKSkuY2F0Y2godj0+bnVsbCksXG5cdFx0XHRcdFx0dGhpcy5wdWxsUmVtb3RlRGF0YSgpLFxuXHRcdFx0XHRcdHRoaXMuX3dvcmxkX2xlYWRlci5pbml0aWFsaXplQXN5bmMoZmFsc2UsdHJ1ZSksXG5cdFx0XHRcdFx0Ly8gdGhpcy5fd2Vla3lfbGVhZGVyLmluaXRpYWxpemVBc3luYyhmYWxzZSxmYWxzZSlcblx0XHRcdFx0XVxuXHRcdFx0KVxuXHRcdH1jYXRjaChlKXtcblx0XHRcdGNvbnNvbGUubG9nKFwiZmV0Y2hEYXRhIGVycm9yXCIsZS5jb2RlIHx8IGUubXNnIHx8IGUpO1xuXHRcdH1cblx0XHR0aGlzLl9pc0ZldGNoaW5nID0gZmFsc2U7XG5cdFx0dGhpcy5faXNEYXRlUmVhZHkgPSB0cnVlO1xuXHRcdHRoaXMuZW1pdChcImRhdGFfcmVhZHlcIik7XG5cdH1cblxuICAgIGFzeW5jIHN0YXJ0R2FtZShpYWRfaWRzOnN0cmluZ1tdLHJhZF9pZHM6c3RyaW5nW10pIHtcbiAgICAgICAgYXdhaXQgRkJJbnN0YW50LnN0YXJ0R2FtZUFzeW5jKCk7XG5cdFx0XG5cdFx0aWYoaWFkX2lkcyAmJiBpYWRfaWRzLmxlbmd0aD4wKXtcblx0XHRcdHRoaXMuX2lhZCA9IG5ldyBJbnRlcnN0aXRpYWxBRChpYWRfaWRzLHRydWUpO1xuXHRcdFx0dGhpcy5faWFkLm9uKFwiYWRfZmFpbGVkXCIsZD0+dGhpcy5sb2coXCJhZF9mYWlsZWRcIixkKSlcblx0XHRcdHRoaXMuX2lhZC5vbihcImFkX3Nob3dcIixkPT50aGlzLmxvZyhcImlhZF90aW1lc1wiLGQpKVxuXHRcdH1cblxuXHRcdGlmKHJhZF9pZHMgJiYgcmFkX2lkcy5sZW5ndGg+MCl7XG5cdFx0XHR0aGlzLl9yYWQgPSBuZXcgUmV3YXJkZWRWaWRlb0FEKHJhZF9pZHMsdHJ1ZSk7XG5cdFx0XHR0aGlzLl9yYWQub24oXCJhZF9mYWlsZWRcIixkPT50aGlzLmxvZyhcImFkX2ZhaWxlZFwiLGQpKVxuXHRcdFx0dGhpcy5fcmFkLm9uKFwiYWRfc2hvd1wiLGQ9PnRoaXMubG9nKFwicmFkX3RpbWVzXCIsZCkpXG5cdFx0fVxuXHRcdFxuXHRcdHRoaXMucGxheWVySW5mby5wbGF5ZXJJZCA9IEZCSW5zdGFudC5wbGF5ZXIuZ2V0SUQoKTtcblx0XHR0aGlzLnBsYXllckluZm8ubmFtZSA9IEZCSW5zdGFudC5wbGF5ZXIuZ2V0TmFtZSgpO1xuXHRcdHRoaXMucGxheWVySW5mby5waG90byA9IEZCSW5zdGFudC5wbGF5ZXIuZ2V0UGhvdG8oKTtcblx0XHR0aGlzLnBsYXllckluZm8uc2lnbmF0dXJlID0gdGhpcy5fc2lnbmVkUGxheWVySW5mbztcblxuXHRcdGxldCBvcHRpb24gPSBGQkluc3RhbnQuZ2V0RW50cnlQb2ludERhdGEoKSB8fHt9O1xuXHRcdE9iamVjdC5hc3NpZ24oJHN5c19hcmdzLG9wdGlvbik7XG5cdFx0bGV0IGRhdGEgPSBvcHRpb25bXCJvcHBlbmVudF9pbmZvXCJdO1xuXHRcdGlmKGRhdGEgJiYgZGF0YS5wbGF5ZXJJZCAhPSB0aGlzLnBsYXllckluZm8ucGxheWVySWQpe1xuXHRcdFx0dGhpcy5vcHBlbmVudERhdGEgPSBkYXRhO1xuXHRcdH1cblx0XHRsZXQgZW50cnlfcG9pbnQgPSBGQkluc3RhbnQuZ2V0RW50cnlQb2ludEFzeW5jKClcblx0XHR0aGlzLmVudHJ5ID0gb3B0aW9uW1wiZW50cnlcIl0gfHwgb3B0aW9uW1widHlwZVwiXSB8fCBcIm5vcm1hbFwiO1xuXG5cdFx0aWYodGhpcy5lbnRyeSA9PSBcIm5vcm1hbFwiICYmIGVudHJ5X3BvaW50ID09IFwiYWRtaW5fbWVzc2FnZVwiKXtcblx0XHRcdHRoaXMuZW50cnkgPSBcImxlYWRlcmJvYXJkXCJcblx0XHR9XG5cblx0XHR0aGlzLnN3aXRjaF9nYW1lSW5mbyA9IG9wdGlvbltcInN3aXRjaF9nYW1lSW5mb1wiXSB8fCBudWxsO1xuXHRcdHRoaXMuYmF0dGxlX2luZm8gPSBvcHRpb25bXCJiYXR0bGVfaW5mb1wiXSB8fCBudWxsO1xuXHRcblx0XHRsZXQgYXJyID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuXHRcdFx0dGhpcy5mZXRjaERhdGEoKSxcblx0XHRcdFV0aWxzLndhaXQoMTAwMCkudGhlbigoKT0+RkJJbnN0YW50LnBsYXllci5nZXRDb25uZWN0ZWRQbGF5ZXJzQXN5bmMoKSlcblx0XHRdKTtcblx0XHRcblx0XHR0aGlzLl9mcmllbmRzID0gKGFyclsxXSB8fCBbXSkubWFwKHY9PlBsYXllclZPLmZyb21GQlBsYXllcih2KSk7XG5cdFx0Ly8gdGhpcy5fd2Vla3lfbGVhZGVyLnNldEZyaWVuZHModGhpcy5fZnJpZW5kcyk7XG5cdFx0dGhpcy5fd29ybGRfbGVhZGVyLnNldEZyaWVuZHModGhpcy5fZnJpZW5kcyk7XG5cblx0XHRGQkluc3RhbnQuc2V0U2Vzc2lvbkRhdGEoe1xuXHRcdFx0cGxheWVySW5mbzoge1xuXHRcdFx0XHRuYW1lOkZCSW5zdGFudC5wbGF5ZXIuZ2V0TmFtZSgpLFxuXHRcdFx0XHRoZWFkOiBGQkluc3RhbnQucGxheWVyLmdldFBob3RvKCksXG5cdFx0XHRcdGxhbmc6IEZCSW5zdGFudC5nZXRMb2NhbGUoKVxuXHRcdFx0fSxcblx0XHRcdGZyaWVuZHM6dGhpcy5fZnJpZW5kcy5tYXAodj0+e3JldHVybiB7XG5cdFx0XHRcdGlkOnYuaWQsXG5cdFx0XHRcdHBob3RvOnYucGhvdG8sXG5cdFx0XHRcdG5hbWU6di5uYW1lXG5cdFx0XHR9fSlcblx0XHR9KVxuXG5cdFx0dGhpcy5sb2coXCJlbnRyeV9pbmZvXCIse2VudHJ5OnRoaXMuZW50cnkgfHwgXCJub3JtYWxcIn0pO1xuXHRcdGNvbnNvbGUubG9nKFwic3RhcnRHYW1lIGRvbmUhXCIpXG5cblx0XHQvLyAkc3lzX3BsYXRmb3JtX3N0YXJ0ZWQgPSB0cnVlO1xuICAgIH1cblxuXHRnZXRXb3JsZEVudHJpZXMoKXtyZXR1cm4gdGhpcy5fd29ybGRfbGVhZGVyLmdldEVudHJpZXMoKX07XG5cdGdldFdvcmxkRW50cmllc0FzeW5jKCl7cmV0dXJuIHRoaXMuX3dvcmxkX2xlYWRlci5nZXRFbnRyaWVzQXN5bmMoKX07XG5cblx0Z2V0V29ybGRGcmllbmRFbnRyaWVzKCl7cmV0dXJuIHRoaXMuX3dvcmxkX2xlYWRlci5nZXRDb25uZWN0ZWRQbGF5ZXJFbnRyaWVzKCl9O1xuXHRnZXRXb3JsZEZyaWVuZEVudHJpZXNBc3luYygpe3JldHVybiB0aGlzLl93b3JsZF9sZWFkZXIuZ2V0Q29ubmVjdGVkUGxheWVyRW50cmllc0FzeW5jKCl9O1xuXG5cdGdldFdvcmxkSGlnaFNjb3JlKCl7cmV0dXJuIHRoaXMuX3dvcmxkX2xlYWRlci5nZXRTY29yZSgpO31cblx0Z2V0V29ybGRFbnRyeSgpe3JldHVybiB0aGlzLl93b3JsZF9sZWFkZXIuZ2V0U2VsZkVudHJ5KCl9XG5cblx0Ly8gZ2V0V2Vla2x5RW50cmllcygpe3JldHVybiB0aGlzLl93ZWVreV9sZWFkZXIuZ2V0RW50cmllcygpfTtcblx0Ly8gZ2V0V2Vla2x5RW50cmllc0FzeW5jKCl7cmV0dXJuIHRoaXMuX3dlZWt5X2xlYWRlci5nZXRFbnRyaWVzQXN5bmMoKX07XG5cblx0Ly8gZ2V0V2Vla2x5RnJpZW5kRW50cmllcygpe3JldHVybiB0aGlzLl93ZWVreV9sZWFkZXIuZ2V0Q29ubmVjdGVkUGxheWVyRW50cmllcygpfTtcblx0Ly8gZ2V0V2Vla2x5RnJpZW5kRW50cmllc0FzeW5jKCl7cmV0dXJuIHRoaXMuX3dlZWt5X2xlYWRlci5nZXRDb25uZWN0ZWRQbGF5ZXJFbnRyaWVzQXN5bmMoKX07XG5cblx0Ly8gZ2V0V2Vla2x5SGlnaFNjb3JlKCl7cmV0dXJuIHRoaXMuX3dlZWt5X2xlYWRlci5nZXRTY29yZSgpO31cblx0Ly8gZ2V0V2Vla2x5RW50cnkoKXtyZXR1cm4gdGhpcy5fd2Vla3lfbGVhZGVyLmdldFNlbGZFbnRyeSgpfVxuXG5cblx0c2V0SGlnaHRTY29yZSh2YWx1ZTpudW1iZXIsZGF0YT86YW55KXtcblx0XHQvLyB0aGlzLl93ZWVreV9sZWFkZXIuc2V0U2NvcmUodmFsdWUsZGF0YSlcblx0XHR0aGlzLl93b3JsZF9sZWFkZXIuc2V0U2NvcmUodmFsdWUsZGF0YSk7XG5cdH1cblxuXHRhc3luYyBnZXREYXRhKGtleXM6c3RyaW5nW10pe1xuXHRcdHJldHVybiBhd2FpdCBGQkluc3RhbnQucGxheWVyLmdldERhdGFBc3luYyhrZXlzKXx8e31cblx0fVxuXG5cdGFzeW5jIHNldERhdGEob2JqLGZvcmNlPWZhbHNlKXtcblx0XHRhd2FpdCBGQkluc3RhbnQucGxheWVyLnNldERhdGFBc3luYyhvYmopO1xuXHRcdGlmKGZvcmNlKXtcblx0XHRcdGF3YWl0IEZCSW5zdGFudC5wbGF5ZXIuZmx1c2hEYXRhQXN5bmMoKTtcblx0XHR9XG5cdH1cblxuXHRoYXNBRCgpIHtcblx0XHRyZXR1cm4gdGhpcy5oYXNSQUQoKSB8fCB0aGlzLmhhc0lBRCgpXG5cdH1cblxuXHRhc3luYyBzaG93QUQoc291cmNlPVwiYW55XCIpIHtcblx0XHRyZXR1cm4gYXdhaXQgdGhpcy5zaG93UkFEKHNvdXJjZSkgfHwgYXdhaXQgdGhpcy5zaG93SUFEKHNvdXJjZSlcblx0fVxuXG5cdGhhc1JBRCgpIHtcblx0XHRyZXR1cm4gdGhpcy5fcmFkICYmIHRoaXMuX3JhZC5oYXNBRCgpO1xuXHR9XG5cblx0YXN5bmMgc2hvd1JBRChzb3VyY2U9XCJhbnlcIikge1xuXHRcdHRoaXMubG9nKFwic2hvd1JBRFwiLHtyZXN1bHQ6LTEsc291cmNlOnNvdXJjZX0pXG5cdFx0bGV0IGJvID0gdGhpcy5fcmFkICYmIGF3YWl0IHRoaXMuX3JhZC5zaG93QUQoc291cmNlKTtcblx0XHR0aGlzLmxvZyhcInNob3dSQURcIix7cmVzdWx0OmJvPzE6MCxzb3VyY2U6c291cmNlfSlcblx0XHRyZXR1cm4gYm87XG5cdH1cblxuXHRwcml2YXRlIF9sYXN0SUFEVGltZSA9IE5hTjtcblx0cHJpdmF0ZSBnZXQgbGFzdElBRFRpbWUoKXtcblx0XHRpZihpc05hTih0aGlzLl9sYXN0SUFEVGltZSkpe1xuXHRcdFx0bGV0IHZhbHVlPWxvY2FsU3RvcmFnZS5nZXRJdGVtKGAke3RoaXMucGxheWVySW5mby5wbGF5ZXJJZH1fbGl0YCk7XG5cdFx0XHRpZighdmFsdWUpe1xuXHRcdFx0XHR0aGlzLl9sYXN0SUFEVGltZSA9IHRoaXMuaXNOZXdQbGF5ZXI/RGF0ZS5ub3coKTowO1xuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdHRoaXMuX2xhc3RJQURUaW1lID0gK3ZhbHVlIHx8IDA7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLl9sYXN0SUFEVGltZTtcblx0fVxuXG5cdHByaXZhdGUgc2V0IGxhc3RJQURUaW1lKHY6bnVtYmVyKXtcblx0XHRpZih0aGlzLl9sYXN0SUFEVGltZSA9PSB2KSByZXR1cm47XG5cdFx0dGhpcy5fbGFzdElBRFRpbWUgPSB2O1xuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKGAke3RoaXMucGxheWVySW5mby5wbGF5ZXJJZH1fbGl0YCx2K1wiXCIpO1x0XG5cdH1cblxuXHRoYXNJQUQoKSB7XG5cdFx0aWYoRGF0ZS5ub3coKSAtIHRoaXMubGFzdElBRFRpbWUgPCA0MCoxMDApIHJldHVybiBmYWxzZTtcblx0XHRyZXR1cm4gdGhpcy5faWFkICYmIHRoaXMuX2lhZC5oYXNBRCgpO1xuXHR9XG5cblx0YXN5bmMgc2hvd0lBRChzb3VyY2U9XCJhbnlcIikge1xuXHRcdHRoaXMubG9nKFwic2hvd0lBRFwiLHtyZXN1bHQ6LTEsc291cmNlOnNvdXJjZX0pXG5cdFx0bGV0IGJvID0gdGhpcy5faWFkICYmIGF3YWl0IHRoaXMuX2lhZC5zaG93QUQoc291cmNlKTtcblx0XHR0aGlzLmxvZyhcInNob3dJQURcIix7cmVzdWx0OmJvPzE6MCxzb3VyY2U6c291cmNlfSlcblxuXHRcdHRoaXMubGFzdElBRFRpbWUgPSBEYXRlLm5vdygpO1xuXHRcdHJldHVybiBibztcblx0fVxuXG5cdGFzeW5jIHNoYXJlQXN5bmMob3B0aW9uOntcblx0XHR0ZXh0OnN0cmluZyxcblx0XHRpbWFnZTpzdHJpbmcsXG5cdFx0dGVtcGxhdGU/OnN0cmluZ1xuXHRcdHBheWxvYWQ/OmFueVxuXHR9KXtcblx0XHRsZXQgb3JpZ2luID0ge2VudHJ5Om9wdGlvbi50ZW1wbGF0ZSB8fCAnbm9ybWFsX3NoYXJlJ307XG4gICAgICAgIGF3YWl0IEZCSW5zdGFudC5zaGFyZUFzeW5jKHtcblx0XHRcdGludGVudDpcIlNIQVJFXCIsXG5cdFx0XHRpbWFnZTpvcHRpb24uaW1hZ2UsXG5cdFx0XHR0ZXh0OiBvcHRpb24udGV4dCxcblx0XHRcdGRhdGE6IE9iamVjdC5hc3NpZ24ob3JpZ2luLG9wdGlvbi5wYXlsb2FkKSxcblx0XHR9YXMgYW55KVxuICAgIH1cblxuXHRhc3luYyB1cGRhdGVBc3luYyhvcHRpb246e1xuXHRcdFx0dGV4dDpzdHJpbmcsXG5cdFx0XHRpbWFnZTpzdHJpbmcsXG5cdFx0XHR0ZW1wbGF0ZT86c3RyaW5nLFxuXHRcdFx0Y3RhPzpzdHJpbmcsXG5cdFx0XHRzdHJhdGVneT86c3RyaW5nLFxuXHRcdFx0cGF5bG9hZD86YW55XG5cdFx0fSkge1xuXHRcdGxldCBvcmlnaW4gPSB7ZW50cnk6b3B0aW9uLnRlbXBsYXRlIHx8ICdub3JtYWxfdXBkYXRlJ307XG5cdFx0YXdhaXQgRkJJbnN0YW50LnVwZGF0ZUFzeW5jKFxuXHRcdFx0e1xuXHRcdFx0XHRhY3Rpb246ICdDVVNUT00nLFxuXHRcdFx0XHRjdGE6IG9wdGlvbi5jdGEgfHwgJ1BsYXkgbm93Jyxcblx0XHRcdFx0aW1hZ2U6IG9wdGlvbi5pbWFnZSxcblx0XHRcdFx0dGV4dDogb3B0aW9uLnRleHQgfHwgJ1BsYXkgd2l0aCBtZSEnLFxuXHRcdFx0XHR0ZW1wbGF0ZTogb3B0aW9uLnRlbXBsYXRlIHx8ICdnYW1lX3Jlc3VsdCcsXG5cdFx0XHRcdGRhdGE6IE9iamVjdC5hc3NpZ24ob3JpZ2luLG9wdGlvbi5wYXlsb2FkKSxcblx0XHRcdFx0c3RyYXRlZ3k6IG9wdGlvbi5zdHJhdGVneXx8J0lNTUVESUFURScsXG5cdFx0XHRcdG5vdGlmaWNhdGlvbjogJ05PX1BVU0gnXHRcblx0XHRcdH1cblx0XHQpO1xuXHR9XG5cblx0cHJpdmF0ZSBfY2hvb3NlQXN5bmNfdGltZXM6bnVtYmVyID0gMDtcblx0YXN5bmMgY2hvb3NlQXN5bmMoZmlsdGVycz86IENvbnRleHRGaWx0ZXJbXSwgbWF4U2l6ZT86IG51bWJlciwgbWluU2l6ZT86bnVtYmVyLHNvdXJjZTpzdHJpbmc9XCJhbnlcIil7XG5cdFx0bGV0IGJvID0gZmFsc2U7XG5cdFx0dHJ5e1xuXHRcdFx0dGhpcy5sb2coXCJjaG9vc2VBc3luY1wiLHtyZXN1bHQ6LTEsc291cmNlOnNvdXJjZX0pXG5cdFx0XHRhd2FpdCBGQkluc3RhbnQuY29udGV4dC5jaG9vc2VBc3luYyh7ZmlsdGVycyxtYXhTaXplLG1pblNpemV9KVxuXHRcdFx0dGhpcy5sb2coXCJjaG9vc2VBc3luY190aW1lc1wiLHtyZXN1bHQ6Kyt0aGlzLl9jaG9vc2VBc3luY190aW1lcyxzb3VyY2U6c291cmNlfSlcblx0XHRcdGJvID0gdHJ1ZTtcblx0XHR9Y2F0Y2goZSl7XG5cdFx0XHQvLyBpZihlLmNvZGUgPT0gQ29uc3RhbnQuVVNFUl9JTlBVVCkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0aWYoZS5jb2RlICE9IFwiU0FNRV9DT05URVhUXCIpe1xuXHRcdFx0XHRjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShlKSk7XG5cdFx0XHRcdGJvID0gZmFsc2U7XHRcblx0XHRcdH1cblx0XHR9XG5cdFx0dGhpcy5sb2coXCJjaG9vc2VBc3luY1wiLHtyZXN1bHQ6Ym8/MTowLHNvdXJjZTpzb3VyY2V9KVxuXHRcdHJldHVybiBibztcblx0fVxuXG5cdHByaXZhdGUgX2NyZWF0ZUFzeW5jX3RpbWVzID0gMDtcblx0YXN5bmMgY3JlYXRlQXN5bmMocGxheWVySWQ6c3RyaW5nLHNvdXJjZTpzdHJpbmc9XCJhbnlcIil7XG5cdFx0bGV0IGJvID0gZmFsc2U7XG5cdFx0dHJ5e1xuXHRcdFx0dGhpcy5sb2coXCJjcmVhdGVBc3luY1wiLHtyZXN1bHQ6LTEsc291cmNlOnNvdXJjZX0pXG5cdFx0XHRhd2FpdCBGQkluc3RhbnQuY29udGV4dC5jcmVhdGVBc3luYyhwbGF5ZXJJZClcblx0XHRcdHRoaXMubG9nKFwiY3JlYXRlQXN5bmNfdGltZXNcIix7cmVzdWx0OisrdGhpcy5fY3JlYXRlQXN5bmNfdGltZXMsc291cmNlOnNvdXJjZX0pXG5cdFx0XHRibyA9IHRydWU7XG5cdFx0fWNhdGNoKGUpe1xuXHRcdFx0Ly8gaWYoZS5jb2RlID09IENvbnN0YW50LlVTRVJfSU5QVVQpIHJldHVybiBmYWxzZTtcblx0XHRcdGlmKGUuY29kZSAhPSBcIlNBTUVfQ09OVEVYVFwiKXtcblx0XHRcdFx0Y29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoZSkpO1xuXHRcdFx0XHRibyA9ICBmYWxzZTtcdFxuXHRcdFx0fVxuXHRcdH1cblx0XHR0aGlzLmxvZyhcImNyZWF0ZUFzeW5jXCIse3Jlc3VsdDpibz8xOjAsc291cmNlOnNvdXJjZX0pXG5cdFx0cmV0dXJuIGJvO1xuXHR9XG5cblx0cHJpdmF0ZSBfc3dpdGNoQXN5bmNfdGltZXMgPSAwO1xuXHRhc3luYyBzd2l0Y2hBc3luYyhjb250ZXh0SWQ6c3RyaW5nLHNvdXJjZTpzdHJpbmc9XCJhbnlcIil7XG5cdFx0bGV0IGJvID0gZmFsc2U7XG5cdFx0dHJ5e1xuXHRcdFx0dGhpcy5sb2coXCJzd2l0Y2hBc3luY1wiLHtyZXN1bHQ6LTEsc291cmNlOnNvdXJjZX0pXG5cdFx0XHRhd2FpdCBGQkluc3RhbnQuY29udGV4dC5zd2l0Y2hBc3luYyhjb250ZXh0SWQpO1xuXHRcdFx0dGhpcy5sb2coXCJzd2l0Y2hBc3luY190aW1lc1wiLHtyZXN1bHQ6Kyt0aGlzLl9zd2l0Y2hBc3luY190aW1lcyxzb3VyY2U6c291cmNlfSlcblx0XHRcdGJvID0gdHJ1ZTtcblx0XHR9Y2F0Y2goZSl7XG5cdFx0XHQvLyBpZihlLmNvZGUgPT0gQ29uc3RhbnQuVVNFUl9JTlBVVCkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0aWYoZS5jb2RlICE9IFwiU0FNRV9DT05URVhUXCIpe1xuXHRcdFx0XHRjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShlKSk7XG5cdFx0XHRcdGJvID0gZmFsc2U7XHRcblx0XHRcdH1cblx0XHR9XG5cdFx0dGhpcy5sb2coXCJzd2l0Y2hBc3luY1wiLHtyZXN1bHQ6Ym8/MTowLHNvdXJjZTpzb3VyY2V9KVxuXHRcdHJldHVybiBibztcblx0fVxuXG5cdGdldENvbnRleHRJZCgpe3JldHVybiBGQkluc3RhbnQuY29udGV4dC5nZXRJRCgpfTtcblxuXHRsb2cobmFtZTpzdHJpbmcsZGF0YT86YW55LHZhbHVlU3VtOm51bWJlcj0xKXtcblx0XHRzdXBlci5sb2cobmFtZSxkYXRhLHZhbHVlU3VtKVxuXHRcdGRhdGEgPSBkYXRhIHx8IHt9O1xuXHRcdGRhdGEuYXBwX3ZlcnNpb24gPSBkYXRhLl9hcHBWZXJzaW9uID0gJHN5c19hcmdzW1widlwiXXx8XCIwLjAuMFwiO1xuXHRcdGRhdGEubmlja19uYW1lID0gRkJJbnN0YW50LnBsYXllci5nZXROYW1lKCk7XG5cdFx0RkJJbnN0YW50LmxvZ0V2ZW50KG5hbWUsdmFsdWVTdW0sZGF0YSk7XG5cdH1cblxuXHRhc3luYyBjcmVhdGVTaG9ydGN1dEFzeW5jKCl7XG5cdFx0bGV0IGJvID0gZmFsc2U7XG5cdFx0dHJ5e1xuXHRcdFx0bGV0IGtleSA9IGBzaG9ydF9jdXRfJHt0aGlzLmFwcE5hbWV9YDtcblxuXHRcdFx0bGV0IGRhdGEgPSB7c2hvcnRjdXQ6MCxzaG9ydGN1dF9yZWZ1c2U6MH07XG5cdFx0XHRsZXQgc3RyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcblx0XHRcdGlmKHN0cil7XG5cdFx0XHRcdHRyeXtkYXRhID0gT2JqZWN0LmFzc2lnbihkYXRhLEpTT04ucGFyc2Uoc3RyKSl9Y2F0Y2goZSl7Y29uc29sZS5sb2coXCJzaG9ydGN1dCBwYXJzZSBlcnJvclwiKTt9XG5cdFx0XHR9XG5cblx0XHRcdGlmKGRhdGEuc2hvcnRjdXQgIT0gMCkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0aWYoZGF0YS5zaG9ydGN1dF9yZWZ1c2U+PTIpIHJldHVybiBmYWxzZTtcblxuXHRcdFx0dHJ5e1xuXHRcdFx0XHRsZXQgaXNTdXBwb3J0ID0gYXdhaXQgRkJJbnN0YW50LmNhbkNyZWF0ZVNob3J0Y3V0QXN5bmMoKVxuXHRcdFx0XHRpZihpc1N1cHBvcnQpe1xuXHRcdFx0XHRcdHRoaXMubG9nKFwic2hvcnRjdXRcIix7cmVzdWx0Oi0xfSk7XG5cdFx0XHRcdFx0YXdhaXQgRkJJbnN0YW50LmNyZWF0ZVNob3J0Y3V0QXN5bmMoKTtcblx0XHRcdFx0XHR0aGlzLmxvZyhcInNob3J0Y3V0XCIse3Jlc3VsdDoxfSk7XG5cdFx0XHRcdFx0Ym8gPSB0cnVlO1xuXHRcdFx0XHRcdGRhdGEuc2hvcnRjdXQgPSAxO1xuXHRcdFx0XHR9ZWxzZXtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcInNob3J0Y3V0IHVuc3VwcG9ydFwiKTtcblx0XHRcdFx0fVxuXHRcdFx0fWNhdGNoKGUpe1xuXHRcdFx0XHR0aGlzLmxvZyhcInNob3J0Y3V0XCIse3Jlc3VsdDowLGNvZGU6ZS5jb2RlfSk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKFwic2hvcnRjdXQgcmVzdWx0XCIsSlNPTi5zdHJpbmdpZnkoZSkpO1xuXHRcdFx0XHRpZihlLmNvZGUgPT0gXCJVU0VSX0lOUFVUXCIpe1xuXHRcdFx0XHRcdGRhdGEuc2hvcnRjdXRfcmVmdXNlKys7XG5cdFx0XHRcdH1lbHNle1xuXHRcdFx0XHRcdGRhdGEuc2hvcnRjdXQgPSAyO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuXHRcdH1jYXRjaChlKXtcblx0XHRcdGNvbnNvbGUubG9nKFwic2hvcnRjdXQgZmFpbGVkOlwiLGUpO1xuXHRcdH1cblxuXHRcdHJldHVybiBibztcblx0fVxuXG5cdGFzeW5jIHN1YnNjcmliZUJvdEFzeW5jKCl7XG5cdFx0bGV0IGJvID0gZmFsc2Vcblx0XHR0cnl7XG5cdFx0XHRsZXQgYm8gPSBhd2FpdCBGQkluc3RhbnQucGxheWVyLmNhblN1YnNjcmliZUJvdEFzeW5jKCk7XG5cdFx0XHRpZihibyl7XG5cdFx0XHRcdHRoaXMubG9nKFwiYm90X3N1YnNjcmliZVwiLHtyZXN1bHQ6LTF9KVxuXHRcdFx0XHRsZXQgcmV1c2x0ID0gYXdhaXQgRkJJbnN0YW50LnBsYXllci5zdWJzY3JpYmVCb3RBc3luYygpO1xuXHRcdFx0XHR0aGlzLmxvZyhcImJvdF9zdWJzY3JpYmVcIix7cmVzdWx0OjF9KVxuXHRcdFx0XHRibyA9IHRydWVcblx0XHRcdH1cblx0XHR9Y2F0Y2goZSl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInN1YnNjaXRiZSBib3QgZmFpbGVkOlwiLGUpO1xuXHRcdFx0dGhpcy5sb2coXCJib3Rfc3Vic2NyaWJlXCIse3Jlc3VsdDowfSlcblx0XHR9XG5cdFx0cmV0dXJuIGJvO1xuICAgIH1cblxuXHRhc3luYyBzd2l0Y2hHYW1lKGFwcElkOiBzdHJpbmcsIGRhdGE/OiBhbnkpIHtcblx0XHRsZXQgb3JpZ2luID0ge3N3aXRjaF9nYW1lSW5mbzp7YXBwSWQ6dGhpcy5hcHBJZCxhcHBOYW1lOnRoaXMuYXBwTmFtZX19O1xuXHRcdGF3YWl0IEZCSW5zdGFudC5zd2l0Y2hHYW1lQXN5bmMoYXBwSWQsIE9iamVjdC5hc3NpZ24ob3JpZ2luLGRhdGEpKTtcblx0fVxufSIsImltcG9ydCB7IEVtaXRlciB9IGZyb20gXCIuLi9jb3JlL0VtaXRlclwiO1xuaW1wb3J0IFJhbmtWTyBmcm9tICcuL1JhbmtWTyc7XG5pbXBvcnQgUGxheWVyVk8gZnJvbSAnLi9QbGF5ZXJWTyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExlYWRlckJvYXJkIGV4dGVuZHMgRW1pdGVye1xuXHRwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBuYW1lOnN0cmluZyxwcml2YXRlIHJlYWRvbmx5IHNvcnRUeXBlOlwiaGlnaFwifFwibG93XCI9XCJoaWdoXCIscHJpdmF0ZSByZWFkb25seSBkZWZhdWx0U2NvcmU6bnVtYmVyID0gMCkge1xuXHRcdHN1cGVyKCk7XG5cdH1cblx0cHJpdmF0ZSBfbGVhZGVyYm9hcmQ6RkJJbnN0YW50LkxlYWRlcmJvYXJkO1xuXHRwcml2YXRlIF9zZWxmRW50cnk6UmFua1ZPID0gbnVsbDtcblx0XG5cdHByaXZhdGUgX2VudHJpZXM6UmFua1ZPW10gPSBudWxsO1xuXHRwcml2YXRlIF9mcmllbmRFbnRyaWVzOlJhbmtWT1tdID0gbnVsbDtcblxuXHRwcml2YXRlIF9wcmVJbml0aWFsaXplZCA9IGZhbHNlO1xuXHRwcml2YXRlIF9wcmVJbml0aWFsaXppbmcgPSBmYWxzZTtcblxuXHRwcml2YXRlIGFzeW5jIHByZUluaXRpYWxpemVBc3luYygpe1xuXHRcdGlmKHRoaXMuX3ByZUluaXRpYWxpemVkKSByZXR1cm47XG5cdFx0aWYodGhpcy5fcHJlSW5pdGlhbGl6aW5nKXtcblx0XHRcdGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmU9Pntcblx0XHRcdFx0dGhpcy5vbmNlKFwicHJlSW5pdGlhbGl6ZWRcIixyZXNvbHZlKTtcblx0XHRcdH0pXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHRoaXMuX3ByZUluaXRpYWxpemluZyA9IHRydWU7XG5cblx0XHR0aGlzLl9sZWFkZXJib2FyZCA9IGF3YWl0IEZCSW5zdGFudC5nZXRMZWFkZXJib2FyZEFzeW5jKHRoaXMubmFtZSk7XG5cdFx0bGV0IGVudHJ5ID0gYXdhaXQgdGhpcy5fbGVhZGVyYm9hcmQuZ2V0UGxheWVyRW50cnlBc3luYygpXG5cdFx0aWYoZW50cnkpe1xuXHRcdFx0dGhpcy5fc2VsZkVudHJ5ID0gUmFua1ZPLmZyb21MZWFkZXJCb2FyZEVudHJ5KGVudHJ5KTtcblx0XHR9ZWxzZXtcblx0XHRcdHRoaXMuX3NlbGZFbnRyeSA9IFJhbmtWTy5mcm9tRkJQbGF5ZXIoRkJJbnN0YW50LnBsYXllcik7XG5cdFx0fVxuXHRcdHRoaXMuX3ByZUluaXRpYWxpemVkID0gdHJ1ZTtcblx0XHR0aGlzLl9wcmVJbml0aWFsaXppbmcgPSBmYWxzZTtcblx0XHR0aGlzLmVtaXQoXCJwcmVJbml0aWFsaXplZFwiKTtcblx0fVxuXG5cdHByaXZhdGUgX2luaXRpYWxpemVkID0gZmFsc2U7XG5cdHByaXZhdGUgX2luaXRpYWxpemluZyA9IGZhbHNlO1xuXHRhc3luYyBpbml0aWFsaXplQXN5bmMod29ybGQ6Ym9vbGVhbixmcmllbmQ6Ym9vbGVhbil7XG5cdFx0aWYodGhpcy5faW5pdGlhbGl6ZWQpIHJldHVybjtcblx0XHRpZih0aGlzLl9pbml0aWFsaXppbmcpe1xuXHRcdFx0YXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZT0+e1xuXHRcdFx0XHR0aGlzLm9uY2UoXCJpbml0aWFsaXplZFwiLHJlc29sdmUpO1xuXHRcdFx0fSlcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dGhpcy5faW5pdGlhbGl6aW5nID0gdHJ1ZTtcblxuXHRcdGF3YWl0IHRoaXMucHJlSW5pdGlhbGl6ZUFzeW5jKCk7XG5cdFx0dHJ5e1xuXHRcdFx0d29ybGQgJiYgYXdhaXQgdGhpcy5nZXRFbnRyaWVzQXN5bmMoKVxuXHRcdFx0ZnJpZW5kICYmIGF3YWl0IHRoaXMuZ2V0Q29ubmVjdGVkUGxheWVyRW50cmllc0FzeW5jKCk7XG5cdFx0fWNhdGNoKGUpe1xuXHRcdFx0Y29uc29sZS5sb2coXCJnZXQgZW50aWVzIGZhaWxlZCFcIik7XG5cdFx0fVxuXG5cdFx0dGhpcy5faW5pdGlhbGl6ZWQgPSB0cnVlO1xuXHRcdHRoaXMuX2luaXRpYWxpemluZyA9IGZhbHNlO1xuXHRcdHRoaXMuZW1pdChcImluaXRpYWxpemVkXCIpO1xuXHR9XG5cblx0YXN5bmMgZ2V0RW50cmllc0FzeW5jKCl7XG5cdFx0YXdhaXQgdGhpcy5wcmVJbml0aWFsaXplQXN5bmMoKTtcblx0XHRpZighdGhpcy5fZW50cmllcyl7XG5cdFx0XHRsZXQgbGVhZGVyYm9hcmQgPSB0aGlzLl9sZWFkZXJib2FyZDtcblx0XHRcdGxldCBhcnIgPSBhd2FpdCBsZWFkZXJib2FyZC5nZXRFbnRyaWVzQXN5bmMoMTAwLDApXG5cdFx0XHR0aGlzLl9lbnRyaWVzID0gYXJyLm1hcCh2PT5SYW5rVk8uZnJvbUxlYWRlckJvYXJkRW50cnkodikpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5fZW50cmllcyB8fCBbXTtcblx0fVxuXHRnZXRFbnRyaWVzKCl7XG5cdFx0cmV0dXJuIHRoaXMuX2VudHJpZXMgfHwgW11cblx0fVxuXG5cdGFzeW5jIGdldENvbm5lY3RlZFBsYXllckVudHJpZXNBc3luYygpe1xuXHRcdGF3YWl0IHRoaXMucHJlSW5pdGlhbGl6ZUFzeW5jKCk7XG5cdFx0aWYoIXRoaXMuX2ZyaWVuZEVudHJpZXMpe1xuXHRcdFx0bGV0IGxlYWRlcmJvYXJkID0gdGhpcy5fbGVhZGVyYm9hcmQ7XG5cdFx0XHRsZXQgYXJyID0gYXdhaXQgbGVhZGVyYm9hcmQuZ2V0Q29ubmVjdGVkUGxheWVyRW50cmllc0FzeW5jKDEwMCwwKVxuXHRcdFx0dGhpcy5fZnJpZW5kRW50cmllcyA9IGFyci5tYXAodj0+UmFua1ZPLmZyb21MZWFkZXJCb2FyZEVudHJ5KHYpKTtcblx0XHRcdFxuXHRcdFx0bGV0IHNlbGZJZCA9IEZCSW5zdGFudC5wbGF5ZXIuZ2V0SUQoKVxuXHRcdFx0bGV0IGluZGV4ID0gdGhpcy5fZnJpZW5kRW50cmllcy5maW5kSW5kZXgodj0+di5pZCA9PSBzZWxmSWQpO1xuXHRcdFx0aWYoaW5kZXggPT0gLTEpe1xuXHRcdFx0XHR0aGlzLl9mcmllbmRFbnRyaWVzLnB1c2goUmFua1ZPLmZyb21GQlBsYXllcihGQkluc3RhbnQucGxheWVyKSlcblx0XHRcdFx0dGhpcy5fZnJpZW5kRW50cmllcy5mb3JFYWNoKCh2LGkpPT52LnJhbmsgPSBpKzEpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5iaW5kRnJpZW5kcygpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5fZnJpZW5kRW50cmllcyB8fCBbXTtcdFxuXHR9XG5cblx0Z2V0Q29ubmVjdGVkUGxheWVyRW50cmllcygpe1xuXHRcdHJldHVybiB0aGlzLl9mcmllbmRFbnRyaWVzIHx8IFtdO1xuXHR9XG5cblx0cHJpdmF0ZSByZWZyZXNoUmFua0xpc3QoYXJyOlJhbmtWT1tdLHNjb3JlOm51bWJlcixkYXRhOmFueSl7XG5cdFx0bGV0IHNlbGZJZCA9IEZCSW5zdGFudC5wbGF5ZXIuZ2V0SUQoKTtcblx0XHRsZXQgaW5kZXggPSBhcnIuZmluZEluZGV4KHY9PnYuaWQgPT0gc2VsZklkKTtcblx0XHRpZihpbmRleCE9LTEpe1xuXHRcdFx0bGV0IHZvID0gYXJyW2luZGV4XTtcblx0XHRcdHZvLnNjb3JlID0gc2NvcmU7XG5cdFx0XHR2by5leHRyYURhdGEgPSBkYXRhO1xuXHRcdFx0YXJyLnNvcnRvbihcInNjb3JlXCIsdGhpcy5zb3J0VHlwZSA9PSBcImxvd1wiKTtcblx0XHRcdGFyci5mb3JFYWNoKCh2LGkpPT52LnJhbmsgPSBpKzEpO1xuXHRcdH1lbHNle1xuXHRcdFx0aWYoYXJyLmxlbmd0aD4wICYmIHNjb3JlID4gYXJyW2Fyci5sZW5ndGgtMV0uc2NvcmUpe1xuXHRcdFx0XHRsZXQgdm8gPSBSYW5rVk8uZnJvbUZCUGxheWVyKEZCSW5zdGFudC5wbGF5ZXIpO1xuXHRcdFx0XHR2by5zY29yZSA9IHNjb3JlO1xuXHRcdFx0XHR2by5leHRyYURhdGEgPSBkYXRhO1xuXHRcdFx0XHRhcnIucHVzaCh2byk7XG5cdFx0XHRcdGFyci5zb3J0b24oXCJzY29yZVwiLHRoaXMuc29ydFR5cGUgPT0gXCJsb3dcIik7XG5cdFx0XHRcdGFyci5mb3JFYWNoKCh2LGkpPT52LnJhbmsgPSBpKzEpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHNldFNjb3JlKHNjb3JlOm51bWJlcixkYXRhPzphbnkpe1xuXHRcdGlmKCF0aGlzLl9wcmVJbml0aWFsaXplZCkgdGhyb3cgXCJkb2Vzbid0IHByZUluaXRpYWxpemVkXCI7XG5cblx0XHRpZihzY29yZSA8dGhpcy5fc2VsZkVudHJ5LnNjb3JlKSByZXR1cm47XG5cblx0XHR0aGlzLl9zZWxmRW50cnkuc2NvcmUgPSBzY29yZTtcblx0XHR0aGlzLl9zZWxmRW50cnkuZXh0cmFEYXRhID0gZGF0YTtcblxuXHRcdGlmKHRoaXMuX2VudHJpZXMpe1xuXHRcdFx0dGhpcy5yZWZyZXNoUmFua0xpc3QodGhpcy5fZW50cmllcyxzY29yZSxkYXRhKTtcblx0XHR9XG5cdFx0aWYodGhpcy5fZnJpZW5kRW50cmllcyl7XG5cdFx0XHR0aGlzLnJlZnJlc2hSYW5rTGlzdCh0aGlzLl9mcmllbmRFbnRyaWVzLHNjb3JlLGRhdGEpO1xuXHRcdH1cblxuXHRcdG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLHJlamVjdCk9Pntcblx0XHRcdGF3YWl0IHRoaXMucHJlSW5pdGlhbGl6ZUFzeW5jKClcblx0XHRcdGxldCBlbnRyeSA9IGF3YWl0IHRoaXMuX2xlYWRlcmJvYXJkLnNldFNjb3JlQXN5bmMoc2NvcmUsSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuXHRcdFx0dGhpcy5fc2VsZkVudHJ5ID0gUmFua1ZPLmZyb21MZWFkZXJCb2FyZEVudHJ5KGVudHJ5KVxuXHRcdFx0cmVzb2x2ZSgpO1xuXHRcdH0pXG5cdH1cblx0Z2V0U2NvcmUoKXtcblx0XHRpZighdGhpcy5fcHJlSW5pdGlhbGl6ZWQpIHRocm93IFwiZG9lc24ndCBwcmVJbml0aWFsaXplZFwiO1xuXG5cdFx0cmV0dXJuIHRoaXMuX3NlbGZFbnRyeS5zY29yZVxuXHR9XG5cblx0cHJpdmF0ZSBfZnJpZW5kczpQbGF5ZXJWT1tdID0gbnVsbDtcblx0c2V0RnJpZW5kcyhmcmllbmRzOlBsYXllclZPW10pe1xuXHRcdHRoaXMuX2ZyaWVuZHMgPSBmcmllbmRzO1xuXHRcdHRoaXMuYmluZEZyaWVuZHMoKTtcblx0fVxuXG5cdHByaXZhdGUgYmluZEZyaWVuZHMoKXtcblx0XHRpZighdGhpcy5fZnJpZW5kcyB8fCAhdGhpcy5fZnJpZW5kRW50cmllcykgcmV0dXJuO1xuXG5cdFx0bGV0IGZyaWVuZE1hcDp7W2tleTpzdHJpbmddOlBsYXllclZPfSAgPSB7fTtcblx0XHRcblx0XHRsZXQgbGlzdCA9IHRoaXMuX2ZyaWVuZHM7XG5cdFx0bGlzdC5mb3JFYWNoKGY9PmZyaWVuZE1hcFtmLmlkXSA9IGYpO1xuXHRcdGZyaWVuZE1hcFtGQkluc3RhbnQucGxheWVyLmdldElEKCldID0gUGxheWVyVk8uZnJvbUZCUGxheWVyKEZCSW5zdGFudC5wbGF5ZXIpO1x0XHRcblxuXHRcdGxldCBhcnIgPXRoaXMuX2ZyaWVuZEVudHJpZXNcblx0XHRhcnIuZm9yRWFjaCh2PT57XG5cdFx0XHRsZXQgZnJpZW5kID0gZnJpZW5kTWFwW3YuaWRdO1xuXHRcdFx0aWYoZnJpZW5kKXtcblx0XHRcdFx0di5uYW1lID0gZnJpZW5kLm5hbWU7XG5cdFx0XHRcdHYucGhvdG8gPSBmcmllbmQucGhvdG87XG5cblx0XHRcdFx0ZGVsZXRlIGZyaWVuZE1hcFt2LmlkXTtcblx0XHRcdH1cblx0XHR9KVxuXHRcdFxuXHRcdGZvcihsZXQgaWQgaW4gZnJpZW5kTWFwKXtcblx0XHRcdGxldCB2byA9IFJhbmtWTy5mcm9tUGxheWVyKGZyaWVuZE1hcFtpZF0pXG5cdFx0XHR2by5zY29yZSA9IHRoaXMuZGVmYXVsdFNjb3JlO1xuXHRcdFx0YXJyLnB1c2godm8pO1xuXHRcdH1cblx0XHRcblx0XHRhcnIuc29ydG9uKFwic2NvcmVcIix0aGlzLnNvcnRUeXBlID09IFwibG93XCIpO1xuXHRcdGFyci5mb3JFYWNoKCh2LGkpPT52LnJhbmsgPSBpKzEpO1xuXHR9XG5cblx0Z2V0U2VsZkVudHJ5KCl7XG5cdFx0cmV0dXJuIHRoaXMuX3NlbGZFbnRyeTtcblx0fVxufSIsImltcG9ydCB7IFJlbW90ZURhdGEgfSBmcm9tICcuL1JlbW90ZURhdGEnO1xuaW1wb3J0IHsgQmFzZVBsYXRmb3JtIH0gZnJvbSAnLi9CYXNlUGxhdGZvcm0nO1xuaW1wb3J0IHsgRkJQbGF0Zm9ybSB9IGZyb20gJy4vRkJQbGF0Zm9ybSc7XG5pbXBvcnQgS1hQbGF0Zm9ybSBmcm9tICcuL0tYUGxhdGZvcm0nO1xuXG5kZWNsYXJlIGdsb2JhbCB7XG4gICAgZXhwb3J0IGxldCBwbGF0Zm9ybTpCYXNlUGxhdGZvcm1cbiAgICBpbnRlcmZhY2UgV2luZG93IHtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUGxhdGZvcm1GYWN0b3J5e1xuICAgIHN0YXRpYyBzdGFydHVwKCl7XG4gICAgICAgIGxldCBpbnN0OkJhc2VQbGF0Zm9ybTsgXG4gICAgICAgIGxldCBkZWZhdWx0RGF0YSA9IG5ldyBSZW1vdGVEYXRhKCk7XG5cbiAgICAgICAgaWYod2luZG93W1wiRkJJbnN0YW50XCJdKXtcblx0XHRcdGluc3QgPSBuZXcgRkJQbGF0Zm9ybShkZWZhdWx0RGF0YSlcblx0XHQvLyB9ZWxzZSBpZih3aW5kb3dbXCJrYWl4aW5cIl0pe1xuXHRcdC8vIFx0aW5zdCA9IG5ldyBLWFBsYXRmb3JtKGRlZmF1bHREYXRhKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBpbnN0ID0gbmV3IEJhc2VQbGF0Zm9ybShkZWZhdWx0RGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ3BsYXRmb3JtJywgeyBnZXQ6ICgpID0+IGluc3QsIGNvbmZpZ3VyYWJsZTp0cnVlfSk7XG4gICAgfVxufSIsImltcG9ydCBSYW5rVk8gZnJvbSBcIi4vUmFua1ZPXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXllclZPIHtcblx0aWQ6c3RyaW5nID0gXCJcIlxuXHRuYW1lOnN0cmluZyA9IFwiXCJcblx0cGhvdG86c3RyaW5nID0gXCJcIlxuXHRcblx0c3RhdGljIGZyb21GQlBsYXllcihwOkZCSW5zdGFudC5GQlBsYXllcnxGQkluc3RhbnQuQ29udGV4dFBsYXllcnxGQkluc3RhbnQuQ29ubmVjdGVkUGxheWVyKXtcblx0XHRsZXQgcmVzdWx0ID1uZXcgUmFua1ZPO1xuXHRcdHJlc3VsdC5uYW1lID0gcC5nZXROYW1lKCk7XG5cdFx0cmVzdWx0LmlkID0gcC5nZXRJRCgpXG5cdFx0cmVzdWx0LnBob3RvID0gcC5nZXRQaG90bygpXG5cdFx0XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXG59IiwiaW1wb3J0IFBsYXllclZPIGZyb20gJy4vUGxheWVyVk8nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSYW5rVk8gZXh0ZW5kcyBQbGF5ZXJWT3tcblxuXHRzY29yZSA9IDA7XG5cdHJhbmsgPSAwO1xuXG5cdGV4dHJhRGF0YSA9IG51bGw7XG5cblx0c3RhdGljIGZyb21MZWFkZXJCb2FyZEVudHJ5KHY6RkJJbnN0YW50LkxlYWRlcmJvYXJkRW50cnkpe1xuXHRcdGxldCBwID0gdi5nZXRQbGF5ZXIoKTtcblx0XHRsZXQgcmVzdWx0ID1uZXcgUmFua1ZPO1xuXHRcdHJlc3VsdC5uYW1lID0gcC5nZXROYW1lKCk7XG5cdFx0cmVzdWx0LmlkID0gcC5nZXRJRCgpXG5cdFx0cmVzdWx0LnBob3RvID0gcC5nZXRQaG90bygpXG5cdFx0XG5cdFx0cmVzdWx0LnNjb3JlID0gdi5nZXRTY29yZSgpO1xuXHRcdHJlc3VsdC5yYW5rID0gdi5nZXRSYW5rKCk7XG5cblx0XHQvLyB0cnl7XG5cdFx0Ly8gXHRsZXQgZXh0cmFTdHIgPSB2LmdldEV4dHJhRGF0YSgpXG5cdFx0Ly8gXHRsZXQgb2JqID0gSlNPTi5wYXJzZShleHRyYVN0cik7XG5cdFx0Ly8gXHRyZXN1bHQuZXh0cmFEYXRhID0gb2JqO1xuXHRcdC8vIH1jYXRjaChlKXtcblx0XHQvLyBcdGNvbnNvbGUuZXJyb3IoXCJleHRyYSBwYXJzZSBlcnJvclwiLHYuZ2V0RXh0cmFEYXRhKCkpXG5cdFx0Ly8gfVxuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXG5cdHN0YXRpYyBmcm9tUGxheWVyKHA6UGxheWVyVk8pe1xuXHRcdGxldCByZXN1bHQgPW5ldyBSYW5rVk87XG5cdFx0cmVzdWx0Lm5hbWUgPSBwLm5hbWU7XG5cdFx0cmVzdWx0LmlkID0gcC5pZFxuXHRcdHJlc3VsdC5waG90byA9IHAucGhvdG9cblx0XHRcblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cbn0iLCJleHBvcnQgY2xhc3MgUmVtb3RlRGF0YXtcbiAgICBpc0RpcnR5OmJvb2xlYW4gPSBmYWxzZTtcbiAgICBjb250ZXh0SWRzOnN0cmluZ1tdID0gW107XG4gICAgbGV2ZWwgPSAwO1xuICAgIGJlc3Rfc2NvcmUgPSAwO1xufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1dHRvblNjcmlwdCBleHRlbmRzIExheWEuU2NyaXB0IHtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuICAgIFxyXG4gICAgb25Bd2FrZSgpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5vd25lci5vbihMYXlhLkV2ZW50Lk1PVVNFX0RPV04sdGhpcywoKT0+e1xyXG4gICAgICAgICAgICAodGhpcy5vd25lciBhcyBMYXlhLlNwcml0ZSkuYWxwaGEgPSAwLjc7XHJcbiAgICAgICAgICAgIExheWEuc3RhZ2Uub25jZShMYXlhLkV2ZW50Lk1PVVNFX1VQLHRoaXMsKCk9PntcclxuICAgICAgICAgICAgICAgICh0aGlzLm93bmVyIGFzIExheWEuU3ByaXRlKS5hbHBoYSA9IDE7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcclxuICAgIH1cclxuXHJcbiAgICBvbkRpc2FibGUoKTogdm9pZCB7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDaXJjbGVQcm9ncmVzc1NjcmlwdCBleHRlbmRzIExheWEuU2NyaXB0IHtcclxuICAgIGNvbnN0cnVjdG9yKCkgeyBcclxuICAgICAgICBzdXBlcigpOyBcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBiZ190cmFjazpMYXlhLlNwcml0ZTtcclxuICAgIGJhcjpMYXlhLlNwcml0ZTtcclxuXHJcbiAgICBwcml2YXRlIGJhcl9tYXNrOkxheWEuU3ByaXRlO1xyXG4gICAgb25Bd2FrZSgpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwib25Bd2FrZTpDaXJjbGVQcm9ncmVzc1NjcmlwdFwiKVxyXG4gICAgICAgIHRoaXMuYmdfdHJhY2sgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwiYmdfdHJhY2tcIikgYXMgTGF5YS5TcHJpdGU7XHJcbiAgICAgICAgdGhpcy5iYXIgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwiYmFyXCIpIGFzIExheWEuU3ByaXRlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuYmFyX21hc2sgPSBuZXcgTGF5YS5TcHJpdGUoKTtcclxuICAgICAgICB0aGlzLmJhci5tYXNrID0gdGhpcy5iYXJfbWFzaztcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnZhbHVlID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9wcm9ncmVzczpudW1iZXIgPSBOYU47XHJcbiAgICBzZXQgdmFsdWUodjpudW1iZXIpe1xyXG4gICAgICAgIHYgPSBNYXRoLmNsYW1wKHYsMCwxKTtcclxuICAgICAgICBpZih0aGlzLl9wcm9ncmVzcyA9PSB2KSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5fcHJvZ3Jlc3MgPSB2O1xyXG5cclxuICAgICAgICBsZXQgcmFkaXVzID0gdGhpcy5iYXIud2lkdGg+PjE7XHJcbiAgICAgICAgdGhpcy5iYXJfbWFzay5ncmFwaGljcy5jbGVhcih0cnVlKTtcclxuICAgICAgICB0aGlzLmJhcl9tYXNrLmdyYXBoaWNzLmRyYXdQaWUocmFkaXVzLHJhZGl1cyxyYWRpdXMrMTAsOTAsOTArdiozNjAsMCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHZhbHVlKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2dyZXNzIHx8IDA7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwib25FbmFibGU6Q2lyY2xlUHJvZ3Jlc3NTY3JpcHRcIilcclxuICAgIH1cclxuXHJcbiAgICBvbkRpc2FibGUoKTogdm9pZCB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJvbkRpc2FibGU6Q2lyY2xlUHJvZ3Jlc3NTY3JpcHRcIilcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZ1bGxTY3JlZW5TY3JpcHQgZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcbiAgICAvKiogQHByb3Age25hbWU6aW50VHlwZSwgdGlwczpcIuaVtOaVsOexu+Wei+ekuuS+i1wiLCB0eXBlOkludCwgZGVmYXVsdDoxMDAwfSovXHJcbiAgICBwdWJsaWMgaW50VHlwZTogbnVtYmVyID0gMTAwMDtcclxuICAgIC8qKiBAcHJvcCB7bmFtZTpudW1UeXBlLCB0aXBzOlwi5pWw5a2X57G75Z6L56S65L6LXCIsIHR5cGU6TnVtYmVyLCBkZWZhdWx0OjEwMDB9Ki9cclxuICAgIHB1YmxpYyBudW1UeXBlOiBudW1iZXIgPSAxMDAwO1xyXG4gICAgLyoqIEBwcm9wIHtuYW1lOnN0clR5cGUsIHRpcHM6XCLlrZfnrKbkuLLnsbvlnovnpLrkvotcIiwgdHlwZTpTdHJpbmcsIGRlZmF1bHQ6XCJoZWxsbyBsYXlhXCJ9Ki9cclxuICAgIHB1YmxpYyBzdHJUeXBlOiBzdHJpbmcgPSBcImhlbGxvIGxheWFcIjtcclxuICAgIC8qKiBAcHJvcCB7bmFtZTpib29sVHlwZSwgdGlwczpcIuW4g+WwlOexu+Wei+ekuuS+i1wiLCB0eXBlOkJvb2wsIGRlZmF1bHQ6dHJ1ZX0qL1xyXG4gICAgcHVibGljIGJvb2xUeXBlOiBib29sZWFuID0gdHJ1ZTtcclxuICAgIC8vIOabtOWkmuWPguaVsOivtOaYjuivt+iuv+mXrjogaHR0cHM6Ly9sZGMyLmxheWFib3guY29tL2RvYy8/bmF2PXpoLWFzLTItNC0wXHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcblxyXG4gICAgb25Bd2FrZSgpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5vblN0YWdlUmVzaXplZCgpXHJcbiAgICB9XHJcbiAgICBcclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5SRVNJWkUsdGhpcyx0aGlzLm9uU3RhZ2VSZXNpemVkKVxyXG4gICAgfVxyXG5cclxuICAgIG9uRGlzYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICBMYXlhLnN0YWdlLm9mZihMYXlhLkV2ZW50LlJFU0laRSx0aGlzLHRoaXMub25TdGFnZVJlc2l6ZWQpXHJcbiAgICB9XHJcblxyXG4gICAgb25VcGRhdGUoKTp2b2lke1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uU3RhZ2VSZXNpemVkKCl7XHJcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLm93bmVyIGFzIExheWEuU3ByaXRlO1xyXG4gICAgICAgIGxldCBzY2FsZSA9IE1hdGgubWF4KExheWEuc3RhZ2Uud2lkdGgvbm9kZS53aWR0aCxMYXlhLnN0YWdlLmhlaWdodC9ub2RlLmhlaWdodCk7XHJcbiAgICAgICAgbm9kZS5zY2FsZShzY2FsZSxzY2FsZSk7XHJcbiAgICAgICAgbm9kZS5wb3MoKExheWEuc3RhZ2Uud2lkdGgtbm9kZS53aWR0aCpzY2FsZSk+PjEsKExheWEuc3RhZ2UuaGVpZ2h0LW5vZGUuaGVpZ2h0KnNjYWxlKT4+MSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBSb3RhdGVTY3JpcHQgZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcbiAgICAvKiogQHByb3Age25hbWU6aW50VHlwZSwgdGlwczpcImRlZ3JlZSBpbiBzZWNvbmRcIiwgdHlwZTpJbnQsIGRlZmF1bHQ6ODB9Ki9cclxuICAgIHB1YmxpYyBzcGVlZDogbnVtYmVyID0gODA7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG4gICAgXHJcbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcclxuICAgIH1cclxuXHJcbiAgICBvblVwZGF0ZSgpOnZvaWR7XHJcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLm93bmVyIGFzIExheWEuU3ByaXRlO1xyXG4gICAgICAgIG5vZGUucm90YXRpb24rPXRoaXMuc3BlZWQvMzYwICogTGF5YS50aW1lci5kZWx0YTtcclxuICAgIH1cclxuXHJcbiAgICBvbkRpc2FibGUoKTogdm9pZCB7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyB1aSB9IGZyb20gJy4uL3VpL2xheWFNYXhVSSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTaGFyZUNoYWxsZW5nZVJlc3VsdFVJIGV4dGVuZHMgdWkuc2hhcmUuU2hhcmVDaGFsbGVuZ2VSZXN1bHRVSXtcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihwcml2YXRlIGxlZkRhdGE6e1xyXG5cdFx0aGVhZDpzdHJpbmcsc2NvcmU6bnVtYmVyLHNraW46bnVtYmVyXHJcblx0fSxwcml2YXRlIHJpZ2h0RGF0YTp7XHJcblx0XHRoZWFkOnN0cmluZyxzY29yZTpudW1iZXIsc2tpbjpudW1iZXJcclxuXHR9KSB7XHJcblx0XHRzdXBlcigpO1xyXG5cclxuXHRcdHRoaXMuaW1nX2JnLnNraW4gPSBudWxsO1xyXG5cdFx0dGhpcy5pbWdfaGVhZF9sZWZ0LnNraW4gPSBudWxsO1xyXG5cdFx0dGhpcy5pbWdfaGVhZF9yaWdodC5za2luID0gbnVsbDtcclxuXHJcblx0XHR0aGlzLmFwcGx5RGF0YSgpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBhcHBseURhdGEoKXtcclxuXHRcdHRoaXMudHh0X3Njb3JlX2xlZnQudGV4dCA9IHRoaXMubGVmRGF0YS5zY29yZSArIFwiXCI7XHJcblx0XHR0aGlzLnR4dF9zY29yZV9yaWdodC50ZXh0ID0gdGhpcy5yaWdodERhdGEuc2NvcmUgKyBcIlwiO1xyXG5cclxuXHRcdGF3YWl0IFByb21pc2UuYWxsKFxyXG5cdFx0XHRbXHJcblx0XHRcdFx0bmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0+e1xyXG5cdFx0XHRcdFx0dGhpcy5pbWdfYmcub25jZShMYXlhLkV2ZW50LkxPQURFRCx0aGlzLHJlc29sdmUpXHJcblx0XHRcdFx0XHR0aGlzLmltZ19iZy5za2luID0gXCJzaGFyZS9zaGFyZV9jaGFsbGVuZ2VfcmVzdWx0LnBuZ1wiO1xyXG5cdFx0XHRcdH0pLFxyXG5cdFx0XHRcdG5ldyBQcm9taXNlKHJlc29sdmU9PntcclxuXHRcdFx0XHRcdHRoaXMuaW1nX2hlYWRfbGVmdC5vbmNlKExheWEuRXZlbnQuTE9BREVELHRoaXMscmVzb2x2ZSk7XHJcblx0XHRcdFx0XHR0aGlzLmltZ19oZWFkX2xlZnQuc2tpbiA9IHRoaXMubGVmRGF0YS5oZWFkO1xyXG5cdFx0XHRcdH0pLFxyXG5cdFx0XHRcdG5ldyBQcm9taXNlKHJlc29sdmU9PntcclxuXHRcdFx0XHRcdHRoaXMuaW1nX2hlYWRfcmlnaHQub25jZShMYXlhLkV2ZW50LkxPQURFRCx0aGlzLHJlc29sdmUpO1xyXG5cdFx0XHRcdFx0dGhpcy5pbWdfaGVhZF9yaWdodC5za2luID0gdGhpcy5yaWdodERhdGEuaGVhZDtcclxuXHRcdFx0XHR9KSxcclxuXHRcdFx0XVxyXG5cdFx0KVxyXG5cclxuXHRcdGNvbnNvbGUubG9nKFwiY2hhbGxlbmdlIHJlc3VsdCBsb2FkZWRcIik7XHJcblx0XHRMYXlhLnRpbWVyLmZyYW1lT25jZSgyLHRoaXMsKCk9PntcclxuXHRcdFx0dGhpcy5ldmVudChcInJlYWR5X2RyYXdcIik7XHJcblx0XHR9KVxyXG5cdH1cclxufSIsImltcG9ydCB7IHVpIH0gZnJvbSAnLi4vdWkvbGF5YU1heFVJJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNoYXJlQ2hhbGxlbmdlVUkgZXh0ZW5kcyB1aS5zaGFyZS5TaGFyZUNoYWxsZW5nZVVJe1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHByaXZhdGUgZGF0OntcclxuXHRcdGhlYWQ6c3RyaW5nLHNjb3JlOm51bWJlcixza2luOm51bWJlclxyXG5cdH0pIHtcclxuXHRcdHN1cGVyKCk7XHJcblx0XHR0aGlzLmltZ19iZy5za2luID0gbnVsbDtcclxuXHRcdHRoaXMuaW1nX2hlYWQuc2tpbiA9IG51bGw7XHJcblxyXG5cdFx0dGhpcy5hcHBseURhdGEoKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGFwcGx5RGF0YSgpe1xyXG5cdFx0dGhpcy50eHRfc2NvcmUudGV4dCA9IHRoaXMuZGF0LnNjb3JlICsgXCJcIjtcclxuXHRcdGF3YWl0IFByb21pc2UuYWxsKFxyXG5cdFx0XHRbXHJcblx0XHRcdFx0bmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0+e1xyXG5cdFx0XHRcdFx0dGhpcy5pbWdfYmcuc2tpbiA9IG51bGw7XHJcblx0XHRcdFx0XHR0aGlzLmltZ19iZy5vbmNlKExheWEuRXZlbnQuTE9BREVELHRoaXMscmVzb2x2ZSlcclxuXHRcdFx0XHRcdHRoaXMuaW1nX2JnLnNraW4gPSBcInNoYXJlL3NoYXJlX2NoYWxsZW5nZS5qcGdcIjtcclxuXHRcdFx0XHR9KSxcclxuXHRcdFx0XHRuZXcgUHJvbWlzZShyZXNvbHZlPT57XHJcblx0XHRcdFx0XHR0aGlzLmltZ19oZWFkLnNraW4gPSBudWxsO1xyXG5cdFx0XHRcdFx0dGhpcy5pbWdfaGVhZC5vbmNlKExheWEuRXZlbnQuTE9BREVELHRoaXMscmVzb2x2ZSlcclxuXHRcdFx0XHRcdHRoaXMuaW1nX2hlYWQuc2tpbiA9IHRoaXMuZGF0LmhlYWRcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRdXHJcblx0XHQpXHJcblxyXG5cdFx0TGF5YS50aW1lci5mcmFtZU9uY2UoMix0aGlzLCgpPT57XHJcblx0XHRcdHRoaXMuZXZlbnQoXCJyZWFkeV9kcmF3XCIpO1xyXG5cdFx0fSlcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IHsgdWkgfSBmcm9tICcuLi91aS9sYXlhTWF4VUknO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTaGFyZUdhbWVVSSBleHRlbmRzIHVpLnNoYXJlLlNoYXJlR2FtZVVJe1xuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihwcml2YXRlIGRhdDp7c2tpbjpudW1iZXIscGhvdG86c3RyaW5nLHNjb3JlOm51bWJlcixiZzpzdHJpbmd9KSB7XG5cdFx0c3VwZXIoKTtcblxuXHRcdHRoaXMuaW1nX2JnLnNraW4gPSBudWxsO1xuXHRcdFxuXHRcdHRoaXMuYXBwbHlEYXRhKClcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgYXBwbHlEYXRhKCl7XG5cdFx0YXdhaXQgUHJvbWlzZS5hbGwoXG5cdFx0XHRbXG5cdFx0XHRcdG5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCk9Pntcblx0XHRcdFx0XHR0aGlzLmltZ19iZy5za2luID0gbnVsbDtcblx0XHRcdFx0XHR0aGlzLmltZ19iZy5vbmNlKExheWEuRXZlbnQuTE9BREVELHRoaXMscmVzb2x2ZSlcblx0XHRcdFx0XHR0aGlzLmltZ19iZy5za2luID0gdGhpcy5kYXQuYmc7XG5cdFx0XHRcdH0pXG5cdFx0XHRdXG5cdFx0KVxuXG5cdFx0TGF5YS50aW1lci5mcmFtZU9uY2UoMix0aGlzLCgpPT57XG5cdFx0XHR0aGlzLmV2ZW50KFwicmVhZHlfZHJhd1wiKTtcblx0XHR9KVxuXHR9XG5cblxufSIsImltcG9ydCB7IEZCUGxhdGZvcm0gfSBmcm9tIFwiLi4vcGxhdGZvcm0vRkJQbGF0Zm9ybVwiO1xuaW1wb3J0IFNoYXJlR2FtZVVJIGZyb20gJy4vU2hhcmVHYW1lVUknO1xuaW1wb3J0IFNoYXJlQ2hhbGxlbmdlUmVzdWx0VUkgZnJvbSAnLi9TaGFyZUNoYWxsZW5nZVJlc3VsdFVJJztcbmltcG9ydCBTaGFyZUNoYWxsZW5nZVVJIGZyb20gJy4vU2hhcmVDaGFsbGVuZ2VVSSc7XG5pbXBvcnQgU2hhcmVOZXdSZWNvcmVkVUkgZnJvbSAnLi9TaGFyZU5ld1JlY29yZWRVSSc7XG5cbmV4cG9ydCBuYW1lc3BhY2UgU2hhcmVIZWxwZXJ7XG4gICAgZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlSW1hZ2Uoc3ByOkxheWEuU3ByaXRlKXtcbiAgICAgICAgbGV0IGJhc2U2NCA9IGF3YWl0IG5ldyBQcm9taXNlPHN0cmluZz4ocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBzcHIub25jZShcInJlYWR5X2RyYXdcIiwgbnVsbCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIHNwci5hbHBoYSA9MTtcbiAgICAgICAgICAgICAgICBsZXQgY2FudmFzID0gc3ByLmRyYXdUb0NhbnZhcyhzcHIud2lkdGgsIHNwci5oZWlnaHQsIDAsIDApO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidGV4dHVyZSBnZW5lcmF0ZWQhXCIpO1xuICAgICAgICAgICAgICAgIGxldCBiNjQgPSBjYW52YXMudG9CYXNlNjQoXCJpbWFnZS9wbmdcIiwgMC45Mik7XG4gICAgICAgICAgICAgICAgc3ByLnJlbW92ZVNlbGYoKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKGI2NCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZEF0KHNwciwwKTtcbiAgICAgICAgICAgIC8vIHNwci5hbHBoYSA9MDtcbiAgICAgICAgfSlcblxuICAgICAgICByZXR1cm4gYmFzZTY0O1xuICAgIH1cblxuXG4gICAgZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGJhc2VTaGFyZSh0ZW1wbGF0ZTpzdHJpbmcsdXNlVXBkYXRlID0gdHJ1ZSl7XG4gICAgICAgIHVzZVVwZGF0ZSB8fCBhcHAudWkuYnVzeSgpO1xuICAgICAgICBsZXQgaW5mbyA9IHtcbiAgICAgICAgICAgIGhlYWQ6cGxhdGZvcm0ucGxheWVySW5mby5waG90byxcbiAgICAgICAgICAgIHBsYXllcklkOnBsYXRmb3JtLnBsYXllckluZm8ucGxheWVySWQsXG4gICAgICAgICAgICBuYW1lOnBsYXRmb3JtLnBsYXllckluZm8ubmFtZSxcbiAgICAgICAgICAgIHNjb3JlOnBsYXRmb3JtLmdldFdvcmxkSGlnaFNjb3JlKCksXG4gICAgICAgICAgICBza2luOjBcbiAgICAgICAgfVxuICAgICAgICBsZXQgdGV4dHMgPSBbXG4gICAgICAgICAgICBcIldob2EhIEkgY2FuJ3QgYmVsaWV2ZSBJIGRpZCB0aGF0LlwiLFxuICAgICAgICAgICAgXCJPcHBzLCB3aGF0IGhhdmUgSSBkb25lP1wiLFxuICAgICAgICAgICAgXCJKdXN0IGxvb2sgYXQgaXQuIElzbid0IGl0IGFtYXppbmchXCIsXG4gICAgICAgICAgICBcIlBoZXcsIHdoYXQgYSByZWxpZWYhXCIsXG4gICAgICAgICAgICBcIlVnaC4gSXTigJlzIGhvcnJpYmxlLlwiXG4gICAgICAgIF1cbiAgICAgICAgbGV0IGltZ3MgPSBbXG4gICAgICAgICAgICAvLyBcInNoYXJlL3NoYXJlX2dhbWVfMS5qcGdcIixcbiAgICAgICAgICAgIFwic2hhcmUvc2hhcmVfZ2FtZS5qcGdcIixcbiAgICAgICAgXTsvL2BzaGFyZV9yZXNfJHtNYXRoLnJhbmRJbnQoMSw3KX0uanBnYFxuXG4gICAgICAgIGxldCBpbWFnZSA9IGF3YWl0IGdlbmVyYXRlSW1hZ2UobmV3IFNoYXJlR2FtZVVJKHtiZzppbWdzLnJhbmRvbSgpLHBob3RvOmluZm8uaGVhZCxzY29yZTppbmZvLnNjb3JlLHNraW46MH0pKTtcbiAgICAgICAgbGV0IHRleHQgPSB0ZXh0cy5yYW5kb20oKVxuICAgICAgICBpZih1c2VVcGRhdGUpe1xuICAgICAgICAgICAgYXdhaXQgcGxhdGZvcm0udXBkYXRlQXN5bmMoe1xuICAgICAgICAgICAgICAgIHRleHQ6dGV4dCxcbiAgICAgICAgICAgICAgICBpbWFnZTppbWFnZSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTp0ZW1wbGF0ZSxcbiAgICAgICAgICAgICAgICBjdGE6YFBsYXlgLFxuICAgICAgICAgICAgICAgIC8vIHBheWxvYWQ6e29wcGVuZW50X2luZm86aW5mb30sXG4gICAgICAgICAgICB9KVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGF3YWl0IHBsYXRmb3JtLnNoYXJlQXN5bmMoe1xuICAgICAgICAgICAgICAgIHRleHQ6dGV4dCxcbiAgICAgICAgICAgICAgICBpbWFnZTppbWFnZSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTp0ZW1wbGF0ZSxcbiAgICAgICAgICAgICAgICAvLyBwYXlsb2FkOntvcHBlbmVudF9pbmZvOmluZm99XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIHVzZVVwZGF0ZSB8fCBhcHAudWkudW5idXN5KCk7XG4gICAgfVxuXG4gICAgXG4gICAgZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhzY29yZVNoYXJlKHNjb3JlOm51bWJlcix1c2VVcGRhdGUgPSB0cnVlKXtcbiAgICAgICAgdXNlVXBkYXRlIHx8IGFwcC51aS5idXN5KCk7XG4gICAgICAgIGxldCBpbmZvID0ge1xuICAgICAgICAgICAgaGVhZDpwbGF0Zm9ybS5wbGF5ZXJJbmZvLnBob3RvLFxuICAgICAgICAgICAgcGxheWVySWQ6cGxhdGZvcm0ucGxheWVySW5mby5wbGF5ZXJJZCxcbiAgICAgICAgICAgIG5hbWU6cGxhdGZvcm0ucGxheWVySW5mby5uYW1lLFxuICAgICAgICAgICAgc2NvcmUsXG4gICAgICAgICAgICBza2luOjBcbiAgICAgICAgfVxuICAgICAgICBsZXQgaW1hZ2UgPSBhd2FpdCBnZW5lcmF0ZUltYWdlKG5ldyBTaGFyZU5ld1JlY29yZWRVSShpbmZvKSk7XG4gICAgICAgIGxldCB0ZXh0ID0gXCJOZXcgcmVjb3JkIGFnYWluLGNhbiB5b3UgYmVhdCBtZT9cIiBcbiAgICAgICAgbGV0IHRlbXBsYXRlID0gXCJoaWdoX3Njb3JlXCJcblxuICAgICAgICBpZih1c2VVcGRhdGUpe1xuICAgICAgICAgICAgYXdhaXQgcGxhdGZvcm0udXBkYXRlQXN5bmMoe1xuICAgICAgICAgICAgICAgIHRleHQ6dGV4dCxcbiAgICAgICAgICAgICAgICBpbWFnZTppbWFnZSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTp0ZW1wbGF0ZSxcbiAgICAgICAgICAgICAgICBjdGE6YFN1cnBhc3MgJHtpbmZvLm5hbWV9YCxcbiAgICAgICAgICAgICAgICBwYXlsb2FkOntvcHBlbmVudF9pbmZvOmluZm99LFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBhd2FpdCBwbGF0Zm9ybS5zaGFyZUFzeW5jKHtcbiAgICAgICAgICAgICAgICB0ZXh0OnRleHQsXG4gICAgICAgICAgICAgICAgaW1hZ2U6aW1hZ2UsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6dGVtcGxhdGUsXG4gICAgICAgICAgICAgICAgcGF5bG9hZDp7b3BwZW5lbnRfaW5mbzppbmZvfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICB1c2VVcGRhdGUgfHwgYXBwLnVpLnVuYnVzeSgpO1xuICAgIH1cblxuICAgIGV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGFsbGVuZ2VTaGFyZShzY29yZTpudW1iZXIsdXNlVXBkYXRlOmJvb2xlYW4gPSB0cnVlKXtcbiAgICAgICAgdXNlVXBkYXRlIHx8IGFwcC51aS5idXN5KCk7XG5cbiAgICAgICAgbGV0IGluZm8gPSB7XG4gICAgICAgICAgICBoZWFkOnBsYXRmb3JtLnBsYXllckluZm8ucGhvdG8sXG4gICAgICAgICAgICBwbGF5ZXJJZDpwbGF0Zm9ybS5wbGF5ZXJJbmZvLnBsYXllcklkLFxuICAgICAgICAgICAgbmFtZTpwbGF0Zm9ybS5wbGF5ZXJJbmZvLm5hbWUsXG4gICAgICAgICAgICBzY29yZSxcbiAgICAgICAgICAgIHNraW46MFxuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKFwiZ2VuIGltYWdlXCIpXG4gICAgICAgIGxldCBpbWFnZSA9IGF3YWl0IGdlbmVyYXRlSW1hZ2UobmV3IFNoYXJlQ2hhbGxlbmdlVUkoaW5mbykpO1xuICAgICAgICBjb25zb2xlLmxvZyhcImdlbiBpbWFnZSBkb25lXCIpO1xuICAgICAgICBsZXQgdGV4dCA9IGAke2luZm8ubmFtZX0gaGFzIGNoYWxsZW5nZWQgeW91IHRvIGEgbWF0Y2ggb2YgJHtwbGF0Zm9ybS5hcHBOYW1lfSFgO1xuXG4gICAgICAgIGlmKHVzZVVwZGF0ZSl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInVwZGF0ZVwiKVxuICAgICAgICAgICAgYXdhaXQgcGxhdGZvcm0udXBkYXRlQXN5bmMoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpbWFnZTppbWFnZSxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDp0ZXh0LFxuICAgICAgICAgICAgICAgICAgICBjdGE6XCJDSEFMTEVOR0VcIixcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDp7b3BwZW5lbnRfaW5mbzppbmZvfSxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6XCJjaGFsbGVuZ2VfcmVxdWVzdFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ1cGRhdGUgZG9uZVwiKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBhd2FpdCBwbGF0Zm9ybS5zaGFyZUFzeW5jKHtcbiAgICAgICAgICAgICAgICBpbWFnZTppbWFnZSxcbiAgICAgICAgICAgICAgICB0ZXh0OnRleHQsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6XCJjaGFsbGVuZ2VfcmVxdWVzdF9zaGFyZVwiLFxuICAgICAgICAgICAgICAgIHBheWxvYWQ6e29wcGVuZW50X2luZm86aW5mb31cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgdXNlVXBkYXRlIHx8IGFwcC51aS51bmJ1c3koKTtcbiAgICB9XG5cbiAgICBhc3luYyBmdW5jdGlvbiBjaGFsbGVuZ2VSZXN1bHRTaGFyZShzY29yZTpudW1iZXIsb3Bwb25lbnQ6SU9wcG9uZW50LGlzR3JvdXAgPSBmYWxzZSl7XG4gICAgICAgbGV0IGluZm8gPSB7XG4gICAgICAgICAgICBoZWFkOnBsYXRmb3JtLnBsYXllckluZm8ucGhvdG8sXG4gICAgICAgICAgICBwbGF5ZXJJZDpwbGF0Zm9ybS5wbGF5ZXJJbmZvLnBsYXllcklkLFxuICAgICAgICAgICAgbmFtZTpwbGF0Zm9ybS5wbGF5ZXJJbmZvLm5hbWUsXG4gICAgICAgICAgICBzY29yZSxcbiAgICAgICAgICAgIHNraW46MFxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGZyaWVuZE5hbWUgPSBpc0dyb3VwP29wcG9uZW50Lm5hbWU6XCJcIlxuICAgICAgICBsZXQgb3Bwb25lbnROYW1lID0gZnJpZW5kTmFtZSB8fCAneW91J1xuICAgICAgICBsZXQgd2hvID0gb3Bwb25lbnROYW1lID09IFwieW91XCI/XCJ5b3VcIjpcInRoZXlcIlxuICAgICAgICBsZXQgdGV4dCA9IGAke2luZm8ubmFtZX0gaGFzIGNoYWxsZW5nZWQgJHtvcHBvbmVudE5hbWV9LCAke3dob30gYXJlIHJlYWxseSBldmVubHkgbWF0Y2hlZCFgO1xuICAgICAgICBpZihpbmZvLnNjb3JlIDwgb3Bwb25lbnQuc2NvcmUpe1xuICAgICAgICAgICAgdGV4dCA9IGAke2luZm8ubmFtZX0gaGFzIGZhaWxlZCB0byBzdXJwYXNzICR7b3Bwb25lbnROYW1lfSwgJHtvcHBvbmVudE5hbWV9IHdpbiFgO1xuICAgICAgICB9ZWxzZSBpZihpbmZvLnNjb3JlID4gb3Bwb25lbnQuc2NvcmUpe1xuICAgICAgICAgICAgdGV4dCA9IGAke2luZm8ubmFtZX0gaGFzIHN1Y2NlZWRlZCBpbiBwYXNzaW5nICR7b3Bwb25lbnROYW1lfS4gQ29tZSBhbmQgc3VycGFzcyAke2luZm8ubmFtZX1gXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaW1hZ2UgPSBhd2FpdCBnZW5lcmF0ZUltYWdlKG5ldyBTaGFyZUNoYWxsZW5nZVJlc3VsdFVJKGluZm8sb3Bwb25lbnQpKTtcblxuICAgICAgICBhd2FpdCBwbGF0Zm9ybS51cGRhdGVBc3luYyh7XG4gICAgICAgICAgICAgICAgaW1hZ2U6aW1hZ2UsXG4gICAgICAgICAgICAgICAgdGV4dDp0ZXh0LFxuICAgICAgICAgICAgICAgIGN0YTpcIlNUQVJUIE5FVyBNQVRDSFwiLFxuICAgICAgICAgICAgICAgIHBheWxvYWQ6e29wcGVuZW50X2luZm86aW5mb30sXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6XCJjaGFsbGVuZ2VfcmVzdWx0XCJcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRTY29yZShzY29yZTpudW1iZXIpe1xuXHRcdGlmKCFwbGF0Zm9ybS5nZXRDb250ZXh0SWQoKSkgcmV0dXJuO1xuXG4gICAgICAgIC8vIGFwcC51aS50b2FzdChcIlNlbmRpbmcgc2NvcmUuLi5cIik7XG5cdFx0bGV0IG5lZWROb3JtYWxVcGRhdGUgPSB0cnVlO1xuICAgICAgICBsZXQgaXNHcm91cCA9IGZhbHNlO1xuXHRcdGlmKHBsYXRmb3JtIGluc3RhbmNlb2YgRkJQbGF0Zm9ybSl7XG5cdFx0XHRsZXQgbGVhZGVyTmFtZSA9IFwiY29udGV4dC5cIitGQkluc3RhbnQuY29udGV4dC5nZXRJRCgpXG5cdFx0XHRsZXQgbGVhZGVyYm9hcmQgPSBhd2FpdCBGQkluc3RhbnQuZ2V0TGVhZGVyYm9hcmRBc3luYyhsZWFkZXJOYW1lKVxuXHRcdFx0YXdhaXQgbGVhZGVyYm9hcmQuc2V0U2NvcmVBc3luYyhzY29yZSlcblx0XHRcdGxldCByZXN1bHQgPSBGQkluc3RhbnQuY29udGV4dC5pc1NpemVCZXR3ZWVuKDMsIG51bGwpO1xuICAgICAgICAgICAgbGV0IGlzR3JvdXAgPSByZXN1bHQgJiYgcmVzdWx0LmFuc3dlclxuXHRcdFx0aWYoaXNHcm91cCl7XG4gICAgICAgICAgICAgICAgbGV0IHBsYXllcnMgPSBhd2FpdCBGQkluc3RhbnQuY29udGV4dC5nZXRQbGF5ZXJzQXN5bmMoKTtcbiAgICAgICAgICAgICAgICBwbGF5ZXJzID0gcGxheWVycy5maWx0ZXIodj0+di5nZXRJRCgpICE9IHBsYXRmb3JtLnBsYXllckluZm8ucGxheWVySWQpO1xuICAgICAgICAgICAgICAgIGlmKHBsYXllcnMubGVuZ3RoID49Mil7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IEZCSW5zdGFudC51cGRhdGVBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246XCJMRUFERVJCT0FSRFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTpsZWFkZXJOYW1lXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIG5lZWROb3JtYWxVcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYobmVlZE5vcm1hbFVwZGF0ZSl7XG5cdFx0XHRpZihwbGF0Zm9ybS5vcHBlbmVudERhdGEpe1xuXHRcdFx0XHRhd2FpdCBjaGFsbGVuZ2VSZXN1bHRTaGFyZShzY29yZSxwbGF0Zm9ybS5vcHBlbmVudERhdGEsaXNHcm91cClcblx0XHRcdFx0cGxhdGZvcm0ub3BwZW5lbnREYXRhID0gbnVsbDtcblx0XHRcdH1lbHNle1xuXHRcdFx0XHRhd2FpdCBjaGFsbGVuZ2VTaGFyZShzY29yZSlcblx0XHRcdH1cblx0XHR9XG4gICAgICAgIC8vIGFwcC51aS50b2FzdChcIlNjb3JlIHNlbnRcIik7XG5cdH1cbn0iLCJpbXBvcnQgeyB1aSB9IGZyb20gJy4uL3VpL2xheWFNYXhVSSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNoYXJlTmV3UmVjb3JlZFVJIGV4dGVuZHMgdWkuc2hhcmUuU2hhcmVOZXdSZWNvcmRVSXtcblx0cHVibGljIGNvbnN0cnVjdG9yKHByaXZhdGUgZGF0Ontcblx0XHRoZWFkOnN0cmluZyxzY29yZTpudW1iZXIsc2tpbjpudW1iZXJcblx0fSkge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5pbWdfYmcuc2tpbiA9IG51bGw7XG5cdFx0dGhpcy5pbWdfaGVhZC5za2luID0gbnVsbDtcblxuXHRcdHRoaXMuYXBwbHlEYXRhKCk7XG5cdH1cblxuXHRhc3luYyBhcHBseURhdGEoKXtcblx0XHR0aGlzLnR4dF9zY29yZS50ZXh0ID0gdGhpcy5kYXQuc2NvcmUgKyBcIlwiO1xuXHRcdGF3YWl0IFByb21pc2UuYWxsKFxuXHRcdFx0W1xuXHRcdFx0XHRuZXcgUHJvbWlzZSgocmVzb2x2ZSxyZWplY3QpPT57XG5cdFx0XHRcdFx0dGhpcy5pbWdfYmcuc2tpbiA9IG51bGw7XG5cdFx0XHRcdFx0dGhpcy5pbWdfYmcub25jZShMYXlhLkV2ZW50LkxPQURFRCx0aGlzLHJlc29sdmUpXG5cdFx0XHRcdFx0dGhpcy5pbWdfYmcuc2tpbiA9IFwic2hhcmUvc2hhcmVfY2hhbGxlbmdlLmpwZ1wiO1xuXHRcdFx0XHR9KSxcblx0XHRcdFx0bmV3IFByb21pc2UocmVzb2x2ZT0+e1xuXHRcdFx0XHRcdHRoaXMuaW1nX2hlYWQuc2tpbiA9IG51bGw7XG5cdFx0XHRcdFx0dGhpcy5pbWdfaGVhZC5vbmNlKExheWEuRXZlbnQuTE9BREVELHRoaXMscmVzb2x2ZSlcblx0XHRcdFx0XHR0aGlzLmltZ19oZWFkLnNraW4gPSB0aGlzLmRhdC5oZWFkXG5cdFx0XHRcdH0pXG5cdFx0XHRdXG5cdFx0KVxuXG5cdFx0TGF5YS50aW1lci5mcmFtZU9uY2UoMix0aGlzLCgpPT57XG5cdFx0XHR0aGlzLmV2ZW50KFwicmVhZHlfZHJhd1wiKTtcblx0XHR9KVxuXHR9XG59XG4iLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cbmltcG9ydCBWaWV3PUxheWEuVmlldztcclxuaW1wb3J0IERpYWxvZz1MYXlhLkRpYWxvZztcclxuaW1wb3J0IFNjZW5lPUxheWEuU2NlbmU7XG52YXIgUkVHOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcbmV4cG9ydCBtb2R1bGUgdWkuc2hhcmUge1xyXG4gICAgZXhwb3J0IGNsYXNzIFNoYXJlQ2hhbGxlbmdlVUkgZXh0ZW5kcyBTY2VuZSB7XHJcblx0XHRwdWJsaWMgaW1nX2JnOkxheWEuSW1hZ2U7XG5cdFx0cHVibGljIHR4dF9zY29yZTpMYXlhLkxhYmVsO1xuXHRcdHB1YmxpYyBpbWdfaGVhZDpMYXlhLkltYWdlO1xuICAgICAgICBwdWJsaWMgc3RhdGljICB1aVZpZXc6YW55ID17XCJ0eXBlXCI6XCJTY2VuZVwiLFwicHJvcHNcIjp7XCJ3aWR0aFwiOjY0MCxcImhlaWdodFwiOjMzNX0sXCJjb21wSWRcIjoyLFwiY2hpbGRcIjpbe1widHlwZVwiOlwiSW1hZ2VcIixcInByb3BzXCI6e1widmFyXCI6XCJpbWdfYmdcIixcInRvcFwiOjAsXCJza2luXCI6XCJjb21wL2ltYWdlLnBuZ1wiLFwicmlnaHRcIjowLFwibGVmdFwiOjAsXCJib3R0b21cIjowfSxcImNvbXBJZFwiOjR9LHtcInR5cGVcIjpcIkxhYmVsXCIsXCJwcm9wc1wiOntcInlcIjoyMDUsXCJ4XCI6MTY4LFwidGV4dFwiOlwiU0NPUkVcIixcImZvbnRTaXplXCI6MzgsXCJjb2xvclwiOlwiI2ZmZmZmZlwiLFwiYm9sZFwiOnRydWUsXCJhbmNob3JZXCI6MC41LFwiYW5jaG9yWFwiOjAuNX0sXCJjb21wSWRcIjo3fSx7XCJ0eXBlXCI6XCJMYWJlbFwiLFwicHJvcHNcIjp7XCJ5XCI6MjcwLFwieFwiOjE1OCxcInZhclwiOlwidHh0X3Njb3JlXCIsXCJ0ZXh0XCI6XCIyMzQwXCIsXCJmb250U2l6ZVwiOjY4LFwiY29sb3JcIjpcIiNmZmZmZmZcIixcImJvbGRcIjp0cnVlLFwiYW5jaG9yWVwiOjAuNSxcImFuY2hvclhcIjowLjV9LFwiY29tcElkXCI6Nn0se1widHlwZVwiOlwiSW1hZ2VcIixcInByb3BzXCI6e1wieVwiOjQzLFwieFwiOjk4LFwid2lkdGhcIjoxMzAsXCJ2YXJcIjpcImltZ19oZWFkXCIsXCJza2luXCI6XCJjb21wL2ltYWdlLnBuZ1wiLFwiaGVpZ2h0XCI6MTMwfSxcImNvbXBJZFwiOjMsXCJjaGlsZFwiOlt7XCJ0eXBlXCI6XCJJbWFnZVwiLFwicHJvcHNcIjp7XCJ3aWR0aFwiOjEzMCxcInNraW5cIjpcImdhbWUvZGVmYXVsdF9wb3J0YWl0X3NxdWFyZS5wbmdcIixcInJlbmRlclR5cGVcIjpcIm1hc2tcIixcImhlaWdodFwiOjEzMH0sXCJjb21wSWRcIjo1fV19XSxcImxvYWRMaXN0XCI6W1wiY29tcC9pbWFnZS5wbmdcIixcImdhbWUvZGVmYXVsdF9wb3J0YWl0X3NxdWFyZS5wbmdcIl0sXCJsb2FkTGlzdDNEXCI6W119O1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKCl7IHN1cGVyKCl9XHJcbiAgICAgICAgY3JlYXRlQ2hpbGRyZW4oKTp2b2lkIHtcclxuICAgICAgICAgICAgc3VwZXIuY3JlYXRlQ2hpbGRyZW4oKTtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVWaWV3KFNoYXJlQ2hhbGxlbmdlVUkudWlWaWV3KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBSRUcoXCJ1aS5zaGFyZS5TaGFyZUNoYWxsZW5nZVVJXCIsU2hhcmVDaGFsbGVuZ2VVSSk7XHJcbiAgICBleHBvcnQgY2xhc3MgU2hhcmVDaGFsbGVuZ2VSZXN1bHRVSSBleHRlbmRzIFNjZW5lIHtcclxuXHRcdHB1YmxpYyBpbWdfYmc6TGF5YS5JbWFnZTtcblx0XHRwdWJsaWMgdHh0X3Njb3JlX2xlZnQ6TGF5YS5MYWJlbDtcblx0XHRwdWJsaWMgaW1nX2hlYWRfbGVmdDpMYXlhLkltYWdlO1xuXHRcdHB1YmxpYyB0eHRfc2NvcmVfcmlnaHQ6TGF5YS5MYWJlbDtcblx0XHRwdWJsaWMgaW1nX2hlYWRfcmlnaHQ6TGF5YS5JbWFnZTtcbiAgICAgICAgcHVibGljIHN0YXRpYyAgdWlWaWV3OmFueSA9e1widHlwZVwiOlwiU2NlbmVcIixcInByb3BzXCI6e1wid2lkdGhcIjo2NDAsXCJoZWlnaHRcIjozMzV9LFwiY29tcElkXCI6MixcImNoaWxkXCI6W3tcInR5cGVcIjpcIkltYWdlXCIsXCJwcm9wc1wiOntcInlcIjowLFwieFwiOjAsXCJ2YXJcIjpcImltZ19iZ1wiLFwidG9wXCI6MCxcInNraW5cIjpcImNvbXAvaW1hZ2UucG5nXCIsXCJyaWdodFwiOjAsXCJsZWZ0XCI6MCxcImJvdHRvbVwiOjB9LFwiY29tcElkXCI6NH0se1widHlwZVwiOlwiTGFiZWxcIixcInByb3BzXCI6e1wieVwiOjI2OCxcInhcIjoxMDAsXCJ2YXJcIjpcInR4dF9zY29yZV9sZWZ0XCIsXCJ0ZXh0XCI6XCIyMzQwMFwiLFwiZm9udFNpemVcIjo2NSxcImNvbG9yXCI6XCIjZmZmZmZmXCIsXCJib2xkXCI6dHJ1ZSxcImFuY2hvcllcIjowLjUsXCJhbmNob3JYXCI6MC41fSxcImNvbXBJZFwiOjV9LHtcInR5cGVcIjpcIkltYWdlXCIsXCJwcm9wc1wiOntcInlcIjoxMjksXCJ4XCI6MTAwLFwid2lkdGhcIjoxMzAsXCJ2YXJcIjpcImltZ19oZWFkX2xlZnRcIixcInNraW5cIjpcImNvbXAvaW1hZ2UucG5nXCIsXCJoZWlnaHRcIjoxMzAsXCJhbmNob3JZXCI6MC41LFwiYW5jaG9yWFwiOjAuNX0sXCJjb21wSWRcIjo2LFwiY2hpbGRcIjpbe1widHlwZVwiOlwiSW1hZ2VcIixcInByb3BzXCI6e1wid2lkdGhcIjoxMzAsXCJza2luXCI6XCJnYW1lL2RlZmF1bHRfcG9ydGFpdF9zcXVhcmUucG5nXCIsXCJyZW5kZXJUeXBlXCI6XCJtYXNrXCIsXCJoZWlnaHRcIjoxMzB9LFwiY29tcElkXCI6N31dfSx7XCJ0eXBlXCI6XCJMYWJlbFwiLFwicHJvcHNcIjp7XCJ5XCI6MjY0LFwieFwiOjUyMCxcInZhclwiOlwidHh0X3Njb3JlX3JpZ2h0XCIsXCJ0ZXh0XCI6XCIxMjAwMFwiLFwiZm9udFNpemVcIjo2NSxcImNvbG9yXCI6XCIjZmZmZmZmXCIsXCJib2xkXCI6dHJ1ZSxcImFuY2hvcllcIjowLjUsXCJhbmNob3JYXCI6MC41fSxcImNvbXBJZFwiOjh9LHtcInR5cGVcIjpcIkltYWdlXCIsXCJwcm9wc1wiOntcInlcIjoxMjksXCJ4XCI6NTQwLFwid2lkdGhcIjoxMzAsXCJ2YXJcIjpcImltZ19oZWFkX3JpZ2h0XCIsXCJza2luXCI6XCJjb21wL2ltYWdlLnBuZ1wiLFwiaGVpZ2h0XCI6MTMwLFwiYW5jaG9yWVwiOjAuNSxcImFuY2hvclhcIjowLjV9LFwiY29tcElkXCI6OSxcImNoaWxkXCI6W3tcInR5cGVcIjpcIkltYWdlXCIsXCJwcm9wc1wiOntcIndpZHRoXCI6MTMwLFwic2tpblwiOlwiZ2FtZS9kZWZhdWx0X3BvcnRhaXRfc3F1YXJlLnBuZ1wiLFwicmVuZGVyVHlwZVwiOlwibWFza1wiLFwiaGVpZ2h0XCI6MTMwfSxcImNvbXBJZFwiOjEwfV19LHtcInR5cGVcIjpcIkxhYmVsXCIsXCJwcm9wc1wiOntcInlcIjoyMzksXCJ4XCI6MjM5LFwidGV4dFwiOlwiVlNcIixcIm5hbWVcIjpcInZzXCIsXCJmb250U2l6ZVwiOjY4LFwiY29sb3JcIjpcIiNmZmZmZmZcIixcImNlbnRlclhcIjowLFwiYm9sZFwiOnRydWV9LFwiY29tcElkXCI6MTR9XSxcImxvYWRMaXN0XCI6W1wiY29tcC9pbWFnZS5wbmdcIixcImdhbWUvZGVmYXVsdF9wb3J0YWl0X3NxdWFyZS5wbmdcIl0sXCJsb2FkTGlzdDNEXCI6W119O1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKCl7IHN1cGVyKCl9XHJcbiAgICAgICAgY3JlYXRlQ2hpbGRyZW4oKTp2b2lkIHtcclxuICAgICAgICAgICAgc3VwZXIuY3JlYXRlQ2hpbGRyZW4oKTtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVWaWV3KFNoYXJlQ2hhbGxlbmdlUmVzdWx0VUkudWlWaWV3KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBSRUcoXCJ1aS5zaGFyZS5TaGFyZUNoYWxsZW5nZVJlc3VsdFVJXCIsU2hhcmVDaGFsbGVuZ2VSZXN1bHRVSSk7XHJcbiAgICBleHBvcnQgY2xhc3MgU2hhcmVHYW1lVUkgZXh0ZW5kcyBTY2VuZSB7XHJcblx0XHRwdWJsaWMgaW1nX2JnOkxheWEuSW1hZ2U7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgIHVpVmlldzphbnkgPXtcInR5cGVcIjpcIlNjZW5lXCIsXCJwcm9wc1wiOntcIndpZHRoXCI6NjQwLFwiaGVpZ2h0XCI6MzM1fSxcImNvbXBJZFwiOjIsXCJjaGlsZFwiOlt7XCJ0eXBlXCI6XCJJbWFnZVwiLFwicHJvcHNcIjp7XCJ2YXJcIjpcImltZ19iZ1wiLFwidG9wXCI6MCxcInNraW5cIjpcImNvbXAvaW1hZ2UucG5nXCIsXCJyaWdodFwiOjAsXCJsZWZ0XCI6MCxcImJvdHRvbVwiOjB9LFwiY29tcElkXCI6M31dLFwibG9hZExpc3RcIjpbXCJjb21wL2ltYWdlLnBuZ1wiXSxcImxvYWRMaXN0M0RcIjpbXX07XHJcbiAgICAgICAgY29uc3RydWN0b3IoKXsgc3VwZXIoKX1cclxuICAgICAgICBjcmVhdGVDaGlsZHJlbigpOnZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVZpZXcoU2hhcmVHYW1lVUkudWlWaWV3KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBSRUcoXCJ1aS5zaGFyZS5TaGFyZUdhbWVVSVwiLFNoYXJlR2FtZVVJKTtcclxuICAgIGV4cG9ydCBjbGFzcyBTaGFyZU5ld1JlY29yZFVJIGV4dGVuZHMgU2NlbmUge1xyXG5cdFx0cHVibGljIGltZ19iZzpMYXlhLkltYWdlO1xuXHRcdHB1YmxpYyB0eHRfc2NvcmU6TGF5YS5MYWJlbDtcblx0XHRwdWJsaWMgaW1nX2hlYWQ6TGF5YS5JbWFnZTtcbiAgICAgICAgcHVibGljIHN0YXRpYyAgdWlWaWV3OmFueSA9e1widHlwZVwiOlwiU2NlbmVcIixcInByb3BzXCI6e1wid2lkdGhcIjo2NDAsXCJoZWlnaHRcIjozMzV9LFwiY29tcElkXCI6MixcImNoaWxkXCI6W3tcInR5cGVcIjpcIkltYWdlXCIsXCJwcm9wc1wiOntcInlcIjoxMCxcInhcIjoxMCxcInZhclwiOlwiaW1nX2JnXCIsXCJ0b3BcIjowLFwic2tpblwiOlwiY29tcC9pbWFnZS5wbmdcIixcInJpZ2h0XCI6MCxcImxlZnRcIjowLFwiYm90dG9tXCI6MH0sXCJjb21wSWRcIjozfSx7XCJ0eXBlXCI6XCJMYWJlbFwiLFwicHJvcHNcIjp7XCJ5XCI6MjE1LFwieFwiOjE3OCxcInRleHRcIjpcIkJFU1QgU0NPUkVcIixcImZvbnRTaXplXCI6MzAsXCJjb2xvclwiOlwiI2ZmZmZmZlwiLFwiYm9sZFwiOnRydWUsXCJhbmNob3JZXCI6MC41LFwiYW5jaG9yWFwiOjAuNX0sXCJjb21wSWRcIjo0fSx7XCJ0eXBlXCI6XCJMYWJlbFwiLFwicHJvcHNcIjp7XCJ5XCI6MjgwLFwieFwiOjE2OCxcInZhclwiOlwidHh0X3Njb3JlXCIsXCJ0ZXh0XCI6XCIyMzQwXCIsXCJmb250U2l6ZVwiOjY4LFwiY29sb3JcIjpcIiNmZmZmZmZcIixcImJvbGRcIjp0cnVlLFwiYW5jaG9yWVwiOjAuNSxcImFuY2hvclhcIjowLjV9LFwiY29tcElkXCI6NX0se1widHlwZVwiOlwiSW1hZ2VcIixcInByb3BzXCI6e1wieVwiOjUzLFwieFwiOjEwOCxcIndpZHRoXCI6MTMwLFwidmFyXCI6XCJpbWdfaGVhZFwiLFwic2tpblwiOlwiY29tcC9pbWFnZS5wbmdcIixcImhlaWdodFwiOjEzMH0sXCJjb21wSWRcIjo2LFwiY2hpbGRcIjpbe1widHlwZVwiOlwiSW1hZ2VcIixcInByb3BzXCI6e1wid2lkdGhcIjoxMzAsXCJza2luXCI6XCJnYW1lL2RlZmF1bHRfcG9ydGFpdF9zcXVhcmUucG5nXCIsXCJyZW5kZXJUeXBlXCI6XCJtYXNrXCIsXCJoZWlnaHRcIjoxMzB9LFwiY29tcElkXCI6N31dfV0sXCJsb2FkTGlzdFwiOltcImNvbXAvaW1hZ2UucG5nXCIsXCJnYW1lL2RlZmF1bHRfcG9ydGFpdF9zcXVhcmUucG5nXCJdLFwibG9hZExpc3QzRFwiOltdfTtcclxuICAgICAgICBjb25zdHJ1Y3RvcigpeyBzdXBlcigpfVxyXG4gICAgICAgIGNyZWF0ZUNoaWxkcmVuKCk6dm9pZCB7XHJcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlVmlldyhTaGFyZU5ld1JlY29yZFVJLnVpVmlldyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgUkVHKFwidWkuc2hhcmUuU2hhcmVOZXdSZWNvcmRVSVwiLFNoYXJlTmV3UmVjb3JkVUkpO1xyXG59XHJcbmV4cG9ydCBtb2R1bGUgdWkudmlldyB7XHJcbiAgICBleHBvcnQgY2xhc3MgR2FtZVVJIGV4dGVuZHMgU2NlbmUge1xyXG5cdFx0cHVibGljIF90eHRfc2NvcmU6TGF5YS5MYWJlbDtcblx0XHRwdWJsaWMgX2J4X2NvcmU6TGF5YS5Cb3g7XG5cdFx0cHVibGljIF9pbWdfYmFydHJhY2s6TGF5YS5JbWFnZTtcblx0XHRwdWJsaWMgX2ltZ19iYXI6TGF5YS5JbWFnZTtcblx0XHRwdWJsaWMgX2ltZ19sZWZ0OkxheWEuU3ByaXRlO1xuXHRcdHB1YmxpYyBfaW1nX3JpZ2h0OkxheWEuU3ByaXRlO1xuXHRcdHB1YmxpYyBfdHh0TnVtX2xlZnQ6TGF5YS5MYWJlbDtcblx0XHRwdWJsaWMgX3R4dE51bV9yaWdodDpMYXlhLkxhYmVsO1xuXHRcdHB1YmxpYyBfY2lyY2xlX2JhcjpMYXlhLkJveDtcblx0XHRwdWJsaWMgX3R4dF93YXJuaW5nOkxheWEuTGFiZWw7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgIHVpVmlldzphbnkgPXtcInR5cGVcIjpcIlNjZW5lXCIsXCJwcm9wc1wiOntcIndpZHRoXCI6NjQwLFwiaGVpZ2h0XCI6MTEzNn0sXCJjb21wSWRcIjoyLFwiY2hpbGRcIjpbe1widHlwZVwiOlwiTGFiZWxcIixcInByb3BzXCI6e1wieVwiOjEyMCxcInZhclwiOlwiX3R4dF9zY29yZVwiLFwidGV4dFwiOlwiOTk5XCIsXCJzdHlsZVNraW5cIjpcImNvbXAvbGFiZWwucG5nXCIsXCJmb250U2l6ZVwiOjUwLFwiY29sb3JcIjpcIjBcIixcImNlbnRlclhcIjowLFwiYm9sZFwiOnRydWV9LFwiY29tcElkXCI6N30se1widHlwZVwiOlwiQm94XCIsXCJwcm9wc1wiOntcInlcIjo3MCxcIndpZHRoXCI6MzkwLFwidmFyXCI6XCJfYnhfY29yZVwiLFwiY2VudGVyWFwiOjB9LFwiY29tcElkXCI6MTIsXCJjaGlsZFwiOlt7XCJ0eXBlXCI6XCJCb3hcIixcInByb3BzXCI6e1wieVwiOjE3LFwieFwiOjUyfSxcImNvbXBJZFwiOjM3LFwiY2hpbGRcIjpbe1widHlwZVwiOlwiSW1hZ2VcIixcInByb3BzXCI6e1widmFyXCI6XCJfaW1nX2JhcnRyYWNrXCIsXCJza2luXCI6XCJnYW1lL2xldmVsX2Jhcl90cmFjay5wbmdcIn0sXCJjb21wSWRcIjozOH0se1widHlwZVwiOlwiSW1hZ2VcIixcInByb3BzXCI6e1widmFyXCI6XCJfaW1nX2JhclwiLFwic2tpblwiOlwiZ2FtZS9sZXZlbF9iYXIucG5nXCJ9LFwiY29tcElkXCI6Mzl9XX0se1widHlwZVwiOlwiU3ByaXRlXCIsXCJwcm9wc1wiOntcInlcIjowLFwieFwiOjAsXCJ2YXJcIjpcIl9pbWdfbGVmdFwiLFwidGV4dHVyZVwiOlwiZ2FtZS9iZ19sZXZlbF9udW0ucG5nXCJ9LFwiY29tcElkXCI6NDF9LHtcInR5cGVcIjpcIlNwcml0ZVwiLFwicHJvcHNcIjp7XCJ5XCI6MCxcInhcIjozMzUsXCJ2YXJcIjpcIl9pbWdfcmlnaHRcIixcInRleHR1cmVcIjpcImdhbWUvYmdfbGV2ZWxfbnVtLnBuZ1wifSxcImNvbXBJZFwiOjQwfSx7XCJ0eXBlXCI6XCJMYWJlbFwiLFwicHJvcHNcIjp7XCJ5XCI6MjcsXCJ4XCI6MjcsXCJ2YXJcIjpcIl90eHROdW1fbGVmdFwiLFwidmFsaWduXCI6XCJtaWRkbGVcIixcInRleHRcIjpcIjEwMFwiLFwic3R5bGVTa2luXCI6XCJjb21wL2xhYmVsLnBuZ1wiLFwiaGVpZ2h0XCI6NTUsXCJmb250U2l6ZVwiOjM0LFwiY29sb3JcIjpcIiNmZmZmZmZcIixcImFuY2hvcllcIjowLjUsXCJhbmNob3JYXCI6MC41fSxcImNvbXBJZFwiOjR9LHtcInR5cGVcIjpcIkxhYmVsXCIsXCJwcm9wc1wiOntcInlcIjoyNyxcInhcIjozNjIsXCJ2YXJcIjpcIl90eHROdW1fcmlnaHRcIixcInZhbGlnblwiOlwibWlkZGxlXCIsXCJ0ZXh0XCI6XCIxMDBcIixcInN0eWxlU2tpblwiOlwiY29tcC9sYWJlbC5wbmdcIixcImhlaWdodFwiOjU1LFwiZm9udFNpemVcIjozNCxcImNvbG9yXCI6XCIjZmZmZmZmXCIsXCJhbmNob3JZXCI6MC41LFwiYW5jaG9yWFwiOjAuNX0sXCJjb21wSWRcIjo0Mn1dfSx7XCJ0eXBlXCI6XCJCb3hcIixcInByb3BzXCI6e1wid2lkdGhcIjoxLFwidmFyXCI6XCJfY2lyY2xlX2JhclwiLFwiaGVpZ2h0XCI6MSxcImNlbnRlcllcIjoyMDAsXCJjZW50ZXJYXCI6MH0sXCJjb21wSWRcIjozMixcImNoaWxkXCI6W3tcInR5cGVcIjpcIkltYWdlXCIsXCJwcm9wc1wiOntcInlcIjowLFwieFwiOjAsXCJza2luXCI6XCJnYW1lL2NpcmNsZV9iYXJfdHJhY2sucG5nXCIsXCJuYW1lXCI6XCJiZ190cmFja1wiLFwiYW5jaG9yWVwiOjAuNSxcImFuY2hvclhcIjowLjUsXCJhbHBoYVwiOjAuNn0sXCJjb21wSWRcIjozMH0se1widHlwZVwiOlwiSW1hZ2VcIixcInByb3BzXCI6e1wieVwiOjAsXCJ4XCI6MCxcInNraW5cIjpcImdhbWUvY2lyY2xlX2Jhci5wbmdcIixcIm5hbWVcIjpcImJhclwiLFwiYW5jaG9yWVwiOjAuNSxcImFuY2hvclhcIjowLjV9LFwiY29tcElkXCI6MzF9LHtcInR5cGVcIjpcIkxhYmVsXCIsXCJwcm9wc1wiOntcInZhclwiOlwiX3R4dF93YXJuaW5nXCIsXCJ0ZXh0XCI6XCIhXCIsXCJzdHlsZVNraW5cIjpcImNvbXAvaW1hZ2UucG5nXCIsXCJmb250U2l6ZVwiOjEwMCxcImNvbG9yXCI6XCIjZmZmZmZmXCIsXCJjZW50ZXJZXCI6MCxcImNlbnRlclhcIjowLFwiYm9sZFwiOnRydWV9LFwiY29tcElkXCI6MTB9LHtcInR5cGVcIjpcIlNjcmlwdFwiLFwicHJvcHNcIjp7XCJydW50aW1lXCI6XCJzY3JpcHQvQ2lyY2xlUHJvZ3Jlc3NTY3JpcHQudHNcIn0sXCJjb21wSWRcIjozM31dfV0sXCJsb2FkTGlzdFwiOltcImNvbXAvbGFiZWwucG5nXCIsXCJnYW1lL2xldmVsX2Jhcl90cmFjay5wbmdcIixcImdhbWUvbGV2ZWxfYmFyLnBuZ1wiLFwiZ2FtZS9iZ19sZXZlbF9udW0ucG5nXCIsXCJnYW1lL2NpcmNsZV9iYXJfdHJhY2sucG5nXCIsXCJnYW1lL2NpcmNsZV9iYXIucG5nXCIsXCJjb21wL2ltYWdlLnBuZ1wiXSxcImxvYWRMaXN0M0RcIjpbXX07XHJcbiAgICAgICAgY29uc3RydWN0b3IoKXsgc3VwZXIoKX1cclxuICAgICAgICBjcmVhdGVDaGlsZHJlbigpOnZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVZpZXcoR2FtZVVJLnVpVmlldyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgUkVHKFwidWkudmlldy5HYW1lVUlcIixHYW1lVUkpO1xyXG4gICAgZXhwb3J0IGNsYXNzIEdhbWVPdmVyVUkgZXh0ZW5kcyBTY2VuZSB7XHJcblx0XHRwdWJsaWMgbm9kZV9yZXN0YXJ0OkxheWEuQm94O1xuXHRcdHB1YmxpYyBfdHh0X3Njb3JlczpMYXlhLkxhYmVsO1xuXHRcdHB1YmxpYyBfdHh0X2Jlc3Q6TGF5YS5MYWJlbDtcblx0XHRwdWJsaWMgYnRuX2ZyaWVuZGx5OkxheWEuTGFiZWw7XG5cdFx0cHVibGljIGJ0bl9yZXN0YXJ0OkxheWEuTGFiZWw7XG5cdFx0cHVibGljIG5vZGVfY29udGludWU6TGF5YS5Cb3g7XG5cdFx0cHVibGljIG5vZGVfdGltZXI6TGF5YS5Cb3g7XG5cdFx0cHVibGljIF9idG5fY29udGludWU6TGF5YS5MYWJlbDtcblx0XHRwdWJsaWMgX3R4dF90aW1lcjpMYXlhLkxhYmVsO1xuXHRcdHB1YmxpYyBfYnRuX25vVGhhbmtzOkxheWEuTGFiZWw7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgIHVpVmlldzphbnkgPXtcInR5cGVcIjpcIlNjZW5lXCIsXCJwcm9wc1wiOntcIndpZHRoXCI6NjQwLFwiaGVpZ2h0XCI6MTEzNn0sXCJjb21wSWRcIjoyLFwiY2hpbGRcIjpbe1widHlwZVwiOlwiQm94XCIsXCJwcm9wc1wiOntcInlcIjowLFwieFwiOjAsXCJ0b3BcIjowLFwicmlnaHRcIjowLFwibGVmdFwiOjAsXCJib3R0b21cIjowLFwiYmdDb2xvclwiOlwiIzBcIixcImFscGhhXCI6MC42fSxcImNvbXBJZFwiOjIwfSx7XCJ0eXBlXCI6XCJMYWJlbFwiLFwicHJvcHNcIjp7XCJ5XCI6MjYwLFwidGV4dFwiOlwiR0FNRSBPVkVSXCIsXCJzdHlsZVNraW5cIjpcImNvbXAvbGFiZWwucG5nXCIsXCJuYW1lXCI6XCJnYW1lX292ZXJcIixcImZvbnRTaXplXCI6NjAsXCJjb2xvclwiOlwiI2ZmZmZmZlwiLFwiY2VudGVyWFwiOjAsXCJib2xkXCI6dHJ1ZX0sXCJjb21wSWRcIjoxMn0se1widHlwZVwiOlwiQm94XCIsXCJwcm9wc1wiOntcInZhclwiOlwibm9kZV9yZXN0YXJ0XCIsXCJ0b3BcIjowLFwicmlnaHRcIjowLFwibmFtZVwiOlwibm9kZV9yZXN0YXJ0XCIsXCJsZWZ0XCI6MCxcImJvdHRvbVwiOjB9LFwiY29tcElkXCI6MTMsXCJjaGlsZFwiOlt7XCJ0eXBlXCI6XCJMYWJlbFwiLFwicHJvcHNcIjp7XCJ5XCI6NDA4LFwidGV4dFwiOlwiU0NPUkU6XCIsXCJzdHlsZVNraW5cIjpcImNvbXAvbGFiZWwucG5nXCIsXCJuYW1lXCI6XCJzY29yZVwiLFwiZm9udFNpemVcIjo1MCxcImNvbG9yXCI6XCIjZmZmZmZmXCIsXCJjZW50ZXJYXCI6MH0sXCJjb21wSWRcIjoxMSxcImNoaWxkXCI6W3tcInR5cGVcIjpcIkxhYmVsXCIsXCJwcm9wc1wiOntcInlcIjo1OCxcInZhclwiOlwiX3R4dF9zY29yZXNcIixcInRleHRcIjpcIjEwMFwiLFwic3R5bGVTa2luXCI6XCJjb21wL2xhYmVsLnBuZ1wiLFwiZm9udFNpemVcIjo3MixcImNvbG9yXCI6XCIjZmZmOWY5XCIsXCJjZW50ZXJYXCI6MH0sXCJjb21wSWRcIjo3fV19LHtcInR5cGVcIjpcIkxhYmVsXCIsXCJwcm9wc1wiOntcInlcIjo1NjcsXCJ0ZXh0XCI6XCJCRVNUXCIsXCJzdHlsZVNraW5cIjpcImNvbXAvbGFiZWwucG5nXCIsXCJuYW1lXCI6XCJiZXN0XCIsXCJmb250U2l6ZVwiOjQwLFwiY29sb3JcIjpcIiNmZDkwMDNcIixcImNlbnRlclhcIjowfSxcImNvbXBJZFwiOjksXCJjaGlsZFwiOlt7XCJ0eXBlXCI6XCJMYWJlbFwiLFwicHJvcHNcIjp7XCJ5XCI6NTAsXCJ2YXJcIjpcIl90eHRfYmVzdFwiLFwidGV4dFwiOlwiMTAwMFwiLFwic3R5bGVTa2luXCI6XCJjb21wL2xhYmVsLnBuZ1wiLFwiZm9udFNpemVcIjo3MCxcImNvbG9yXCI6XCIjZmQ5MDAzXCIsXCJjZW50ZXJYXCI6LTF9LFwiY29tcElkXCI6OH1dfSx7XCJ0eXBlXCI6XCJMYWJlbFwiLFwicHJvcHNcIjp7XCJ2YXJcIjpcImJ0bl9mcmllbmRseVwiLFwidGV4dFwiOlwiUExBWSBGUklFTkRMWVwiLFwibGFiZWxTaXplXCI6NDAsXCJsYWJlbENvbG9yc1wiOlwiI2ZmZmZmZlwiLFwibGFiZWxcIjpcIlRPVUNIIFRPIFJFU1RBUlRcIixcImZvbnRTaXplXCI6NDAsXCJjb2xvclwiOlwiI2ZmZmZmZlwiLFwiY2VudGVyWFwiOjAsXCJib3R0b21cIjoyMDYsXCJib2xkXCI6dHJ1ZX0sXCJjb21wSWRcIjoyMSxcImNoaWxkXCI6W3tcInR5cGVcIjpcIlNjcmlwdFwiLFwicHJvcHNcIjp7XCJydW50aW1lXCI6XCJzY3JpcHQvQnV0dG9uU2NyaXB0LnRzXCJ9LFwiY29tcElkXCI6MjJ9XX0se1widHlwZVwiOlwiTGFiZWxcIixcInByb3BzXCI6e1wieFwiOjE2MCxcInZhclwiOlwiYnRuX3Jlc3RhcnRcIixcInRleHRcIjpcIlBMQVkgU0lOR0xFXCIsXCJsYWJlbFNpemVcIjo0MCxcImxhYmVsQ29sb3JzXCI6XCIjZmZmZmZmXCIsXCJsYWJlbFwiOlwiVE9VQ0ggVE8gUkVTVEFSVFwiLFwiZm9udFNpemVcIjo0MCxcImNvbG9yXCI6XCIjZmZmZmZmXCIsXCJjZW50ZXJYXCI6MCxcImJvdHRvbVwiOjExNSxcImJvbGRcIjp0cnVlfSxcImNvbXBJZFwiOjMsXCJjaGlsZFwiOlt7XCJ0eXBlXCI6XCJTY3JpcHRcIixcInByb3BzXCI6e1wicnVudGltZVwiOlwic2NyaXB0L0J1dHRvblNjcmlwdC50c1wifSxcImNvbXBJZFwiOjIzfV19XX0se1widHlwZVwiOlwiQm94XCIsXCJwcm9wc1wiOntcInZhclwiOlwibm9kZV9jb250aW51ZVwiLFwidG9wXCI6MSxcInJpZ2h0XCI6MCxcIm5hbWVcIjpcIm5vZGVfY29udGludWVcIixcImxlZnRcIjowLFwiYm90dG9tXCI6MH0sXCJjb21wSWRcIjoxNCxcImNoaWxkXCI6W3tcInR5cGVcIjpcIkJveFwiLFwicHJvcHNcIjp7XCJ2YXJcIjpcIm5vZGVfdGltZXJcIixcImNlbnRlcllcIjoxLFwiY2VudGVyWFwiOjB9LFwiY29tcElkXCI6MTYsXCJjaGlsZFwiOlt7XCJ0eXBlXCI6XCJJbWFnZVwiLFwicHJvcHNcIjp7XCJ5XCI6MSxcInhcIjowLFwic2tpblwiOlwiZ2FtZS9hZF90aW1lci5wbmdcIixcIm5hbWVcIjpcImJhclwifSxcImNvbXBJZFwiOjE3fSx7XCJ0eXBlXCI6XCJTcHJpdGVcIixcInByb3BzXCI6e1wieVwiOjg5LFwieFwiOjgwLFwidGV4dHVyZVwiOlwiZ2FtZS9pY29uX2FkLnBuZ1wifSxcImNvbXBJZFwiOjE4fSx7XCJ0eXBlXCI6XCJTY3JpcHRcIixcInByb3BzXCI6e1wicnVudGltZVwiOlwic2NyaXB0L0NpcmNsZVByb2dyZXNzU2NyaXB0LnRzXCJ9LFwiY29tcElkXCI6MTl9LHtcInR5cGVcIjpcIlNjcmlwdFwiLFwicHJvcHNcIjp7XCJydW50aW1lXCI6XCJzY3JpcHQvQnV0dG9uU2NyaXB0LnRzXCJ9LFwiY29tcElkXCI6MjZ9XX0se1widHlwZVwiOlwiTGFiZWxcIixcInByb3BzXCI6e1wieVwiOjgxMCxcInhcIjo2MCxcInZhclwiOlwiX2J0bl9jb250aW51ZVwiLFwidGV4dFwiOlwiU0VDT05EIENIQU5DRT9cIixcImxhYmVsU2l6ZVwiOjQxLFwibGFiZWxDb2xvcnNcIjpcIiNmZmZmZmZcIixcImxhYmVsXCI6XCJjb250aW51ZVwiLFwiZm9udFNpemVcIjo1NSxcImNvbG9yXCI6XCIjRkZGRkZGXCIsXCJjZW50ZXJYXCI6MCxcImJvdHRvbVwiOjI3MCxcImJvbGRcIjp0cnVlfSxcImNvbXBJZFwiOjQsXCJjaGlsZFwiOlt7XCJ0eXBlXCI6XCJMYWJlbFwiLFwicHJvcHNcIjp7XCJ5XCI6LTk0LFwieFwiOjg3LFwidmFyXCI6XCJfdHh0X3RpbWVyXCIsXCJ0ZXh0XCI6XCIxMHNcIixcInN0eWxlU2tpblwiOlwiY29tcC9sYWJlbC5wbmdcIixcImZvbnRTaXplXCI6NDEsXCJjb2xvclwiOlwiI2ZmZmZmZlwiLFwiY2VudGVyWFwiOjB9LFwiY29tcElkXCI6Nn0se1widHlwZVwiOlwiU2NyaXB0XCIsXCJwcm9wc1wiOntcInJ1bnRpbWVcIjpcInNjcmlwdC9CdXR0b25TY3JpcHQudHNcIn0sXCJjb21wSWRcIjoyNX1dfSx7XCJ0eXBlXCI6XCJMYWJlbFwiLFwicHJvcHNcIjp7XCJ2YXJcIjpcIl9idG5fbm9UaGFua3NcIixcInRleHRcIjpcIk5PIFRIQU5LU1wiLFwibGFiZWxTaXplXCI6MzYsXCJsYWJlbENvbG9yc1wiOlwiI0ZGRkZGRlwiLFwibGFiZWxcIjpcIk5PIFRIQU5LU1wiLFwiZm9udFNpemVcIjozNixcImNvbG9yXCI6XCIjZmZmZmZmXCIsXCJjZW50ZXJYXCI6MCxcImJvdHRvbVwiOjE3Nn0sXCJjb21wSWRcIjo1LFwiY2hpbGRcIjpbe1widHlwZVwiOlwiU2NyaXB0XCIsXCJwcm9wc1wiOntcInJ1bnRpbWVcIjpcInNjcmlwdC9CdXR0b25TY3JpcHQudHNcIn0sXCJjb21wSWRcIjoyNH1dfV19XSxcImxvYWRMaXN0XCI6W1wiY29tcC9sYWJlbC5wbmdcIixcImdhbWUvYWRfdGltZXIucG5nXCIsXCJnYW1lL2ljb25fYWQucG5nXCJdLFwibG9hZExpc3QzRFwiOltdfTtcclxuICAgICAgICBjb25zdHJ1Y3RvcigpeyBzdXBlcigpfVxyXG4gICAgICAgIGNyZWF0ZUNoaWxkcmVuKCk6dm9pZCB7XHJcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlVmlldyhHYW1lT3ZlclVJLnVpVmlldyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgUkVHKFwidWkudmlldy5HYW1lT3ZlclVJXCIsR2FtZU92ZXJVSSk7XHJcbiAgICBleHBvcnQgY2xhc3MgR2FtZVdpblVJIGV4dGVuZHMgU2NlbmUge1xyXG5cdFx0cHVibGljIF90eHRDb21wbGV0ZTpMYXlhLkxhYmVsO1xuICAgICAgICBwdWJsaWMgc3RhdGljICB1aVZpZXc6YW55ID17XCJ0eXBlXCI6XCJTY2VuZVwiLFwicHJvcHNcIjp7XCJ3aWR0aFwiOjY0MCxcImhlaWdodFwiOjExMzZ9LFwiY29tcElkXCI6MixcImNoaWxkXCI6W3tcInR5cGVcIjpcIkJveFwiLFwicHJvcHNcIjp7XCJ5XCI6MCxcInhcIjowLFwidG9wXCI6MCxcInJpZ2h0XCI6MCxcImxlZnRcIjowLFwiYm90dG9tXCI6MCxcImJnQ29sb3JcIjpcIiMwXCIsXCJhbHBoYVwiOjAuNn0sXCJjb21wSWRcIjo5fSx7XCJ0eXBlXCI6XCJMYWJlbFwiLFwicHJvcHNcIjp7XCJ5XCI6MTcyLFwid29yZFdyYXBcIjp0cnVlLFwid2lkdGhcIjo0MDAsXCJ2YXJcIjpcIl90eHRDb21wbGV0ZVwiLFwidGV4dFwiOlwiTEVWRUwgMTAwICBDT01QTEVURUQhXCIsXCJzdHlsZVNraW5cIjpcImNvbXAvbGFiZWwucG5nXCIsXCJsZWFkaW5nXCI6MTUsXCJmb250U2l6ZVwiOjYwLFwiY29sb3JcIjpcIiNmZmZmZmZcIixcImNlbnRlclhcIjowLFwiYm9sZFwiOnRydWUsXCJhbGlnblwiOlwiY2VudGVyXCJ9LFwiY29tcElkXCI6NH0se1widHlwZVwiOlwiTGFiZWxcIixcInByb3BzXCI6e1widGV4dFwiOlwiVE9VQ0ggVE8gTkVYVFwiLFwic3R5bGVTa2luXCI6XCJjb21wL2xhYmVsLnBuZ1wiLFwiZm9udFNpemVcIjo0MCxcImNvbG9yXCI6XCIjZmZmZmZmXCIsXCJjZW50ZXJYXCI6MCxcImJvdHRvbVwiOjEyMH0sXCJjb21wSWRcIjo1fV0sXCJsb2FkTGlzdFwiOltcImNvbXAvbGFiZWwucG5nXCJdLFwibG9hZExpc3QzRFwiOltdfTtcclxuICAgICAgICBjb25zdHJ1Y3RvcigpeyBzdXBlcigpfVxyXG4gICAgICAgIGNyZWF0ZUNoaWxkcmVuKCk6dm9pZCB7XHJcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlVmlldyhHYW1lV2luVUkudWlWaWV3KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBSRUcoXCJ1aS52aWV3LkdhbWVXaW5VSVwiLEdhbWVXaW5VSSk7XHJcbiAgICBleHBvcnQgY2xhc3MgTWV1blVJIGV4dGVuZHMgU2NlbmUge1xyXG5cdFx0cHVibGljIGJ4X2J0bnM6TGF5YS5Cb3g7XG5cdFx0cHVibGljIGJ4X3N1Yk1lbnU6TGF5YS5Cb3g7XG5cdFx0cHVibGljIGJ0bl9tdXRlOkxheWEuQnV0dG9uO1xuXHRcdHB1YmxpYyBidG5fdmlicmF0ZTpMYXlhLkJ1dHRvbjtcblx0XHRwdWJsaWMgYnRuX3NldHRpbmc6TGF5YS5CdXR0b247XG5cdFx0cHVibGljIGJ0bl9yYW5rOkxheWEuQnV0dG9uO1xuXHRcdHB1YmxpYyBidG5fc2hhcmU6TGF5YS5CdXR0b247XG5cdFx0cHVibGljIGJ0bl9ub2FkOkxheWEuQnV0dG9uO1xuICAgICAgICBwdWJsaWMgc3RhdGljICB1aVZpZXc6YW55ID17XCJ0eXBlXCI6XCJTY2VuZVwiLFwicHJvcHNcIjp7XCJ3aWR0aFwiOjY0MCxcImhlaWdodFwiOjExMzZ9LFwiY29tcElkXCI6MixcImNoaWxkXCI6W3tcInR5cGVcIjpcIkxhYmVsXCIsXCJwcm9wc1wiOntcInRleHRcIjpcIlRBUCBUTyBQTEFZXCIsXCJzdHlsZVNraW5cIjpcImNvbXAvbGFiZWwucG5nXCIsXCJmb250U2l6ZVwiOjQwLFwiY29sb3JcIjpcIiNmZmZmZmZcIixcImNlbnRlclhcIjowLFwiYm90dG9tXCI6MjkzfSxcImNvbXBJZFwiOjZ9LHtcInR5cGVcIjpcIkJveFwiLFwicHJvcHNcIjp7XCJ2YXJcIjpcImJ4X2J0bnNcIixcImNlbnRlclhcIjowLFwiYm90dG9tXCI6NjB9LFwiY29tcElkXCI6MTUsXCJjaGlsZFwiOlt7XCJ0eXBlXCI6XCJCb3hcIixcInByb3BzXCI6e1wieVwiOi0yLFwieFwiOjAsXCJ3aWR0aFwiOjk3LFwiaGVpZ2h0XCI6MTAxfSxcImNvbXBJZFwiOjIwLFwiY2hpbGRcIjpbe1widHlwZVwiOlwiQm94XCIsXCJwcm9wc1wiOntcInlcIjotMjQwLFwid2lkdGhcIjoxMTcsXCJ2YXJcIjpcImJ4X3N1Yk1lbnVcIixcImhlaWdodFwiOjMzOCxcImNlbnRlclhcIjowfSxcImNvbXBJZFwiOjIxLFwiY2hpbGRcIjpbe1widHlwZVwiOlwiSW1hZ2VcIixcInByb3BzXCI6e1widG9wXCI6LTE1LFwic2tpblwiOlwiZ2FtZS9iZ19zZXR0aW5nLnBuZ1wiLFwicmlnaHRcIjowLFwibGVmdFwiOjAsXCJib3R0b21cIjotMTUsXCJzaXplR3JpZFwiOlwiNTAsNTUsNTAsNTBcIn0sXCJjb21wSWRcIjoyNn0se1widHlwZVwiOlwiQnV0dG9uXCIsXCJwcm9wc1wiOntcInZhclwiOlwiYnRuX211dGVcIixcInN0YXRlTnVtXCI6MSxcInNraW5cIjpcImdhbWUvYnRuX211dGUucG5nXCIsXCJjZW50ZXJYXCI6MH0sXCJjb21wSWRcIjoyNCxcImNoaWxkXCI6W3tcInR5cGVcIjpcIlNjcmlwdFwiLFwicHJvcHNcIjp7XCJydW50aW1lXCI6XCJzY3JpcHQvQnV0dG9uU2NyaXB0LnRzXCJ9LFwiY29tcElkXCI6MjV9XX0se1widHlwZVwiOlwiQnV0dG9uXCIsXCJwcm9wc1wiOntcInlcIjoxMTcsXCJ2YXJcIjpcImJ0bl92aWJyYXRlXCIsXCJzdGF0ZU51bVwiOjEsXCJza2luXCI6XCJnYW1lL2J0bl92aWJyYXRlLnBuZ1wiLFwiY2VudGVyWFwiOjB9LFwiY29tcElkXCI6OSxcImNoaWxkXCI6W3tcInR5cGVcIjpcIlNjcmlwdFwiLFwicHJvcHNcIjp7XCJydW50aW1lXCI6XCJzY3JpcHQvQnV0dG9uU2NyaXB0LnRzXCJ9LFwiY29tcElkXCI6MTZ9XX1dfSx7XCJ0eXBlXCI6XCJCdXR0b25cIixcInByb3BzXCI6e1wieVwiOjAsXCJ4XCI6MCxcInZhclwiOlwiYnRuX3NldHRpbmdcIixcInN0YXRlTnVtXCI6MSxcInNraW5cIjpcImdhbWUvYnRuX3NldHRpbmcucG5nXCJ9LFwiY29tcElkXCI6MjIsXCJjaGlsZFwiOlt7XCJ0eXBlXCI6XCJTY3JpcHRcIixcInByb3BzXCI6e1wicnVudGltZVwiOlwic2NyaXB0L0J1dHRvblNjcmlwdC50c1wifSxcImNvbXBJZFwiOjIzfV19XX0se1widHlwZVwiOlwiQnV0dG9uXCIsXCJwcm9wc1wiOntcInhcIjoyMDAsXCJ2YXJcIjpcImJ0bl9yYW5rXCIsXCJzdGF0ZU51bVwiOjEsXCJza2luXCI6XCJnYW1lL2J0bl9yYW5rLnBuZ1wifSxcImNvbXBJZFwiOjcsXCJjaGlsZFwiOlt7XCJ0eXBlXCI6XCJTY3JpcHRcIixcInByb3BzXCI6e1wicnVudGltZVwiOlwic2NyaXB0L0J1dHRvblNjcmlwdC50c1wifSxcImNvbXBJZFwiOjE3fV19LHtcInR5cGVcIjpcIkJ1dHRvblwiLFwicHJvcHNcIjp7XCJ4XCI6NDAwLFwidmFyXCI6XCJidG5fc2hhcmVcIixcInN0YXRlTnVtXCI6MSxcInNraW5cIjpcImdhbWUvYnRuX3NoYXJlLnBuZ1wiLFwibGFiZWxTaXplXCI6NDB9LFwiY29tcElkXCI6NCxcImNoaWxkXCI6W3tcInR5cGVcIjpcIlNjcmlwdFwiLFwicHJvcHNcIjp7XCJydW50aW1lXCI6XCJzY3JpcHQvQnV0dG9uU2NyaXB0LnRzXCJ9LFwiY29tcElkXCI6MTl9XX1dfSx7XCJ0eXBlXCI6XCJCdXR0b25cIixcInByb3BzXCI6e1wieVwiOjEwMzUsXCJ4XCI6NDQ1LjE5MTQwNjI1LFwidmlzaWJsZVwiOmZhbHNlLFwidmFyXCI6XCJidG5fbm9hZFwiLFwic3RhdGVOdW1cIjoxLFwic2tpblwiOlwiZ2FtZS9idG5fYWQucG5nXCIsXCJsYWJlbFNpemVcIjo0MH0sXCJjb21wSWRcIjo1LFwiY2hpbGRcIjpbe1widHlwZVwiOlwiU2NyaXB0XCIsXCJwcm9wc1wiOntcInJ1bnRpbWVcIjpcInNjcmlwdC9CdXR0b25TY3JpcHQudHNcIn0sXCJjb21wSWRcIjoxOH1dfV0sXCJsb2FkTGlzdFwiOltcImNvbXAvbGFiZWwucG5nXCIsXCJnYW1lL2JnX3NldHRpbmcucG5nXCIsXCJnYW1lL2J0bl9tdXRlLnBuZ1wiLFwiZ2FtZS9idG5fdmlicmF0ZS5wbmdcIixcImdhbWUvYnRuX3NldHRpbmcucG5nXCIsXCJnYW1lL2J0bl9yYW5rLnBuZ1wiLFwiZ2FtZS9idG5fc2hhcmUucG5nXCIsXCJnYW1lL2J0bl9hZC5wbmdcIl0sXCJsb2FkTGlzdDNEXCI6W119O1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKCl7IHN1cGVyKCl9XHJcbiAgICAgICAgY3JlYXRlQ2hpbGRyZW4oKTp2b2lkIHtcclxuICAgICAgICAgICAgc3VwZXIuY3JlYXRlQ2hpbGRyZW4oKTtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVWaWV3KE1ldW5VSS51aVZpZXcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFJFRyhcInVpLnZpZXcuTWV1blVJXCIsTWV1blVJKTtcclxuICAgIGV4cG9ydCBjbGFzcyBSYW5rVUkgZXh0ZW5kcyBTY2VuZSB7XHJcblx0XHRwdWJsaWMgYnRuX2hvbWU6TGF5YS5TcHJpdGU7XG5cdFx0cHVibGljIGJ4X3RhYjpMYXlhLkJveDtcblx0XHRwdWJsaWMgdGFiX2xlZnQ6TGF5YS5TcHJpdGU7XG5cdFx0cHVibGljIHRhYl9yaWdodDpMYXlhLkJveDtcblx0XHRwdWJsaWMgbGJsX2xlZnQ6TGF5YS5MYWJlbDtcblx0XHRwdWJsaWMgbGJsX3JpZ2h0OkxheWEuTGFiZWw7XG5cdFx0cHVibGljIGxpc3RfZ2xvYmFsOkxheWEuTGlzdDtcblx0XHRwdWJsaWMgbGlzdF9mcmllbmRzOkxheWEuTGlzdDtcblx0XHRwdWJsaWMgYnRuX2ludml0ZTpMYXlhLkltYWdlO1xuXHRcdHB1YmxpYyBpbWdfaGVhZDpMYXlhLkltYWdlO1xuXHRcdHB1YmxpYyB0eHRfY25hbWU6TGF5YS5MYWJlbDtcblx0XHRwdWJsaWMgaW1nX2J1c3k6TGF5YS5JbWFnZTtcbiAgICAgICAgcHVibGljIHN0YXRpYyAgdWlWaWV3OmFueSA9e1widHlwZVwiOlwiU2NlbmVcIixcInByb3BzXCI6e1wid2lkdGhcIjo2NDAsXCJoZWlnaHRcIjoxMTM2fSxcImNvbXBJZFwiOjIsXCJjaGlsZFwiOlt7XCJ0eXBlXCI6XCJCb3hcIixcInByb3BzXCI6e1wieVwiOjAsXCJ4XCI6MCxcInRvcFwiOjAsXCJyaWdodFwiOjAsXCJsZWZ0XCI6MCxcImJvdHRvbVwiOjAsXCJiZ0NvbG9yXCI6XCIjMFwiLFwiYWxwaGFcIjowLjZ9LFwiY29tcElkXCI6NTF9LHtcInR5cGVcIjpcIlNwcml0ZVwiLFwicHJvcHNcIjp7XCJ5XCI6MzQsXCJ4XCI6MjYsXCJ2YXJcIjpcImJ0bl9ob21lXCIsXCJ0ZXh0dXJlXCI6XCJyYW5rL2J0bl9ob21lLnBuZ1wiLFwibGFiZWxcIjpcImxhYmVsXCJ9LFwiY29tcElkXCI6NCxcImNoaWxkXCI6W3tcInR5cGVcIjpcIlNjcmlwdFwiLFwicHJvcHNcIjp7XCJydW50aW1lXCI6XCJzY3JpcHQvQnV0dG9uU2NyaXB0LnRzXCJ9LFwiY29tcElkXCI6NzJ9XX0se1widHlwZVwiOlwiQm94XCIsXCJwcm9wc1wiOntcInlcIjoyNzQsXCJ3aWR0aFwiOjQzNixcInZhclwiOlwiYnhfdGFiXCIsXCJoZWlnaHRcIjo2MixcImNlbnRlclhcIjowfSxcImNvbXBJZFwiOjYsXCJjaGlsZFwiOlt7XCJ0eXBlXCI6XCJTcHJpdGVcIixcInByb3BzXCI6e1wieVwiOjAsXCJ4XCI6MCxcInRleHR1cmVcIjpcInJhbmsvcmFua190YWJfaC5wbmdcIn0sXCJjb21wSWRcIjo4LFwiY2hpbGRcIjpbe1widHlwZVwiOlwiU3ByaXRlXCIsXCJwcm9wc1wiOntcInlcIjowLFwieFwiOjQzNixcInRleHR1cmVcIjpcInJhbmsvcmFua190YWJfaC5wbmdcIixcInNjYWxlWFwiOi0xLFwibmFtZVwiOlwic3ByaXRlXCJ9LFwiY29tcElkXCI6MTB9XX0se1widHlwZVwiOlwiU3ByaXRlXCIsXCJwcm9wc1wiOntcInlcIjowLFwieFwiOjAsXCJ2YXJcIjpcInRhYl9sZWZ0XCIsXCJ0ZXh0dXJlXCI6XCJyYW5rL3JhbmtfdGFiLnBuZ1wifSxcImNvbXBJZFwiOjksXCJjaGlsZFwiOlt7XCJ0eXBlXCI6XCJTY3JpcHRcIixcInByb3BzXCI6e1wicnVudGltZVwiOlwic2NyaXB0L0J1dHRvblNjcmlwdC50c1wifSxcImNvbXBJZFwiOjczfV19LHtcInR5cGVcIjpcIkJveFwiLFwicHJvcHNcIjp7XCJ5XCI6MCxcInhcIjoyMTgsXCJ3aWR0aFwiOjIxOCxcInZhclwiOlwidGFiX3JpZ2h0XCIsXCJtb3VzZUVuYWJsZWRcIjp0cnVlLFwiaGVpZ2h0XCI6NjJ9LFwiY29tcElkXCI6MTMsXCJjaGlsZFwiOlt7XCJ0eXBlXCI6XCJTcHJpdGVcIixcInByb3BzXCI6e1wieFwiOjIxOCxcInRleHR1cmVcIjpcInJhbmsvcmFua190YWIucG5nXCIsXCJzY2FsZVhcIjotMSxcIm1vdXNlRW5hYmxlZFwiOmZhbHNlfSxcImNvbXBJZFwiOjd9LHtcInR5cGVcIjpcIlNjcmlwdFwiLFwicHJvcHNcIjp7XCJydW50aW1lXCI6XCJzY3JpcHQvQnV0dG9uU2NyaXB0LnRzXCJ9LFwiY29tcElkXCI6NzR9XX0se1widHlwZVwiOlwiTGFiZWxcIixcInByb3BzXCI6e1wieVwiOjAsXCJ4XCI6MCxcIndpZHRoXCI6MjE4LFwidmFyXCI6XCJsYmxfbGVmdFwiLFwidmFsaWduXCI6XCJtaWRkbGVcIixcInRleHRcIjpcIkZSSUVORFNcIixcIm1vdXNlRW5hYmxlZFwiOmZhbHNlLFwiaGVpZ2h0XCI6NjAsXCJmb250U2l6ZVwiOjMwLFwiYm9sZFwiOnRydWUsXCJhbGlnblwiOlwiY2VudGVyXCJ9LFwiY29tcElkXCI6MTF9LHtcInR5cGVcIjpcIkxhYmVsXCIsXCJwcm9wc1wiOntcInlcIjowLFwieFwiOjIxOCxcIndpZHRoXCI6MjE4LFwidmFyXCI6XCJsYmxfcmlnaHRcIixcInZhbGlnblwiOlwibWlkZGxlXCIsXCJ0ZXh0XCI6XCJHTE9CQUxcIixcIm1vdXNlRW5hYmxlZFwiOmZhbHNlLFwiaGVpZ2h0XCI6NjAsXCJmb250U2l6ZVwiOjMwLFwiYm9sZFwiOnRydWUsXCJhbGlnblwiOlwiY2VudGVyXCJ9LFwiY29tcElkXCI6MTJ9XX0se1widHlwZVwiOlwiTGlzdFwiLFwicHJvcHNcIjp7XCJ5XCI6Njg0LFwieFwiOjYwLFwidmFyXCI6XCJsaXN0X2dsb2JhbFwiLFwidG9wXCI6MzQyLFwicmlnaHRcIjozMCxcInJlcGVhdFlcIjo3LFwicmVwZWF0WFwiOjEsXCJsZWZ0XCI6MzAsXCJib3R0b21cIjoyMDZ9LFwiY29tcElkXCI6NDIsXCJjaGlsZFwiOlt7XCJ0eXBlXCI6XCJCb3hcIixcInByb3BzXCI6e1wieFwiOjAsXCJyaWdodFwiOjAsXCJuYW1lXCI6XCJyZW5kZXJcIixcImxlZnRcIjowLFwiaGVpZ2h0XCI6ODB9LFwiY29tcElkXCI6NjMsXCJjaGlsZFwiOlt7XCJ0eXBlXCI6XCJJbWFnZVwiLFwicHJvcHNcIjp7XCJ5XCI6MCxcInNraW5cIjpcInJhbmsvYmdfcmFua19pdGVtLnBuZ1wiLFwicmlnaHRcIjowLFwibGVmdFwiOjAsXCJzaXplR3JpZFwiOlwiMzksMzgsMzksMzZcIn0sXCJjb21wSWRcIjo2NH0se1widHlwZVwiOlwiTGFiZWxcIixcInByb3BzXCI6e1wieFwiOjAsXCJ3aWR0aFwiOjcwLFwidmFsaWduXCI6XCJtaWRkbGVcIixcInRvcFwiOjAsXCJ0ZXh0XCI6XCIxXCIsXCJuYW1lXCI6XCJ0eHRfcmFua1wiLFwiaGVpZ2h0XCI6ODAsXCJmb250U2l6ZVwiOjI4LFwiY29sb3JcIjpcIiNmZmY2ZjZcIixcImJvdHRvbVwiOjAsXCJib2xkXCI6dHJ1ZSxcImFsaWduXCI6XCJjZW50ZXJcIn0sXCJjb21wSWRcIjo2NX0se1widHlwZVwiOlwiSW1hZ2VcIixcInByb3BzXCI6e1wieFwiOjczLFwid2lkdGhcIjo3MCxcInNraW5cIjpcInJhbmsvZGVmYXVsdF9wb3J0cmFpdC5wbmdcIixcIm5hbWVcIjpcImltZ19oZWFkXCIsXCJoZWlnaHRcIjo3MCxcImNlbnRlcllcIjowfSxcImNvbXBJZFwiOjY2LFwiY2hpbGRcIjpbe1widHlwZVwiOlwiSW1hZ2VcIixcInByb3BzXCI6e1wieVwiOjAsXCJ3aWR0aFwiOjcwLFwic2tpblwiOlwicmFuay9kZWZhdWx0X3BvcnRyYWl0LnBuZ1wiLFwicmVuZGVyVHlwZVwiOlwibWFza1wiLFwibmFtZVwiOlwiaW1nX2hlYWRfbWFza1wiLFwiaGVpZ2h0XCI6NzAsXCJjZW50ZXJZXCI6MH0sXCJjb21wSWRcIjo3OX1dfSx7XCJ0eXBlXCI6XCJMYWJlbFwiLFwicHJvcHNcIjp7XCJ4XCI6MTY2LFwid29yZFdyYXBcIjp0cnVlLFwid2lkdGhcIjoxNzMsXCJ2YWxpZ25cIjpcIm1pZGRsZVwiLFwidG9wXCI6MCxcInRleHRcIjpcImxhYmVsXCIsXCJuYW1lXCI6XCJ0eHRfbmFtZVwiLFwiZm9udFNpemVcIjoyNCxcImNvbG9yXCI6XCIjZmZmNmY2XCIsXCJib3R0b21cIjowLFwiYWxpZ25cIjpcImxlZnRcIn0sXCJjb21wSWRcIjo2N30se1widHlwZVwiOlwiTGFiZWxcIixcInByb3BzXCI6e1wieFwiOjMzOSxcIndpZHRoXCI6MTM1LFwidmFsaWduXCI6XCJtaWRkbGVcIixcInRvcFwiOjAsXCJ0ZXh0XCI6XCJsYWJlbFwiLFwibmFtZVwiOlwidHh0X3Njb3JlXCIsXCJoZWlnaHRcIjo4MCxcImZvbnRTaXplXCI6MjQsXCJjb2xvclwiOlwiI2ZmZjZmNlwiLFwiYm90dG9tXCI6MCxcImFsaWduXCI6XCJjZW50ZXJcIn0sXCJjb21wSWRcIjo2OH0se1widHlwZVwiOlwiSW1hZ2VcIixcInByb3BzXCI6e1wieVwiOjMsXCJza2luXCI6XCJyYW5rL2ljb25fcGxheV9nYW1lLnBuZ1wiLFwicmlnaHRcIjozNCxcIm5hbWVcIjpcImJ0bl9hY3Rpb25cIixcImNlbnRlcllcIjowfSxcImNvbXBJZFwiOjY5LFwiY2hpbGRcIjpbe1widHlwZVwiOlwiU2NyaXB0XCIsXCJwcm9wc1wiOntcInJ1bnRpbWVcIjpcInNjcmlwdC9CdXR0b25TY3JpcHQudHNcIn0sXCJjb21wSWRcIjo3NX1dfSx7XCJ0eXBlXCI6XCJTY3JpcHRcIixcInByb3BzXCI6e1wicnVudGltZVwiOlwidmlldy9SYW5rSXRlbVJlbmRlci50c1wifSxcImNvbXBJZFwiOjcwfV19LHtcInR5cGVcIjpcIlZTY3JvbGxCYXJcIixcInByb3BzXCI6e1widmlzaWJsZVwiOmZhbHNlLFwidG9wXCI6MCxcInNraW5cIjpcImNvbXAvdnNjcm9sbC5wbmdcIixcInJpZ2h0XCI6MCxcIm5hbWVcIjpcInNjcm9sbEJhclwiLFwiYm90dG9tXCI6MH0sXCJjb21wSWRcIjo1MH1dfSx7XCJ0eXBlXCI6XCJMaXN0XCIsXCJwcm9wc1wiOntcInZhclwiOlwibGlzdF9mcmllbmRzXCIsXCJ0b3BcIjozNDIsXCJyaWdodFwiOjMwLFwicmVwZWF0WVwiOjcsXCJyZXBlYXRYXCI6MSxcImxlZnRcIjozMCxcImJvdHRvbVwiOjIwNn0sXCJjb21wSWRcIjoyMixcImNoaWxkXCI6W3tcInR5cGVcIjpcIkJveFwiLFwicHJvcHNcIjp7XCJ4XCI6MCxcInJpZ2h0XCI6MCxcIm5hbWVcIjpcInJlbmRlclwiLFwibGVmdFwiOjAsXCJoZWlnaHRcIjo4MH0sXCJjb21wSWRcIjo1NixcImNoaWxkXCI6W3tcInR5cGVcIjpcIkltYWdlXCIsXCJwcm9wc1wiOntcInlcIjowLFwic2tpblwiOlwicmFuay9iZ19yYW5rX2l0ZW0ucG5nXCIsXCJyaWdodFwiOjAsXCJsZWZ0XCI6MCxcInNpemVHcmlkXCI6XCIzOSwzOCwzOSwzNlwifSxcImNvbXBJZFwiOjU3fSx7XCJ0eXBlXCI6XCJMYWJlbFwiLFwicHJvcHNcIjp7XCJ4XCI6MCxcIndpZHRoXCI6NzAsXCJ2YWxpZ25cIjpcIm1pZGRsZVwiLFwidG9wXCI6MCxcInRleHRcIjpcIjFcIixcIm5hbWVcIjpcInR4dF9yYW5rXCIsXCJoZWlnaHRcIjo4MCxcImZvbnRTaXplXCI6MjgsXCJjb2xvclwiOlwiI2ZmZjZmNlwiLFwiYm90dG9tXCI6MCxcImJvbGRcIjp0cnVlLFwiYWxpZ25cIjpcImNlbnRlclwifSxcImNvbXBJZFwiOjU4fSx7XCJ0eXBlXCI6XCJJbWFnZVwiLFwicHJvcHNcIjp7XCJ4XCI6NzMsXCJ3aWR0aFwiOjcwLFwic2tpblwiOlwicmFuay9kZWZhdWx0X3BvcnRyYWl0LnBuZ1wiLFwibmFtZVwiOlwiaW1nX2hlYWRcIixcImhlaWdodFwiOjcwLFwiY2VudGVyWVwiOjB9LFwiY29tcElkXCI6NTksXCJjaGlsZFwiOlt7XCJ0eXBlXCI6XCJJbWFnZVwiLFwicHJvcHNcIjp7XCJ5XCI6MCxcIndpZHRoXCI6NzAsXCJza2luXCI6XCJyYW5rL2RlZmF1bHRfcG9ydHJhaXQucG5nXCIsXCJyZW5kZXJUeXBlXCI6XCJtYXNrXCIsXCJuYW1lXCI6XCJpbWdfaGVhZF9tYXNrXCIsXCJoZWlnaHRcIjo3MCxcImNlbnRlcllcIjowfSxcImNvbXBJZFwiOjc4fV19LHtcInR5cGVcIjpcIkxhYmVsXCIsXCJwcm9wc1wiOntcInhcIjoxNjYsXCJ3b3JkV3JhcFwiOnRydWUsXCJ3aWR0aFwiOjE3MyxcInZhbGlnblwiOlwibWlkZGxlXCIsXCJ0b3BcIjowLFwidGV4dFwiOlwibGFiZWxcIixcIm5hbWVcIjpcInR4dF9uYW1lXCIsXCJmb250U2l6ZVwiOjI0LFwiY29sb3JcIjpcIiNmZmY2ZjZcIixcImJvdHRvbVwiOjAsXCJhbGlnblwiOlwibGVmdFwifSxcImNvbXBJZFwiOjYwfSx7XCJ0eXBlXCI6XCJMYWJlbFwiLFwicHJvcHNcIjp7XCJ4XCI6MzM5LFwid2lkdGhcIjoxMzUsXCJ2YWxpZ25cIjpcIm1pZGRsZVwiLFwidG9wXCI6MCxcInRleHRcIjpcImxhYmVsXCIsXCJuYW1lXCI6XCJ0eHRfc2NvcmVcIixcImhlaWdodFwiOjgwLFwiZm9udFNpemVcIjoyNCxcImNvbG9yXCI6XCIjZmZmNmY2XCIsXCJib3R0b21cIjowLFwiYWxpZ25cIjpcImNlbnRlclwifSxcImNvbXBJZFwiOjYxfSx7XCJ0eXBlXCI6XCJJbWFnZVwiLFwicHJvcHNcIjp7XCJ5XCI6MyxcInNraW5cIjpcInJhbmsvaWNvbl9wbGF5X2dhbWUucG5nXCIsXCJyaWdodFwiOjM0LFwibmFtZVwiOlwiYnRuX2FjdGlvblwiLFwiY2VudGVyWVwiOjB9LFwiY29tcElkXCI6NjIsXCJjaGlsZFwiOlt7XCJ0eXBlXCI6XCJTY3JpcHRcIixcInByb3BzXCI6e1wicnVudGltZVwiOlwic2NyaXB0L0J1dHRvblNjcmlwdC50c1wifSxcImNvbXBJZFwiOjc2fV19LHtcInR5cGVcIjpcIlNjcmlwdFwiLFwicHJvcHNcIjp7XCJydW50aW1lXCI6XCJ2aWV3L1JhbmtJdGVtUmVuZGVyLnRzXCJ9LFwiY29tcElkXCI6NzF9XX0se1widHlwZVwiOlwiVlNjcm9sbEJhclwiLFwicHJvcHNcIjp7XCJ2aXNpYmxlXCI6ZmFsc2UsXCJ0b3BcIjowLFwic2tpblwiOlwiY29tcC92c2Nyb2xsLnBuZ1wiLFwicmlnaHRcIjowLFwibmFtZVwiOlwic2Nyb2xsQmFyXCIsXCJib3R0b21cIjowfSxcImNvbXBJZFwiOjIzfV19LHtcInR5cGVcIjpcIkltYWdlXCIsXCJwcm9wc1wiOntcInZhclwiOlwiYnRuX2ludml0ZVwiLFwic2tpblwiOlwicmFuay9idG5faW52aXRlLnBuZ1wiLFwibGFiZWxcIjpcImxhYmVsXCIsXCJjZW50ZXJYXCI6MCxcImJvdHRvbVwiOjUyfSxcImNvbXBJZFwiOjI0LFwiY2hpbGRcIjpbe1widHlwZVwiOlwiU3ByaXRlXCIsXCJwcm9wc1wiOntcInlcIjoyNixcInhcIjozNyxcInRleHR1cmVcIjpcInJhbmsvaWNvbl9mcmllbmQucG5nXCJ9LFwiY29tcElkXCI6MjV9LHtcInR5cGVcIjpcIkxhYmVsXCIsXCJwcm9wc1wiOntcIndpZHRoXCI6MTkyLFwidGV4dFwiOlwiSU5WSVRFXCIsXCJoZWlnaHRcIjozOCxcImZvbnRTaXplXCI6MzgsXCJjZW50ZXJZXCI6MCxcImNlbnRlclhcIjozNCxcImJvbGRcIjp0cnVlLFwiYWxpZ25cIjpcImNlbnRlclwifSxcImNvbXBJZFwiOjI2fSx7XCJ0eXBlXCI6XCJTY3JpcHRcIixcInByb3BzXCI6e1wicnVudGltZVwiOlwic2NyaXB0L0J1dHRvblNjcmlwdC50c1wifSxcImNvbXBJZFwiOjc3fV19LHtcInR5cGVcIjpcIkJveFwiLFwicHJvcHNcIjp7XCJ5XCI6NTgsXCJ3aWR0aFwiOjE3MSxcImNlbnRlclhcIjowfSxcImNvbXBJZFwiOjI4LFwiY2hpbGRcIjpbe1widHlwZVwiOlwiSW1hZ2VcIixcInByb3BzXCI6e1wid2lkdGhcIjoxNzEsXCJ2YXJcIjpcImltZ19oZWFkXCIsXCJza2luXCI6XCJyYW5rL2RlZmF1bHRfcG9ydHJhaXQucG5nXCIsXCJoZWlnaHRcIjoxNzF9LFwiY29tcElkXCI6MjcsXCJjaGlsZFwiOlt7XCJ0eXBlXCI6XCJJbWFnZVwiLFwicHJvcHNcIjp7XCJ5XCI6MCxcInhcIjowLFwid2lkdGhcIjoxNzEsXCJza2luXCI6XCJyYW5rL2RlZmF1bHRfcG9ydHJhaXQucG5nXCIsXCJyZW5kZXJUeXBlXCI6XCJtYXNrXCIsXCJoZWlnaHRcIjoxNzF9LFwiY29tcElkXCI6MzB9XX0se1widHlwZVwiOlwiSW1hZ2VcIixcInByb3BzXCI6e1wieVwiOjAsXCJ4XCI6MCxcInNraW5cIjpcInJhbmsvYm9yZF9oZWFkLnBuZ1wifSxcImNvbXBJZFwiOjI5fSx7XCJ0eXBlXCI6XCJMYWJlbFwiLFwicHJvcHNcIjp7XCJ5XCI6MTcyLFwidmFyXCI6XCJ0eHRfY25hbWVcIixcInRleHRcIjpcIiBhc3NmYSBhc2RmYXNkZmFzIGFzZGYgYXNkZmEgXCIsXCJmb250U2l6ZVwiOjMwLFwiY29sb3JcIjpcIiNmZmZmZmZcIixcImNlbnRlclhcIjowfSxcImNvbXBJZFwiOjMxfV19LHtcInR5cGVcIjpcIkltYWdlXCIsXCJwcm9wc1wiOntcInlcIjo2MTksXCJ2YXJcIjpcImltZ19idXN5XCIsXCJza2luXCI6XCJsb2FkaW5nL2J1c3lfaW5kaWNhdG9yLnBuZ1wiLFwiY2VudGVyWFwiOjAsXCJhbmNob3JZXCI6MC41LFwiYW5jaG9yWFwiOjAuNX0sXCJjb21wSWRcIjo1MixcImNoaWxkXCI6W3tcInR5cGVcIjpcIlNjcmlwdFwiLFwicHJvcHNcIjp7XCJ5XCI6LTU4NSxcInhcIjotMjg3LFwicnVudGltZVwiOlwic2NyaXB0L1JvdGF0ZVNjcmlwdC50c1wifSxcImNvbXBJZFwiOjUzfV19XSxcImxvYWRMaXN0XCI6W1wicmFuay9idG5faG9tZS5wbmdcIixcInJhbmsvcmFua190YWJfaC5wbmdcIixcInJhbmsvcmFua190YWIucG5nXCIsXCJyYW5rL2JnX3JhbmtfaXRlbS5wbmdcIixcInJhbmsvZGVmYXVsdF9wb3J0cmFpdC5wbmdcIixcInJhbmsvaWNvbl9wbGF5X2dhbWUucG5nXCIsXCJjb21wL3ZzY3JvbGwucG5nXCIsXCJyYW5rL2J0bl9pbnZpdGUucG5nXCIsXCJyYW5rL2ljb25fZnJpZW5kLnBuZ1wiLFwicmFuay9ib3JkX2hlYWQucG5nXCIsXCJsb2FkaW5nL2J1c3lfaW5kaWNhdG9yLnBuZ1wiXSxcImxvYWRMaXN0M0RcIjpbXX07XHJcbiAgICAgICAgY29uc3RydWN0b3IoKXsgc3VwZXIoKX1cclxuICAgICAgICBjcmVhdGVDaGlsZHJlbigpOnZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVZpZXcoUmFua1VJLnVpVmlldyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgUkVHKFwidWkudmlldy5SYW5rVUlcIixSYW5rVUkpO1xyXG4gICAgZXhwb3J0IGNsYXNzIFNwbGFzaFVJIGV4dGVuZHMgU2NlbmUge1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgIHVpVmlldzphbnkgPXtcInR5cGVcIjpcIlNjZW5lXCIsXCJwcm9wc1wiOntcIndpZHRoXCI6NjQwLFwiaGVpZ2h0XCI6MTEzNn0sXCJjb21wSWRcIjoyLFwiY2hpbGRcIjpbe1widHlwZVwiOlwiU3ByaXRlXCIsXCJwcm9wc1wiOntcInlcIjowLFwieFwiOjAsXCJ0ZXh0dXJlXCI6XCJsb2FkaW5nL2JnX2xvYWRpbmcuanBnXCJ9LFwiY29tcElkXCI6MyxcImNoaWxkXCI6W3tcInR5cGVcIjpcIlNjcmlwdFwiLFwicHJvcHNcIjp7XCJydW50aW1lXCI6XCJzY3JpcHQvRnVsbFNjcmVlblNjcmlwdC50c1wifSxcImNvbXBJZFwiOjR9XX0se1widHlwZVwiOlwiSW1hZ2VcIixcInByb3BzXCI6e1wieVwiOjkwMixcInhcIjozMjAsXCJza2luXCI6XCJsb2FkaW5nL2J1c3lfaW5kaWNhdG9yLnBuZ1wiLFwiY2VudGVyWFwiOjAsXCJib3R0b21cIjoyMDAsXCJhbmNob3JZXCI6MC41LFwiYW5jaG9yWFwiOjAuNX0sXCJjb21wSWRcIjo1LFwiY2hpbGRcIjpbe1widHlwZVwiOlwiU2NyaXB0XCIsXCJwcm9wc1wiOntcInJ1bnRpbWVcIjpcInNjcmlwdC9Sb3RhdGVTY3JpcHQudHNcIn0sXCJjb21wSWRcIjo2fV19XSxcImxvYWRMaXN0XCI6W1wibG9hZGluZy9iZ19sb2FkaW5nLmpwZ1wiLFwibG9hZGluZy9idXN5X2luZGljYXRvci5wbmdcIl0sXCJsb2FkTGlzdDNEXCI6W119O1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKCl7IHN1cGVyKCl9XHJcbiAgICAgICAgY3JlYXRlQ2hpbGRyZW4oKTp2b2lkIHtcclxuICAgICAgICAgICAgc3VwZXIuY3JlYXRlQ2hpbGRyZW4oKTtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVWaWV3KFNwbGFzaFVJLnVpVmlldyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgUkVHKFwidWkudmlldy5TcGxhc2hVSVwiLFNwbGFzaFVJKTtcclxufVxyIiwiaW1wb3J0IHsgdWkgfSBmcm9tICcuLi91aS9sYXlhTWF4VUknO1xuaW1wb3J0IHsgR2FtZVN0YXRzIH0gZnJvbSAnLi4vZ2FtZS9HYW1lU3RhdHMnO1xuaW1wb3J0IHsgR2FtZSB9IGZyb20gJy4uL2dhbWUvR2FtZSc7XG5pbXBvcnQgQ2lyY2xlUHJvZ3Jlc3NTY3JpcHQgZnJvbSAnLi4vc2NyaXB0L0NpcmNsZVByb2dyZXNzU2NyaXB0JztcbmltcG9ydCB7IEdhbWVIZWxwZXIgfSBmcm9tICcuLi9jb3JlL0dhbWVIZWxwZXInO1xuaW1wb3J0IHsgQ29uc3RhbnQgfSBmcm9tICcuLi9Db25zdGFudCc7XG5cbmV4cG9ydCBjbGFzcyBHYW1lT3ZlclVJIGV4dGVuZHMgdWkudmlldy5HYW1lT3ZlclVJIHtcblx0cHJpdmF0ZSBfdGltZVNob3dfOiBudW1iZXIgPSAwO1xuXHRwcml2YXRlIGR1cmF0aW9uID0gNjtcblxuXHRwcml2YXRlIGJhcl90aW1lcjogQ2lyY2xlUHJvZ3Jlc3NTY3JpcHQ7XG5cblxuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHRzdXBlcigpXG5cblx0XHR0aGlzLmJ0bl9yZXN0YXJ0Lm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsICgpID0+IHtcblx0XHRcdEdhbWUuaW5zdF8uX3VpXy5vbkNsaWNrUmVzdGFydCgpO1xuXHRcdH0pXG5cblx0XHR0aGlzLmJ0bl9mcmllbmRseS5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCBhc3luYyAoKSA9PiB7XG5cdFx0XHRhd2FpdCBHYW1lSGVscGVyLnJlcXVlc3RDb250ZXh0KClcblx0XHRcdEdhbWUuaW5zdF8uX3VpXy5vbkNsaWNrUmVzdGFydChmYWxzZSk7XG5cdFx0fSlcblxuXHRcdHRoaXMuX2J0bl9jb250aW51ZS5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCAoKSA9PiB7XG5cdFx0XHQvLyBHYW1lLkluc3RhbmNlLl91aV8ub25DbGlja0NvbnRpbnVlXygpO1xuXHRcdFx0dGhpcy5vbkNvbnRpbnVlKCk7XG5cdFx0fSlcblx0XHR0aGlzLm5vZGVfdGltZXIub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgKCkgPT4ge1xuXHRcdFx0Ly8gR2FtZS5JbnN0YW5jZS5fdWlfLm9uQ2xpY2tDb250aW51ZV8oKTtcblx0XHRcdHRoaXMub25Db250aW51ZSgpO1xuXHRcdH0pXG5cblx0XHR0aGlzLl9idG5fbm9UaGFua3Mub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgKCkgPT4ge1xuXHRcdFx0dGhpcy5vbkNsaWNrQ29udGludWVDYW5jZWwoKTtcblx0XHR9KVxuXHR9XG5cblx0cHJpdmF0ZSBfcGF1c2UgPSBmYWxzZTtcblx0cHJpdmF0ZSBhc3luYyBvbkNvbnRpbnVlKCl7XG5cdFx0XG5cdFx0cGxhdGZvcm0ubG9nKENvbnN0YW50LkFuYWx5dGljcy5jb250aW51ZV9zaG93LHtsZXZlbDpHYW1lU3RhdHMuaW5zdF8ubGV2ZWwscmVzdWx0OjF9KTtcblxuXHRcdHRoaXMuX3BhdXNlID0gdHJ1ZTtcblx0XHRsZXQgYm8gPSBhd2FpdCBwbGF0Zm9ybS5zaG93UkFEKFwicmV2aXZlXCIpXG4gICAgICAgIHRoaXMuX3BhdXNlID0gZmFsc2U7XG5cdFx0dGhpcy5oaWRlXygpO1xuXG5cdFx0R2FtZS5pbnN0Xy5jb250aW51ZV8oKTtcblx0fVxuXG5cdHB1YmxpYyBzaG93XyhjYW5Db250aW51ZTogYm9vbGVhbiwgc2NvcmVzOiBudW1iZXIsIHBlcmNlbnRDb21wbGV0ZTogbnVtYmVyKTogdm9pZCB7XG5cdFx0dGhpcy5fdHh0X2Jlc3QudGV4dCA9IEdhbWVTdGF0cy5pbnN0Xy5iZXN0X3Njb3JlICsgXCJcIjtcblx0XHR0aGlzLl90eHRfc2NvcmVzLnRleHQgPSBzY29yZXMgKyBcIlwiO1xuXHRcdGxldCBmbGFnID0gY2FuQ29udGludWUgJiYgcGxhdGZvcm0uaGFzUkFEKCk7XG5cblx0XHR0aGlzLm5vZGVfcmVzdGFydC52aXNpYmxlID0gIWZsYWc7XG5cdFx0dGhpcy5ub2RlX2NvbnRpbnVlLnZpc2libGUgPSBmbGFnO1xuXG5cdFx0aWYgKCFmbGFnKSB7XG5cdFx0XHRwbGF0Zm9ybS5oYXNJQUQoKSAmJiBwbGF0Zm9ybS5zaG93SUFEKFwiZ2FtZV9vdmVyXCIpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl90aW1lU2hvd18gPSB0aGlzLmR1cmF0aW9uO1xuXHRcdFx0TGF5YS50aW1lci5vbmNlKDE0MDAsIHRoaXMsIHRoaXMuc2hvd05vVGhhbmtzXyk7XG5cdFx0XHRhcHAudXBkYXRlci5hZGQodGhpcyk7XG5cblx0XHRcdHRoaXMuYmFyX3RpbWVyID0gdGhpcy5ub2RlX3RpbWVyLmdldENvbXBvbmVudChDaXJjbGVQcm9ncmVzc1NjcmlwdCk7XG5cblx0XHRcdHBsYXRmb3JtLmxvZyhDb25zdGFudC5BbmFseXRpY3MuY29udGludWVfc2hvdyx7bGV2ZWw6R2FtZVN0YXRzLmluc3RfLmxldmVsLHJlc3VsdDotMX0pO1xuXHRcdH1cblxuXHRcdHRoaXMud2lkdGggPSBMYXlhLnN0YWdlLndpZHRoO1xuXHRcdHRoaXMuaGVpZ2h0ID0gTGF5YS5zdGFnZS5oZWlnaHQ7XG5cdFx0YXBwLnVpLmdhbWVfbGF5ZXIuYWRkQ2hpbGQodGhpcyk7XG5cdH1cblxuXHRwdWJsaWMgaGlkZV8oKSB7XG5cdFx0YXBwLnVwZGF0ZXIucm0odGhpcyk7XG5cdFx0dGhpcy5yZW1vdmVTZWxmKCk7XG5cdH1cblxuXHRwcml2YXRlIG9uQ2xpY2tDb250aW51ZUNhbmNlbCgpIHtcblx0XHR0aGlzLmNhbmNlbENvbnRpbnVlSW50XyhcIm5vX3RoYW5rc1wiKTtcblx0fVxuXG5cdHByaXZhdGUgY2FuY2VsQ29udGludWVJbnRfKHJlYXNvbjpzdHJpbmcpIHtcblx0XHR0aGlzLm5vZGVfcmVzdGFydC52aXNpYmxlID0gdHJ1ZTtcblx0XHR0aGlzLm5vZGVfY29udGludWUudmlzaWJsZSA9IGZhbHNlO1xuXG5cdFx0cGxhdGZvcm0ubG9nKENvbnN0YW50LkFuYWx5dGljcy5jb250aW51ZV9zaG93LHtsZXZlbDpHYW1lU3RhdHMuaW5zdF8ubGV2ZWwscmVzdWx0OjAscmVhc29ufSk7XG5cdFx0cGxhdGZvcm0uaGFzSUFEKCkgJiYgcGxhdGZvcm0uc2hvd0lBRChyZWFzb24pO1xuXHR9XG5cblx0cHJpdmF0ZSBzaG93Tm9UaGFua3NfKCkge1xuXHRcdHRoaXMuX2J0bl9ub1RoYW5rcy52aXNpYmxlID0gdHJ1ZTtcblx0fVxuXG5cdG9uVXBkYXRlKCkge1xuXHRcdGlmKHRoaXMuX3RpbWVTaG93XyA8PSAwKSByZXR1cm47XG5cdFx0aWYodGhpcy5fcGF1c2UpIHJldHVybjtcblxuXHRcdHRoaXMuX3R4dF90aW1lci50ZXh0ID0gTWF0aC5yb3VuZCh0aGlzLl90aW1lU2hvd18pICsgXCJcIjtcblx0XHR0aGlzLmJhcl90aW1lciAmJiAodGhpcy5iYXJfdGltZXIudmFsdWUgPSB0aGlzLl90aW1lU2hvd18gLyB0aGlzLmR1cmF0aW9uKTtcblx0XHR0aGlzLl90aW1lU2hvd18gLT0gTGF5YS50aW1lci5kZWx0YVNlYztcblx0XHRpZiAodGhpcy5fdGltZVNob3dfIDwgMSkge1xuXHRcdFx0dGhpcy5fdGltZVNob3dfID0gLTE7XG5cdFx0XHR0aGlzLmNhbmNlbENvbnRpbnVlSW50XyhcInRpbWVfb3V0XCIpO1xuXHRcdH1cblx0fVxufVxuIiwiaW1wb3J0IHtFbnRpdHl9IGZyb20gXCIuLi9jb3JlL0VudGl0eVwiO1xyXG5pbXBvcnQge0NvbG9yfSBmcm9tIFwiLi4vY29yZS9Db2xvclwiO1xyXG5pbXBvcnQgeyB1aSB9IGZyb20gXCIuLi91aS9sYXlhTWF4VUlcIjtcclxuaW1wb3J0IHtHYW1lU3RhdHN9IGZyb20gJy4uL2dhbWUvR2FtZVN0YXRzJztcclxuaW1wb3J0IENpcmNsZVByb2dyZXNzU2NyaXB0IGZyb20gJy4uL3NjcmlwdC9DaXJjbGVQcm9ncmVzc1NjcmlwdCc7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZVVJIGV4dGVuZHMgdWkudmlldy5HYW1lVUlcclxue1xyXG5cdHByaXZhdGUgX3RhcmdldENpcmNsZUFtb3VudF86bnVtYmVyO1xyXG5cdHByaXZhdGUgX2NpcmNsZV9wcm9ncmVzc186Q2lyY2xlUHJvZ3Jlc3NTY3JpcHQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKClcclxuXHR7XHJcblx0XHRzdXBlcigpO1xyXG5cdFx0dGhpcy53aWR0aCA9IExheWEuc3RhZ2Uud2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBMYXlhLnN0YWdlLmhlaWdodDtcclxuXHRcdFxyXG5cdFx0dGhpcy5vbmNlKExheWEuRXZlbnQuQURERUQsdGhpcywoZTpMYXlhLkV2ZW50KT0+e1xyXG5cdFx0XHR0aGlzLl9jaXJjbGVfcHJvZ3Jlc3NfID0gdGhpcy5fY2lyY2xlX2Jhci5nZXRDb21wb25lbnQoQ2lyY2xlUHJvZ3Jlc3NTY3JpcHQpO1xyXG5cdFx0XHR0aGlzLnVwZGF0ZVVJXygwLCBHYW1lU3RhdHMuaW5zdF8uc2NvcmVzKTtcclxuXHRcdFx0dGhpcy5zaG93RmlyZUJhcl8oZmFsc2UpO1xyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRDb2xvcl8oY29sb3I6Q29sb3IpXHJcblx0e1xyXG5cdFx0Ly8gdGhpcy5fY2lyY2xlX2Jhci5maWx0ZXJzID0gW2NvbG9yLmdldEhleFN0cmluZygpXVxyXG5cdFx0bGV0IGYgPSBuZXcgTGF5YS5Db2xvckZpbHRlcigpLnNldENvbG9yKGNvbG9yLmdldFJHQkhleFN0cmluZygpKTtcclxuXHRcdHRoaXMuX2ltZ19sZWZ0LmZpbHRlcnMgPSB0aGlzLl9pbWdfcmlnaHQuZmlsdGVycyA9IHRoaXMuX2ltZ19iYXIuZmlsdGVycyA9IFtmXTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyB1cGRhdGVVSV8ocHJvZ3Jlc3M6bnVtYmVyLCBzY29yZXM6bnVtYmVyKVxyXG5cdHtcclxuXHRcdGxldCB0eHROdW1MID0gdGhpcy5fdHh0TnVtX2xlZnQ7XHJcblx0XHRsZXQgbnVtOm51bWJlciA9IEdhbWVTdGF0cy5pbnN0Xy5sZXZlbDtcclxuXHRcdHR4dE51bUwudGV4dCA9IG51bS50b1N0cmluZygpO1xyXG5cclxuXHRcdGxldCB0eHROdW1SID0gdGhpcy5fdHh0TnVtX3JpZ2h0O1xyXG5cdFx0bnVtID0gR2FtZVN0YXRzLmluc3RfLmxldmVsICsgMTtcclxuXHRcdHR4dE51bVIudGV4dCA9IG51bS50b1N0cmluZygpO1xyXG5cdFx0dGhpcy5faW1nX2Jhci53aWR0aCA9IHByb2dyZXNzICogdGhpcy5faW1nX2JhcnRyYWNrLndpZHRoO1xyXG5cdFx0dGhpcy5fdHh0X3Njb3JlLnRleHQgPSBzY29yZXMudG9TdHJpbmcoKTtcclxuXHJcblx0XHRsZXQgc2NhbGUgPSBNYXRoLm1pbih0aGlzLl9pbWdfbGVmdC53aWR0aC90aGlzLl90eHROdW1fbGVmdC53aWR0aCwxKVxyXG5cdFx0dGhpcy5fdHh0TnVtX2xlZnQuc2NhbGUoc2NhbGUsc2NhbGUsdHJ1ZSk7XHJcblxyXG5cdFx0c2NhbGUgPSBNYXRoLm1pbih0aGlzLl9pbWdfcmlnaHQud2lkdGgvdGhpcy5fdHh0TnVtX3JpZ2h0LndpZHRoLDEpXHJcblx0XHR0aGlzLl90eHROdW1fcmlnaHQuc2NhbGUoc2NhbGUsc2NhbGUsdHJ1ZSk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0U2NvcmVDb2xvcl8oY29sb3I6Q29sb3IsIGJvbGQ6Ym9vbGVhbilcclxuXHR7XHRcclxuXHRcdGxldCBjb2xvclN0ciA9IGNvbG9yLmdldEhleFN0cmluZygpO1xyXG5cdFx0dGhpcy5fdHh0X3Njb3JlLmNvbG9yID0gY29sb3JTdHI7XHJcblx0XHR0aGlzLl90eHRfc2NvcmUuYm9sZCA9IGJvbGQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2hvd1dhcm5pbmdGaXJlXyhzaG93OmJvb2xlYW4pXHJcblx0e1xyXG5cdFx0dGhpcy5fdHh0X3dhcm5pbmcudmlzaWJsZSA9IHNob3c7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2hvd0ZpcmVCYXJfKHNob3c6Ym9vbGVhbiwgaXNSZWQ6Ym9vbGVhbiA9IGZhbHNlKVxyXG5cdHtcclxuXHRcdGlmKHRoaXMuX2NpcmNsZV9iYXIudmlzaWJsZSAhPSBzaG93KVxyXG5cdFx0e1xyXG5cdFx0XHR0aGlzLl9jaXJjbGVfYmFyLnZpc2libGUgPSBzaG93O1xyXG5cdFx0XHR0aGlzLl9jaXJjbGVfcHJvZ3Jlc3NfLnZhbHVlID0gMDtcclxuXHJcblx0XHRcdHRoaXMuX3RhcmdldENpcmNsZUFtb3VudF8gPSAwO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmKGlzUmVkKXtcclxuXHRcdFx0bGV0IGYgPSBuZXcgTGF5YS5Db2xvckZpbHRlcigpLnNldENvbG9yKFwiI2ZmMDAwMFwiKTtcclxuXHRcdFx0dGhpcy5fY2lyY2xlX3Byb2dyZXNzXy5iYXIuZmlsdGVycyA9IFtmXVxyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHRoaXMuX2NpcmNsZV9wcm9ncmVzc18uYmFyLmZpbHRlcnMgPSBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHVibGljIHVwZGF0ZUZpcmVCYXJfKHByb2dyZXNzOm51bWJlcilcclxuXHR7XHJcblx0XHR0aGlzLl90YXJnZXRDaXJjbGVBbW91bnRfID0gcHJvZ3Jlc3M7XHJcblx0fVxyXG5cclxuXHRvblVwZGF0ZSgpXHJcblx0e1xyXG5cdFx0bGV0IHZhbHVlID0gKHRoaXMuX2NpcmNsZV9wcm9ncmVzc18udmFsdWUgKyB0aGlzLl90YXJnZXRDaXJjbGVBbW91bnRfKSAvIDI7XHJcblx0XHR0aGlzLl9jaXJjbGVfcHJvZ3Jlc3NfLnZhbHVlID0gdmFsdWU7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCB7IHVpIH0gZnJvbSAnLi4vdWkvbGF5YU1heFVJJztcbmltcG9ydCB7R2FtZX0gZnJvbSAnLi4vZ2FtZS9HYW1lJztcblxuZXhwb3J0IGNsYXNzIEdhbWVXaW5VSSBleHRlbmRzIHVpLnZpZXcuR2FtZVdpblVJe1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5tb3VzZUVuYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgICBzaG93XyhsZXZlbDpudW1iZXIpe1xuICAgICAgICB0aGlzLl90eHRDb21wbGV0ZS50ZXh0ID0gYExFVkVMICR7bGV2ZWx9XFxuQ09NUExFVEVEIWBcbiAgICAgICAgXG4gICAgICAgIHRoaXMud2lkdGggPSBMYXlhLnN0YWdlLndpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IExheWEuc3RhZ2UuaGVpZ2h0O1xuICAgICAgICBhcHAudWkuZ2FtZV9sYXllci5hZGRDaGlsZCh0aGlzKTtcblxuICAgICAgICB0aGlzLm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcyx0aGlzLm9uU3RhZ2VDbGljaylcbiAgICB9XG4gICAgaGlkZV8oKXtcbiAgICAgICAgdGhpcy5yZW1vdmVTZWxmKCk7XG4gICAgICAgIHRoaXMub2ZmKExheWEuRXZlbnQuQ0xJQ0ssdGhpcyx0aGlzLm9uU3RhZ2VDbGljaylcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uU3RhZ2VDbGljayhlOkxheWEuRXZlbnQpe1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBcbiAgICAgICAgR2FtZS5pbnN0Xy5fdWlfLm9uQ2xpY2tOZXh0XygpXG4gICAgfVxufSIsImltcG9ydCB7IHVpIH0gZnJvbSAnLi4vdWkvbGF5YU1heFVJJztcbmltcG9ydCB7UmFua1VJfSBmcm9tICcuL1JhbmtVSSc7XG5pbXBvcnQge0dhbWV9IGZyb20gJy4uL2dhbWUvR2FtZSc7XG5pbXBvcnQgeyBTaGFyZUhlbHBlciB9IGZyb20gJy4uL3NoYXJlL1NoYXJlSGVscGVyJztcbmltcG9ydCB7IFNvdW5kIH0gZnJvbSAnLi4vZ2FtZS9Tb3VuZCc7XG5cbmV4cG9ydCBjbGFzcyBNZXVuVUkgZXh0ZW5kcyB1aS52aWV3Lk1ldW5VSXtcbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy53aWR0aCA9IExheWEuc3RhZ2Uud2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gTGF5YS5zdGFnZS5oZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5idG5fbm9hZC52aXNpYmxlID1mYWxzZTtcbiAgICAgICAgdGhpcy5ieF9zdWJNZW51LnZpc2libGUgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLm9uKExheWEuRXZlbnQuTU9VU0VfRE9XTix0aGlzLChlOkxheWEuRXZlbnQpPT57XG4gICAgICAgICAgICBpZihlLnRhcmdldCBpbnN0YW5jZW9mIExheWEuQnV0dG9uKXtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOyAgICBcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHRoaXMuYnhfc3ViTWVudS52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgICAvLyB0aGlzLmJ4X2J0bnMub24oTGF5YS5FdmVudC5NT1VTRV9ET1dOLHRoaXMsKGU6TGF5YS5FdmVudCk9Pntcblx0XHQvLyBcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIC8vIH0pXG4gICAgICAgIFxuICAgICAgICAvLyB0aGlzLmJ4X2J0bnMub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLChlOkxheWEuRXZlbnQpPT57XG5cdFx0Ly8gXHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdC8vIH0pXG5cblxuICAgICAgICB0aGlzLmJ0bl9yYW5rLm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcywoZTpMYXlhLkV2ZW50KT0+e1xuICAgICAgICAgICAgR2FtZS5pbnN0Xy5fdWlfLnNob3dSYW5rKCk7XG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5idG5fbm9hZC5vbihMYXlhLkV2ZW50LkNMSUNLLHRoaXMsKCk9PntcbiAgICAgICAgICAgIC8vVE9ETzpcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmJ0bl9zaGFyZS5vbihMYXlhLkV2ZW50LkNMSUNLLHRoaXMsKCk9PntcbiAgICAgICAgICAgIFNoYXJlSGVscGVyLmJhc2VTaGFyZShcImhvbWVfc2hhcmVcIixmYWxzZSk7XG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5idG5fc2V0dGluZy5vbihMYXlhLkV2ZW50LkNMSUNLLHRoaXMsKCk9PntcbiAgICAgICAgICAgIHRoaXMuYnhfc3ViTWVudS52aXNpYmxlID0gIXRoaXMuYnhfc3ViTWVudS52aXNpYmxlO1xuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuYnRuX3ZpYnJhdGUuc2tpbiA9IGFwcC52aWJyYXRlRW5hYmxlP1wiZ2FtZS9idG5fdmlicmF0ZS5wbmdcIjpcImdhbWUvYnRuX3ZpYnJhdGVfaC5wbmdcIjtcbiAgICAgICAgdGhpcy5idG5fdmlicmF0ZS5vbihMYXlhLkV2ZW50LkNMSUNLLHRoaXMsKCk9PntcbiAgICAgICAgICAgIGFwcC52aWJyYXRlRW5hYmxlID0gIWFwcC52aWJyYXRlRW5hYmxlO1xuICAgICAgICAgICAgdGhpcy5idG5fdmlicmF0ZS5za2luID0gYXBwLnZpYnJhdGVFbmFibGU/XCJnYW1lL2J0bl92aWJyYXRlLnBuZ1wiOlwiZ2FtZS9idG5fdmlicmF0ZV9oLnBuZ1wiO1xuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuYnRuX211dGUuc2tpbiA9IFNvdW5kLmdldE1ldXRlKCk/XCJnYW1lL2J0bl9tdXRlX2gucG5nXCI6XCJnYW1lL2J0bl9tdXRlLnBuZ1wiO1xuICAgICAgICB0aGlzLmJ0bl9tdXRlLm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcywoKT0+e1xuICAgICAgICAgICAgbGV0IGJvID0gU291bmQuc2V0TXV0ZSghU291bmQuZ2V0TWV1dGUoKSk7XG4gICAgICAgICAgICB0aGlzLmJ0bl9tdXRlLnNraW4gPSBibz9cImdhbWUvYnRuX211dGVfaC5wbmdcIjpcImdhbWUvYnRuX211dGUucG5nXCI7XG4gICAgICAgIH0pXG4gICAgfVxufSIsImltcG9ydCBSYW5rVk8gZnJvbSAnLi4vcGxhdGZvcm0vUmFua1ZPJztcclxuaW1wb3J0IHsgU2hhcmVIZWxwZXIgfSBmcm9tICcuLi9zaGFyZS9TaGFyZUhlbHBlcic7XHJcbmltcG9ydCB7R2FtZX0gZnJvbSAnLi4vZ2FtZS9HYW1lJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJhbmtJdGVtUmVuZGVyIGV4dGVuZHMgTGF5YS5TY3JpcHQge1xyXG4gICAgXHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcblxyXG4gICAgdHh0X3Jhbms6TGF5YS5MYWJlbDtcclxuICAgIHR4dF9uYW1lOkxheWEuTGFiZWw7XHJcbiAgICB0eHRfc2NvcmU6TGF5YS5MYWJlbDtcclxuXHJcbiAgICBpbWdfaGVhZDpMYXlhLkltYWdlO1xyXG5cclxuICAgIGJ0bl9hY3Rpb246TGF5YS5JbWFnZTtcclxuICAgIG9uQXdha2UoKXtcclxuICAgICAgICB0aGlzLnR4dF9yYW5rID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcInR4dF9yYW5rXCIpIGFzIGFueVxyXG4gICAgICAgIHRoaXMudHh0X25hbWUgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwidHh0X25hbWVcIikgYXMgYW55XHJcbiAgICAgICAgdGhpcy50eHRfc2NvcmUgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwidHh0X3Njb3JlXCIpIGFzIGFueVxyXG4gICAgICAgIHRoaXMuaW1nX2hlYWQgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwiaW1nX2hlYWRcIikgYXMgYW55XHJcbiAgICAgICAgdGhpcy5idG5fYWN0aW9uID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcImJ0bl9hY3Rpb25cIikgYXMgYW55XHJcblxyXG5cclxuICAgICAgICB0aGlzLmJ0bl9hY3Rpb24ub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLGFzeW5jICgpPT57XHJcbiAgICAgICAgICAgIGlmKHRoaXMuX2RhdGEuaWQgPT0gcGxhdGZvcm0ucGxheWVySW5mby5wbGF5ZXJJZCl7XHJcbiAgICAgICAgICAgICAgICBTaGFyZUhlbHBlci5iYXNlU2hhcmUoXCJyYW5rX3NoYXJlXCIsZmFsc2UpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGxldCBibyA9IGF3YWl0IHBsYXRmb3JtLmNyZWF0ZUFzeW5jKHRoaXMuX2RhdGEuaWQsXCJyYW5rX3BsYXlcIik7XHJcbiAgICAgICAgICAgICAgICBpZihibyl7XHJcbiAgICAgICAgICAgICAgICAgICAgU2hhcmVIZWxwZXIuYmFzZVNoYXJlKFwicmFua19wbGF5XCIsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBHYW1lLmluc3RfLl91aV8uaGlkZVJhbmsoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfZGF0YTpSYW5rVk87XHJcbiAgICBzZXREYXRhKGRhdGE6UmFua1ZPLGluZGV4Om51bWJlcil7XHJcbiAgICAgICAgdGhpcy5fZGF0YSA9IGRhdGE7XHJcblxyXG4gICAgICAgIHRoaXMudHh0X3JhbmsudGV4dCA9IChpbmRleCsxKStcIlwiO1xyXG5cclxuICAgICAgICB0aGlzLnR4dF9uYW1lLnRleHQgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgdGhpcy50eHRfc2NvcmUudGV4dCA9IGRhdGEuc2NvcmUrXCJcIjtcclxuICAgICAgICB0aGlzLmltZ19oZWFkLnNraW4gPSBkYXRhLnBob3RvO1xyXG5cclxuICAgICAgICB0aGlzLmJ0bl9hY3Rpb24uc2tpbiA9IHRoaXMuX2RhdGEuaWQgPT0gcGxhdGZvcm0ucGxheWVySW5mby5wbGF5ZXJJZD9cInJhbmsvaWNvbl9zaGFyZS5wbmdcIjpcInJhbmsvaWNvbl9wbGF5X2dhbWUucG5nXCI7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgfVxyXG5cclxuICAgIG9uRGlzYWJsZSgpOiB2b2lkIHtcclxuICAgIH1cclxufSIsImltcG9ydCB7IHVpIH0gZnJvbSAnLi4vdWkvbGF5YU1heFVJJztcbmltcG9ydCBSYW5rSXRlbVJlbmRlciBmcm9tICcuL1JhbmtJdGVtUmVuZGVyJztcbmltcG9ydCB7IFNoYXJlSGVscGVyIH0gZnJvbSAnLi4vc2hhcmUvU2hhcmVIZWxwZXInO1xuaW1wb3J0IFJhbmtWTyBmcm9tICcuLi9wbGF0Zm9ybS9SYW5rVk8nO1xuXG5leHBvcnQgY2xhc3MgUmFua1VJIGV4dGVuZHMgdWkudmlldy5SYW5rVUl7XG4gICAgY29uc3RydWN0b3IoKXtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLndpZHRoID0gTGF5YS5zdGFnZS53aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBMYXlhLnN0YWdlLmhlaWdodDtcblxuICAgICAgICB0aGlzLm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcywoZTpMYXlhLkV2ZW50KT0+e1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5vbihMYXlhLkV2ZW50Lk1PVVNFX0RPV04sdGhpcywoZTpMYXlhLkV2ZW50KT0+e1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBjcmVhdGVDaGlsZHJlbigpe1xuICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xuXG4gICAgICAgIHRoaXMuaW1nX2J1c3kudmlzaWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuYnRuX2hvbWUub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLCgpPT57XG4gICAgICAgICAgICB0aGlzLmV2ZW50KExheWEuRXZlbnQuQ0xPU0UpO1xuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuYnRuX2ludml0ZS5vbihMYXlhLkV2ZW50LkNMSUNLLHRoaXMsYXN5bmMgKCk9PntcbiAgICAgICAgICAgIGxldCBibyA9IGF3YWl0IHBsYXRmb3JtLmNob29zZUFzeW5jKFtcIk5FV19DT05URVhUX09OTFlcIl0pO1xuICAgICAgICAgICAgaWYoYm8pe1xuICAgICAgICAgICAgICAgIFNoYXJlSGVscGVyLmJhc2VTaGFyZShcInJhbmtfaW52aXRlXCIsdHJ1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudChMYXlhLkV2ZW50LkNMT1NFKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmxpc3RfZnJpZW5kcy5yZW5kZXJIYW5kbGVyID0gdGhpcy5saXN0X2dsb2JhbC5yZW5kZXJIYW5kbGVyID0gbmV3IExheWEuSGFuZGxlcih0aGlzLChjZWxsOkxheWEuQm94LGluZGV4Om51bWJlcik9PntcbiAgICAgICAgICAgIGxldCBsb2dpYyA9IGNlbGwuZ2V0Q29tcG9uZW50KFJhbmtJdGVtUmVuZGVyKTtcbiAgICAgICAgICAgIGxvZ2ljLnNldERhdGEoY2VsbC5kYXRhU291cmNlLGluZGV4KTtcbiAgICAgICAgfSlcblxuXG4gICAgICAgIHRoaXMudGFiX2xlZnQubW91c2VFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50YWJfcmlnaHQubW91c2VFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ieF90YWIub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLChlOkxheWEuRXZlbnQpPT57XG4gICAgICAgICAgICBpZihlLnRhcmdldCA9PSB0aGlzLnRhYl9sZWZ0KXtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVZpZXcoMClcbiAgICAgICAgICAgIH1lbHNlIGlmKGUudGFyZ2V0ID09IHRoaXMudGFiX3JpZ2h0KXtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVZpZXcoMSlcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic29tZXRoaW5nIHdyb25nIHdpdGggcmFuayB0YWIhXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLmNoYW5nZVZpZXcoMCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfYnVzeV9jb3VudD0gMDtcbiAgICBwcml2YXRlIHNob3dCdXN5KCl7XG4gICAgICAgIHRoaXMuX2J1c3lfY291bnQrKztcbiAgICAgICAgdGhpcy5pbWdfYnVzeS52aXNpYmxlID0gdHJ1ZTtcbiAgICB9XG4gICAgcHJpdmF0ZSBoaWRlQnVzeSgpe1xuICAgICAgICBpZigtLXRoaXMuX2J1c3lfY291bnQgPD0gMCl7XG4gICAgICAgICAgICB0aGlzLmltZ19idXN5LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGNoYW5nZVZpZXcoaW5kZXg6bnVtYmVyKXtcbiAgICAgICAgdGhpcy50YWJfbGVmdC5hbHBoYSA9IGluZGV4ID09IDE/MDoxO1xuICAgICAgICB0aGlzLmxibF9sZWZ0LmNvbG9yID0gaW5kZXggPT0gMT9cIiNmZmZmZmZcIjpcIiMwXCI7XG5cbiAgICAgICAgdGhpcy50YWJfcmlnaHQuYWxwaGEgPSBpbmRleCA9PSAwPzA6MTtcbiAgICAgICAgdGhpcy5sYmxfcmlnaHQuY29sb3IgPSBpbmRleCA9PSAwP1wiI2ZmZmZmZlwiOlwiIzBcIjtcblxuICAgICAgICB0aGlzLmxpc3RfZnJpZW5kcy52aXNpYmxlID0gaW5kZXggPT0gMDtcbiAgICAgICAgdGhpcy5saXN0X2dsb2JhbC52aXNpYmxlID0gaW5kZXggPT0gMTtcblxuICAgICAgICBpZihpbmRleCA9PTAgJiYgIXRoaXMubGlzdF9mcmllbmRzLmFycmF5KXtcbiAgICAgICAgICAgIHRoaXMuc2hvd0J1c3koKTtcbiAgICAgICAgICAgIHRoaXMubGlzdF9mcmllbmRzLmFycmF5ID0gYXdhaXQgcGxhdGZvcm0uZ2V0V29ybGRGcmllbmRFbnRyaWVzQXN5bmMoKTtcbiAgICAgICAgICAgIHRoaXMuaGlkZUJ1c3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKGluZGV4ID09MSAmJiAhdGhpcy5saXN0X2dsb2JhbC5hcnJheSl7XG4gICAgICAgICAgICB0aGlzLnNob3dCdXN5KCk7XG4gICAgICAgICAgICB0aGlzLmxpc3RfZ2xvYmFsLmFycmF5ID0gYXdhaXQgcGxhdGZvcm0uZ2V0V29ybGRFbnRyaWVzQXN5bmMoKVxuICAgICAgICAgICAgdGhpcy5oaWRlQnVzeSgpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBsZXQgY2hhbXBpb246UmFua1ZPID0gaW5kZXggPT0gMD90aGlzLmxpc3RfZnJpZW5kcy5hcnJheVswXTp0aGlzLmxpc3RfZ2xvYmFsLmFycmF5WzBdXG4gICAgICAgIHRoaXMuaW1nX2hlYWQuc2tpbiA9IGNoYW1waW9uP2NoYW1waW9uLnBob3RvOnBsYXRmb3JtLnBsYXllckluZm8ucGhvdG87XG4gICAgICAgIHRoaXMudHh0X2NuYW1lLnRleHQgPSBjaGFtcGlvbj9jaGFtcGlvbi5uYW1lOnBsYXRmb3JtLnBsYXllckluZm8ubmFtZTtcbiAgICB9XG59Il19
